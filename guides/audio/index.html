<!DOCTYPE html>
<html>
    <head>
        <script type="text/javascript">if (location.protocol !== 'https:' && location.hostname == 'ceramic-engine.com') location.replace('https:'+location.href.substring(location.protocol.length));</script>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" href="/static/favicon.png"/>
        <link rel="apple-touch-icon" href="/static/touch-icon.png"/>
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <title>Audio - Ceramic</title>
        <link rel="stylesheet" href="/static/lucide-font/lucide.css" type="text/css" />
        <link rel="stylesheet" href="/static/style.css" type="text/css" />
        <link rel="stylesheet" href="/static/prism.css" type="text/css" />
        <script type="text/javascript" src="/static/script.js"></script>
        <meta property="og:site_name" content="Ceramic Engine" />
        <meta property="og:title" content="Audio - Ceramic" />
        <meta property="og:description" content="A cross-platform &amp; open-source 2D framework" />
        <meta property="og:image" content="/static/img/ceramic-800-450.png" />
        <meta property="og:image:type" content="image/png" />
        <meta property="og:image:width" content="800" />
        <meta property="og:image:height" content="450" />
        
    </head>
    <body id="page-guides" class="page page-standard">
        <aside id="site-navigation">
            <div class="nav-header">
                <a href="/" class="nav-logo"><img src="/static/ceramic-small.png" class="ceramic-icon" />Ceramic</a>
                <button class="hamburger" aria-label="Toggle menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
            <ul class="nav-links">
                <li><a href="/"><img src="/static/ceramic-small.png" class="ceramic-icon" />Ceramic</a></li>
                <li class="selected"><a href="/guides">Guides</a></li>
                <li><a href="/examples">Examples</a></li>
                <li><a href="/blog">Blog</a></li>
                <li><a href="/api-docs/clay-native">API Docs</a></li>
                <li><a href="https://github.com/ceramic-engine/ceramic">GitHub</a></li>
                <li><a href="/discord">Discord</a></li>
            </ul>
        </aside>
        
<div class="page-container">
    <div class="sidebar-left">
        
        <aside class="sidebar">
            <ul>
            
                
                <li class="menu-title">Introduction</li>
                <li class="">
                    <ul>
                        
                            <li>
                                <a href="/guides/discover-ceramic/">Discover Ceramic</a>
                            </li>
                        
                    </ul>
                </li>
            
                
                <li class="menu-title">Getting Started</li>
                <li class="">
                    <ul>
                        
                            <li>
                                <a href="/guides/install-ceramic/">Install Ceramic</a>
                            </li>
                        
                            <li>
                                <a href="/guides/your-first-project/">Your first Ceramic project</a>
                            </li>
                        
                            <li>
                                <a href="/guides/editing-your-project/">Editing your project</a>
                            </li>
                        
                            <li>
                                <a href="/guides/display-a-square/">Display a square</a>
                            </li>
                        
                            <li>
                                <a href="/guides/display-an-image/">Display an image</a>
                            </li>
                        
                            <li>
                                <a href="/guides/moving-visuals/">Moving visuals</a>
                            </li>
                        
                    </ul>
                </li>
            
                
                <li class="menu-title selected">Handbook</li>
                <li class="expanded">
                    <ul>
                        
                            <li>
                                <a href="/guides/entities/">Entities</a>
                            </li>
                        
                            <li>
                                <a href="/guides/events/">Events</a>
                            </li>
                        
                            <li>
                                <a href="/guides/visuals/">Visuals</a>
                            </li>
                        
                            <li>
                                <a href="/guides/components/">Components</a>
                            </li>
                        
                            <li>
                                <a href="/guides/text/">Text</a>
                            </li>
                        
                            <li class="selected">
                                <a href="/guides/audio/">Audio</a>
                            </li>
                        
                            <li>
                                <a href="/guides/assets/">Assets</a>
                            </li>
                        
                            <li>
                                <a href="/guides/scenes/">Scenes</a>
                            </li>
                        
                            <li>
                                <a href="/guides/filters/">Filters</a>
                            </li>
                        
                            <li>
                                <a href="/guides/state-machines/">State Machines</a>
                            </li>
                        
                            <li>
                                <a href="/guides/observables/">Observables</a>
                            </li>
                        
                            <li>
                                <a href="/guides/systems/">Systems</a>
                            </li>
                        
                            <li>
                                <a href="/guides/sprites/">Sprites</a>
                            </li>
                        
                            <li>
                                <a href="/guides/input/">Input</a>
                            </li>
                        
                    </ul>
                </li>
            
                
                <li class="menu-title">Appendices</li>
                <li class="">
                    <ul>
                        
                            <li>
                                <a href="/guides/inside-a-default-project/">Inside a default project</a>
                            </li>
                        
                            <li>
                                <a href="/guides/ceramic-via-git/">Ceramic via Git</a>
                            </li>
                        
                            <li>
                                <a href="/guides/platform-setup/">Platform Setup</a>
                            </li>
                        
                            <li>
                                <a href="/guides/ceramic-yml-reference/">Reference: ceramic.yml</a>
                            </li>
                        
                            <li>
                                <a href="/guides/defines/">Ceramic Defines</a>
                            </li>
                        
                    </ul>
                </li>
            
                
                <li class="menu-title">Extras</li>
                <li class="">
                    <ul>
                        
                            <li>
                                <a href="/guides/faq/">FAQ</a>
                            </li>
                        
                    </ul>
                </li>
            
            </ul>
        </aside>
        
    </div>
    <div class="content-right">
        <main>
            <h1>Audio</h1>
<p><em>An initial contribution from <a href="https://github.com/thepercentageguy">@thepercentageguy</a>, edited by <a href="https://github.com/jeremyfa">@jeremyfa</a></em>.</p>
<p>This guide will show you how to load and play sounds and background music in Ceramic.</p>
<h2 id="loading-a-sound-asset" tabindex="-1">Loading a sound asset <a class="header-anchor" href="#loading-a-sound-asset"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></h2>
<p>Sounds can be played anywhere at any time. However first you need to load your asset (in your scene's <code>preload()</code> method).</p>
<p class="extra-info">Learn more about assets loading in the <a href="/guides/assets">Assets</a> guide.</p>
<p>Let's say we want to play the sound from an audio file named <code>mySound.ogg</code>. You'd have to load <code>Sounds.MY_SOUND</code> asset:</p>
<div class="codename">Load the asset</div>
<pre class="language-haxe"><code class="language-haxe"><span class="highlight-line"><span class="token keyword">override</span> <span class="token keyword">function</span> <span class="token function">preload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">    assets<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>Sounds<span class="token punctuation">.</span>MY_SOUND<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line"></span>
<span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
<p class="extra-info">Ceramic supports several audio formats (<code>WAV</code>, <code>OGG</code>, <code>MP3</code> and <code>FLAC</code>) but not all formats are supported on all targets. If you want your audio files to work on every browser and target, you should add several versions of your files in your assets. <code>OGG</code> + <code>MP3</code> will cover all cases, so in the example above, you could have <code>mySound.ogg</code> and <code>mySound.mp3</code> and Ceramic will pick the right file at runtime.</p>
<table>
    <tr>
        <td><code>clay native</code></td>
        <td><code>WAV</code>, <code>OGG</code>, <code>MP3</code>, <code>FLAC</code></td>
    </tr>
    <tr>
        <td><code>clay web</code></td>
        <td><code>WAV</code>, <code>OGG</code>, <code>MP3</code>, <code>FLAC</code> (depending on the browser)</td>
    </tr>
    <tr>
        <td><code>unity</code></td>
        <td><code>WAV</code>, <code>OGG</code>, <code>MP3</code></td>
    </tr>
</table>
<div class="caption" style="padding-top:6px">Audio format support table</div>
<p>Once your audio asset is loaded, you can play it:</p>
<div class="codename">Play the sound</div>
<pre class="language-haxe"><code class="language-haxe"><span class="highlight-line"><span class="token keyword">override</span> <span class="token keyword">function</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">    <span class="token keyword">var</span> position <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="highlight-line">    <span class="token keyword">var</span> looping <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">    assets<span class="token punctuation">.</span><span class="token function">sound</span><span class="token punctuation">(</span>Sounds<span class="token punctuation">.</span>MY_SOUND<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span>position<span class="token punctuation">,</span> looping<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line"></span>
<span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
<p>When playing a sound you can pass in from where you want the sound to play (position) and whether you want the sound to loop. In that example, the sound will be played and loop without ever stopping.</p>
<h2 id="using-the-soundplayer-instance" tabindex="-1">Using the <code>SoundPlayer</code> instance <a class="header-anchor" href="#using-the-soundplayer-instance"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></h2>
<p>Everytime you play a sound, it returns a <code>SoundPlayer</code> instance that you can use to keep track of the sound state or manipulate the sound while it is playing.</p>
<p>Here, we simply stop the sound after 10 seconds.</p>
<div class="codename">Play a sound and stop it after 10s</div>
<pre class="language-haxe"><code class="language-haxe"><span class="highlight-line"><span class="token keyword">import</span> ceramic<span class="token punctuation">.</span>SoundPlayer<span class="token punctuation">;</span></span>
<span class="highlight-line"><span class="token keyword">import</span> ceramic<span class="token punctuation">.</span>Scene<span class="token punctuation">;</span></span>
<span class="highlight-line"></span>
<span class="highlight-line"><span class="token keyword">class</span> PlayASound <span class="token keyword">extends</span> Scene <span class="token punctuation">{</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">    <span class="token keyword">var</span> sound<span class="token punctuation">:</span>SoundPlayer<span class="token punctuation">;</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">    <span class="token keyword">override</span> <span class="token keyword">function</span> <span class="token function">preload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">        <span class="token comment">// Load the sound</span></span>
<span class="highlight-line">        assets<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>Sounds<span class="token punctuation">.</span>SOUND_NAME<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">    <span class="token punctuation">}</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">    <span class="token keyword">override</span> <span class="token keyword">function</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">        <span class="token comment">// Play the sound and keep the</span></span>
<span class="highlight-line">        <span class="token comment">// SoundPlayer instance around</span></span>
<span class="highlight-line">        sound <span class="token operator">=</span> assets<span class="token punctuation">.</span><span class="token function">sound</span><span class="token punctuation">(</span>Sounds<span class="token punctuation">.</span>SOUND_NAME<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">    <span class="token punctuation">}</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">    <span class="token keyword">override</span> <span class="token keyword">function</span> <span class="token function">update</span><span class="token punctuation">(</span>delta<span class="token punctuation">:</span>Float<span class="token punctuation">)</span></span>
<span class="highlight-line">    <span class="token punctuation">{</span></span>
<span class="highlight-line">        <span class="token comment">// Stop the sound if it's been going</span></span>
<span class="highlight-line">        <span class="token comment">// for more than 10 seconds.</span></span>
<span class="highlight-line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>sound<span class="token punctuation">.</span>position <span class="token operator">></span> <span class="token number">10</span><span class="token punctuation">)</span></span>
<span class="highlight-line">        <span class="token punctuation">{</span></span>
<span class="highlight-line">            sound<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line">        <span class="token punctuation">}</span></span>
<span class="highlight-line">    <span class="token punctuation">}</span></span>
<span class="highlight-line"></span>
<span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
<h2 id="background-music" tabindex="-1">Background music <a class="header-anchor" href="#background-music"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></h2>
<p>If you play a looping background music, you might want to stream the audio instead of loading it entirely in memory as this can save a lot of memory. Ceramic supports that by adding the <code>stream</code> option to your asset:</p>
<div class="codename">Load the asset (streaming)</div>
<pre class="language-haxe"><code class="language-haxe"><span class="highlight-line"><span class="token keyword">override</span> <span class="token keyword">function</span> <span class="token function">preload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">    assets<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>Sounds<span class="token punctuation">.</span>MY_MUSIC<span class="token punctuation">,</span> <span class="token punctuation">{</span> stream<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line"></span>
<span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
<p class="extra-info">Beware that when you use the <code>stream</code> option on your background music, you won't be able to change the <code>pitch</code> or the <code>position</code>, because it is only supported on non streaming sounds. Also, you should use the <code>stream</code> option only on audio like background music etc... not on short sounds that you'll play many times.</p>
<h3 id="thats-all-for-now" tabindex="-1">That's all for now <a class="header-anchor" href="#thats-all-for-now"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></h3>
<p>There's actually more about sounds than what is covered here, but these samples should be enough to cover most common use cases of playing audio!</p>

            
                
                        <hr />
                        <p>
                            Continue reading &#10132; <a href="/guides/assets/">Assets</a>
                        </p>
                        
            
            
            <hr />
            <div id="like-counter"></div>
            <script src="https://utteranc.es/client.js"
                repo="ceramic-engine/ceramic-comments"
                issue-term="pathname"
                theme="github-dark"
                crossorigin="anonymous"
                async>
            </script>
            
        </main>
    </div>
</div>
    </body>
</html>