<!DOCTYPE html>
<html>
    <head>
        <script type="text/javascript">if (location.protocol !== 'https:' && location.hostname == 'ceramic-engine.com') location.replace('https:'+location.href.substring(location.protocol.length));</script>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" href="/static/favicon.png"/>
        <link rel="apple-touch-icon" href="/static/touch-icon.png"/>
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <title>Scenes - Ceramic</title>
        <link rel="stylesheet" href="/static/lucide-font/lucide.css" type="text/css" />
        <link rel="stylesheet" href="/static/style.css" type="text/css" />
        <link rel="stylesheet" href="/static/prism.css" type="text/css" />
        <script type="text/javascript" src="/static/script.js"></script>
        <meta property="og:site_name" content="Ceramic Engine" />
        <meta property="og:title" content="Scenes - Ceramic" />
        <meta property="og:description" content="A cross-platform &amp; open-source 2D framework" />
        <meta property="og:image" content="/static/img/scenes-schema.png" />
        <meta property="og:image:type" content="image/png" />
        <meta property="og:image:width" content="1066" />
        <meta property="og:image:height" content="800" />
        
    </head>
    <body id="page-guides" class="page page-standard">
        <aside id="site-navigation">
            <div class="nav-header">
                <a href="/" class="nav-logo"><img src="/static/ceramic-small.png" class="ceramic-icon" />Ceramic</a>
                <button class="hamburger" aria-label="Toggle menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
            <ul class="nav-links">
                <li><a href="/"><img src="/static/ceramic-small.png" class="ceramic-icon" />Ceramic</a></li>
                <li class="selected"><a href="/guides">Guides</a></li>
                <li><a href="/examples">Examples</a></li>
                <li><a href="/blog">Blog</a></li>
                <li><a href="/api-docs/clay-native">API Docs</a></li>
                <li><a href="https://github.com/ceramic-engine/ceramic">GitHub</a></li>
                <li><a href="/discord">Discord</a></li>
            </ul>
        </aside>
        
<div class="page-container">
    <div class="sidebar-left">
        
        <aside class="sidebar">
            <ul>
            
                
                <li class="menu-title">Introduction</li>
                <li class="">
                    <ul>
                        
                            <li>
                                <a href="/guides/discover-ceramic/">Discover Ceramic</a>
                            </li>
                        
                    </ul>
                </li>
            
                
                <li class="menu-title">Getting Started</li>
                <li class="">
                    <ul>
                        
                            <li>
                                <a href="/guides/install-ceramic/">Install Ceramic</a>
                            </li>
                        
                            <li>
                                <a href="/guides/your-first-project/">Your first Ceramic project</a>
                            </li>
                        
                            <li>
                                <a href="/guides/editing-your-project/">Editing your project</a>
                            </li>
                        
                            <li>
                                <a href="/guides/display-a-square/">Display a square</a>
                            </li>
                        
                            <li>
                                <a href="/guides/display-an-image/">Display an image</a>
                            </li>
                        
                            <li>
                                <a href="/guides/moving-visuals/">Moving visuals</a>
                            </li>
                        
                    </ul>
                </li>
            
                
                <li class="menu-title selected">Handbook</li>
                <li class="expanded">
                    <ul>
                        
                            <li>
                                <a href="/guides/entities/">Entities</a>
                            </li>
                        
                            <li>
                                <a href="/guides/events/">Events</a>
                            </li>
                        
                            <li>
                                <a href="/guides/visuals/">Visuals</a>
                            </li>
                        
                            <li>
                                <a href="/guides/components/">Components</a>
                            </li>
                        
                            <li>
                                <a href="/guides/text/">Text</a>
                            </li>
                        
                            <li>
                                <a href="/guides/audio/">Audio</a>
                            </li>
                        
                            <li>
                                <a href="/guides/assets/">Assets</a>
                            </li>
                        
                            <li class="selected">
                                <a href="/guides/scenes/">Scenes</a>
                            </li>
                        
                            <li>
                                <a href="/guides/filters/">Filters</a>
                            </li>
                        
                            <li>
                                <a href="/guides/state-machines/">State Machines</a>
                            </li>
                        
                            <li>
                                <a href="/guides/observables/">Observables</a>
                            </li>
                        
                            <li>
                                <a href="/guides/systems/">Systems</a>
                            </li>
                        
                            <li>
                                <a href="/guides/sprites/">Sprites</a>
                            </li>
                        
                            <li>
                                <a href="/guides/input/">Input</a>
                            </li>
                        
                    </ul>
                </li>
            
                
                <li class="menu-title">Appendices</li>
                <li class="">
                    <ul>
                        
                            <li>
                                <a href="/guides/inside-a-default-project/">Inside a default project</a>
                            </li>
                        
                            <li>
                                <a href="/guides/ceramic-via-git/">Ceramic via Git</a>
                            </li>
                        
                            <li>
                                <a href="/guides/platform-setup/">Platform Setup</a>
                            </li>
                        
                            <li>
                                <a href="/guides/ceramic-yml-reference/">Reference: ceramic.yml</a>
                            </li>
                        
                            <li>
                                <a href="/guides/defines/">Ceramic Defines</a>
                            </li>
                        
                    </ul>
                </li>
            
                
                <li class="menu-title">Extras</li>
                <li class="">
                    <ul>
                        
                            <li>
                                <a href="/guides/faq/">FAQ</a>
                            </li>
                        
                    </ul>
                </li>
            
            </ul>
        </aside>
        
    </div>
    <div class="content-right">
        <main>
            <h1>Scenes</h1>
<p>Scenes are the most straightforward entry point to add content in your app, and every default project has one called <code>MainScene</code>.</p>
<h2 id="scenes-at-a-glance" tabindex="-1">Scenes at a glance <a class="header-anchor" href="#scenes-at-a-glance"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></h2>
<p>A <code>Scene</code> is a specialized <code>Visual</code> with its own lifecycle. Think of a scene as a supercharged visual that brings additional features to make more advanced things or simply give some structure to your project.</p>
<p>Most common scenes are the <strong>root scenes</strong>. <strong>Root scenes</strong> are scenes that are bound to the screen size so they take all the space. You can have multiple <strong>root scenes</strong> and those can be layered on top of another by setting their <code>depth</code> property accordingly.</p>
<p>You can also use additional <strong>child scenes</strong> that you can add inside other visuals. Those are not bound to the screen size.</p>
<h2 id="creating-the-main-scene" tabindex="-1">Creating the main scene <a class="header-anchor" href="#creating-the-main-scene"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></h2>
<p>In a default project, you can see there is a <code>MainScene</code> class (in <code>MainScene.hx</code>), which is a scene demonstrating how to load and display the Ceramic logo. That scene is added as <strong>main scene</strong> from the <code>Project</code> class (in <code>Project.hx</code>):</p>
<div class="codename">Creating a scene and using it as main scene.</div>
<pre class="language-haxe"><code class="language-haxe"><span class="highlight-line"><span class="token comment">// Set MainScene as the current scene (see MainScene.hx)</span></span>
<span class="highlight-line">app<span class="token punctuation">.</span>scenes<span class="token punctuation">.</span>main <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">MainScene</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre>
<p>You can take a look at <a href="https://github.com/ceramic-engine/ceramic/blob/master/tools/tpl/project/empty/src/MainScene.hx">the default MainScene source code</a> if you want to see what's inside the scene and what each method do.</p>
<p class="extra-info">The <strong>main scene</strong> is the main <strong>root scene</strong>. That means as a root scene it will follow screen size and get resized if needed.</p>
<p class="extra-info">The <code>app.scenes</code> object is the shared <strong>scene system</strong>, an instance of the <a href="/api-docs/ceramic/SceneSystem.html">SceneSystem</a> type.</p>
<h2 id="adding-layers-background-and-overlay" tabindex="-1">Adding layers: background and overlay <a class="header-anchor" href="#adding-layers-background-and-overlay"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></h2>
<p>
<img src="/static/img/scenes-schema.png" alt="Scenes Schema" />
<div class="caption">An example of scene layering with a main scene surrounded with background and overlay.</div>
</p>
<p>Having a single main scene is nice in many situations, but you might want to add a background that stays separated from the rest of the content, as well as some HUD overlay that is displayed on top of the main scene.</p>
<p>This is easily doable because you can have multiple <strong>root scenes</strong> and layer them on top of another by setting their <code>depth</code> property:</p>
<div class="codename">Creating multiple layered scenes</div>
<pre class="language-haxe"><code class="language-haxe"><span class="highlight-line"><span class="token comment">// Create background scene</span></span>
<span class="highlight-line"><span class="token keyword">var</span> backgroundScene <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">BackgroundScene</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line">backgroundScene<span class="token punctuation">.</span>depth <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="highlight-line"></span>
<span class="highlight-line"><span class="token comment">// Create main scene</span></span>
<span class="highlight-line"><span class="token keyword">var</span> mainScene <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">MainScene</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line">mainScene<span class="token punctuation">.</span>depth <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span></span>
<span class="highlight-line"></span>
<span class="highlight-line"><span class="token comment">// Create overlay scene</span></span>
<span class="highlight-line"><span class="token keyword">var</span> overlayScene <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">OverlayScene</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line">overlayScene<span class="token punctuation">.</span>depth <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span></span>
<span class="highlight-line"></span>
<span class="highlight-line"><span class="token comment">// Assign those scenes as root in the scene system</span></span>
<span class="highlight-line">app<span class="token punctuation">.</span>scenes<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'background'</span><span class="token punctuation">,</span> backgroundScene<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line">app<span class="token punctuation">.</span>scenes<span class="token punctuation">.</span>main <span class="token operator">=</span> mainScene<span class="token punctuation">;</span></span>
<span class="highlight-line">app<span class="token punctuation">.</span>scenes<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'overlay'</span><span class="token punctuation">,</span> overlayScene<span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre>
<p class="extra-info">The code <code>app.scenes.main = ...</code> is a shorthand to <code>app.scenes.set('main', ...)</code>. Both syntaxes are strictly equivalent.</p>
<p class="extra-info">We used the <code>'background'</code> and <code>'overlay'</code> slot names, but these are just examples. Any name can be used, and you can add even more scenes with in new slots etc...</p>
<h2 id="lifecycle-of-a-scene" tabindex="-1">Lifecycle of a scene <a class="header-anchor" href="#lifecycle-of-a-scene"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></h2>
<p>Each scene come with its own <strong>lifecycle</strong>. That lifecycle is defined from the <code>status</code> property (see <a href="/api-docs/ceramic/SceneStatus.html">SceneStatus</a>). Each value of this <code>status</code> lets you know what is currently happening:</p>
<br />
<table style="width:100%">
    <tr>
        <td style="width:20%;text-align:center"><code>NONE</code></td>
        <td>No status. The scene is likely not assigned to anything.</td>
    </tr>
</table>
<div class="table-arrow-down">↓</div>
<table style="width:100%">
    <tr>
        <td style="width:20%;text-align:center"><code>PRELOAD</code></td>
        <td>The scene is calling the <code>preload()</code> method. That happens when the scene is added as root scene or is added as a child of another visual.</td>
    </tr>
</table>
<div class="table-arrow-down">↓</div>
<table style="width:100%">
    <tr>
        <td style="width:20%;text-align:center"><code>LOAD</code></td>
        <td>The scene is actually loading. Any asset that was added with <code>assets.add()</code> in the <code>preload()</code> method is getting loaded (see <a href="/guides/assets/#assets-helpers-in-scene">assets helpers in scene</a> section).</td>
    </tr>
</table>
<div class="table-arrow-down">↓</div>
<table style="width:100%">
    <tr>
        <td style="width:20%;text-align:center"><code>CREATE</code></td>
        <td>The scene has finished loading and is calling the <code>create()</code> method to fill it with any object, visual needed etc...</td>
    </tr>
</table>
<div class="table-arrow-down">↓</div>
<table style="width:100%">
    <tr>
        <td style="width:20%;text-align:center"><code>FADE_IN</code></td>
        <td>The <code>create()</code> method has finished running so the scene is now ready to <strong>fade in</strong>. Default fade in implementation is <em>instant</em>, but this can be changed by overriding the <code>fadeIn()</code> method.</td>
    </tr>
</table>
<div class="table-arrow-down">↓</div>
<table style="width:100%">
    <tr>
        <td style="width:20%;text-align:center"><code>READY</code></td>
        <td>When <strong>fade in</strong> has finished, the scene is marked as <strong>ready</strong>.</td>
    </tr>
</table>
<div class="table-arrow-down">↓</div>
<table style="width:100%">
    <tr>
        <td style="width:20%;text-align:center"><code>FADE_OUT</code></td>
        <td>The scene begins to <strong>fade out</strong>, likely because it was explicitly asked to do so, or is being replaced by another scene.</td>
    </tr>
</table>
<div class="table-arrow-down">↓</div>
<table style="width:100%">
    <tr>
        <td style="width:20%;text-align:center"><code>DISABLED</code></td>
        <td>Happens after <strong>fade out</strong>. When the scene has this status, it should not be used anymore.</td>
    </tr>
</table>
<h3 id="changing-scenes" tabindex="-1">Changing scenes <a class="header-anchor" href="#changing-scenes"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></h3>
<p>You may want to switch from a <strong>root scene</strong> to another, like when moving from a <strong>title screen</strong> to the actual <strong>level</strong> of your game for instance.</p>
<p>This is covered by simply replacing any existing slot:</p>
<div class="codename">Replacing the main scene or another root scene</div>
<pre class="language-haxe"><code class="language-haxe"><span class="highlight-line"><span class="token comment">// Replacing main scene</span></span>
<span class="highlight-line">app<span class="token punctuation">.</span>scenes<span class="token punctuation">.</span>main <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">SomeOtherScene</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line"></span>
<span class="highlight-line"><span class="token comment">// Replacing `overlay` root scene</span></span>
<span class="highlight-line">app<span class="token punctuation">.</span>scenes<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'overlay'</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token function">SomeNewHUDScene</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre>
<h3 id="transitions-between-scenes" tabindex="-1">Transitions between scenes <a class="header-anchor" href="#transitions-between-scenes"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></h3>
<p>As mentioned in the scene lifecycle section, scenes can <strong>fade in</strong> and <strong>fade out</strong>. When you replace an existing <strong>root scene</strong>, its <code>fadeOut()</code> method is automatically called, and the <code>fadeIn()</code> method of the replacing scene is also called as soon as it is ready to be displayed.</p>
<p>Thus, you can create custom transition by overriding those methods in your <code>Scene</code> subclasses:</p>
<div class="codename">Overriding <code>fadeIn()</code> method</div>
<pre class="language-haxe"><code class="language-haxe"><span class="highlight-line"><span class="token keyword">using</span> ceramic<span class="token punctuation">.</span>VisualTransition<span class="token punctuation">;</span></span>
<span class="highlight-line"></span>
<span class="highlight-line"><span class="token operator">...</span></span>
<span class="highlight-line"></span>
    <span class="token comment">/**
<span class="highlight-line">     * Some custom `fadeIn()` implementation inside a scene</span>
     */</span>
<span class="highlight-line">    <span class="token keyword">override</span> <span class="token keyword">function</span> <span class="token function">fadeIn</span><span class="token punctuation">(</span>done<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span>Void<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">        <span class="token comment">// Create a black opaque overlay</span></span>
<span class="highlight-line">        <span class="token keyword">var</span> overlayQuad <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Quad</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line">        overlayQuad<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line">        overlayQuad<span class="token punctuation">.</span>color <span class="token operator">=</span> Color<span class="token punctuation">.</span>BLACK<span class="token punctuation">;</span></span>
<span class="highlight-line">        overlayQuad<span class="token punctuation">.</span>alpha <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">        <span class="token comment">// You might want to set a `depth` to ensure</span></span>
<span class="highlight-line">        <span class="token comment">// this overlay will be above your other visuals</span></span>
<span class="highlight-line">        <span class="token comment">// added in `create()` method.</span></span>
<span class="highlight-line">        overlayQuad<span class="token punctuation">.</span>depth <span class="token operator">=</span> <span class="token operator">...</span><span class="token punctuation">;</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">        <span class="token function">add</span><span class="token punctuation">(</span>overlayQuad<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">        <span class="token comment">// Transition this overlay to fully transparent</span></span>
<span class="highlight-line">        overlayQuad<span class="token punctuation">.</span><span class="token function">transition</span><span class="token punctuation">(</span><span class="token number">0.25</span><span class="token punctuation">,</span> overlayQuad <span class="token operator">-></span> <span class="token punctuation">{</span></span>
<span class="highlight-line">            overlayQuad<span class="token punctuation">.</span>alpha <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="highlight-line">        <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="highlight-line">        <span class="token punctuation">.</span><span class="token function">onceComplete</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token punctuation">{</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">            <span class="token comment">// Fade-in has finished, so we</span></span>
<span class="highlight-line">            <span class="token comment">// can call the done() callback</span></span>
<span class="highlight-line">            <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">            <span class="token comment">// Overlay is not needed anymore</span></span>
<span class="highlight-line">            overlay<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line">            overlay <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="highlight-line">        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line"></span>
<span class="highlight-line">    <span class="token punctuation">}</span></span></code></pre>
<p>You can change <strong>fade out</strong> behaviour in the same way by overriding the <code>fadeOut()</code> method.</p>
<h3 id="thats-all-about-scenes-for-now" tabindex="-1">That's all about scenes for now <a class="header-anchor" href="#thats-all-about-scenes-for-now"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></h3>
<p>You should know a bit more about scenes now! Continue reading the next guide to learn about <code>Filter</code> objects, and also learn how they can be used with the <strong>scene system</strong> to make screen-wide visual effects!</p>

            
                
                        <hr />
                        <p>
                            Continue reading &#10132; <a href="/guides/filters/">Filters</a>
                        </p>
                        
            
            
            <hr />
            <div id="like-counter"></div>
            <script src="https://utteranc.es/client.js"
                repo="ceramic-engine/ceramic-comments"
                issue-term="pathname"
                theme="github-dark"
                crossorigin="anonymous"
                async>
            </script>
            
        </main>
    </div>
</div>
    </body>
</html>