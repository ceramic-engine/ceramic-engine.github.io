<!DOCTYPE html>
<html>
    <head>
        <script type="text/javascript">if (location.protocol !== 'https:' && location.hostname == 'ceramic-engine.com') location.replace('https:'+location.href.substring(location.protocol.length));</script>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" href="/static/favicon.png"/>
        <link rel="apple-touch-icon" href="/static/touch-icon.png"/>
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <title>RuntimeAssets - Ceramic</title>
        <link rel="stylesheet" href="/static/lucide-font/lucide.css" type="text/css" />
        <link rel="stylesheet" href="/static/style.css" type="text/css" />
        <link rel="stylesheet" href="/static/prism.css" type="text/css" />
        <script type="text/javascript" src="/static/script.js"></script>
        <meta property="og:site_name" content="Ceramic Engine" />
        <meta property="og:title" content="RuntimeAssets - Ceramic" />
        <meta property="og:description" content="A cross-platform &amp; open-source 2D framework" />
        <meta property="og:image" content="/static/img/ceramic-800-450.png" />
        <meta property="og:image:type" content="image/png" />
        <meta property="og:image:width" content="800" />
        <meta property="og:image:height" content="450" />
        
    </head>
    <body id="page-api-docs" class="page page-standard page-api-docs-doc">
        <aside id="site-navigation">
            <div class="nav-header">
                <a href="/" class="nav-logo"><img src="/static/ceramic-small.png" class="ceramic-icon" />Ceramic</a>
                <button class="hamburger" aria-label="Toggle menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
            <ul class="nav-links">
                <li><a href="/"><img src="/static/ceramic-small.png" class="ceramic-icon" />Ceramic</a></li>
                <li><a href="/guides">Guides</a></li>
                <li><a href="/examples">Examples</a></li>
                <li><a href="/blog">Blog</a></li>
                <li class="selected"><a href="/api-docs/clay-native">API Docs</a></li>
                <li><a href="https://github.com/ceramic-engine/ceramic">GitHub</a></li>
                <li><a href="/discord">Discord</a></li>
            </ul>
        </aside>
        <div class="page-container">
    <div class="sidebar-left"></div>
    <div class="content-right">
        <main>
            <h1>RuntimeAssets</h1>
<div class="view-source"><a href="https://github.com/ceramic-engine/ceramic/blob/master/runtime/src/ceramic/RuntimeAssets.hx">View source</a></div>
<div class="type-hierarchy"><strong>ceramic.RuntimeAssets</strong> (Class)</div>
<p>Runtime utilities to compute asset lists/names from raw (relative) file list.</p>
<p>RuntimeAssets provides runtime access to asset information that is normally
generated at compile-time by AssetsMacro. This allows dynamic asset discovery
and loading, particularly useful for:</p>
<ul>
<li>Hot-reloading during development</li>
<li>Dynamic content loading</li>
<li>User-generated content</li>
<li>Asset browsing tools</li>
</ul>
<p>The class processes a flat list of asset paths and organizes them by:</p>
<ul>
<li>Base name (filename without extension and density suffix)</li>
<li>Asset kind (image, sound, text, etc.)</li>
<li>Directory structure</li>
</ul>
<p>It also handles density variants (e.g., @2x, @3x) and provides
constant-style names for programmatic access.</p>
<pre class="language-haxe"><code class="language-haxe"><span class="highlight-line"><span class="token comment">// Create from a directory path</span></span>
<span class="highlight-line"><span class="token keyword">var</span> runtimeAssets <span class="token operator">=</span> RuntimeAssets<span class="token punctuation">.</span><span class="token function">fromPath</span><span class="token punctuation">(</span><span class="token string">'assets/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line"></span>
<span class="highlight-line"><span class="token comment">// Get all image asset names</span></span>
<span class="highlight-line"><span class="token keyword">var</span> imageNames <span class="token operator">=</span> runtimeAssets<span class="token punctuation">.</span><span class="token function">getNames</span><span class="token punctuation">(</span><span class="token string">'image'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line"><span class="token keyword">for</span> <span class="token punctuation">(</span>entry <span class="token keyword">in</span> imageNames<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="highlight-line">    <span class="token function">trace</span><span class="token punctuation">(</span><span class="token string">'Image: <span class="token interpolation"><span class="token interpolation variable">$</span><span class="token punctuation">{</span>entry<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span> at <span class="token interpolation"><span class="token interpolation variable">$</span><span class="token punctuation">{</span>entry<span class="token punctuation">.</span>paths<span class="token punctuation">}</span></span>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line"><span class="token punctuation">}</span></span>
<span class="highlight-line"></span>
<span class="highlight-line"><span class="token comment">// Get organized asset lists</span></span>
<span class="highlight-line"><span class="token keyword">var</span> lists <span class="token operator">=</span> runtimeAssets<span class="token punctuation">.</span><span class="token function">getLists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line"><span class="token function">trace</span><span class="token punctuation">(</span><span class="token string">'All assets: <span class="token interpolation"><span class="token interpolation variable">$</span><span class="token punctuation">{</span>lists<span class="token punctuation">.</span>all<span class="token punctuation">}</span></span>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="highlight-line"><span class="token function">trace</span><span class="token punctuation">(</span><span class="token string">'Assets for "player": <span class="token interpolation"><span class="token interpolation variable">$</span><span class="token punctuation">{</span>lists<span class="token punctuation">.</span>allByName<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"player"</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre>
<div class="see"><strong>See:</strong> <a href="/api-docs/clay-native/ceramic/Assets/">Assets</a>, AssetsMacro</div>
<h2 id="static-members" tabindex="-1">Static Members <a class="header-anchor" href="#static-members"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></h2>
<div class="signature field-method has-description" id="fromPath"><code><span class="field-name">fromPath</span><span class="parenthesis">(</span><span class="arg-name">path</span><span class="operator">:</span> <a href="/api-docs/clay-native/String/" class="type-link">String</a><span class="parenthesis">)</span><span class="operator">:</span> <a href="#" class="type-link">RuntimeAssets</a></code><a class="header-anchor" href="#fromPath"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></div>
<p>Creates a RuntimeAssets instance by scanning a directory path.
Only available on platforms with file system access.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>path</code></td>
<td><a href="/api-docs/clay-native/String/">String</a></td>
<td>The directory path to scan for assets</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Returns</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/api-docs/clay-native/ceramic/RuntimeAssets/">RuntimeAssets</a></td>
<td>RuntimeAssets instance, or null if file system access is not available</td>
</tr>
</tbody>
</table>
<h2 id="instance-members" tabindex="-1">Instance Members <a class="header-anchor" href="#instance-members"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></h2>
<div class="signature field-var has-description" id="path"><code><span class="field-name">path</span><span class="operator">:</span> <a href="/api-docs/clay-native/String/" class="type-link">String</a></code><a class="header-anchor" href="#path"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></div>
<p>The root path of the assets directory, if created from a path.
Will be null if created with a pre-computed asset list.</p>
<hr class="field-separator" />
<div class="signature field-method has-description" id="requestTransformedDir"><code><span class="field-name">requestTransformedDir</span><span class="parenthesis">(</span><span class="arg-name">callback</span><span class="operator">:</span> <span class="type-name">Function</span><span class="parenthesis">)</span><span class="operator">:</span> <a href="/api-docs/clay-native/Void/" class="type-link">Void</a></code><a class="header-anchor" href="#requestTransformedDir"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></div>
<p>Requests the transformed assets directory path asynchronously.
This is the temporary directory where processed assets are stored.</p>
<p>The method caches the result after the first query to avoid repeated
platform calls. Multiple simultaneous requests are queued and resolved
together.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>callback</code></td>
<td>Function</td>
<td>Function called with the transformed directory path (may be null if unavailable)</td>
</tr>
</tbody>
</table>
<hr class="field-separator" />
<div class="signature field-method has-description" id="reset"><code><span class="field-name">reset</span><span class="parenthesis">(</span><span class="arg-name">allAssets</span><span class="operator">:</span> <a href="/api-docs/clay-native/Array/" class="type-link">Array</a><span class="operator">&lt;</span><a href="/api-docs/clay-native/String/" class="type-link">String</a><span class="operator">&gt;</span><span class="operator">,</span> <span class="operator">?</span><span class="arg-name">path</span><span class="operator">:</span> <a href="/api-docs/clay-native/String/" class="type-link">String</a><span class="parenthesis">)</span><span class="operator">:</span> <a href="/api-docs/clay-native/Void/" class="type-link">Void</a></code><a class="header-anchor" href="#reset"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></div>
<p>Resets the runtime assets with a new list of files.
Clears all caches and recomputes the asset organization.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>allAssets</code></td>
<td><a href="/api-docs/clay-native/Array/">Array</a>&lt;<a href="/api-docs/clay-native/String/">String</a>&gt;</td>
<td></td>
<td>New array of asset paths</td>
</tr>
<tr>
<td><code>path</code></td>
<td><a href="/api-docs/clay-native/String/">String</a></td>
<td><em>(optional)</em></td>
<td>Optional new root path</td>
</tr>
</tbody>
</table>
<hr class="field-separator" />
<div class="signature field-method has-description" id="getNames"><code><span class="field-name">getNames</span><span class="parenthesis">(</span><span class="arg-name">kind</span><span class="operator">:</span> <a href="/api-docs/clay-native/String/" class="type-link">String</a><span class="operator">,</span> <span class="operator">?</span><span class="arg-name">extensions</span><span class="operator">:</span> <a href="/api-docs/clay-native/Array/" class="type-link">Array</a><span class="operator">&lt;</span><a href="/api-docs/clay-native/String/" class="type-link">String</a><span class="operator">&gt;</span><span class="operator">,</span> <span class="operator">?</span><span class="arg-name">dir</span><span class="operator">:</span> <a href="/api-docs/clay-native/Bool/" class="type-link">Bool</a> <span class="operator">=</span> <span class="default-value">false</span><span class="parenthesis">)</span><span class="operator">:</span> <a href="/api-docs/clay-native/Array/" class="type-link">Array</a><span class="operator">&lt;</span><span class="type-name">AnonStruct</span><span class="operator">&gt;</span></code><a class="header-anchor" href="#getNames"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></div>
<p>Gets all asset names of a specific kind with their paths and constant names.</p>
<p>This method finds all assets matching the specified kind and optional extensions,
returning structured information about each unique asset (by base name).</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>kind</code></td>
<td><a href="/api-docs/clay-native/String/">String</a></td>
<td></td>
<td>Asset type: 'image', 'text', 'sound', 'shader', 'font', 'atlas', 'database', 'fragments'</td>
</tr>
<tr>
<td><code>extensions</code></td>
<td><a href="/api-docs/clay-native/Array/">Array</a>&lt;<a href="/api-docs/clay-native/String/">String</a>&gt;</td>
<td><em>(optional)</em></td>
<td>Optional additional file extensions to include (beyond the defaults for the kind)</td>
</tr>
<tr>
<td><code>dir</code></td>
<td><a href="/api-docs/clay-native/Bool/">Bool</a></td>
<td><code>false</code></td>
<td>Whether to search for directories instead of files</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Returns</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/api-docs/clay-native/Array/">Array</a><AnonStruct></td>
<td>Array of asset entries with: - name: Base name without extension or density suffix - paths: All file paths for this asset (including variants) - constName: Constant-style name for code generation (e.g., &quot;PLAYER_SPRITE&quot;)</td>
</tr>
</tbody>
</table>
<hr class="field-separator" />
<div class="signature field-method has-description" id="getLists"><code><span class="field-name">getLists</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="operator">:</span> <span class="type-name">AnonStruct</span></code><a class="header-anchor" href="#getLists"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></div>
<p>Gets organized lists of all assets in various formats.</p>
<p>Returns a comprehensive view of all assets organized by:</p>
<ul>
<li>Complete file lists</li>
<li>Directory lists</li>
<li>Files grouped by base name</li>
<li>Directories grouped by base name</li>
</ul>
<p>The results are cached for performance.</p>
<table>
<thead>
<tr>
<th>Returns</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>AnonStruct</td>
<td>Object containing: - all: Array of all asset file paths - allDirs: Array of all directory paths containing assets - allByName: Map of base names to their file variants - allDirsByName: Map of base directory names to their variants</td>
</tr>
</tbody>
</table>
<hr class="field-separator" />
<div class="signature field-method has-description" id="getEncodableLists"><code><span class="field-name">getEncodableLists</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="operator">:</span> <span class="type-name">AnonStruct</span></code><a class="header-anchor" href="#getEncodableLists"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></div>
<p>Same as getLists(), but transforms Maps into JSON-encodable objects.</p>
<p>This is useful when you need to serialize the asset lists to JSON
or send them over a network, as Maps cannot be directly JSON-encoded.</p>
<table>
<thead>
<tr>
<th>Returns</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>AnonStruct</td>
<td>Same structure as getLists() but with Maps converted to Dynamic objects</td>
</tr>
</tbody>
</table>
<hr class="field-separator" />
<div class="signature field-method has-description" id="new"><code><span class="field-name">new</span><span class="parenthesis">(</span><span class="arg-name">allAssets</span><span class="operator">:</span> <a href="/api-docs/clay-native/Array/" class="type-link">Array</a><span class="operator">&lt;</span><a href="/api-docs/clay-native/String/" class="type-link">String</a><span class="operator">&gt;</span><span class="operator">,</span> <span class="operator">?</span><span class="arg-name">path</span><span class="operator">:</span> <a href="/api-docs/clay-native/String/" class="type-link">String</a><span class="parenthesis">)</span><span class="operator">:</span> <a href="/api-docs/clay-native/Void/" class="type-link">Void</a></code><a class="header-anchor" href="#new"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></div>
<p>Creates a new RuntimeAssets instance with a pre-computed list of asset paths.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>allAssets</code></td>
<td><a href="/api-docs/clay-native/Array/">Array</a>&lt;<a href="/api-docs/clay-native/String/">String</a>&gt;</td>
<td></td>
<td>Array of relative asset paths (e.g., [&quot;images/player.png&quot;, &quot;sounds/jump.ogg&quot;])</td>
</tr>
<tr>
<td><code>path</code></td>
<td><a href="/api-docs/clay-native/String/">String</a></td>
<td><em>(optional)</em></td>
<td>Optional root path where these assets are located</td>
</tr>
</tbody>
</table>
<h2 id="private-members" tabindex="-1">Private Members <a class="header-anchor" href="#private-members"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></h2>
<div class="signature field-var no-description" id="transformedDir"><code><span class="field-name">transformedDir</span><span class="operator">:</span> <a href="/api-docs/clay-native/String/" class="type-link">String</a></code><a class="header-anchor" href="#transformedDir"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></div>
<hr class="field-separator" />
<div class="signature field-var no-description" id="didQueryTransformedDir"><code><span class="field-name">didQueryTransformedDir</span><span class="operator">:</span> <a href="/api-docs/clay-native/Int/" class="type-link">Int</a></code><a class="header-anchor" href="#didQueryTransformedDir"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></div>
<hr class="field-separator" />
<div class="signature field-var no-description" id="pendingTransformedDirCallbacks"><code><span class="field-name">pendingTransformedDirCallbacks</span><span class="operator">:</span> <a href="/api-docs/clay-native/Array/" class="type-link">Array</a><span class="operator">&lt;</span><span class="type-name">Function</span><span class="operator">&gt;</span></code><a class="header-anchor" href="#pendingTransformedDirCallbacks"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></div>
<hr class="field-separator" />
<div class="signature field-var has-description" id="allAssets"><code><span class="field-name">allAssets</span><span class="operator">:</span> <a href="/api-docs/clay-native/Array/" class="type-link">Array</a><span class="operator">&lt;</span><a href="/api-docs/clay-native/String/" class="type-link">String</a><span class="operator">&gt;</span></code><a class="header-anchor" href="#allAssets"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></div>
<p>All asset file paths in the collection</p>
<hr class="field-separator" />
<div class="signature field-var has-description" id="allAssetDirs"><code><span class="field-name">allAssetDirs</span><span class="operator">:</span> <a href="/api-docs/clay-native/Array/" class="type-link">Array</a><span class="operator">&lt;</span><a href="/api-docs/clay-native/String/" class="type-link">String</a><span class="operator">&gt;</span></code><a class="header-anchor" href="#allAssetDirs"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></div>
<p>All unique directory paths containing assets</p>
<hr class="field-separator" />
<div class="signature field-var has-description" id="assetsByBaseName"><code><span class="field-name">assetsByBaseName</span><span class="operator">:</span> <a href="/api-docs/clay-native/Map/" class="type-link">Map</a></code><a class="header-anchor" href="#assetsByBaseName"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></div>
<p>Map of base names to their file variants (including density variants)</p>
<hr class="field-separator" />
<div class="signature field-var has-description" id="assetDirsByBaseName"><code><span class="field-name">assetDirsByBaseName</span><span class="operator">:</span> <a href="/api-docs/clay-native/Map/" class="type-link">Map</a></code><a class="header-anchor" href="#assetDirsByBaseName"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></div>
<p>Map of base directory names to their path variants</p>
<hr class="field-separator" />
<div class="signature field-var has-description" id="cachedNames"><code><span class="field-name">cachedNames</span><span class="operator">:</span> <a href="/api-docs/clay-native/Map/" class="type-link">Map</a></code><a class="header-anchor" href="#cachedNames"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></div>
<p>Cache of computed asset names by kind and options</p>
<hr class="field-separator" />
<div class="signature field-method has-description" id="toAssetConstName"><code><span class="field-name">toAssetConstName</span><span class="parenthesis">(</span><span class="arg-name">input</span><span class="operator">:</span> <a href="/api-docs/clay-native/String/" class="type-link">String</a><span class="parenthesis">)</span><span class="operator">:</span> <a href="/api-docs/clay-native/String/" class="type-link">String</a></code><a class="header-anchor" href="#toAssetConstName"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></div>
<p>Converts an asset path to a constant-style name suitable for code generation.</p>
<p>Transformation rules:</p>
<ul>
<li>Slashes (/) become double underscores (__)</li>
<li>Dots (.) become single underscores (_)</li>
<li>camelCase becomes CAMEL_CASE</li>
<li>Special characters are replaced with underscores</li>
<li>Result is all uppercase</li>
</ul>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>input</code></td>
<td><a href="/api-docs/clay-native/String/">String</a></td>
<td>Asset path (e.g., &quot;sprites/player.png&quot;)</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Returns</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/api-docs/clay-native/String/">String</a></td>
<td>Constant name (e.g., &quot;SPRITES__PLAYER&quot;)</td>
</tr>
</tbody>
</table>
<hr class="field-separator" />
<div class="signature field-method has-description" id="isAsciiChar"><code><span class="field-name">isAsciiChar</span><span class="parenthesis">(</span><span class="arg-name">c</span><span class="operator">:</span> <a href="/api-docs/clay-native/String/" class="type-link">String</a><span class="parenthesis">)</span><span class="operator">:</span> <a href="/api-docs/clay-native/Bool/" class="type-link">Bool</a></code><a class="header-anchor" href="#isAsciiChar"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></div>
<p>Checks if a character is a valid ASCII alphanumeric character.
Used for generating valid constant names.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>c</code></td>
<td><a href="/api-docs/clay-native/String/">String</a></td>
<td>Single character string</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Returns</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/api-docs/clay-native/Bool/">Bool</a></td>
<td>True if the character is 0-9, A-Z, or a-z</td>
</tr>
</tbody>
</table>
<hr class="field-separator" />
<div class="signature field-method has-description" id="initData"><code><span class="field-name">initData</span><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="operator">:</span> <a href="/api-docs/clay-native/Void/" class="type-link">Void</a></code><a class="header-anchor" href="#initData"><span aria-hidden="true" class="header-anchor__symbol">#</span></a></div>
<p>Initializes internal data structures from the asset list.</p>
<p>This method:</p>
<ul>
<li>Extracts all unique directories from file paths</li>
<li>Groups files by their base names (without extensions/variants)</li>
<li>Groups directories by their base names</li>
<li>Prepares the data for efficient querying</li>
</ul>

        </main>
    </div>
</div>
    </body>
</html>