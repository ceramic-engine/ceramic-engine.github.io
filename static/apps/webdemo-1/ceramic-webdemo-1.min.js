!function(e){"use strict";var n,t={},$estr=function(){return js_Boot.__string_rec(this,"")},i=i||{};function $extend(e,n){var t=Object.create(e);for(var i in n)t[i]=n[i];return n.toString!==Object.prototype.toString&&(t.toString=n.toString),t}var EReg=function(e,n){this.r=new RegExp(e,n.split("u").join(""))};t.EReg=EReg,EReg.__name__="EReg",EReg.prototype={match:function(e){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(e),this.r.s=e,null!=this.r.m},matched:function(e){if(null!=this.r.m&&e>=0&&e<this.r.m.length)return this.r.m[e];throw haxe_Exception.thrown("EReg::matched")},__class__:EReg};var HxOverrides=function(){};t.HxOverrides=HxOverrides,HxOverrides.__name__="HxOverrides",HxOverrides.strDate=function(e){switch(e.length){case 8:var n=e.split(":"),t=new Date;return t.setTime(0),t.setUTCHours(n[0]),t.setUTCMinutes(n[1]),t.setUTCSeconds(n[2]),t;case 10:n=e.split("-");return new Date(n[0],n[1]-1,n[2],0,0,0);case 19:var i=(n=e.split(" "))[0].split("-"),s=n[1].split(":");return new Date(i[0],i[1]-1,i[2],s[0],s[1],s[2]);default:throw haxe_Exception.thrown("Invalid date format : "+e)}},HxOverrides.cca=function(e,n){var t=e.charCodeAt(n);if(t==t)return t},HxOverrides.substr=function(e,n,t){if(null==t)t=e.length;else if(t<0){if(0!=n)return"";t=e.length+t}return e.substr(n,t)},HxOverrides.remove=function(e,n){var t=e.indexOf(n);return-1!=t&&(e.splice(t,1),!0)},HxOverrides.now=function(){return Date.now()};var ceramic_Lazy=function(){};t["ceramic.Lazy"]=ceramic_Lazy,ceramic_Lazy.__name__="ceramic.Lazy",ceramic_Lazy.__isInterface__=!0;var tracker_Events=function(){};t["tracker.Events"]=tracker_Events,tracker_Events.__name__="tracker.Events",tracker_Events.__isInterface__=!0;var ceramic_Entity=function(){this._components=null,this.autoruns=null,this._lifecycleState=0,this.id=null,this._data=null};t["ceramic.Entity"]=ceramic_Entity,ceramic_Entity.__name__="ceramic.Entity",ceramic_Entity.__interfaces__=[ceramic_Lazy,tracker_Events],ceramic_Entity.prototype={get_hasData:function(){return null!=this._data},get_data:function(){return null==this._data&&(this._data={}),this._data},set_data:function(e){return this._data=e},get_destroyed:function(){return this._lifecycleState<0},get_disposed:function(){return 1==this._lifecycleState},emitDispose:function(e){var n=0;if(null!=this.__cbOnDispose&&(n+=this.__cbOnDispose.length),null!=this.__cbOnceDispose&&(n+=this.__cbOnceDispose.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnDispose)for(var r=0,l=this.__cbOnDispose.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnDispose[a],++s):--n}if(null!=this.__cbOnceDispose){var o=null,h=null;for(r=0,l=this.__cbOnceDispose.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceDispose[a],this.__cbOnceDispose[a]=null;var c=this.__cbOnceOwnerUnbindDispose[a];this.__cbOnceOwnerUnbindDispose[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindDispose[a]),h.push(this.__cbOnceDispose[a])}this.__cbOnceOwnerUnbindDispose=o,this.__cbOnceDispose=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onDispose:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event dispose because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDispose(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindDispose&&(this.__cbOnOwnerUnbindDispose=[]),this.__cbOnOwnerUnbindDispose.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindDispose&&(this.__cbOnOwnerUnbindDispose=[]),this.__cbOnOwnerUnbindDispose.push(null);null==this.__cbOnDispose&&(this.__cbOnDispose=[]),this.__cbOnDispose.push(n)},onceDispose:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event dispose because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDispose(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindDispose&&(this.__cbOnceOwnerUnbindDispose=[]),this.__cbOnceOwnerUnbindDispose.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindDispose&&(this.__cbOnceOwnerUnbindDispose=[]),this.__cbOnceOwnerUnbindDispose.push(null);null==this.__cbOnceDispose&&(this.__cbOnceDispose=[]),this.__cbOnceDispose.push(n)},offDispose:function(e){if(null!=e){var n;null!=this.__cbOnDispose&&-1!=(n=this.__cbOnDispose.indexOf(e))&&(this.__cbOnDispose.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDispose[n])&&r(),this.__cbOnOwnerUnbindDispose.splice(n,1)),null!=this.__cbOnceDispose&&-1!=(n=this.__cbOnceDispose.indexOf(e))&&(this.__cbOnceDispose.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDispose[n])&&r(),this.__cbOnceOwnerUnbindDispose.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDispose){for(var t=0,i=this.__cbOnOwnerUnbindDispose.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindDispose[s])&&r()}this.__cbOnOwnerUnbindDispose=null}if(null!=this.__cbOnceOwnerUnbindDispose){for(t=0,i=this.__cbOnceOwnerUnbindDispose.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindDispose[s])&&r()}this.__cbOnceOwnerUnbindDispose=null}this.__cbOnDispose=null,this.__cbOnceDispose=null}},listensDispose:function(){return null!=this.__cbOnDispose&&this.__cbOnDispose.length>0||null!=this.__cbOnceDispose&&this.__cbOnceDispose.length>0},emitDestroy:function(e){var n=0;if(null!=this.__cbOnDestroy&&(n+=this.__cbOnDestroy.length),null!=this.__cbOnceDestroy&&(n+=this.__cbOnceDestroy.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnDestroy)for(var r=0,l=this.__cbOnDestroy.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnDestroy[a],++s):--n}if(null!=this.__cbOnceDestroy){var o=null,h=null;for(r=0,l=this.__cbOnceDestroy.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceDestroy[a],this.__cbOnceDestroy[a]=null;var c=this.__cbOnceOwnerUnbindDestroy[a];this.__cbOnceOwnerUnbindDestroy[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindDestroy[a]),h.push(this.__cbOnceDestroy[a])}this.__cbOnceOwnerUnbindDestroy=o,this.__cbOnceDestroy=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onDestroy:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event destroy because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDestroy(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindDestroy&&(this.__cbOnOwnerUnbindDestroy=[]),this.__cbOnOwnerUnbindDestroy.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindDestroy&&(this.__cbOnOwnerUnbindDestroy=[]),this.__cbOnOwnerUnbindDestroy.push(null);null==this.__cbOnDestroy&&(this.__cbOnDestroy=[]),this.__cbOnDestroy.push(n)},onceDestroy:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event destroy because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDestroy(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindDestroy&&(this.__cbOnceOwnerUnbindDestroy=[]),this.__cbOnceOwnerUnbindDestroy.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindDestroy&&(this.__cbOnceOwnerUnbindDestroy=[]),this.__cbOnceOwnerUnbindDestroy.push(null);null==this.__cbOnceDestroy&&(this.__cbOnceDestroy=[]),this.__cbOnceDestroy.push(n)},offDestroy:function(e){if(null!=e){var n;null!=this.__cbOnDestroy&&-1!=(n=this.__cbOnDestroy.indexOf(e))&&(this.__cbOnDestroy.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDestroy[n])&&r(),this.__cbOnOwnerUnbindDestroy.splice(n,1)),null!=this.__cbOnceDestroy&&-1!=(n=this.__cbOnceDestroy.indexOf(e))&&(this.__cbOnceDestroy.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDestroy[n])&&r(),this.__cbOnceOwnerUnbindDestroy.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDestroy){for(var t=0,i=this.__cbOnOwnerUnbindDestroy.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindDestroy[s])&&r()}this.__cbOnOwnerUnbindDestroy=null}if(null!=this.__cbOnceOwnerUnbindDestroy){for(t=0,i=this.__cbOnceOwnerUnbindDestroy.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindDestroy[s])&&r()}this.__cbOnceOwnerUnbindDestroy=null}this.__cbOnDestroy=null,this.__cbOnceDestroy=null}},listensDestroy:function(){return null!=this.__cbOnDestroy&&this.__cbOnDestroy.length>0||null!=this.__cbOnceDestroy&&this.__cbOnceDestroy.length>0},destroy:function(){if(!(this._lifecycleState<=-2)){if(this._lifecycleState=-3,null!=this.autoruns)for(var e=0,n=this.autoruns.length;e<n;){var t=e++,i=this.autoruns[t];null!=i&&(this.autoruns[t]=null,i.destroy())}if(this.emitDestroy(this),null!=this._components){for(var s=null,r=this._components.h,l=Object.keys(r),a=l.length,o=0;o<a;){var h=l[o++];null==s?s=[h]:s.push(h)}if(null!=s)for(e=0;e<s.length;){h=s[e];++e,this.removeComponent(h)}}this.unbindEvents()}},dispose:function(){0==this._lifecycleState&&(this._lifecycleState=1,ceramic_App.app.disposedEntities.push(this)),this.emitDispose(this)},unbindEvents:function(){this.offDispose(),this.offDestroy()},autorun:function(e,n){if(this._lifecycleState<0)return null;var t=new tracker_Autorun(e,n);if(e=null,n=null,null==this.autoruns)this.autoruns=[t];else{for(var i=!1,s=0,r=this.autoruns.length;s<r;){var l=s++;if(null==this.autoruns[l]){this.autoruns[l]=t,i=!0;break}}i||this.autoruns.push(t)}return t.onDestroy(this,$bind(this,this.checkAutoruns)),t},checkAutoruns:function(e){for(var n=0,t=this.autoruns.length;n<t;){var i=n++,s=this.autoruns[i];null!=s&&s._lifecycleState<0&&(this.autoruns[i]=null)}},tween:function(e,n,t,i,s){return ceramic_Tween.start(this,e,n,t,i,s)},className:function(){var e=js_Boot.getClass(this).__name__,n=e.lastIndexOf(".");return-1!=n&&(e=HxOverrides.substr(e,n+1,null)),e},toString:function(){var e=this.className();return null!=this.id?e+"("+this.id+")":""+e},clearComponents:function(){if(null!=this._components){for(var e=null,n=this._components.h,t=Object.keys(n),i=t.length,s=0;s<i;){var r=t[s++];null==e?e=[r]:e.push(r)}if(null!=e)for(var l=0;l<e.length;){r=e[l];++l,this.removeComponent(r)}}},get_components:function(){return this._components},set_components:function(e){if(this._components==e)return e;if(null!=this._components){s=this._components.h;for(var n=(r=Object.keys(s)).length,t=0;t<n;){var i=r[t++];null!=e&&Object.prototype.hasOwnProperty.call(e.h,i)||this.removeComponent(i)}}if(null!=e){var s,r;for(s=e.h,n=(r=Object.keys(s)).length,t=0;t<n;){i=r[t++];var l=e.h[i];if(null!=this._components){var a=this._components.h[i];null!=a?a!=l&&(this.removeComponent(i),this.component(i,l)):this.component(i,l)}else this.component(i,l)}}return this._components=e,e},component:function(e,n,t){null==t&&(t=!1);var i=this;if(null==e&&null==n)throw haxe_Exception.thrown("Invalid component() call: either `name` or `component` should be provided at least.");if(null==e){var s=js_Boot.getClass(n);if(e=s.__name__,null!=this._components&&Object.prototype.hasOwnProperty.call(this._components.h,e)){var r=e,l=1;for(e=r+"#"+l;Object.prototype.hasOwnProperty.call(this._components.h,e);)++l,e=r+"#"+l}}if(null!=n){if(null==this._components)this._components=new haxe_ds_StringMap;else{var a=this._components.h[e];if(null!=a)a.destroy()}return this._components.h[e]=n,n.setEntity(this),n.onceDestroy(this,(function(s){if((n.getEntity()==i&&n.setEntity(null),i._lifecycleState>=0)&&i._components.h[e]==n){var r=i._components;Object.prototype.hasOwnProperty.call(r.h,e)&&delete r.h[e]}t&&null!=e&&Reflect.setProperty(i,e,null)})),n.bindAsComponent(),n}return null==this._components?null:this._components.h[e]},hasComponent:function(e){return null!=this.component(e)},removeComponent:function(e){var n=this._components.h[e];if(null!=n){var t=this._components;Object.prototype.hasOwnProperty.call(t.h,e)&&delete t.h[e],n.destroy()}},__class__:ceramic_Entity,__properties__:{set_components:"set_components",get_components:"get_components",get_disposed:"get_disposed",get_destroyed:"get_destroyed",set_data:"set_data",get_data:"get_data",get_hasData:"get_hasData"}};var ceramic_DecomposedTransform=function(){this.skewY=0,this.skewX=0,this.scaleY=1,this.scaleX=1,this.rotation=0,this.y=0,this.x=0,this.pivotY=0,this.pivotX=0};t["ceramic.DecomposedTransform"]=ceramic_DecomposedTransform,ceramic_DecomposedTransform.__name__="ceramic.DecomposedTransform",ceramic_DecomposedTransform.prototype={toString:function(){return"(pos="+this.x+","+this.y+" pivot="+this.pivotX+","+this.pivotY+" rotation="+this.rotation+" scale="+(this.scaleX==this.scaleY?""+this.scaleX:this.scaleX+","+this.scaleY)+" skew="+this.skewX+","+this.skewY+")"},__class__:ceramic_DecomposedTransform};var ceramic_Transform=function(e,n,t,i,s,r){null==r&&(r=0),null==s&&(s=0),null==i&&(i=1),null==t&&(t=0),null==n&&(n=0),null==e&&(e=1),this.a=e,this.b=n,this.c=t,this.d=i,this.tx=s,this.ty=r,this._aPrev=e,this._bPrev=n,this._cPrev=t,this._dPrev=i,this._txPrev=s,this._tyPrev=r,this.changed=!1,this.changedDirty=!1};t["ceramic.Transform"]=ceramic_Transform,ceramic_Transform.__name__="ceramic.Transform",ceramic_Transform.__interfaces__=[tracker_Events],ceramic_Transform.prototype={emitChange:function(){var e=0;if(null!=this.__cbOnChange&&(e+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(e+=this.__cbOnceChange.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnChange)for(var s=0,r=this.__cbOnChange.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnChange[l],++i):--e}if(null!=this.__cbOnceChange){var a=null,o=null;for(s=0,r=this.__cbOnceChange.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceChange[l],this.__cbOnceChange[l]=null;var h=this.__cbOnceOwnerUnbindChange[l];this.__cbOnceOwnerUnbindChange[l]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],o=[],[]),a.push(this.__cbOnceOwnerUnbindChange[l]),o.push(this.__cbOnceChange[l])}this.__cbOnceOwnerUnbindChange=a,this.__cbOnceChange=o}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}this._aPrev=this.a,this._bPrev=this.b,this._cPrev=this.c,this._dPrev=this.d,this._txPrev=this.tx,this._tyPrev=this.ty,this.changed=!1},onChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(n)},onceChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(n)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindChange[n])&&r(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindChange[n])&&r(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindChange[s])&&r()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindChange[s])&&r()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&this.__cbOnChange.length>0||null!=this.__cbOnceChange&&this.__cbOnceChange.length>0},computeChanged:function(){this.changedDirty&&(this.changed=this.tx!=this._txPrev||this.ty!=this._tyPrev||this.a!=this._aPrev||this.b!=this._bPrev||this.c!=this._cPrev||this.d!=this._dPrev,this.changedDirty=!1)},didEmitChange:function(){this._aPrev=this.a,this._bPrev=this.b,this._cPrev=this.c,this._dPrev=this.d,this._txPrev=this.tx,this._tyPrev=this.ty,this.changed=!1},cleanChangedState:function(){this._aPrev=this.a,this._bPrev=this.b,this._cPrev=this.c,this._dPrev=this.d,this._txPrev=this.tx,this._tyPrev=this.ty,this.changed=!1},clone:function(){return new ceramic_Transform(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(e){var n=this.a*e.a+this.b*e.c;this.b=this.a*e.b+this.b*e.d,this.a=n;var t=this.c*e.a+this.d*e.c;this.d=this.c*e.b+this.d*e.d,this.c=t;var i=this.tx*e.a+this.ty*e.c+e.tx;this.ty=this.tx*e.b+this.ty*e.d+e.ty,this.tx=i,this.changedDirty=!0},decompose:function(e){return null==e&&(e=new ceramic_DecomposedTransform),e.pivotX=0,e.pivotY=0,e.skewX=-Math.atan2(-this.c,this.d),e.skewY=Math.atan2(this.b,this.a),Math.abs(e.skewX+e.skewY)<1e-5&&(e.rotation=e.skewY,this.a<0&&this.d>=0&&(e.rotation+=e.rotation<=0?Math.PI:-Math.PI),e.skewX=0,e.skewY=0),e.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),e.scaleY=Math.sqrt(this.c*this.c+this.d*this.d),e.x=this.tx,e.y=this.ty,e},setFromDecomposed:function(e){var n=e.x,t=e.y,i=e.scaleX,s=e.scaleY,r=e.rotation,l=e.skewX,a=e.skewY,o=e.pivotX,h=e.pivotY;if(null==h&&(h=0),null==o&&(o=0),null==a&&(a=0),null==l&&(l=0),null==r&&(r=0),null==s&&(s=1),null==i&&(i=1),null==t&&(t=0),null==n&&(n=0),this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.changedDirty=!0,this.tx+=-o,this.ty+=-h,this.changedDirty=!0,0!=l&&(this.c=l*Math.PI/180),0!=a&&(this.b=a*Math.PI/180),0!=r){var c=r*Math.PI/180,u=Math.cos(c),_=Math.sin(c),d=this.a*u-this.b*_;this.b=this.a*_+this.b*u,this.a=d;var f=this.c*u-this.d*_;this.d=this.c*_+this.d*u,this.c=f;var p=this.tx*u-this.ty*_;this.ty=this.tx*_+this.ty*u,this.tx=p,this.changedDirty=!0}this.tx+=o,this.ty+=h,this.changedDirty=!0,1==i&&1==s||(this.a*=i,this.b*=s,this.c*=i,this.d*=s,this.tx*=i,this.ty*=s,this.changedDirty=!0),this.tx+=n-o*i,this.ty+=t-h*s,this.changedDirty=!0},setFromValues:function(e,n,t,i,s,r,l,a,o){if(null==o&&(o=0),null==a&&(a=0),null==l&&(l=0),null==r&&(r=0),null==s&&(s=0),null==i&&(i=1),null==t&&(t=1),null==n&&(n=0),null==e&&(e=0),this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.changedDirty=!0,this.tx+=-a,this.ty+=-o,this.changedDirty=!0,0!=r&&(this.c=r*Math.PI/180),0!=l&&(this.b=l*Math.PI/180),0!=s){var h=s*Math.PI/180,c=Math.cos(h),u=Math.sin(h),_=this.a*c-this.b*u;this.b=this.a*u+this.b*c,this.a=_;var d=this.c*c-this.d*u;this.d=this.c*u+this.d*c,this.c=d;var f=this.tx*c-this.ty*u;this.ty=this.tx*u+this.ty*c,this.tx=f,this.changedDirty=!0}this.tx+=a,this.ty+=o,this.changedDirty=!0,1==t&&1==i||(this.a*=t,this.b*=i,this.c*=t,this.d*=i,this.tx*=t,this.ty*=i,this.changedDirty=!0),this.tx+=e-a*t,this.ty+=n-o*i,this.changedDirty=!0},setFromInterpolated:function(e,n,t){if(0==t)this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this.changedDirty=!0;else if(1==t)this.a=n.a,this.b=n.b,this.c=n.c,this.d=n.d,this.tx=n.tx,this.ty=n.ty,this.changedDirty=!0;else{var i;null==(i=ceramic_Transform._decomposed1)&&(i=new ceramic_DecomposedTransform),i.pivotX=0,i.pivotY=0,i.skewX=-Math.atan2(-e.c,e.d),i.skewY=Math.atan2(e.b,e.a),Math.abs(i.skewX+i.skewY)<1e-5&&(i.rotation=i.skewY,e.a<0&&e.d>=0&&(i.rotation+=i.rotation<=0?Math.PI:-Math.PI),i.skewX=0,i.skewY=0),i.scaleX=Math.sqrt(e.a*e.a+e.b*e.b),i.scaleY=Math.sqrt(e.c*e.c+e.d*e.d),i.x=e.tx,i.y=e.ty,null==(i=ceramic_Transform._decomposed2)&&(i=new ceramic_DecomposedTransform),i.pivotX=0,i.pivotY=0,i.skewX=-Math.atan2(-n.c,n.d),i.skewY=Math.atan2(n.b,n.a),Math.abs(i.skewX+i.skewY)<1e-5&&(i.rotation=i.skewY,n.a<0&&n.d>=0&&(i.rotation+=i.rotation<=0?Math.PI:-Math.PI),i.skewX=0,i.skewY=0),i.scaleX=Math.sqrt(n.a*n.a+n.b*n.b),i.scaleY=Math.sqrt(n.c*n.c+n.d*n.d),i.x=n.tx,i.y=n.ty,ceramic_Transform._decomposed1.pivotX+=(ceramic_Transform._decomposed2.pivotX-ceramic_Transform._decomposed1.pivotX)*t,ceramic_Transform._decomposed1.pivotY+=(ceramic_Transform._decomposed2.pivotY-ceramic_Transform._decomposed1.pivotY)*t,ceramic_Transform._decomposed1.rotation+=(ceramic_Transform._decomposed2.rotation-ceramic_Transform._decomposed1.rotation)*t,ceramic_Transform._decomposed1.scaleX+=(ceramic_Transform._decomposed2.scaleX-ceramic_Transform._decomposed1.scaleX)*t,ceramic_Transform._decomposed1.scaleY+=(ceramic_Transform._decomposed2.scaleY-ceramic_Transform._decomposed1.scaleY)*t,ceramic_Transform._decomposed1.skewX+=(ceramic_Transform._decomposed2.skewX-ceramic_Transform._decomposed1.skewX)*t,ceramic_Transform._decomposed1.skewY+=(ceramic_Transform._decomposed2.skewY-ceramic_Transform._decomposed1.skewY)*t,ceramic_Transform._decomposed1.x+=(ceramic_Transform._decomposed2.x-ceramic_Transform._decomposed1.x)*t,ceramic_Transform._decomposed1.y+=(ceramic_Transform._decomposed2.y-ceramic_Transform._decomposed1.y)*t;var s=ceramic_Transform._decomposed1,r=s.x,l=s.y,a=s.scaleX,o=s.scaleY,h=s.rotation,c=s.skewX,u=s.skewY,_=s.pivotX,d=s.pivotY;if(null==d&&(d=0),null==_&&(_=0),null==u&&(u=0),null==c&&(c=0),null==h&&(h=0),null==o&&(o=1),null==a&&(a=1),null==l&&(l=0),null==r&&(r=0),this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.changedDirty=!0,this.tx+=-_,this.ty+=-d,this.changedDirty=!0,0!=c&&(this.c=c*Math.PI/180),0!=u&&(this.b=u*Math.PI/180),0!=h){var f=h*Math.PI/180,p=Math.cos(f),b=Math.sin(f),y=this.a*p-this.b*b;this.b=this.a*b+this.b*p,this.a=y;var g=this.c*p-this.d*b;this.d=this.c*b+this.d*p,this.c=g;var O=this.tx*p-this.ty*b;this.ty=this.tx*b+this.ty*p,this.tx=O,this.changedDirty=!0}this.tx+=_,this.ty+=d,this.changedDirty=!0,1==a&&1==o||(this.a*=a,this.b*=o,this.c*=a,this.d*=o,this.tx*=a,this.ty*=o,this.changedDirty=!0),this.tx+=r-_*a,this.ty+=l-d*o,this.changedDirty=!0}},deltaTransformX:function(e,n){return e*this.a+n*this.c},deltaTransformY:function(e,n){return e*this.b+n*this.d},equals:function(e){return null!=e&&this.tx==e.tx&&this.ty==e.ty&&this.a==e.a&&this.b==e.b&&this.c==e.c&&this.d==e.d},identity:function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.changedDirty=!0},invert:function(){var e=this.a*this.d-this.b*this.c;if(0==e)this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty;else{e=1/e;var n=this.d*e;this.d=this.a*e,this.a=n,this.b*=-e,this.c*=-e;var t=-this.a*this.tx-this.c*this.ty;this.ty=-this.b*this.tx-this.d*this.ty,this.tx=t}this.changedDirty=!0},rotate:function(e){var n=Math.cos(e),t=Math.sin(e),i=this.a*n-this.b*t;this.b=this.a*t+this.b*n,this.a=i;var s=this.c*n-this.d*t;this.d=this.c*t+this.d*n,this.c=s;var r=this.tx*n-this.ty*t;this.ty=this.tx*t+this.ty*n,this.tx=r,this.changedDirty=!0},scale:function(e,n){this.a*=e,this.b*=n,this.c*=e,this.d*=n,this.tx*=e,this.ty*=n,this.changedDirty=!0},translate:function(e,n){this.tx+=e,this.ty+=n,this.changedDirty=!0},skew:function(e,n){var t=ceramic_Transform._tmp;t.a=1,t.b=0,t.c=0,t.d=1,t.tx=0,t.ty=0,t.changedDirty=!0;var i=Math.cos(n),s=Math.sin(n),r=-Math.sin(e),l=Math.cos(e);ceramic_Transform._tmp.a=1*i+-0*s,ceramic_Transform._tmp.b=0*i+1*s,ceramic_Transform._tmp.c=1*r+-0*l,ceramic_Transform._tmp.d=0*r+1*l;var a=ceramic_Transform._tmp,o=this.a*a.a+this.b*a.c;this.b=this.a*a.b+this.b*a.d,this.a=o;var h=this.c*a.a+this.d*a.c;this.d=this.c*a.b+this.d*a.d,this.c=h;var c=this.tx*a.a+this.ty*a.c+a.tx;this.ty=this.tx*a.b+this.ty*a.d+a.ty,this.tx=c,this.changedDirty=!0},setRotation:function(e,n){null==n&&(n=1),this.a=Math.cos(e)*n,this.c=Math.sin(e)*n,this.b=-this.c,this.d=this.a,this.changedDirty=!0},setTo:function(e,n,t,i,s,r){this.a=e,this.b=n,this.c=t,this.d=i,this.tx=s,this.ty=r,this.changedDirty=!0},setToTransform:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this.changedDirty=!0},toString:function(){var e=ceramic_Transform._decomposed1;return null==e&&(e=new ceramic_DecomposedTransform),e.pivotX=0,e.pivotY=0,e.skewX=-Math.atan2(-this.c,this.d),e.skewY=Math.atan2(this.b,this.a),Math.abs(e.skewX+e.skewY)<1e-5&&(e.rotation=e.skewY,this.a<0&&this.d>=0&&(e.rotation+=e.rotation<=0?Math.PI:-Math.PI),e.skewX=0,e.skewY=0),e.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),e.scaleY=Math.sqrt(this.c*this.c+this.d*this.d),e.x=this.tx,e.y=this.ty,"(a="+this.a+", b="+this.b+", c="+this.c+", d="+this.d+", tx="+this.tx+", ty="+this.ty+" "+Std.string(ceramic_Transform._decomposed1)+")"},transformX:function(e,n){return e*this.a+n*this.c+this.tx},transformY:function(e,n){return e*this.b+n*this.d+this.ty},unbindEvents:function(){this.offChange()},__class__:ceramic_Transform};var ceramic_Pool=function(){this.availableItems=[]};t["ceramic.Pool"]=ceramic_Pool,ceramic_Pool.__name__="ceramic.Pool",ceramic_Pool.prototype={get:function(){return this.availableItems.length>0?this.availableItems.pop():null},recycle:function(e){this.availableItems.push(e)},clear:function(){this.availableItems.length>0&&(this.availableItems=[])},__class__:ceramic_Pool};var ceramic_Point=function(e,n,t){null==t&&(t=0),null==n&&(n=0),null==e&&(e=0),this.z=0,this.y=0,this.x=0,this.x=e,this.y=n,this.z=t};t["ceramic.Point"]=ceramic_Point,ceramic_Point.__name__="ceramic.Point",ceramic_Point.get=function(e,n,t){null==t&&(t=0),null==n&&(n=0),null==e&&(e=0);var i=ceramic_Point.pool,s=i.availableItems.length>0?i.availableItems.pop():null;return null==s?s=new ceramic_Point(e,n,t):(s.x=e,s.y=n,s.z=t),s},ceramic_Point.prototype={toString:function(){return"Point("+this.x+", "+this.y+", "+this.z+")"},recycle:function(){this.x=0,this.y=0,this.z=0,ceramic_Point.pool.recycle(this)},__class__:ceramic_Point};var ceramic_Visual=function(){this.parent=null,this.children=null,this.computedClip=null,this.computedTouchable=!0,this.computedRenderTarget=null,this.computedDepth=0,this.computedAlpha=1,this.computedVisible=!0,this.matTY=0,this.matTX=0,this.matD=1,this.matC=0,this.matB=0,this.matA=1,this.flags=0,this.shader=null,this.transform=null,this.alpha=1,this.rotation=0,this.roundTranslation=-1,this._height=0,this._width=0,this.anchorY=0,this.anchorX=0,this.skewY=0,this.skewX=0,this.scaleY=1,this.scaleX=1,this.y=0,this.x=0,this.depthRange=1,this.depth=0,this.touchable=!0,this.visible=!0,this.blending=0,this.renderTarget=null,this.clipDirty=!0,this.touchableDirty=!0,this.visibilityDirty=!0,this.renderTargetDirty=!0,this.matrixDirty=!0,this.contentDirty=!0,this.translatesOnlyDirty=!1,this.translatesOnly=!0,this.inheritAlpha=!1,this.clip=null,this._numPointerOver=0,this._numPointerDown=0,this.multiTouch=!1,this.asMesh=null,this.asQuad=null,ceramic_Entity.call(this),ceramic_App.app.pendingVisuals.push(this)};t["ceramic.Visual"]=ceramic_Visual,ceramic_Visual.__name__="ceramic.Visual",ceramic_Visual.computeChildrenDepth=function(e){ceramic_Visual._computeChildrenDepth0(e)},ceramic_Visual._computeChildrenDepth0=function(e){var n=e.children;if(null!=n){for(var t=0,i=n.length;t<i;){(r=n[t++]).computedDepth=1e3*r.depth,ceramic_Visual._computeChildrenDepth0(r)}var s=e.depthRange;if(-1!=s){ceramic_Visual._minDepth=9999999999,ceramic_Visual._maxDepth=-9999999999;for(t=0,i=n.length;t<i;){var r=n[t++];ceramic_Visual._computeMinMaxDepths0(r)}for(t=0,i=n.length;t<i;){r=n[t++];ceramic_Visual._multiplyDepths0(r,e.computedDepth+Math.min(.01,1e3*s),Math.max(0,1e3*s-.01))}}}},ceramic_Visual._computeChildrenDepth1=function(e){var n=e.children;if(null!=n){for(var t=0,i=n.length;t<i;){(r=n[t++]).computedDepth=1e3*r.depth,ceramic_Visual._computeChildrenDepth0(r)}var s=e.depthRange;if(-1!=s){ceramic_Visual._minDepth=9999999999,ceramic_Visual._maxDepth=-9999999999;for(t=0,i=n.length;t<i;){var r=n[t++];ceramic_Visual._computeMinMaxDepths0(r)}for(t=0,i=n.length;t<i;){r=n[t++];ceramic_Visual._multiplyDepths0(r,e.computedDepth+Math.min(.01,1e3*s),Math.max(0,1e3*s-.01))}}}},ceramic_Visual._computeChildrenDepthApplyDepthRange=function(e,n){var t=e.depthRange;if(-1!=t){ceramic_Visual._minDepth=9999999999,ceramic_Visual._maxDepth=-9999999999;for(var i=0,s=n.length;i<s;){var r=n[i++];ceramic_Visual._computeMinMaxDepths0(r)}for(i=0,s=n.length;i<s;){r=n[i++];ceramic_Visual._multiplyDepths0(r,e.computedDepth+Math.min(.01,1e3*t),Math.max(0,1e3*t-.01))}}},ceramic_Visual.computeMinMaxDepths=function(e){ceramic_Visual._computeMinMaxDepths0(e)},ceramic_Visual._computeMinMaxDepths0=function(e){var n=e.computedDepth;ceramic_Visual._minDepth>n&&(ceramic_Visual._minDepth=n),ceramic_Visual._maxDepth<n+1&&(ceramic_Visual._maxDepth=n+1);var t=e.children;if(null!=t)for(var i=0,s=t.length;i<s;){var r=t[i++];ceramic_Visual._computeMinMaxDepths0(r)}},ceramic_Visual._computeMinMaxDepths1=function(e){var n=e.computedDepth;ceramic_Visual._minDepth>n&&(ceramic_Visual._minDepth=n),ceramic_Visual._maxDepth<n+1&&(ceramic_Visual._maxDepth=n+1);var t=e.children;if(null!=t)for(var i=0,s=t.length;i<s;){var r=t[i++];ceramic_Visual._computeMinMaxDepths0(r)}},ceramic_Visual.multiplyDepths=function(e,n,t){ceramic_Visual._multiplyDepths0(e,n,t)},ceramic_Visual._multiplyDepths0=function(e,n,t){e.computedDepth=ceramic_Visual._maxDepth==ceramic_Visual._minDepth?n+.5*t:n+(e.computedDepth-ceramic_Visual._minDepth)/(ceramic_Visual._maxDepth-ceramic_Visual._minDepth)*t;var i=e.children;if(null!=i)for(var s=0,r=i.length;s<r;){var l=i[s++];ceramic_Visual._multiplyDepths0(l,n,t)}},ceramic_Visual._multiplyDepths1=function(e,n,t){e.computedDepth=ceramic_Visual._maxDepth==ceramic_Visual._minDepth?n+.5*t:n+(e.computedDepth-ceramic_Visual._minDepth)/(ceramic_Visual._maxDepth-ceramic_Visual._minDepth)*t;var i=e.children;if(null!=i)for(var s=0,r=i.length;s<r;){var l=i[s++];ceramic_Visual._multiplyDepths0(l,n,t)}},ceramic_Visual.__super__=ceramic_Entity,ceramic_Visual.prototype=$extend(ceramic_Entity.prototype,{emitPointerDown:function(e){var n=0;if(null!=this.__cbOnPointerDown&&(n+=this.__cbOnPointerDown.length),null!=this.__cbOncePointerDown&&(n+=this.__cbOncePointerDown.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnPointerDown)for(var r=0,l=this.__cbOnPointerDown.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnPointerDown[a],++s):--n}if(null!=this.__cbOncePointerDown){var o=null,h=null;for(r=0,l=this.__cbOncePointerDown.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOncePointerDown[a],this.__cbOncePointerDown[a]=null;var c=this.__cbOnceOwnerUnbindPointerDown[a];this.__cbOnceOwnerUnbindPointerDown[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindPointerDown[a]),h.push(this.__cbOncePointerDown[a])}this.__cbOnceOwnerUnbindPointerDown=o,this.__cbOncePointerDown=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onPointerDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindPointerDown&&(this.__cbOnOwnerUnbindPointerDown=[]),this.__cbOnOwnerUnbindPointerDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindPointerDown&&(this.__cbOnOwnerUnbindPointerDown=[]),this.__cbOnOwnerUnbindPointerDown.push(null);null==this.__cbOnPointerDown&&(this.__cbOnPointerDown=[]),this.__cbOnPointerDown.push(n)},oncePointerDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindPointerDown&&(this.__cbOnceOwnerUnbindPointerDown=[]),this.__cbOnceOwnerUnbindPointerDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindPointerDown&&(this.__cbOnceOwnerUnbindPointerDown=[]),this.__cbOnceOwnerUnbindPointerDown.push(null);null==this.__cbOncePointerDown&&(this.__cbOncePointerDown=[]),this.__cbOncePointerDown.push(n)},offPointerDown:function(e){if(null!=e){var n;null!=this.__cbOnPointerDown&&-1!=(n=this.__cbOnPointerDown.indexOf(e))&&(this.__cbOnPointerDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPointerDown[n])&&r(),this.__cbOnOwnerUnbindPointerDown.splice(n,1)),null!=this.__cbOncePointerDown&&-1!=(n=this.__cbOncePointerDown.indexOf(e))&&(this.__cbOncePointerDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPointerDown[n])&&r(),this.__cbOnceOwnerUnbindPointerDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerDown){for(var t=0,i=this.__cbOnOwnerUnbindPointerDown.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindPointerDown[s])&&r()}this.__cbOnOwnerUnbindPointerDown=null}if(null!=this.__cbOnceOwnerUnbindPointerDown){for(t=0,i=this.__cbOnceOwnerUnbindPointerDown.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindPointerDown[s])&&r()}this.__cbOnceOwnerUnbindPointerDown=null}this.__cbOnPointerDown=null,this.__cbOncePointerDown=null}},listensPointerDown:function(){return null!=this.__cbOnPointerDown&&this.__cbOnPointerDown.length>0||null!=this.__cbOncePointerDown&&this.__cbOncePointerDown.length>0},emitPointerUp:function(e){var n=0;if(null!=this.__cbOnPointerUp&&(n+=this.__cbOnPointerUp.length),null!=this.__cbOncePointerUp&&(n+=this.__cbOncePointerUp.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnPointerUp)for(var r=0,l=this.__cbOnPointerUp.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnPointerUp[a],++s):--n}if(null!=this.__cbOncePointerUp){var o=null,h=null;for(r=0,l=this.__cbOncePointerUp.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOncePointerUp[a],this.__cbOncePointerUp[a]=null;var c=this.__cbOnceOwnerUnbindPointerUp[a];this.__cbOnceOwnerUnbindPointerUp[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindPointerUp[a]),h.push(this.__cbOncePointerUp[a])}this.__cbOnceOwnerUnbindPointerUp=o,this.__cbOncePointerUp=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onPointerUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindPointerUp&&(this.__cbOnOwnerUnbindPointerUp=[]),this.__cbOnOwnerUnbindPointerUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindPointerUp&&(this.__cbOnOwnerUnbindPointerUp=[]),this.__cbOnOwnerUnbindPointerUp.push(null);null==this.__cbOnPointerUp&&(this.__cbOnPointerUp=[]),this.__cbOnPointerUp.push(n)},oncePointerUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindPointerUp&&(this.__cbOnceOwnerUnbindPointerUp=[]),this.__cbOnceOwnerUnbindPointerUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindPointerUp&&(this.__cbOnceOwnerUnbindPointerUp=[]),this.__cbOnceOwnerUnbindPointerUp.push(null);null==this.__cbOncePointerUp&&(this.__cbOncePointerUp=[]),this.__cbOncePointerUp.push(n)},offPointerUp:function(e){if(null!=e){var n;null!=this.__cbOnPointerUp&&-1!=(n=this.__cbOnPointerUp.indexOf(e))&&(this.__cbOnPointerUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPointerUp[n])&&r(),this.__cbOnOwnerUnbindPointerUp.splice(n,1)),null!=this.__cbOncePointerUp&&-1!=(n=this.__cbOncePointerUp.indexOf(e))&&(this.__cbOncePointerUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPointerUp[n])&&r(),this.__cbOnceOwnerUnbindPointerUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerUp){for(var t=0,i=this.__cbOnOwnerUnbindPointerUp.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindPointerUp[s])&&r()}this.__cbOnOwnerUnbindPointerUp=null}if(null!=this.__cbOnceOwnerUnbindPointerUp){for(t=0,i=this.__cbOnceOwnerUnbindPointerUp.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindPointerUp[s])&&r()}this.__cbOnceOwnerUnbindPointerUp=null}this.__cbOnPointerUp=null,this.__cbOncePointerUp=null}},listensPointerUp:function(){return null!=this.__cbOnPointerUp&&this.__cbOnPointerUp.length>0||null!=this.__cbOncePointerUp&&this.__cbOncePointerUp.length>0},emitPointerOver:function(e){var n=0;if(null!=this.__cbOnPointerOver&&(n+=this.__cbOnPointerOver.length),null!=this.__cbOncePointerOver&&(n+=this.__cbOncePointerOver.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnPointerOver)for(var r=0,l=this.__cbOnPointerOver.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnPointerOver[a],++s):--n}if(null!=this.__cbOncePointerOver){var o=null,h=null;for(r=0,l=this.__cbOncePointerOver.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOncePointerOver[a],this.__cbOncePointerOver[a]=null;var c=this.__cbOnceOwnerUnbindPointerOver[a];this.__cbOnceOwnerUnbindPointerOver[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindPointerOver[a]),h.push(this.__cbOncePointerOver[a])}this.__cbOnceOwnerUnbindPointerOver=o,this.__cbOncePointerOver=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onPointerOver:function(e,n){var t=this;if(null==this.__cbOnPointerOver&&null==this.__cbOncePointerOver&&(ceramic_App.app.screen.visualsListenPointerOver=!0),null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerOver because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerOver(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindPointerOver&&(this.__cbOnOwnerUnbindPointerOver=[]),this.__cbOnOwnerUnbindPointerOver.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindPointerOver&&(this.__cbOnOwnerUnbindPointerOver=[]),this.__cbOnOwnerUnbindPointerOver.push(null);null==this.__cbOnPointerOver&&(this.__cbOnPointerOver=[]),this.__cbOnPointerOver.push(n)},oncePointerOver:function(e,n){var t=this;if(null==this.__cbOnPointerOver&&null==this.__cbOncePointerOver&&(ceramic_App.app.screen.visualsListenPointerOver=!0),null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerOver because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerOver(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindPointerOver&&(this.__cbOnceOwnerUnbindPointerOver=[]),this.__cbOnceOwnerUnbindPointerOver.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindPointerOver&&(this.__cbOnceOwnerUnbindPointerOver=[]),this.__cbOnceOwnerUnbindPointerOver.push(null);null==this.__cbOncePointerOver&&(this.__cbOncePointerOver=[]),this.__cbOncePointerOver.push(n)},offPointerOver:function(e){if(null!=e){var n;null!=this.__cbOnPointerOver&&-1!=(n=this.__cbOnPointerOver.indexOf(e))&&(this.__cbOnPointerOver.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPointerOver[n])&&r(),this.__cbOnOwnerUnbindPointerOver.splice(n,1)),null!=this.__cbOncePointerOver&&-1!=(n=this.__cbOncePointerOver.indexOf(e))&&(this.__cbOncePointerOver.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPointerOver[n])&&r(),this.__cbOnceOwnerUnbindPointerOver.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerOver){for(var t=0,i=this.__cbOnOwnerUnbindPointerOver.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindPointerOver[s])&&r()}this.__cbOnOwnerUnbindPointerOver=null}if(null!=this.__cbOnceOwnerUnbindPointerOver){for(t=0,i=this.__cbOnceOwnerUnbindPointerOver.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindPointerOver[s])&&r()}this.__cbOnceOwnerUnbindPointerOver=null}this.__cbOnPointerOver=null,this.__cbOncePointerOver=null}},listensPointerOver:function(){return null!=this.__cbOnPointerOver&&this.__cbOnPointerOver.length>0||null!=this.__cbOncePointerOver&&this.__cbOncePointerOver.length>0},emitPointerOut:function(e){var n=0;if(null!=this.__cbOnPointerOut&&(n+=this.__cbOnPointerOut.length),null!=this.__cbOncePointerOut&&(n+=this.__cbOncePointerOut.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnPointerOut)for(var r=0,l=this.__cbOnPointerOut.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnPointerOut[a],++s):--n}if(null!=this.__cbOncePointerOut){var o=null,h=null;for(r=0,l=this.__cbOncePointerOut.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOncePointerOut[a],this.__cbOncePointerOut[a]=null;var c=this.__cbOnceOwnerUnbindPointerOut[a];this.__cbOnceOwnerUnbindPointerOut[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindPointerOut[a]),h.push(this.__cbOncePointerOut[a])}this.__cbOnceOwnerUnbindPointerOut=o,this.__cbOncePointerOut=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onPointerOut:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerOut because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerOut(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindPointerOut&&(this.__cbOnOwnerUnbindPointerOut=[]),this.__cbOnOwnerUnbindPointerOut.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindPointerOut&&(this.__cbOnOwnerUnbindPointerOut=[]),this.__cbOnOwnerUnbindPointerOut.push(null);null==this.__cbOnPointerOut&&(this.__cbOnPointerOut=[]),this.__cbOnPointerOut.push(n)},oncePointerOut:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerOut because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerOut(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindPointerOut&&(this.__cbOnceOwnerUnbindPointerOut=[]),this.__cbOnceOwnerUnbindPointerOut.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindPointerOut&&(this.__cbOnceOwnerUnbindPointerOut=[]),this.__cbOnceOwnerUnbindPointerOut.push(null);null==this.__cbOncePointerOut&&(this.__cbOncePointerOut=[]),this.__cbOncePointerOut.push(n)},offPointerOut:function(e){if(null!=e){var n;null!=this.__cbOnPointerOut&&-1!=(n=this.__cbOnPointerOut.indexOf(e))&&(this.__cbOnPointerOut.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPointerOut[n])&&r(),this.__cbOnOwnerUnbindPointerOut.splice(n,1)),null!=this.__cbOncePointerOut&&-1!=(n=this.__cbOncePointerOut.indexOf(e))&&(this.__cbOncePointerOut.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPointerOut[n])&&r(),this.__cbOnceOwnerUnbindPointerOut.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerOut){for(var t=0,i=this.__cbOnOwnerUnbindPointerOut.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindPointerOut[s])&&r()}this.__cbOnOwnerUnbindPointerOut=null}if(null!=this.__cbOnceOwnerUnbindPointerOut){for(t=0,i=this.__cbOnceOwnerUnbindPointerOut.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindPointerOut[s])&&r()}this.__cbOnceOwnerUnbindPointerOut=null}this.__cbOnPointerOut=null,this.__cbOncePointerOut=null}},listensPointerOut:function(){return null!=this.__cbOnPointerOut&&this.__cbOnPointerOut.length>0||null!=this.__cbOncePointerOut&&this.__cbOncePointerOut.length>0},emitFocus:function(){var e=0;if(null!=this.__cbOnFocus&&(e+=this.__cbOnFocus.length),null!=this.__cbOnceFocus&&(e+=this.__cbOnceFocus.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFocus)for(var s=0,r=this.__cbOnFocus.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnFocus[l],++i):--e}if(null!=this.__cbOnceFocus){var a=null,o=null;for(s=0,r=this.__cbOnceFocus.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceFocus[l],this.__cbOnceFocus[l]=null;var h=this.__cbOnceOwnerUnbindFocus[l];this.__cbOnceOwnerUnbindFocus[l]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],o=[],[]),a.push(this.__cbOnceOwnerUnbindFocus[l]),o.push(this.__cbOnceFocus[l])}this.__cbOnceOwnerUnbindFocus=a,this.__cbOnceFocus=o}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onFocus:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event focus because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFocus(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFocus&&(this.__cbOnOwnerUnbindFocus=[]),this.__cbOnOwnerUnbindFocus.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFocus&&(this.__cbOnOwnerUnbindFocus=[]),this.__cbOnOwnerUnbindFocus.push(null);null==this.__cbOnFocus&&(this.__cbOnFocus=[]),this.__cbOnFocus.push(n)},onceFocus:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event focus because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFocus(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFocus&&(this.__cbOnceOwnerUnbindFocus=[]),this.__cbOnceOwnerUnbindFocus.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFocus&&(this.__cbOnceOwnerUnbindFocus=[]),this.__cbOnceOwnerUnbindFocus.push(null);null==this.__cbOnceFocus&&(this.__cbOnceFocus=[]),this.__cbOnceFocus.push(n)},offFocus:function(e){if(null!=e){var n;null!=this.__cbOnFocus&&-1!=(n=this.__cbOnFocus.indexOf(e))&&(this.__cbOnFocus.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFocus[n])&&r(),this.__cbOnOwnerUnbindFocus.splice(n,1)),null!=this.__cbOnceFocus&&-1!=(n=this.__cbOnceFocus.indexOf(e))&&(this.__cbOnceFocus.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFocus[n])&&r(),this.__cbOnceOwnerUnbindFocus.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocus){for(var t=0,i=this.__cbOnOwnerUnbindFocus.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindFocus[s])&&r()}this.__cbOnOwnerUnbindFocus=null}if(null!=this.__cbOnceOwnerUnbindFocus){for(t=0,i=this.__cbOnceOwnerUnbindFocus.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindFocus[s])&&r()}this.__cbOnceOwnerUnbindFocus=null}this.__cbOnFocus=null,this.__cbOnceFocus=null}},listensFocus:function(){return null!=this.__cbOnFocus&&this.__cbOnFocus.length>0||null!=this.__cbOnceFocus&&this.__cbOnceFocus.length>0},emitBlur:function(){var e=0;if(null!=this.__cbOnBlur&&(e+=this.__cbOnBlur.length),null!=this.__cbOnceBlur&&(e+=this.__cbOnceBlur.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBlur)for(var s=0,r=this.__cbOnBlur.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnBlur[l],++i):--e}if(null!=this.__cbOnceBlur){var a=null,o=null;for(s=0,r=this.__cbOnceBlur.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceBlur[l],this.__cbOnceBlur[l]=null;var h=this.__cbOnceOwnerUnbindBlur[l];this.__cbOnceOwnerUnbindBlur[l]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],o=[],[]),a.push(this.__cbOnceOwnerUnbindBlur[l]),o.push(this.__cbOnceBlur[l])}this.__cbOnceOwnerUnbindBlur=a,this.__cbOnceBlur=o}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onBlur:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event blur because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBlur(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBlur&&(this.__cbOnOwnerUnbindBlur=[]),this.__cbOnOwnerUnbindBlur.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBlur&&(this.__cbOnOwnerUnbindBlur=[]),this.__cbOnOwnerUnbindBlur.push(null);null==this.__cbOnBlur&&(this.__cbOnBlur=[]),this.__cbOnBlur.push(n)},onceBlur:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event blur because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBlur(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBlur&&(this.__cbOnceOwnerUnbindBlur=[]),this.__cbOnceOwnerUnbindBlur.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBlur&&(this.__cbOnceOwnerUnbindBlur=[]),this.__cbOnceOwnerUnbindBlur.push(null);null==this.__cbOnceBlur&&(this.__cbOnceBlur=[]),this.__cbOnceBlur.push(n)},offBlur:function(e){if(null!=e){var n;null!=this.__cbOnBlur&&-1!=(n=this.__cbOnBlur.indexOf(e))&&(this.__cbOnBlur.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBlur[n])&&r(),this.__cbOnOwnerUnbindBlur.splice(n,1)),null!=this.__cbOnceBlur&&-1!=(n=this.__cbOnceBlur.indexOf(e))&&(this.__cbOnceBlur.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBlur[n])&&r(),this.__cbOnceOwnerUnbindBlur.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBlur){for(var t=0,i=this.__cbOnOwnerUnbindBlur.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindBlur[s])&&r()}this.__cbOnOwnerUnbindBlur=null}if(null!=this.__cbOnceOwnerUnbindBlur){for(t=0,i=this.__cbOnceOwnerUnbindBlur.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindBlur[s])&&r()}this.__cbOnceOwnerUnbindBlur=null}this.__cbOnBlur=null,this.__cbOnceBlur=null}},listensBlur:function(){return null!=this.__cbOnBlur&&this.__cbOnBlur.length>0||null!=this.__cbOnceBlur&&this.__cbOnceBlur.length>0},willListenPointerOver:function(){ceramic_App.app.screen.visualsListenPointerOver=!0},get_isPointerDown:function(){return this._numPointerDown>0},get_isPointerOver:function(){return this._numPointerOver>0},set_clip:function(e){if(this.clip==e)return e;if(this.clip=e,this.clipDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.clipDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_clipDirty(!0)}}return e},set_inheritAlpha:function(e){if(this.inheritAlpha==e)return e;if(this.inheritAlpha=e,this.visibilityDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.visibilityDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_visibilityDirty(!0)}}return e},stop:function(){},set_contentDirty:function(e){return this.contentDirty=e,e&&(ceramic_App.app.visualsContentDirty=!0),e},set_matrixDirty:function(e){if(this.matrixDirty=e,e&&null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;this.children[i].set_matrixDirty(!0)}return e},set_renderTargetDirty:function(e){if(this.renderTargetDirty=e,e){if(this.clipDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;if((a=this.children[i]).clipDirty=!0,null!=a.children)for(var s=0,r=a.children.length;s<r;){var l=s++;a.children[l].set_clipDirty(!0)}}if(null!=this.children)for(n=0,t=this.children.length;n<t;){var a;i=n++;(a=this.children[i]).set_renderTargetDirty(!0)}}return e},set_visibilityDirty:function(e){if(this.visibilityDirty=e,e&&null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;this.children[i].set_visibilityDirty(!0)}return e},set_touchableDirty:function(e){if(this.touchableDirty=e,e&&null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;this.children[i].set_touchableDirty(!0)}return e},set_clipDirty:function(e){if(this.clipDirty=e,e&&null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;this.children[i].set_clipDirty(!0)}return e},set_renderTarget:function(e){if(this.renderTarget==e)return e;if(this.renderTarget=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++;if((a=this.children[i]).matrixDirty=!0,null!=a.children)for(var s=0,r=a.children.length;s<r;){var l=s++;(o=a.children[l]).set_matrixDirty(!0)}}if(this.renderTargetDirty=!0,this.clipDirty=!0,null!=this.children)for(n=0,t=this.children.length;n<t;){i=n++;if((a=this.children[i]).clipDirty=!0,null!=a.children)for(s=0,r=a.children.length;s<r;){l=s++;(o=a.children[l]).set_clipDirty(!0)}}if(null!=this.children)for(n=0,t=this.children.length;n<t;){var a;i=n++;if((a=this.children[i]).renderTargetDirty=!0,a.clipDirty=!0,null!=a.children)for(s=0,r=a.children.length;s<r;){var o;l=s++;if((o=a.children[l]).clipDirty=!0,null!=o.children)for(var h=0,c=o.children.length;h<c;){var u=h++,_=o.children[u];if(_.clipDirty=!0,null!=_.children)for(var d=0,f=_.children.length;d<f;){var p=d++;_.children[p].set_clipDirty(!0)}}}if(null!=a.children)for(var b=0,y=a.children.length;b<y;){var g=b++;a.children[g].set_renderTargetDirty(!0)}}return e},set_blending:function(e){return this.blending=e},set_visible:function(e){if(this.visible==e)return e;if(this.visible=e,this.visibilityDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.visibilityDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_visibilityDirty(!0)}}return e},set_touchable:function(e){if(this.touchable==e)return e;if(this.touchable=e,this.touchableDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.touchableDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_touchableDirty(!0)}}return e},set_depth:function(e){return this.depth==e||(this.depth=e,ceramic_App.app.hierarchyDirty=!0),e},set_depthRange:function(e){return this.depthRange==e||(this.depthRange=e,ceramic_App.app.hierarchyDirty=!0),e},set_x:function(e){if(this.x==e)return e;if(this.x=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}return e},set_y:function(e){if(this.y==e)return e;if(this.y=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}return e},set_scaleX:function(e){if(this.scaleX==e)return e;if(this.scaleX=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}return this.translatesOnlyDirty=!0,e},set_scaleY:function(e){if(this.scaleY==e)return e;if(this.scaleY=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}return this.translatesOnlyDirty=!0,e},set_skewX:function(e){if(this.skewX==e)return e;if(this.skewX=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}return this.translatesOnlyDirty=!0,e},set_skewY:function(e){if(this.skewY==e)return e;if(this.skewY=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}return this.translatesOnlyDirty=!0,e},set_anchorX:function(e){if(this.anchorX==e)return e;if(this.anchorX=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}return e},set_anchorY:function(e){if(this.anchorY==e)return e;if(this.anchorY=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}return e},get_width:function(){return this._width},set_width:function(e){if(this._width==e)return e;if(this._width=e,0!=this.anchorX&&(this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}return e},get_height:function(){return this._height},set_height:function(e){if(this._height==e)return e;if(this._height=e,0!=this.anchorY&&(this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}return e},set_roundTranslation:function(e){if(this.roundTranslation==e)return e;if(this.roundTranslation=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}return e},set_rotation:function(e){if(this.rotation==e)return e;if(this.rotation=e,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}return this.translatesOnlyDirty=!0,e},set_alpha:function(e){if(this.alpha==e)return e;if(this.alpha=e,this.visibilityDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.visibilityDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_visibilityDirty(!0)}}return e},get_translateX:function(){return null!=this.transform?this.transform.tx:0},set_translateX:function(e){return 0==e?null!=this.transform&&0!=this.transform.tx&&(this.transform.tx=0,this.transform.changedDirty=!0):(null==this.transform&&this.set_transform(new ceramic_Transform),this.transform.tx!=e&&(this.transform.tx=e,this.transform.changedDirty=!0)),e},get_translateY:function(){return null!=this.transform?this.transform.ty:0},set_translateY:function(e){return 0==e?null!=this.transform&&0!=this.transform.ty&&(this.transform.ty=0,this.transform.changedDirty=!0):(null==this.transform&&this.set_transform(new ceramic_Transform),this.transform.ty!=e&&(this.transform.ty=e,this.transform.changedDirty=!0)),e},set_transform:function(e){if(this.transform==e)return e;if(null!=this.transform&&this.transform.offChange($bind(this,this.transformDidChange)),this.transform=e,null!=this.transform&&this.transform.onChange(this,$bind(this,this.transformDidChange)),this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}return e},set_shader:function(e){return this.shader=e},flag:function(e,n){var t=e+16;if(null!=n)return this.flags=n?this.flags|1<<t:this.flags&~(1<<t),n;var i=1<<t;return(this.flags&i)==i},internalFlag:function(e,n){if(null!=n)return this.flags=n?this.flags|1<<e:this.flags&~(1<<e),n;var t=1<<e;return(this.flags&t)==t},get_active:function(){return 1!=(1&this.flags)},set_active:function(e){return e==(1!=(1&this.flags))||(this.flags=e?-2&this.flags:1|this.flags,e?(this.set_visible(2==(2&this.flags)),this.set_touchable(4==(4&this.flags))):(this.flags=this.visible?2|this.flags:-3&this.flags,this.flags=this.touchable?4|this.flags:-5&this.flags,this.set_visible(!1),this.set_touchable(!1))),e},size:function(e,n){this.set_width(e),this.set_height(n)},anchor:function(e,n){this.set_anchorX(e),this.set_anchorY(n)},pos:function(e,n){this.set_x(e),this.set_y(n)},_scale:function(e,n){this.set_scaleX(e),this.set_scaleY(n)},skew:function(e,n){this.set_skewX(e),this.set_skewY(n)},translate:function(e,n){0==e?null!=this.transform&&0!=this.transform.tx&&(this.transform.tx=0,this.transform.changedDirty=!0):(null==this.transform&&this.set_transform(new ceramic_Transform),this.transform.tx!=e&&(this.transform.tx=e,this.transform.changedDirty=!0)),0==n?null!=this.transform&&0!=this.transform.ty&&(this.transform.ty=0,this.transform.changedDirty=!0):(null==this.transform&&this.set_transform(new ceramic_Transform),this.transform.ty!=n&&(this.transform.ty=n,this.transform.changedDirty=!0))},anchorKeepPosition:function(e,n){if(this.anchorX!=e||this.anchorY!=n){this.visualToScreen(0,0,ceramic_Visual._point,!1),null!=this.parent&&this.parent.screenToVisual(ceramic_Visual._point.x,ceramic_Visual._point.y,ceramic_Visual._point,!1);var t=ceramic_Visual._point.x,i=ceramic_Visual._point.y;this.set_anchorX(e),this.set_anchorY(n),this.visualToScreen(0,0,ceramic_Visual._point,!1),null!=this.parent&&this.parent.screenToVisual(ceramic_Visual._point.x,ceramic_Visual._point.y,ceramic_Visual._point,!1),this.set_x(this.x+(t-ceramic_Visual._point.x)),this.set_y(this.y+(i-ceramic_Visual._point.y))}},childWithId:function(e,n){if(null==n&&(n=!0),null!=this.children){for(var t=0,i=this.children.length;t<i;){var s=t++;if((r=this.children[s]).id==e)return r}if(n)for(t=0,i=this.children.length;t<i;){s=t++;var r,l=(r=this.children[s]).childWithId(e,!0);if(null!=l)return l}}return null},childWithType:function(e,n){if(null==n&&(n=!0),null!=this.children){for(var t=0,i=this.children.length;t<i;){var s=t++,r=this.children[s];if(js_Boot.__instanceof(r,e))return r}if(n)for(t=0,i=this.children.length;t<i;){s=t++;var l=(r=this.children[s]).childWithType(e,!0);if(null!=l)return l}}return null},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),ceramic_App.app.screen.unobservedFocusedVisual==this&&ceramic_App.app.screen.set_focusedVisual(null),ceramic_App.app.destroyedVisuals.push(this),null!=this.parent&&this.parent.remove(this),null!=this.transform&&this.set_transform(null),this.clear(),this.visibilityDirty=!1,this.computedVisible=!1)},clear:function(){if(null!=this.children&&this.children.length>0){for(var e=this.children.length,n=ceramic_ArrayPool.pool(e),t=n.get(),i=0,s=e;i<s;){var r=i++;t.vector[r]=this.children[r]}for(i=0,s=e;i<s;){r=i++;t.vector[r].destroy()}this.children=null,n.release(t)}},transformDidChange:function(){if(this.matrixDirty=!0,null!=this.children)for(var e=0,n=this.children.length;e<n;){var t=e++,i=this.children[t];if(i.matrixDirty=!0,null!=i.children)for(var s=0,r=i.children.length;s<r;){var l=s++;i.children[l].set_matrixDirty(!0)}}},computeMatrix:function(){null!=this.parent&&this.parent.matrixDirty&&this.parent.computeMatrix(),(t=ceramic_Visual._matrix).a=1,t.b=0,t.c=0,t.d=1,t.tx=0,t.ty=0,t.changedDirty=!0,this.translatesOnlyDirty&&(this.translatesOnly=0==this.rotation&&1==this.scaleX&&1==this.scaleY&&0==this.skewX&&0==this.skewY,this.translatesOnlyDirty=!1);var e=this.get_width(),n=this.get_height();if(this.translatesOnly)ceramic_Visual._matrix.tx+=this.x-this.anchorX*e,ceramic_Visual._matrix.ty+=this.y-this.anchorY*n;else{if((t=ceramic_Visual._matrix).tx+=-this.anchorX*e,t.ty+=-this.anchorY*n,t.changedDirty=!0,1!=this.scaleX||1!=this.scaleY){var t=ceramic_Visual._matrix,i=this.scaleX,s=this.scaleY;t.a*=i,t.b*=s,t.c*=i,t.d*=s,t.tx*=i,t.ty*=s,t.changedDirty=!0}if(0!=this.skewX||0!=this.skewY){var t=ceramic_Visual._matrix,r=.017453292519943295*this.skewX,l=.017453292519943295*this.skewY,a=ceramic_Transform._tmp;a.a=1,a.b=0,a.c=0,a.d=1,a.tx=0,a.ty=0,a.changedDirty=!0;var o=Math.cos(l),h=Math.sin(l),c=-Math.sin(r),u=Math.cos(r);ceramic_Transform._tmp.a=1*o+-0*h,ceramic_Transform._tmp.b=0*o+1*h,ceramic_Transform._tmp.c=1*c+-0*u,ceramic_Transform._tmp.d=0*c+1*u;var _=ceramic_Transform._tmp,d=t.a*_.a+t.b*_.c;t.b=t.a*_.b+t.b*_.d,t.a=d;var f=t.c*_.a+t.d*_.c;t.d=t.c*_.b+t.d*_.d,t.c=f;var p=t.tx*_.a+t.ty*_.c+_.tx;t.ty=t.tx*_.b+t.ty*_.d+_.ty,t.tx=p,t.changedDirty=!0}if(0!=this.rotation){t=ceramic_Visual._matrix;var b=.017453292519943295*this.rotation,y=Math.cos(b),g=Math.sin(b);d=t.a*y-t.b*g;t.b=t.a*g+t.b*y,t.a=d;f=t.c*y-t.d*g;t.d=t.c*g+t.d*y,t.c=f;p=t.tx*y-t.ty*g;t.ty=t.tx*g+t.ty*y,t.tx=p,t.changedDirty=!0}(t=ceramic_Visual._matrix).tx+=this.x,t.ty+=this.y,t.changedDirty=!0}if(null!=this.transform){d=ceramic_Visual._matrix.a*this.transform.a+ceramic_Visual._matrix.b*this.transform.c;ceramic_Visual._matrix.b=ceramic_Visual._matrix.a*this.transform.b+ceramic_Visual._matrix.b*this.transform.d,ceramic_Visual._matrix.a=d;f=ceramic_Visual._matrix.c*this.transform.a+ceramic_Visual._matrix.d*this.transform.c;ceramic_Visual._matrix.d=ceramic_Visual._matrix.c*this.transform.b+ceramic_Visual._matrix.d*this.transform.d,ceramic_Visual._matrix.c=f;p=ceramic_Visual._matrix.tx*this.transform.a+ceramic_Visual._matrix.ty*this.transform.c+this.transform.tx;ceramic_Visual._matrix.ty=ceramic_Visual._matrix.tx*this.transform.b+ceramic_Visual._matrix.ty*this.transform.d+this.transform.ty,ceramic_Visual._matrix.tx=p}if(null!=this.parent&&null==this.renderTarget)if(1==this.parent.matA&&0==this.parent.matB&&0==this.parent.matC&&1==this.parent.matD)ceramic_Visual._matrix.tx+=this.parent.matTX,ceramic_Visual._matrix.ty+=this.parent.matTY;else if(this.translatesOnly&&null==this.transform){ceramic_Visual._matrix.a=this.parent.matA,ceramic_Visual._matrix.b=this.parent.matB,ceramic_Visual._matrix.c=this.parent.matC,ceramic_Visual._matrix.d=this.parent.matD;p=ceramic_Visual._matrix.tx*this.parent.matA+ceramic_Visual._matrix.ty*this.parent.matC+this.parent.matTX;ceramic_Visual._matrix.ty=ceramic_Visual._matrix.tx*this.parent.matB+ceramic_Visual._matrix.ty*this.parent.matD+this.parent.matTY,ceramic_Visual._matrix.tx=p}else{d=ceramic_Visual._matrix.a*this.parent.matA+ceramic_Visual._matrix.b*this.parent.matC;ceramic_Visual._matrix.b=ceramic_Visual._matrix.a*this.parent.matB+ceramic_Visual._matrix.b*this.parent.matD,ceramic_Visual._matrix.a=d;f=ceramic_Visual._matrix.c*this.parent.matA+ceramic_Visual._matrix.d*this.parent.matC;ceramic_Visual._matrix.d=ceramic_Visual._matrix.c*this.parent.matB+ceramic_Visual._matrix.d*this.parent.matD,ceramic_Visual._matrix.c=f;p=ceramic_Visual._matrix.tx*this.parent.matA+ceramic_Visual._matrix.ty*this.parent.matC+this.parent.matTX;ceramic_Visual._matrix.ty=ceramic_Visual._matrix.tx*this.parent.matB+ceramic_Visual._matrix.ty*this.parent.matD+this.parent.matTY,ceramic_Visual._matrix.tx=p}this.matA=ceramic_Visual._matrix.a,this.matB=ceramic_Visual._matrix.b,this.matC=ceramic_Visual._matrix.c,this.matD=ceramic_Visual._matrix.d,this.matTX=ceramic_Visual._matrix.tx,this.matTY=ceramic_Visual._matrix.ty,this.roundTranslation>0&&(1==this.roundTranslation?(this.matTX=Math.round(this.matTX),this.matTY=Math.round(this.matTY)):(this.matTX=Math.round(this.matTX*this.roundTranslation)/this.roundTranslation,this.matTY=Math.round(this.matTY*this.roundTranslation)/this.roundTranslation)),this.matrixDirty=!1},computeTranslatesOnly:function(){this.translatesOnly=0==this.rotation&&1==this.scaleX&&1==this.scaleY&&0==this.skewX&&0==this.skewY,this.translatesOnlyDirty=!1},doComputeMatrix:function(){this.translatesOnlyDirty&&(this.translatesOnly=0==this.rotation&&1==this.scaleX&&1==this.scaleY&&0==this.skewX&&0==this.skewY,this.translatesOnlyDirty=!1);var e=this.get_width(),n=this.get_height();if(this.translatesOnly)ceramic_Visual._matrix.tx+=this.x-this.anchorX*e,ceramic_Visual._matrix.ty+=this.y-this.anchorY*n;else{if((t=ceramic_Visual._matrix).tx+=-this.anchorX*e,t.ty+=-this.anchorY*n,t.changedDirty=!0,1!=this.scaleX||1!=this.scaleY){var t=ceramic_Visual._matrix,i=this.scaleX,s=this.scaleY;t.a*=i,t.b*=s,t.c*=i,t.d*=s,t.tx*=i,t.ty*=s,t.changedDirty=!0}if(0!=this.skewX||0!=this.skewY){var t=ceramic_Visual._matrix,r=.017453292519943295*this.skewX,l=.017453292519943295*this.skewY,a=ceramic_Transform._tmp;a.a=1,a.b=0,a.c=0,a.d=1,a.tx=0,a.ty=0,a.changedDirty=!0;var o=Math.cos(l),h=Math.sin(l),c=-Math.sin(r),u=Math.cos(r);ceramic_Transform._tmp.a=1*o+-0*h,ceramic_Transform._tmp.b=0*o+1*h,ceramic_Transform._tmp.c=1*c+-0*u,ceramic_Transform._tmp.d=0*c+1*u;var _=ceramic_Transform._tmp,d=t.a*_.a+t.b*_.c;t.b=t.a*_.b+t.b*_.d,t.a=d;var f=t.c*_.a+t.d*_.c;t.d=t.c*_.b+t.d*_.d,t.c=f;var p=t.tx*_.a+t.ty*_.c+_.tx;t.ty=t.tx*_.b+t.ty*_.d+_.ty,t.tx=p,t.changedDirty=!0}if(0!=this.rotation){t=ceramic_Visual._matrix;var b=.017453292519943295*this.rotation,y=Math.cos(b),g=Math.sin(b);d=t.a*y-t.b*g;t.b=t.a*g+t.b*y,t.a=d;f=t.c*y-t.d*g;t.d=t.c*g+t.d*y,t.c=f;p=t.tx*y-t.ty*g;t.ty=t.tx*g+t.ty*y,t.tx=p,t.changedDirty=!0}(t=ceramic_Visual._matrix).tx+=this.x,t.ty+=this.y,t.changedDirty=!0}if(null!=this.transform){d=ceramic_Visual._matrix.a*this.transform.a+ceramic_Visual._matrix.b*this.transform.c;ceramic_Visual._matrix.b=ceramic_Visual._matrix.a*this.transform.b+ceramic_Visual._matrix.b*this.transform.d,ceramic_Visual._matrix.a=d;f=ceramic_Visual._matrix.c*this.transform.a+ceramic_Visual._matrix.d*this.transform.c;ceramic_Visual._matrix.d=ceramic_Visual._matrix.c*this.transform.b+ceramic_Visual._matrix.d*this.transform.d,ceramic_Visual._matrix.c=f;p=ceramic_Visual._matrix.tx*this.transform.a+ceramic_Visual._matrix.ty*this.transform.c+this.transform.tx;ceramic_Visual._matrix.ty=ceramic_Visual._matrix.tx*this.transform.b+ceramic_Visual._matrix.ty*this.transform.d+this.transform.ty,ceramic_Visual._matrix.tx=p}if(null!=this.parent&&null==this.renderTarget)if(1==this.parent.matA&&0==this.parent.matB&&0==this.parent.matC&&1==this.parent.matD)ceramic_Visual._matrix.tx+=this.parent.matTX,ceramic_Visual._matrix.ty+=this.parent.matTY;else if(this.translatesOnly&&null==this.transform){ceramic_Visual._matrix.a=this.parent.matA,ceramic_Visual._matrix.b=this.parent.matB,ceramic_Visual._matrix.c=this.parent.matC,ceramic_Visual._matrix.d=this.parent.matD;p=ceramic_Visual._matrix.tx*this.parent.matA+ceramic_Visual._matrix.ty*this.parent.matC+this.parent.matTX;ceramic_Visual._matrix.ty=ceramic_Visual._matrix.tx*this.parent.matB+ceramic_Visual._matrix.ty*this.parent.matD+this.parent.matTY,ceramic_Visual._matrix.tx=p}else{d=ceramic_Visual._matrix.a*this.parent.matA+ceramic_Visual._matrix.b*this.parent.matC;ceramic_Visual._matrix.b=ceramic_Visual._matrix.a*this.parent.matB+ceramic_Visual._matrix.b*this.parent.matD,ceramic_Visual._matrix.a=d;f=ceramic_Visual._matrix.c*this.parent.matA+ceramic_Visual._matrix.d*this.parent.matC;ceramic_Visual._matrix.d=ceramic_Visual._matrix.c*this.parent.matB+ceramic_Visual._matrix.d*this.parent.matD,ceramic_Visual._matrix.c=f;p=ceramic_Visual._matrix.tx*this.parent.matA+ceramic_Visual._matrix.ty*this.parent.matC+this.parent.matTX;ceramic_Visual._matrix.ty=ceramic_Visual._matrix.tx*this.parent.matB+ceramic_Visual._matrix.ty*this.parent.matD+this.parent.matTY,ceramic_Visual._matrix.tx=p}this.matA=ceramic_Visual._matrix.a,this.matB=ceramic_Visual._matrix.b,this.matC=ceramic_Visual._matrix.c,this.matD=ceramic_Visual._matrix.d,this.matTX=ceramic_Visual._matrix.tx,this.matTY=ceramic_Visual._matrix.ty,this.roundTranslation>0&&(1==this.roundTranslation?(this.matTX=Math.round(this.matTX),this.matTY=Math.round(this.matTY)):(this.matTX=Math.round(this.matTX*this.roundTranslation)/this.roundTranslation,this.matTY=Math.round(this.matTY*this.roundTranslation)/this.roundTranslation)),this.matrixDirty=!1},_hits:function(e,n,t){if(!t){if(this.renderTargetDirty&&this.computeRenderTarget(),null!=this.computedRenderTarget){var i=this.parent;if(null!=i)do{if(null!=i.asQuad&&i instanceof ceramic_Filter){var s=i;if(s.get_renderTexture()==this.computedRenderTarget&&(null==ceramic_Screen.matchedHitVisual||s.hitVisual==ceramic_Screen.matchedHitVisual))return s.visualInContentHits(this,e,n)}i=i.parent}while(null!=i);return!1}if(null!=ceramic_Screen.matchedHitVisual&&ceramic_Screen.matchedHitVisual!=this)return!1}this.matrixDirty&&this.computeMatrix(),(r=ceramic_Visual._matrix).a=this.matA,r.b=this.matB,r.c=this.matC,r.d=this.matD,r.tx=this.matTX,r.ty=this.matTY,r.changedDirty=!0;var r,l=(r=ceramic_Visual._matrix).a*r.d-r.b*r.c;if(0==l)r.a=r.b=r.c=r.d=0,r.tx=-r.tx,r.ty=-r.ty;else{l=1/l;var a=r.d*l;r.d=r.a*l,r.a=a,r.b*=-l,r.c*=-l;var o=-r.a*r.tx-r.c*r.ty;r.ty=-r.b*r.tx-r.d*r.ty,r.tx=o}return r.changedDirty=!0,this.hitTest(e,n,ceramic_Visual._matrix)},hitTest:function(e,n,t){var i=e*t.a+n*t.c+t.tx,s=e*t.b+n*t.d+t.ty;return i>=0&&i<this.get_width()&&s>=0&&s<this.get_height()},get_isHitVisual:function(){return 8==(8&this.flags)},set_isHitVisual:function(e){return this.flags=e?8|this.flags:-9&this.flags,e},interceptPointerDown:function(e,n,t,i,s){return!1},interceptPointerOver:function(e,n,t){return!1},screenToVisual:function(e,n,t,i){if(null==i&&(i=!0),this.matrixDirty&&this.computeMatrix(),i&&(this.renderTargetDirty&&this.computeRenderTarget(),null!=this.computedRenderTarget)){var s=this.parent;if(null!=s)do{if(null!=s.asQuad&&s instanceof ceramic_Filter){var r=s;if(r.get_renderTexture()==this.computedRenderTarget){r.screenToVisual(e,n,t),(f=ceramic_Visual._matrix).a=this.matA,f.b=this.matB,f.c=this.matC,f.d=this.matD,f.tx=this.matTX,f.ty=this.matTY,f.changedDirty=!0;var l=ceramic_Visual._matrix;if(0==(d=l.a*l.d-l.b*l.c))l.a=l.b=l.c=l.d=0,l.tx=-l.tx,l.ty=-l.ty;else{d=1/d;var a=l.d*d;l.d=l.a*d,l.a=a,l.b*=-d,l.c*=-d;var o=-l.a*l.tx-l.c*l.ty;l.ty=-l.b*l.tx-l.d*l.ty,l.tx=o}l.changedDirty=!0;var h=t.x,c=t.y,u=ceramic_Visual._matrix;t.x=h*u.a+c*u.c+u.tx;var _=ceramic_Visual._matrix;return void(t.y=h*_.b+c*_.d+_.ty)}}s=s.parent}while(null!=s)}var d;if((f=ceramic_Visual._matrix).a=this.matA,f.b=this.matB,f.c=this.matC,f.d=this.matD,f.tx=this.matTX,f.ty=this.matTY,f.changedDirty=!0,0==(d=(f=ceramic_Visual._matrix).a*f.d-f.b*f.c))f.a=f.b=f.c=f.d=0,f.tx=-f.tx,f.ty=-f.ty;else{d=1/d;a=f.d*d;f.d=f.a*d,f.a=a,f.b*=-d,f.c*=-d;o=-f.a*f.tx-f.c*f.ty;f.ty=-f.b*f.tx-f.d*f.ty,f.tx=o}f.changedDirty=!0;var f=ceramic_Visual._matrix;t.x=e*f.a+n*f.c+f.tx;f=ceramic_Visual._matrix;t.y=e*f.b+n*f.d+f.ty},visualToScreen:function(e,n,t,i){if(null==i&&(i=!0),this.matrixDirty&&this.computeMatrix(),i&&(this.renderTargetDirty&&this.computeRenderTarget(),null!=this.computedRenderTarget)){var s=this.parent;if(null!=s)do{if(null!=s.asQuad&&s instanceof ceramic_Filter){var r=s;if(r.get_renderTexture()==this.computedRenderTarget){(o=ceramic_Visual._matrix).a=this.matA,o.b=this.matB,o.c=this.matC,o.d=this.matD,o.tx=this.matTX,o.ty=this.matTY,o.changedDirty=!0;var l=ceramic_Visual._matrix;t.x=e*l.a+n*l.c+l.tx;var a=ceramic_Visual._matrix;return t.y=e*a.b+n*a.d+a.ty,void r.visualToScreen(t.x,t.y,t)}}s=s.parent}while(null!=s)}(o=ceramic_Visual._matrix).a=this.matA,o.b=this.matB,o.c=this.matC,o.d=this.matD,o.tx=this.matTX,o.ty=this.matTY,o.changedDirty=!0;var o=ceramic_Visual._matrix;t.x=e*o.a+n*o.c+o.tx;o=ceramic_Visual._matrix;t.y=e*o.b+n*o.d+o.ty},visualToTransform:function(e){this.matrixDirty&&this.computeMatrix(),e.a=this.matA,e.b=this.matB,e.c=this.matC,e.d=this.matD,e.tx=this.matTX,e.ty=this.matTY,e.changedDirty=!0},computeVisibility:function(){this._lifecycleState<0?this.computedVisible=!1:(null!=this.parent&&this.parent.visibilityDirty&&this.parent.computeVisibility(),this.computedVisible=this.visible,this.computedAlpha=this.alpha,this.computedVisible&&(null!=this.parent&&(this.parent.computedVisible||!this.parent.inheritAlpha&&this.parent.visible&&(null==this.parent.parent||this.parent.parent.computedVisible)||(this.computedVisible=!1),this.inheritAlpha&&(this.computedAlpha*=this.parent.computedAlpha)),0==this.computedAlpha&&4!=this.blending&&(this.computedVisible=!1))),this.visibilityDirty=!1},computeClip:function(){this.renderTargetDirty&&this.computeRenderTarget(),null!=this.parent&&this.parent.clipDirty&&this.parent.computeClip(),this.computedClip=this.clip,null==this.computedClip&&null!=this.parent&&null!=this.parent.computedClip&&this.computedRenderTarget==this.parent.computedRenderTarget&&(this.computedClip=this.parent.computedClip),this.clipDirty=!1},computeTouchable:function(){null!=this.parent&&this.parent.touchableDirty&&this.parent.computeTouchable(),this.computedTouchable=this.touchable,this.computedTouchable&&null!=this.parent&&(this.parent.computedTouchable||(this.computedTouchable=!1)),this.touchableDirty=!1},computeRenderTarget:function(){null!=this.parent&&this.parent.renderTargetDirty&&this.parent.computeRenderTarget();this.computedRenderTarget;this.computedRenderTarget=this.renderTarget,null==this.computedRenderTarget&&null!=this.parent&&null!=this.parent.computedRenderTarget&&(this.computedRenderTarget=this.parent.computedRenderTarget),this.renderTargetDirty=!1},computeContent:function(){this.contentDirty=!1},autoChildrenDepth:function(e,n){null==n&&(n=1),null==e&&(e=1);var t=e;if(null!=this.children)for(var i=0,s=this.children.length;i<s;){var r=i++;this.children[r].set_depth(t),t+=n}},sortChildrenByDepth:function(){if(null!=this.children&&this.children.length>0){var e=this.children;ceramic_SortVisualsByDepth.rec(e,0,e.length)}},normalizeChildrenDepth:function(e,n){null==n&&(n=1),null==e&&(e=1),null!=this.children&&this.children.length>0&&(this.sortChildrenByDepth(),this.autoChildrenDepth())},hasIndirectParent:function(e){for(var n=this.parent;null!=n;){if(n==e)return!0;n=n.parent}return!1},firstParentWithClass:function(e){for(var n=this.parent;null!=n;){if(js_Boot.__instanceof(n,e))return n;n=n.parent}return null},add:function(e){if(e==this)throw haxe_Exception.thrown("A visual cannot add itself as child!");if(e.parent!=this){if(ceramic_App.app.hierarchyDirty=!0,null!=e.parent&&e.parent.remove(e),e.parent=this,e.visibilityDirty=!0,null!=e.children)for(var n=0,t=e.children.length;n<t;){var i=n++;if((y=e.children[i]).visibilityDirty=!0,null!=y.children)for(var s=0,r=y.children.length;s<r;){var l=s++;(g=y.children[l]).set_visibilityDirty(!0)}}if(e.matrixDirty=!0,null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((y=e.children[i]).matrixDirty=!0,null!=y.children)for(s=0,r=y.children.length;s<r;){l=s++;(g=y.children[l]).set_matrixDirty(!0)}}if(e.renderTargetDirty=!0,e.clipDirty=!0,null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((y=e.children[i]).clipDirty=!0,null!=y.children)for(s=0,r=y.children.length;s<r;){l=s++;(g=y.children[l]).set_clipDirty(!0)}}if(null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((y=e.children[i]).renderTargetDirty=!0,y.clipDirty=!0,null!=y.children)for(s=0,r=y.children.length;s<r;){l=s++;if((g=y.children[l]).clipDirty=!0,null!=g.children)for(var a=0,o=g.children.length;a<o;){var h=a++,c=g.children[h];if(c.clipDirty=!0,null!=c.children)for(var u=0,_=c.children.length;u<_;){var d=u++;c.children[d].set_clipDirty(!0)}}}if(null!=y.children)for(var f=0,p=y.children.length;f<p;){var b=f++;y.children[b].set_renderTargetDirty(!0)}}if(null==this.children&&(this.children=[]),this.children.push(e),this.clipDirty=!0,null!=this.children)for(n=0,t=this.children.length;n<t;){var y;i=n++;if((y=this.children[i]).clipDirty=!0,null!=y.children)for(s=0,r=y.children.length;s<r;){var g;l=s++;(g=y.children[l]).set_clipDirty(!0)}}}},remove:function(e){if(ceramic_App.app.hierarchyDirty=!0,null!=this.children){if(-1!=this.children.indexOf(e)?this.children.splice(this.children.indexOf(e),1):ceramic_App.app.logger.warning("Cannot remove visual "+Std.string(e)+", index is -1",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Visual.hx",lineNumber:2880,className:"ceramic.Visual",methodName:"remove"}),e.parent=null,e.visibilityDirty=!0,null!=e.children)for(var n=0,t=e.children.length;n<t;){var i=n++;if((y=e.children[i]).visibilityDirty=!0,null!=y.children)for(var s=0,r=y.children.length;s<r;){var l=s++;(g=y.children[l]).set_visibilityDirty(!0)}}if(e.matrixDirty=!0,null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((y=e.children[i]).matrixDirty=!0,null!=y.children)for(s=0,r=y.children.length;s<r;){l=s++;(g=y.children[l]).set_matrixDirty(!0)}}if(e.renderTargetDirty=!0,e.clipDirty=!0,null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((y=e.children[i]).clipDirty=!0,null!=y.children)for(s=0,r=y.children.length;s<r;){l=s++;(g=y.children[l]).set_clipDirty(!0)}}if(null!=e.children)for(n=0,t=e.children.length;n<t;){i=n++;if((y=e.children[i]).renderTargetDirty=!0,y.clipDirty=!0,null!=y.children)for(s=0,r=y.children.length;s<r;){l=s++;if((g=y.children[l]).clipDirty=!0,null!=g.children)for(var a=0,o=g.children.length;a<o;){var h=a++,c=g.children[h];if(c.clipDirty=!0,null!=c.children)for(var u=0,_=c.children.length;u<_;){var d=u++;c.children[d].set_clipDirty(!0)}}}if(null!=y.children)for(var f=0,p=y.children.length;f<p;){var b=f++;y.children[b].set_renderTargetDirty(!0)}}if(e.clipDirty=!0,null!=e.children)for(n=0,t=e.children.length;n<t;){var y;i=n++;if((y=e.children[i]).clipDirty=!0,null!=y.children)for(s=0,r=y.children.length;s<r;){var g;l=s++;(g=y.children[l]).set_clipDirty(!0)}}}},contains:function(e,n){null==n&&(n=!1);for(var t=e.parent;null!=t;){if(t==this)return!0;if(t=t.parent,!n)break}return!1},computeBounds:function(){if(null==this.children)this._width=0,this._height=0;else{for(var e=999999999,n=999999999,t=-999999999.9,i=-999999999.9,s=new ceramic_Point,r=0,l=this.children.length;r<l;){var a=r++;if((y=this.children[a]).visible)if(null!=y.asMesh)for(var o=y.asMesh.vertices,h=0,c=o.length,u=0,_=0;h<c;)u=o[h],_=o[h+1],y.visualToScreen(u,_,s,!1),s.x>t&&(t=s.x),s.y>i&&(i=s.y),s.x<e&&(e=s.x),s.y<n&&(n=s.y),h+=2;else y.visualToScreen(0,0,s,!1),s.x>t&&(t=s.x),s.y>i&&(i=s.y),s.x<e&&(e=s.x),s.y<n&&(n=s.y),y.visualToScreen(y.get_width(),0,s,!1),s.x>t&&(t=s.x),s.y>i&&(i=s.y),s.x<e&&(e=s.x),s.y<n&&(n=s.y),y.visualToScreen(0,y.get_height(),s,!1),s.x>t&&(t=s.x),s.y>i&&(i=s.y),s.x<e&&(e=s.x),s.y<n&&(n=s.y),y.visualToScreen(y.get_width(),y.get_height(),s,!1),s.x>t&&(t=s.x),s.y>i&&(i=s.y),s.x<e&&(e=s.x),s.y<n&&(n=s.y)}this.visualToScreen(0,0,s,!1);var d=s.x,f=s.y;if(this.screenToVisual(e,n,s,!1),e=s.x,n=s.y,this.screenToVisual(t,i,s,!1),(t=s.x)<e){var p=e;e=t,t=p}if((i=s.y)<n){var b=n;n=i,i=b}if(this._width=t-e,this._height=i-n,this.set_anchorX(0!=this._width?-e/this._width:0),this.set_anchorY(0!=this._height?-n/this._height:0),this.screenToVisual(d,f,s,!1),this.set_x(s.x-this._width*this.anchorX),this.set_y(s.y-this._height*this.anchorY),this.matrixDirty=!0,null!=this.children)for(r=0,l=this.children.length;r<l;){var y;a=r++;if((y=this.children[a]).matrixDirty=!0,null!=y.children)for(var g=0,O=y.children.length;g<O;){h=g++;y.children[h].set_matrixDirty(!0)}}}},bindToNativeScreenSize:function(){var e=this;ceramic_App.app.screen.reverseMatrix.onChange(this,$bind(this,this._bindToNativeScreenSizeCallback)),ceramic_App.app.onPreUpdate(this,(function(n){if(e.get_width()!=clay_Clay.app.screenWidth||e.get_height()!=clay_Clay.app.screenHeight){var t=clay_Clay.app.screenHeight;e.set_width(clay_Clay.app.screenWidth),e.set_height(t)}})),this._bindToNativeScreenSizeCallback()},_bindToNativeScreenSizeCallback:function(){null==this.transform&&this.set_transform(new ceramic_Transform),(e=this.transform).a=1,e.b=0,e.c=0,e.d=1,e.tx=0,e.ty=0,e.changedDirty=!0;var e=this.transform,n=clay_Clay.app.screenDensity,t=clay_Clay.app.screenDensity;e.a*=n,e.b*=t,e.c*=n,e.d*=t,e.tx*=n,e.ty*=t,e.changedDirty=!0;e=this.transform;var i=ceramic_App.app.screen.reverseMatrix,s=e.a*i.a+e.b*i.c;e.b=e.a*i.b+e.b*i.d,e.a=s;var r=e.c*i.a+e.d*i.c;e.d=e.c*i.b+e.d*i.d,e.c=r;var l=e.tx*i.a+e.ty*i.c+i.tx;e.ty=e.tx*i.b+e.ty*i.d+i.ty,e.tx=l,e.changedDirty=!0,this.transform.tx=this.transform.tx,this.transform.ty=this.transform.ty,this.transform.changedDirty=!0;var a=clay_Clay.app.screenHeight;this.set_width(clay_Clay.app.screenWidth),this.set_height(a)},bindToScreenSize:function(e){null==e&&(e=1);var n=this;ceramic_App.app.screen.onResize(this,(function(){n._bindToScreenSizeCallback(e)})),this._bindToScreenSizeCallback(e)},_bindToScreenSizeCallback:function(e){var n=ceramic_App.app.screen.height*e;this.set_width(ceramic_App.app.screen.width*e),this.set_height(n)},bindToTargetSize:function(){ceramic_App.app.screen.onResize(this,$bind(this,this._bindToTargetSizeCallback)),this._bindToTargetSizeCallback()},_bindToTargetSizeCallback:function(){var e=ceramic_App.app.screen.height;this.set_width(ceramic_App.app.screen.width),this.set_height(e)},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offPointerDown(),this.offPointerUp(),this.offPointerOver(),this.offPointerOut(),this.offFocus(),this.offBlur()},__class__:ceramic_Visual,__properties__:$extend(ceramic_Entity.prototype.__properties__,{set_isHitVisual:"set_isHitVisual",get_isHitVisual:"get_isHitVisual",set_active:"set_active",get_active:"get_active",set_shader:"set_shader",set_transform:"set_transform",set_translateY:"set_translateY",get_translateY:"get_translateY",set_translateX:"set_translateX",get_translateX:"get_translateX",set_alpha:"set_alpha",set_rotation:"set_rotation",set_roundTranslation:"set_roundTranslation",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_anchorY:"set_anchorY",set_anchorX:"set_anchorX",set_skewY:"set_skewY",set_skewX:"set_skewX",set_scaleY:"set_scaleY",set_scaleX:"set_scaleX",set_y:"set_y",set_x:"set_x",set_depthRange:"set_depthRange",set_depth:"set_depth",set_touchable:"set_touchable",set_visible:"set_visible",set_blending:"set_blending",set_renderTarget:"set_renderTarget",set_clipDirty:"set_clipDirty",set_touchableDirty:"set_touchableDirty",set_visibilityDirty:"set_visibilityDirty",set_renderTargetDirty:"set_renderTargetDirty",set_matrixDirty:"set_matrixDirty",set_contentDirty:"set_contentDirty",set_inheritAlpha:"set_inheritAlpha",set_clip:"set_clip",get_isPointerOver:"get_isPointerOver",get_isPointerDown:"get_isPointerDown"})});var ceramic_Quad=function(){this.frameHeight=-1,this.frameWidth=-1,this.frameY=-1,this.frameX=-1,this._texture=null,this.tile=null,this.color=16777215,ceramic_Visual.call(this),this.asQuad=this};t["ceramic.Quad"]=ceramic_Quad,ceramic_Quad.__name__="ceramic.Quad",ceramic_Quad.__super__=ceramic_Visual,ceramic_Quad.prototype=$extend(ceramic_Visual.prototype,{get_transparent:function(){return 16==(16&this.flags)},set_transparent:function(e){return this.flags=e?16|this.flags:-17&this.flags,e},set_tile:function(e){if(this.tile==e)return e;if(this.tile=e,null==e){var n=null;this._texture!=n&&this._set_texture(n)}else{if(this._texture!=e.texture){n=e.texture;this._texture!=n&&this._set_texture(n)}this.frameX=e.frameX+e.edgeInset,this.frameY=e.frameY+e.edgeInset;var t=e.frameWidth-2*e.edgeInset;this.frameWidth!=t&&(this.frameWidth=t,-1!=t&&this.set_width(t));var i=e.frameHeight-2*e.edgeInset;this.frameHeight!=i&&(this.frameHeight=i,-1!=i&&this.set_height(i)),this.set_width(e.frameWidth),this.set_height(e.frameHeight);var s=e.rotateFrame;this.flags=s?32|this.flags:-33&this.flags}return e},get_texture:function(){return this._texture},set_texture:function(e){return this._texture!=e&&this._set_texture(e),e},_set_texture:function(e){if(null!=this._texture&&(this._texture.offDestroy($bind(this,this.textureDestroyed)),null!=this._texture.asset&&this._texture.asset.release()),this._texture=e,null==e)this.frameX=-1,this.frameY=-1,-1!=this.frameWidth&&(this.frameWidth=-1),-1!=this.frameHeight&&(this.frameHeight=-1);else if(null!=this.tile){this.frameX=this.tile.frameX,this.frameY=this.tile.frameY;var n=this.tile.frameWidth;this.frameWidth!=n&&(this.frameWidth=n,-1!=n&&this.set_width(n));var t=this.tile.frameHeight;this.frameHeight!=t&&(this.frameHeight=t,-1!=t&&this.set_height(t)),e.onDestroy(this,$bind(this,this.textureDestroyed)),null!=e.asset&&e.asset.retain()}else{this.frameX=0,this.frameY=0;n=e.width;this.frameWidth!=n&&(this.frameWidth=n,-1!=n&&this.set_width(n));t=e.height;this.frameHeight!=t&&(this.frameHeight=t,-1!=t&&this.set_height(t)),e.onDestroy(this,$bind(this,this.textureDestroyed)),null!=e.asset&&e.asset.retain()}},set_frameWidth:function(e){return this.frameWidth==e||(this.frameWidth=e,-1!=e&&this.set_width(e)),e},set_frameHeight:function(e){return this.frameHeight==e||(this.frameHeight=e,-1!=e&&this.set_height(e)),e},get_rotateFrame:function(){return 32==(32&this.flags)},set_rotateFrame:function(e){return this.flags=e?32|this.flags:-33&this.flags,e},destroy:function(){if(!(this._lifecycleState<=-2)){this._lifecycleState=-2;null!=this._texture&&this._set_texture(null),this._lifecycleState=-1,ceramic_Visual.prototype.destroy.call(this)}},frame:function(e,n,t,i){this.frameX=e,this.frameY=n,this.frameWidth!=t&&(this.frameWidth=t,-1!=t&&this.set_width(t)),this.frameHeight!=i&&(this.frameHeight=i,-1!=i&&this.set_height(i))},isRegular:function(){this.matrixDirty&&this.computeMatrix();var e=this.get_width(),n=this.get_height();return this.matC*n==0&&this.matB*e==0&&this.matC*n==0&&this.matB*e==0},computeMatrix:function(){null!=this.parent&&this.parent.matrixDirty&&this.parent.computeMatrix(),(t=ceramic_Quad._matrix).a=1,t.b=0,t.c=0,t.d=1,t.tx=0,t.ty=0,t.changedDirty=!0,this.translatesOnlyDirty&&(this.translatesOnly=0==this.rotation&&1==this.scaleX&&1==this.scaleY&&0==this.skewX&&0==this.skewY,this.translatesOnlyDirty=!1);var e=this.get_width(),n=this.get_height();if(this.translatesOnly)ceramic_Visual._matrix.tx+=this.x-this.anchorX*e,ceramic_Visual._matrix.ty+=this.y-this.anchorY*n;else{if((t=ceramic_Visual._matrix).tx+=-this.anchorX*e,t.ty+=-this.anchorY*n,t.changedDirty=!0,1!=this.scaleX||1!=this.scaleY){var t=ceramic_Visual._matrix,i=this.scaleX,s=this.scaleY;t.a*=i,t.b*=s,t.c*=i,t.d*=s,t.tx*=i,t.ty*=s,t.changedDirty=!0}if(0!=this.skewX||0!=this.skewY){var t=ceramic_Visual._matrix,r=.017453292519943295*this.skewX,l=.017453292519943295*this.skewY,a=ceramic_Transform._tmp;a.a=1,a.b=0,a.c=0,a.d=1,a.tx=0,a.ty=0,a.changedDirty=!0;var o=Math.cos(l),h=Math.sin(l),c=-Math.sin(r),u=Math.cos(r);ceramic_Transform._tmp.a=1*o+-0*h,ceramic_Transform._tmp.b=0*o+1*h,ceramic_Transform._tmp.c=1*c+-0*u,ceramic_Transform._tmp.d=0*c+1*u;var _=ceramic_Transform._tmp,d=t.a*_.a+t.b*_.c;t.b=t.a*_.b+t.b*_.d,t.a=d;var f=t.c*_.a+t.d*_.c;t.d=t.c*_.b+t.d*_.d,t.c=f;var p=t.tx*_.a+t.ty*_.c+_.tx;t.ty=t.tx*_.b+t.ty*_.d+_.ty,t.tx=p,t.changedDirty=!0}if(0!=this.rotation){t=ceramic_Visual._matrix;var b=.017453292519943295*this.rotation,y=Math.cos(b),g=Math.sin(b);d=t.a*y-t.b*g;t.b=t.a*g+t.b*y,t.a=d;f=t.c*y-t.d*g;t.d=t.c*g+t.d*y,t.c=f;p=t.tx*y-t.ty*g;t.ty=t.tx*g+t.ty*y,t.tx=p,t.changedDirty=!0}(t=ceramic_Visual._matrix).tx+=this.x,t.ty+=this.y,t.changedDirty=!0}if(null!=this.transform){d=ceramic_Visual._matrix.a*this.transform.a+ceramic_Visual._matrix.b*this.transform.c;ceramic_Visual._matrix.b=ceramic_Visual._matrix.a*this.transform.b+ceramic_Visual._matrix.b*this.transform.d,ceramic_Visual._matrix.a=d;f=ceramic_Visual._matrix.c*this.transform.a+ceramic_Visual._matrix.d*this.transform.c;ceramic_Visual._matrix.d=ceramic_Visual._matrix.c*this.transform.b+ceramic_Visual._matrix.d*this.transform.d,ceramic_Visual._matrix.c=f;p=ceramic_Visual._matrix.tx*this.transform.a+ceramic_Visual._matrix.ty*this.transform.c+this.transform.tx;ceramic_Visual._matrix.ty=ceramic_Visual._matrix.tx*this.transform.b+ceramic_Visual._matrix.ty*this.transform.d+this.transform.ty,ceramic_Visual._matrix.tx=p}if(null!=this.parent&&null==this.renderTarget)if(1==this.parent.matA&&0==this.parent.matB&&0==this.parent.matC&&1==this.parent.matD)ceramic_Visual._matrix.tx+=this.parent.matTX,ceramic_Visual._matrix.ty+=this.parent.matTY;else if(this.translatesOnly&&null==this.transform){ceramic_Visual._matrix.a=this.parent.matA,ceramic_Visual._matrix.b=this.parent.matB,ceramic_Visual._matrix.c=this.parent.matC,ceramic_Visual._matrix.d=this.parent.matD;p=ceramic_Visual._matrix.tx*this.parent.matA+ceramic_Visual._matrix.ty*this.parent.matC+this.parent.matTX;ceramic_Visual._matrix.ty=ceramic_Visual._matrix.tx*this.parent.matB+ceramic_Visual._matrix.ty*this.parent.matD+this.parent.matTY,ceramic_Visual._matrix.tx=p}else{d=ceramic_Visual._matrix.a*this.parent.matA+ceramic_Visual._matrix.b*this.parent.matC;ceramic_Visual._matrix.b=ceramic_Visual._matrix.a*this.parent.matB+ceramic_Visual._matrix.b*this.parent.matD,ceramic_Visual._matrix.a=d;f=ceramic_Visual._matrix.c*this.parent.matA+ceramic_Visual._matrix.d*this.parent.matC;ceramic_Visual._matrix.d=ceramic_Visual._matrix.c*this.parent.matB+ceramic_Visual._matrix.d*this.parent.matD,ceramic_Visual._matrix.c=f;p=ceramic_Visual._matrix.tx*this.parent.matA+ceramic_Visual._matrix.ty*this.parent.matC+this.parent.matTX;ceramic_Visual._matrix.ty=ceramic_Visual._matrix.tx*this.parent.matB+ceramic_Visual._matrix.ty*this.parent.matD+this.parent.matTY,ceramic_Visual._matrix.tx=p}this.matA=ceramic_Visual._matrix.a,this.matB=ceramic_Visual._matrix.b,this.matC=ceramic_Visual._matrix.c,this.matD=ceramic_Visual._matrix.d,this.matTX=ceramic_Visual._matrix.tx,this.matTY=ceramic_Visual._matrix.ty,this.roundTranslation>0&&(1==this.roundTranslation?(this.matTX=Math.round(this.matTX),this.matTY=Math.round(this.matTY)):(this.matTX=Math.round(this.matTX*this.roundTranslation)/this.roundTranslation,this.matTY=Math.round(this.matTY*this.roundTranslation)/this.roundTranslation)),this.matrixDirty=!1},textureDestroyed:function(e){null!=this._texture&&this._set_texture(null),this.set_tile(null)},__class__:ceramic_Quad,__properties__:$extend(ceramic_Visual.prototype.__properties__,{set_rotateFrame:"set_rotateFrame",get_rotateFrame:"get_rotateFrame",set_frameHeight:"set_frameHeight",set_frameWidth:"set_frameWidth",set_texture:"set_texture",get_texture:"get_texture",set_tile:"set_tile",set_transparent:"set_transparent",get_transparent:"get_transparent"})});var ceramic_Layer=function(){this.sizeDirty=!1,ceramic_Quad.call(this),this.flags|=16};t["ceramic.Layer"]=ceramic_Layer,ceramic_Layer.__name__="ceramic.Layer",ceramic_Layer.__super__=ceramic_Quad,ceramic_Layer.prototype=$extend(ceramic_Quad.prototype,{emitResize:function(e,n){this.willEmitResize(e,n);var t=0;if(null!=this.__cbOnResize&&(t+=this.__cbOnResize.length),null!=this.__cbOnceResize&&(t+=this.__cbOnceResize.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnResize)for(var l=0,a=this.__cbOnResize.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnResize[o],++r):--t}if(null!=this.__cbOnceResize){var h=null,c=null;for(l=0,a=this.__cbOnceResize.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceResize[o],this.__cbOnceResize[o]=null;var u=this.__cbOnceOwnerUnbindResize[o];this.__cbOnceOwnerUnbindResize[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindResize[o]),c.push(this.__cbOnceResize[o])}this.__cbOnceOwnerUnbindResize=h,this.__cbOnceResize=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}this.didEmitResize(e,n)},onResize:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event resize because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offResize(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push(null);null==this.__cbOnResize&&(this.__cbOnResize=[]),this.__cbOnResize.push(n)},onceResize:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event resize because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offResize(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push(null);null==this.__cbOnceResize&&(this.__cbOnceResize=[]),this.__cbOnceResize.push(n)},offResize:function(e){if(null!=e){var n;null!=this.__cbOnResize&&-1!=(n=this.__cbOnResize.indexOf(e))&&(this.__cbOnResize.splice(n,1),null!=(r=this.__cbOnOwnerUnbindResize[n])&&r(),this.__cbOnOwnerUnbindResize.splice(n,1)),null!=this.__cbOnceResize&&-1!=(n=this.__cbOnceResize.indexOf(e))&&(this.__cbOnceResize.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindResize[n])&&r(),this.__cbOnceOwnerUnbindResize.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindResize){for(var t=0,i=this.__cbOnOwnerUnbindResize.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindResize[s])&&r()}this.__cbOnOwnerUnbindResize=null}if(null!=this.__cbOnceOwnerUnbindResize){for(t=0,i=this.__cbOnceOwnerUnbindResize.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindResize[s])&&r()}this.__cbOnceOwnerUnbindResize=null}this.__cbOnResize=null,this.__cbOnceResize=null}},listensResize:function(){return null!=this.__cbOnResize&&this.__cbOnResize.length>0||null!=this.__cbOnceResize&&this.__cbOnceResize.length>0},emitResizeIfNeeded:function(){this._lifecycleState<0||!this.sizeDirty||(this.sizeDirty=!1,this.emitResize(this.get_width(),this.get_height()))},willEmitResize:function(e,n){},didEmitResize:function(e,n){},set_width:function(e){return this._width==e||(ceramic_Quad.prototype.set_width.call(this,e),this.sizeDirty||(this.sizeDirty=!0,ceramic_App.app._onceImmediate($bind(this,this.emitResizeIfNeeded)))),e},set_height:function(e){return this._height==e||(ceramic_Quad.prototype.set_height.call(this,e),this.sizeDirty||(this.sizeDirty=!0,ceramic_App.app._onceImmediate($bind(this,this.emitResizeIfNeeded)))),e},unbindEvents:function(){ceramic_Quad.prototype.unbindEvents.call(this),this.offResize()},__class__:ceramic_Layer});var ceramic_Preloadable=function(){};t["ceramic.Preloadable"]=ceramic_Preloadable,ceramic_Preloadable.__name__="ceramic.Preloadable",ceramic_Preloadable.__isInterface__=!0,ceramic_Preloadable.prototype={__class__:ceramic_Preloadable};var tracker_Observable=function(){};t["tracker.Observable"]=tracker_Observable,tracker_Observable.__name__="tracker.Observable",tracker_Observable.__isInterface__=!0;var ceramic_Scene=function(){this.paused=!1,this.autoUpdateWhenInactive=!1,this.autoUpdate=!0,this.isRootScene=!1,this.unobservedStatus=0,this.statusAutoruns=null,this._assetsFailure=!1,this._assetsTotal=0,this._assetsProgress=0,this._assets=null,this.observedDirty=!1,ceramic_Layer.call(this),this.flags|=16,ceramic_SceneSystem.get_shared().all.push(this)};t["ceramic.Scene"]=ceramic_Scene,ceramic_Scene.__name__="ceramic.Scene",ceramic_Scene.__interfaces__=[ceramic_Preloadable,tracker_Observable],ceramic_Scene.__super__=ceramic_Layer,ceramic_Scene.prototype=$extend(ceramic_Layer.prototype,{emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var l=0,a=this.__cbOnObservedDirty.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnObservedDirty[o],++r):--t}if(null!=this.__cbOnceObservedDirty){var h=null,c=null;for(l=0,a=this.__cbOnceObservedDirty.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceObservedDirty[o],this.__cbOnceObservedDirty[o]=null;var u=this.__cbOnceOwnerUnbindObservedDirty[o];this.__cbOnceOwnerUnbindObservedDirty[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindObservedDirty[o]),c.push(this.__cbOnceObservedDirty[o])}this.__cbOnceOwnerUnbindObservedDirty=h,this.__cbOnceObservedDirty=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(n)},onceObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(n)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[s])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[s])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&this.__cbOnObservedDirty.length>0||null!=this.__cbOnceObservedDirty&&this.__cbOnceObservedDirty.length>0},emitReplace:function(e){var n=0;if(null!=this.__cbOnReplace&&(n+=this.__cbOnReplace.length),null!=this.__cbOnceReplace&&(n+=this.__cbOnceReplace.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnReplace)for(var r=0,l=this.__cbOnReplace.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnReplace[a],++s):--n}if(null!=this.__cbOnceReplace){var o=null,h=null;for(r=0,l=this.__cbOnceReplace.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceReplace[a],this.__cbOnceReplace[a]=null;var c=this.__cbOnceOwnerUnbindReplace[a];this.__cbOnceOwnerUnbindReplace[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindReplace[a]),h.push(this.__cbOnceReplace[a])}this.__cbOnceOwnerUnbindReplace=o,this.__cbOnceReplace=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onReplace:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event replace because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReplace(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindReplace&&(this.__cbOnOwnerUnbindReplace=[]),this.__cbOnOwnerUnbindReplace.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindReplace&&(this.__cbOnOwnerUnbindReplace=[]),this.__cbOnOwnerUnbindReplace.push(null);null==this.__cbOnReplace&&(this.__cbOnReplace=[]),this.__cbOnReplace.push(n)},onceReplace:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event replace because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReplace(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindReplace&&(this.__cbOnceOwnerUnbindReplace=[]),this.__cbOnceOwnerUnbindReplace.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindReplace&&(this.__cbOnceOwnerUnbindReplace=[]),this.__cbOnceOwnerUnbindReplace.push(null);null==this.__cbOnceReplace&&(this.__cbOnceReplace=[]),this.__cbOnceReplace.push(n)},offReplace:function(e){if(null!=e){var n;null!=this.__cbOnReplace&&-1!=(n=this.__cbOnReplace.indexOf(e))&&(this.__cbOnReplace.splice(n,1),null!=(r=this.__cbOnOwnerUnbindReplace[n])&&r(),this.__cbOnOwnerUnbindReplace.splice(n,1)),null!=this.__cbOnceReplace&&-1!=(n=this.__cbOnceReplace.indexOf(e))&&(this.__cbOnceReplace.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindReplace[n])&&r(),this.__cbOnceOwnerUnbindReplace.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReplace){for(var t=0,i=this.__cbOnOwnerUnbindReplace.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindReplace[s])&&r()}this.__cbOnOwnerUnbindReplace=null}if(null!=this.__cbOnceOwnerUnbindReplace){for(t=0,i=this.__cbOnceOwnerUnbindReplace.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindReplace[s])&&r()}this.__cbOnceOwnerUnbindReplace=null}this.__cbOnReplace=null,this.__cbOnceReplace=null}},listensReplace:function(){return null!=this.__cbOnReplace&&this.__cbOnReplace.length>0||null!=this.__cbOnceReplace&&this.__cbOnceReplace.length>0},get_status:function(){var e=this.unobservedStatus;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.statusAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.statusAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_status:function(e){var n=this.unobservedStatus;if(this.unobservedStatus=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitStatusChange(e,n);var t=this.statusAutoruns;if(null!=t){this.statusAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateStatus:function(){var e=this.unobservedStatus;this.emitStatusChange(e,e);var n=this.statusAutoruns;if(null!=n){this.statusAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitStatusChange:function(e,n){var t=0;if(null!=this.__cbOnStatusChange&&(t+=this.__cbOnStatusChange.length),null!=this.__cbOnceStatusChange&&(t+=this.__cbOnceStatusChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnStatusChange)for(var l=0,a=this.__cbOnStatusChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnStatusChange[o],++r):--t}if(null!=this.__cbOnceStatusChange){var h=null,c=null;for(l=0,a=this.__cbOnceStatusChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceStatusChange[o],this.__cbOnceStatusChange[o]=null;var u=this.__cbOnceOwnerUnbindStatusChange[o];this.__cbOnceOwnerUnbindStatusChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindStatusChange[o]),c.push(this.__cbOnceStatusChange[o])}this.__cbOnceOwnerUnbindStatusChange=h,this.__cbOnceStatusChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onStatusChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event statusChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offStatusChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindStatusChange&&(this.__cbOnOwnerUnbindStatusChange=[]),this.__cbOnOwnerUnbindStatusChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindStatusChange&&(this.__cbOnOwnerUnbindStatusChange=[]),this.__cbOnOwnerUnbindStatusChange.push(null);null==this.__cbOnStatusChange&&(this.__cbOnStatusChange=[]),this.__cbOnStatusChange.push(n)},onceStatusChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event statusChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offStatusChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindStatusChange&&(this.__cbOnceOwnerUnbindStatusChange=[]),this.__cbOnceOwnerUnbindStatusChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindStatusChange&&(this.__cbOnceOwnerUnbindStatusChange=[]),this.__cbOnceOwnerUnbindStatusChange.push(null);null==this.__cbOnceStatusChange&&(this.__cbOnceStatusChange=[]),this.__cbOnceStatusChange.push(n)},offStatusChange:function(e){if(null!=e){var n;null!=this.__cbOnStatusChange&&-1!=(n=this.__cbOnStatusChange.indexOf(e))&&(this.__cbOnStatusChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindStatusChange[n])&&r(),this.__cbOnOwnerUnbindStatusChange.splice(n,1)),null!=this.__cbOnceStatusChange&&-1!=(n=this.__cbOnceStatusChange.indexOf(e))&&(this.__cbOnceStatusChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindStatusChange[n])&&r(),this.__cbOnceOwnerUnbindStatusChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStatusChange){for(var t=0,i=this.__cbOnOwnerUnbindStatusChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindStatusChange[s])&&r()}this.__cbOnOwnerUnbindStatusChange=null}if(null!=this.__cbOnceOwnerUnbindStatusChange){for(t=0,i=this.__cbOnceOwnerUnbindStatusChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindStatusChange[s])&&r()}this.__cbOnceOwnerUnbindStatusChange=null}this.__cbOnStatusChange=null,this.__cbOnceStatusChange=null}},listensStatusChange:function(){return null!=this.__cbOnStatusChange&&this.__cbOnStatusChange.length>0||null!=this.__cbOnceStatusChange&&this.__cbOnceStatusChange.length>0},get_assets:function(){var e=this;return null==this._assets&&this._lifecycleState>=0&&(this._assets=new ceramic_Assets,this._assets.loadMethod=1,this._assets.scheduleMethod=1,this._assets.delayBetweenXAssets=4,this._assets.onProgress(this,(function(n,t,i){e._assetsProgress=n,e._assetsTotal=t})),this._assets.onceComplete(this,(function(n){n||(e._assetsFailure=!0)}))),this._assets},set_assets:function(e){return this._assets=e},_boot:function(){if(0==this.get_status())this.set_status(1),this.preload(),this.set_status(2),null!=this._assets&&this._assets.hasAnythingToLoad()?(this._assets.onceComplete(this,$bind(this,this._handleAssetsComplete)),this._assets.load(!1,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Scene.hx",lineNumber:109,className:"ceramic.Scene",methodName:"_boot"})):this.load($bind(this,this.internalCreate));else{var e=ceramic_App.app.logger,n=this.get_status();e.warning("Scene already booted! (status: "+(null==n?"null":O.toString(n))+")",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Scene.hx",lineNumber:98,className:"ceramic.Scene",methodName:"_boot"})}},internalCreate:function(){this.set_status(3),this.create(),this.fadeIn($bind(this,this._fadeInDone))},_fadeInDone:function(){},_handleAssetsComplete:function(e){e?ceramic_App.app._onceImmediateWithOwner(this,$bind(this,this.internalLoad)):ceramic_App.app.logger.error("Failed to load all scene assets!",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Scene.hx",lineNumber:139,className:"ceramic.Scene",methodName:"_handleAssetsComplete"})},internalLoad:function(){this.load($bind(this,this.internalCreate))},willEmitResize:function(e,n){this.resize(e,n)},preload:function(){},load:function(e){this._lifecycleState>=0&&e()},create:function(){},ready:function(){},update:function(e){},resize:function(e,n){},_fadeIn:function(e){e()},_fadeOut:function(e){e()},fadeIn:function(e){var n=this;this.set_status(4),this._fadeIn((function(){n.set_status(5),n._lifecycleState>=0&&(n.ready(),e())}))},fadeOut:function(e){var n=this;this.set_status(6),this._fadeOut((function(){n.set_status(7),n._lifecycleState>=0&&e()}))},isReady:function(){switch(this.get_status()){case 0:case 1:case 2:case 3:case 4:return!1;case 5:return!0;case 6:case 7:return!1}},scheduleOnceReady:function(e,n){var t=this;if(this._lifecycleState<0)return ceramic_App.app.logger.warning("Cannot schedule callback on destroyed scene",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Scene.hx",lineNumber:295,className:"ceramic.Scene",methodName:"scheduleOnceReady"}),!1;switch(this.get_status()){case 0:case 1:case 2:case 3:case 4:return this.onceStatusChange(e,(function(i,s){t.scheduleOnceReady(e,n)})),!0;case 5:return n(),!0;case 6:case 7:var i=ceramic_App.app.logger,s=this.get_status();return i.warning("Cannot schedule callback on scene with status: "+(null==s?"null":O.toString(s)),{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Scene.hx",lineNumber:312,className:"ceramic.Scene",methodName:"scheduleOnceReady"}),!1}},requestPreloadUpdate:function(e){var n=this._assetsTotal>=1?this._assetsTotal:1;if(this._assetsFailure)e(this._assetsProgress,n,-1);else switch(this.get_status()){case 0:e(0,0,0);break;case 1:case 2:e(this._assetsProgress,n,1);break;case 3:e(n,n,1);break;case 4:case 5:case 6:case 7:e(n,n,2)}},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,HxOverrides.remove(ceramic_SceneSystem.get_shared().all,this),null!=this._assets&&(this._assets.destroy(),this._assets=null),this._lifecycleState=-1,ceramic_Layer.prototype.destroy.call(this))},unbindEvents:function(){ceramic_Layer.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offStatusChange(),this.offReplace()},__class__:ceramic_Scene,__properties__:$extend(ceramic_Layer.prototype.__properties__,{set_assets:"set_assets",get_assets:"get_assets",set_status:"set_status",get_status:"get_status"})});var MainScene=function(){ceramic_Scene.call(this)};t.MainScene=MainScene,MainScene.__name__="MainScene",MainScene.__super__=ceramic_Scene,MainScene.prototype=$extend(ceramic_Scene.prototype,{preload:function(){},create:function(){var e=this;this.logo=new ceramic_CeramicLogo,(n=this.logo).set_anchorX(.5),n.set_anchorY(.5);var n=this.logo,t=.5*this.get_width(),i=.5*this.get_height();n.set_x(t),n.set_y(i),(n=this.logo).set_scaleX(1e-4),n.set_scaleY(1e-4),this.logo.set_alpha(0),this.add(this.logo),this.logo.tween(_.ELASTIC_EASE_IN_OUT,.75,1e-4,1,(function(n,t){e.logo.set_alpha(n);var i=e.logo;i.set_scaleX(n),i.set_scaleY(n)})).onceComplete(this,$bind(this,this.initLogoInteractions));var s=(this.get_width()-200)/3,r=(this.get_height()-40)/1;this.demoShapes(100,70,s,r,1),this.demoShapes2(100+2*s,-50,s,r,1)},demoShapes:function(e,n,t,i,s){var r=new ceramic_Quad;r.set_x(e),r.set_y(n),r.set_width(t),r.set_height(i),r.set_depth(s),r.color=6208345,r.flags|=16,this.add(r);var l=new ceramic_Quad;l.set_anchorX(.5),l.set_anchorY(.5),l.color=16777215,l.set_rotation(-33),l.set_width(.2*t),l.set_height(.2*i),l.set_x(.25*t),l.set_y(.3*i),l.set_depth(2),r.add(l);var a=new ceramic_Border,o=16777215;a.borderColor!=o&&(a.borderColor=o,a.autoComputeColors&&a.computeColors());var h=c.OUTSIDE;a.borderPosition!=h&&(a.borderPosition=h,a.autoComputeVertices&&a.computeVertices()),2!=a.borderSize&&(a.borderSize=2,a.autoComputeVertices&&a.computeVertices()),a.set_anchorX(.5),a.set_anchorY(.5),a.set_width(0),a.set_height(0),a.set_x(.6*t),a.set_y(.3*i),a.set_depth(5),a.set_transform(new ceramic_Transform),r.add(a);var u=new ceramic_Arc;h=c.OUTSIDE;u.borderPosition!=h&&(u.borderPosition=h,u.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),u.set_thickness(2),u.set_angle(360),u.set_x(.8*t),u.set_y(.4*i),u.set_depth(6),u.set_color(16777215),u.set_transform(a.transform),r.add(u);var d=0,f=0,update=function(e){var n=(d=(d+e)%5)/5,s=.5*(Math.sin(n*Math.PI*2)+1),r=ceramic_Tween.ease(_.QUART_EASE_IN_OUT,s),o=(f=(f+e)%2.5)/2.5,h=.5*(Math.sin(o*Math.PI*2)+1);ceramic_Tween.ease(_.QUART_EASE_IN_OUT,h);l.set_rotation(360*n),a.set_rotation(90*r-20),a.set_width(.22*t*(.5+.5*r)),a.set_height(.12*i*(.5+.5*r)),u.set_radius(t*(.1-.05*r)),u.transform.tx=t*(.04*r),u.transform.changedDirty=!0};ceramic_App.app.onUpdate(this,update),update(0)},demoShapes2:function(e,n,t,i,s){var r=new ceramic_Quad;r.set_x(e),r.set_y(n),r.set_width(t),r.set_height(i),r.set_depth(s),r.color=6208345,r.flags|=16,this.add(r);var l=new ceramic_Line;l.set_color(16777215),2!=l.thickness&&(l.thickness=2,l.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),l.set_depth(3),l.set_x(.1*t),l.set_y(.5*i);l.points=[],l.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,r.add(l);var a=new ceramic_Arc;a.set_radius(0);var o=c.OUTSIDE;a.borderPosition!=o&&(a.borderPosition=o,a.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),a.set_thickness(.12*t),a.set_x(.75*t),a.set_y(.75*i),a.set_depth(4),a.set_color(16777215),r.add(a);var h=0,u=0,update=function(e){var n=(h=(h+e)%5)/5,s=.5*(Math.sin(n*Math.PI*2)+1),r=ceramic_Tween.ease(_.QUART_EASE_IN_OUT,s),o=(u=(u+e)%2.5)/2.5,c=.5*(Math.sin(o*Math.PI*2)+1),d=ceramic_Tween.ease(_.QUART_EASE_IN_OUT,c);l.points[0]=.1*t*r,l.points[1]=.2*i*r,l.points[2]=.1*t+.1*t*r,l.points[3]=.4*i,l.points[4]=.25*t-.1*t*r,l.points[5]=.1*i,l.points[6]=.4*t-.16*t*r,l.points[7]=.3*i-.01*i*r,l.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,a.set_angle(360*d),a.set_skewX(15+10*s)};ceramic_App.app.onUpdate(this,update),update(0)},initLogoInteractions:function(){var e=this;this.logo.onPointerOver(this,(function(n){ceramic_VisualTransition.transition(e.logo,_.ELASTIC_EASE_OUT,.5,(function(e){U.scale(e,1.2)}))})),this.logo.onPointerOut(this,(function(n){ceramic_VisualTransition.transition(e.logo,_.ELASTIC_EASE_OUT,.5,(function(e){U.scale(e,1)}))}))},update:function(e){var n=ceramic_Utils.sinRatio(.25*ceramic_Timer.now%1);n*=n;var t=ceramic_Utils.sinRatio(.5*ceramic_Timer.now%1);t*=t,this.logo.set_tilt(1+2*n),this.logo.set_rotation(45*(t-.5))},resize:function(e,n){},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Scene.prototype.destroy.call(this))},__class__:MainScene}),Math.__name__="Math";var Project=function(e){ceramic_Entity.call(this),e.settings.antialiasing=2,e.settings.set_background(0),e.settings.set_targetWidth(1024),e.settings.set_targetHeight(320),e.settings.set_scaling(x.FIT),e.settings.resizable=!0,ceramic_App.app.onceReady(this,$bind(this,this.ready))};t.Project=Project,Project.__name__="Project",Project.__super__=ceramic_Entity,Project.prototype=$extend(ceramic_Entity.prototype,{ready:function(){clay_Clay.app.config.runtime.preventDefaultMouseWheel=!1,ceramic_App.app.get_scenes().set_main(new MainScene)},__class__:Project});var Reflect=function(){};t.Reflect=Reflect,Reflect.__name__="Reflect",Reflect.field=function(e,n){try{return e[n]}catch(e){return null}},Reflect.getProperty=function(e,n){var t;return null==e?null:!!e.__properties__&&(t=e.__properties__["get_"+n])?e[t]():e[n]},Reflect.setProperty=function(e,n,t){var i;!!e.__properties__&&(i=e.__properties__["set_"+n])?e[i](t):e[n]=t},Reflect.fields=function(e){var n=[];if(null!=e){var t=Object.prototype.hasOwnProperty;for(var i in e)"__id__"!=i&&"hx__closures__"!=i&&t.call(e,i)&&n.push(i)}return n},Reflect.isFunction=function(e){return"function"==typeof e&&!(e.__name__||e.__ename__)},Reflect.deleteField=function(e,n){return!!Object.prototype.hasOwnProperty.call(e,n)&&(delete e[n],!0)};var Std=function(){};t.Std=Std,Std.__name__="Std",Std.string=function(e){return js_Boot.__string_rec(e,"")},Std.parseInt=function(e){var n=parseInt(e);return isNaN(n)?null:n};var StringBuf=function(){this.b=""};t.StringBuf=StringBuf,StringBuf.__name__="StringBuf",StringBuf.prototype={__class__:StringBuf};var StringTools=function(){};t.StringTools=StringTools,StringTools.__name__="StringTools",StringTools.htmlEscape=function(e,n){for(var t="",i=0,s=e;i<s.length;){var r=i++,l=(e=s).charCodeAt(r);l>=55296&&l<=56319&&(l=l-55232<<10|1023&e.charCodeAt(r+1));l>=65536&&++i;var a=l;switch(a){case 34:t+=n?"&quot;":String.fromCodePoint(a);break;case 38:t+="&amp;";break;case 39:t+=n?"&#039;":String.fromCodePoint(a);break;case 60:t+="&lt;";break;case 62:t+="&gt;";break;default:t+=String.fromCodePoint(a)}}return t},StringTools.startsWith=function(e,n){return e.length>=n.length&&0==e.lastIndexOf(n,0)},StringTools.endsWith=function(e,n){var t=n.length,i=e.length;return i>=t&&e.indexOf(n,i-t)==i-t},StringTools.isSpace=function(e,n){var t=HxOverrides.cca(e,n);return t>8&&t<14||32==t},StringTools.ltrim=function(e){for(var n=e.length,t=0;t<n&&StringTools.isSpace(e,t);)++t;return t>0?HxOverrides.substr(e,t,n-t):e},StringTools.rtrim=function(e){for(var n=e.length,t=0;t<n&&StringTools.isSpace(e,n-t-1);)++t;return t>0?HxOverrides.substr(e,0,n-t):e},StringTools.trim=function(e){return StringTools.ltrim(StringTools.rtrim(e))},StringTools.replace=function(e,n,t){return e.split(n).join(t)},StringTools.hex=function(e,n){var t="";do{t="0123456789ABCDEF".charAt(15&e)+t,e>>>=4}while(e>0);if(null!=n)for(;t.length<n;)t="0"+t;return t};var s=i.ValueType={__ename__:"ValueType",__constructs__:null,TNull:{_hx_name:"TNull",_hx_index:0,__enum__:"ValueType",toString:$estr},TInt:{_hx_name:"TInt",_hx_index:1,__enum__:"ValueType",toString:$estr},TFloat:{_hx_name:"TFloat",_hx_index:2,__enum__:"ValueType",toString:$estr},TBool:{_hx_name:"TBool",_hx_index:3,__enum__:"ValueType",toString:$estr},TObject:{_hx_name:"TObject",_hx_index:4,__enum__:"ValueType",toString:$estr},TFunction:{_hx_name:"TFunction",_hx_index:5,__enum__:"ValueType",toString:$estr},TClass:(n=function(e){return{_hx_index:6,c:e,__enum__:"ValueType",toString:$estr}},n._hx_name="TClass",n.__params__=["c"],n),TEnum:(n=function(e){return{_hx_index:7,e:e,__enum__:"ValueType",toString:$estr}},n._hx_name="TEnum",n.__params__=["e"],n),TUnknown:{_hx_name:"TUnknown",_hx_index:8,__enum__:"ValueType",toString:$estr}};s.__constructs__=[s.TNull,s.TInt,s.TFloat,s.TBool,s.TObject,s.TFunction,s.TClass,s.TEnum,s.TUnknown];var Type=function(){};t.Type=Type,Type.__name__="Type",Type.createInstance=function(e,n){return new(Function.prototype.bind.apply(e,[null].concat(n)))},Type.createEnum=function(e,n,t){var i=Reflect.field(e,n);if(null==i)throw haxe_Exception.thrown("No such constructor "+n);if(Reflect.isFunction(i)){if(null==t)throw haxe_Exception.thrown("Constructor "+n+" need parameters");return i.apply(e,t)}if(null!=t&&0!=t.length)throw haxe_Exception.thrown("Constructor "+n+" does not need parameters");return i},Type.typeof=function(e){switch(typeof e){case"boolean":return s.TBool;case"function":return e.__name__||e.__ename__?s.TObject:s.TFunction;case"number":return Math.ceil(e)==e%2147483648?s.TInt:s.TFloat;case"object":if(null==e)return s.TNull;var n=e.__enum__;if(null!=n)return s.TEnum(i[n]);var t=js_Boot.getClass(e);return null!=t?s.TClass(t):s.TObject;case"string":return s.TClass(String);case"undefined":return s.TNull;default:return s.TUnknown}},Type.enumParameters=function(e){var n=i[e.__enum__].__constructs__[e._hx_index].__params__;if(null!=n){for(var t=[],s=0;s<n.length;){var r=n[s];++s,t.push(e[r])}return t}return[]};var r={toString:function(e){switch(e){case 0:return"Element";case 1:return"PCData";case 2:return"CData";case 3:return"Comment";case 4:return"DocType";case 5:return"ProcessingInstruction";case 6:return"Document"}}},Xml=function(e){this.nodeType=e,this.children=[],this.attributeMap=new haxe_ds_StringMap};t.Xml=Xml,Xml.__name__="Xml",Xml.parse=function(e){return haxe_xml_Parser.parse(e)},Xml.createElement=function(e){var n=new Xml(Xml.Element);if(n.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==n.nodeType?"null":r.toString(n.nodeType)));return n.nodeName=e,n},Xml.createPCData=function(e){var n=new Xml(Xml.PCData);if(n.nodeType==Xml.Document||n.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":r.toString(n.nodeType)));return n.nodeValue=e,n},Xml.createCData=function(e){var n=new Xml(Xml.CData);if(n.nodeType==Xml.Document||n.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":r.toString(n.nodeType)));return n.nodeValue=e,n},Xml.createComment=function(e){var n=new Xml(Xml.Comment);if(n.nodeType==Xml.Document||n.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":r.toString(n.nodeType)));return n.nodeValue=e,n},Xml.createDocType=function(e){var n=new Xml(Xml.DocType);if(n.nodeType==Xml.Document||n.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":r.toString(n.nodeType)));return n.nodeValue=e,n},Xml.createProcessingInstruction=function(e){var n=new Xml(Xml.ProcessingInstruction);if(n.nodeType==Xml.Document||n.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==n.nodeType?"null":r.toString(n.nodeType)));return n.nodeValue=e,n},Xml.createDocument=function(){return new Xml(Xml.Document)},Xml.prototype={get:function(e){if(this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":r.toString(this.nodeType)));return this.attributeMap.h[e]},set:function(e,n){if(this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":r.toString(this.nodeType)));this.attributeMap.h[e]=n},exists:function(e){if(this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":r.toString(this.nodeType)));return Object.prototype.hasOwnProperty.call(this.attributeMap.h,e)},attributes:function(){if(this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":r.toString(this.nodeType)));return new haxe_ds__$StringMap_StringMapKeyIterator(this.attributeMap.h)},elements:function(){if(this.nodeType!=Xml.Document&&this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":r.toString(this.nodeType)));for(var e=[],n=0,t=this.children;n<t.length;){var i=t[n];++n,i.nodeType==Xml.Element&&e.push(i)}return new haxe_iterators_ArrayIterator(e)},elementsNamed:function(e){if(this.nodeType!=Xml.Document&&this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":r.toString(this.nodeType)));for(var n=[],t=0,i=this.children;t<i.length;){var s,l=i[t];if(++t,l.nodeType==Xml.Element){if(l.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==l.nodeType?"null":r.toString(l.nodeType)));s=l.nodeName==e}else s=!1;s&&n.push(l)}return new haxe_iterators_ArrayIterator(n)},firstElement:function(){if(this.nodeType!=Xml.Document&&this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":r.toString(this.nodeType)));for(var e=0,n=this.children;e<n.length;){var t=n[e];if(++e,t.nodeType==Xml.Element)return t}return null},addChild:function(e){if(this.nodeType!=Xml.Document&&this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":r.toString(this.nodeType)));null!=e.parent&&e.parent.removeChild(e),this.children.push(e),e.parent=this},removeChild:function(e){if(this.nodeType!=Xml.Document&&this.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":r.toString(this.nodeType)));return!!HxOverrides.remove(this.children,e)&&(e.parent=null,!0)},toString:function(){return haxe_xml_Printer.print(this)},__class__:Xml};var ceramic_Assets=function(){this.hotReload=!1,this.pendingAtlasPackers=null,this.atlasPacker=null,this.parent=null,this.reloadOnTextureDensityChange=!0,this.delayBetweenXAssets=-1,this.scheduleMethod=1,this.loadMethod=2,this.defaultImageOptions=null,this.runtimeAssets=null,this.immediate=new ceramic_Immediate,this.assetsByKindAndName=new haxe_ds_StringMap,this.addedAssets=[],ceramic_Entity.call(this),ceramic_Assets.instances.push(this)};t["ceramic.Assets"]=ceramic_Assets,ceramic_Assets.__name__="ceramic.Assets",ceramic_Assets.flushAllInstancesImmediate=function(){for(var e=ceramic_Assets.instances.length,n=0,t=e;n<t;){var i=n++;ceramic_Assets._instances[i]=ceramic_Assets.instances[i]}for(n=0,t=e;n<t;){i=n++;var s=ceramic_Assets._instances[i];ceramic_Assets._instances[i]=null,s._lifecycleState>=0&&s.immediate.flush()}},ceramic_Assets.decodePath=function(e){return new ceramic_AssetPathInfo(e)},ceramic_Assets.addAssetKind=function(e,n,t,i,s){var r=ceramic_Assets.customAssetKinds,l=new ceramic_CustomAssetKind(e,n,t,i,s);r.h[e]=l},ceramic_Assets.getAssetsPath=function(){return ceramic_PlatformSpecific.getAssetsPath()},ceramic_Assets.assetNameFromPath=function(e){for(var n=ceramic_Assets.allByName.h,t=Object.keys(n),i=t.length,s=0;s<i;)for(var r=t[s++],l=ceramic_Assets.allByName.h[r],a=0,o=l.length;a<o;){if(l[a++]==e)return r}return null},ceramic_Assets.realAssetPath=function(e,n){if(null!=n)return null!=n.path?ceramic_Path.join([n.path,e]):e;return e},ceramic_Assets.incrementReloadCount=function(e){null==ceramic_Assets.reloadCountByRealAssetPath&&(ceramic_Assets.reloadCountByRealAssetPath=new haxe_ds_StringMap),Object.prototype.hasOwnProperty.call(ceramic_Assets.reloadCountByRealAssetPath.h,e)?ceramic_Assets.reloadCountByRealAssetPath.h[e]+=1:ceramic_Assets.reloadCountByRealAssetPath.h[e]=1},ceramic_Assets.getReloadCount=function(e){return null!=ceramic_Assets.reloadCountByRealAssetPath&&Object.prototype.hasOwnProperty.call(ceramic_Assets.reloadCountByRealAssetPath.h,e)?ceramic_Assets.reloadCountByRealAssetPath.h[e]:0},ceramic_Assets.__super__=ceramic_Entity,ceramic_Assets.prototype=$extend(ceramic_Entity.prototype,{emitComplete:function(e){var n=0;if(null!=this.__cbOnComplete&&(n+=this.__cbOnComplete.length),null!=this.__cbOnceComplete&&(n+=this.__cbOnceComplete.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnComplete)for(var r=0,l=this.__cbOnComplete.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnComplete[a],++s):--n}if(null!=this.__cbOnceComplete){var o=null,h=null;for(r=0,l=this.__cbOnceComplete.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceComplete[a],this.__cbOnceComplete[a]=null;var c=this.__cbOnceOwnerUnbindComplete[a];this.__cbOnceOwnerUnbindComplete[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindComplete[a]),h.push(this.__cbOnceComplete[a])}this.__cbOnceOwnerUnbindComplete=o,this.__cbOnceComplete=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onComplete:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event complete because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offComplete(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push(null);null==this.__cbOnComplete&&(this.__cbOnComplete=[]),this.__cbOnComplete.push(n)},onceComplete:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event complete because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offComplete(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push(null);null==this.__cbOnceComplete&&(this.__cbOnceComplete=[]),this.__cbOnceComplete.push(n)},offComplete:function(e){if(null!=e){var n;null!=this.__cbOnComplete&&-1!=(n=this.__cbOnComplete.indexOf(e))&&(this.__cbOnComplete.splice(n,1),null!=(r=this.__cbOnOwnerUnbindComplete[n])&&r(),this.__cbOnOwnerUnbindComplete.splice(n,1)),null!=this.__cbOnceComplete&&-1!=(n=this.__cbOnceComplete.indexOf(e))&&(this.__cbOnceComplete.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindComplete[n])&&r(),this.__cbOnceOwnerUnbindComplete.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindComplete){for(var t=0,i=this.__cbOnOwnerUnbindComplete.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindComplete[s])&&r()}this.__cbOnOwnerUnbindComplete=null}if(null!=this.__cbOnceOwnerUnbindComplete){for(t=0,i=this.__cbOnceOwnerUnbindComplete.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindComplete[s])&&r()}this.__cbOnceOwnerUnbindComplete=null}this.__cbOnComplete=null,this.__cbOnceComplete=null}},listensComplete:function(){return null!=this.__cbOnComplete&&this.__cbOnComplete.length>0||null!=this.__cbOnceComplete&&this.__cbOnceComplete.length>0},emitUpdate:function(e){var n=0;if(null!=this.__cbOnUpdate&&(n+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(n+=this.__cbOnceUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnUpdate)for(var r=0,l=this.__cbOnUpdate.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnUpdate[a],++s):--n}if(null!=this.__cbOnceUpdate){var o=null,h=null;for(r=0,l=this.__cbOnceUpdate.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceUpdate[a],this.__cbOnceUpdate[a]=null;var c=this.__cbOnceOwnerUnbindUpdate[a];this.__cbOnceOwnerUnbindUpdate[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindUpdate[a]),h.push(this.__cbOnceUpdate[a])}this.__cbOnceOwnerUnbindUpdate=o,this.__cbOnceUpdate=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(n)},onceUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(n)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindUpdate[n])&&r(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindUpdate[n])&&r(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindUpdate[s])&&r()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindUpdate[s])&&r()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&this.__cbOnUpdate.length>0||null!=this.__cbOnceUpdate&&this.__cbOnceUpdate.length>0},emitProgress:function(e,n,t){var i=0;if(null!=this.__cbOnProgress&&(i+=this.__cbOnProgress.length),null!=this.__cbOnceProgress&&(i+=this.__cbOnceProgress.length),i>0){var s=ceramic_ArrayPool.pool(i),r=s.get(),l=0;if(null!=this.__cbOnProgress)for(var a=0,o=this.__cbOnProgress.length;a<o;){var h=a++;!0?(r.vector[l]=this.__cbOnProgress[h],++l):--i}if(null!=this.__cbOnceProgress){var c=null,u=null;for(a=0,o=this.__cbOnceProgress.length;a<o;){h=a++;if(!0){r.vector[l]=this.__cbOnceProgress[h],this.__cbOnceProgress[h]=null;var _=this.__cbOnceOwnerUnbindProgress[h];this.__cbOnceOwnerUnbindProgress[h]=null,null!=_&&_(),++l}else--i,null==c&&(c=[],u=[],[]),c.push(this.__cbOnceOwnerUnbindProgress[h]),u.push(this.__cbOnceProgress[h])}this.__cbOnceOwnerUnbindProgress=c,this.__cbOnceProgress=u}for(a=0,o=i;a<o;){l=a++;(0,r.vector[l])(e,n,t)}s.release(r),r=null}},onProgress:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event progress because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offProgress(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindProgress&&(this.__cbOnOwnerUnbindProgress=[]),this.__cbOnOwnerUnbindProgress.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindProgress&&(this.__cbOnOwnerUnbindProgress=[]),this.__cbOnOwnerUnbindProgress.push(null);null==this.__cbOnProgress&&(this.__cbOnProgress=[]),this.__cbOnProgress.push(n)},onceProgress:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event progress because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offProgress(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindProgress&&(this.__cbOnceOwnerUnbindProgress=[]),this.__cbOnceOwnerUnbindProgress.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindProgress&&(this.__cbOnceOwnerUnbindProgress=[]),this.__cbOnceOwnerUnbindProgress.push(null);null==this.__cbOnceProgress&&(this.__cbOnceProgress=[]),this.__cbOnceProgress.push(n)},offProgress:function(e){if(null!=e){var n;null!=this.__cbOnProgress&&-1!=(n=this.__cbOnProgress.indexOf(e))&&(this.__cbOnProgress.splice(n,1),null!=(r=this.__cbOnOwnerUnbindProgress[n])&&r(),this.__cbOnOwnerUnbindProgress.splice(n,1)),null!=this.__cbOnceProgress&&-1!=(n=this.__cbOnceProgress.indexOf(e))&&(this.__cbOnceProgress.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindProgress[n])&&r(),this.__cbOnceOwnerUnbindProgress.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindProgress){for(var t=0,i=this.__cbOnOwnerUnbindProgress.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindProgress[s])&&r()}this.__cbOnOwnerUnbindProgress=null}if(null!=this.__cbOnceOwnerUnbindProgress){for(t=0,i=this.__cbOnceOwnerUnbindProgress.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindProgress[s])&&r()}this.__cbOnceOwnerUnbindProgress=null}this.__cbOnProgress=null,this.__cbOnceProgress=null}},listensProgress:function(){return null!=this.__cbOnProgress&&this.__cbOnProgress.length>0||null!=this.__cbOnceProgress&&this.__cbOnceProgress.length>0},emitAssetFilesChange:function(e,n){var t=0;if(null!=this.__cbOnAssetFilesChange&&(t+=this.__cbOnAssetFilesChange.length),null!=this.__cbOnceAssetFilesChange&&(t+=this.__cbOnceAssetFilesChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnAssetFilesChange)for(var l=0,a=this.__cbOnAssetFilesChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnAssetFilesChange[o],++r):--t}if(null!=this.__cbOnceAssetFilesChange){var h=null,c=null;for(l=0,a=this.__cbOnceAssetFilesChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceAssetFilesChange[o],this.__cbOnceAssetFilesChange[o]=null;var u=this.__cbOnceOwnerUnbindAssetFilesChange[o];this.__cbOnceOwnerUnbindAssetFilesChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindAssetFilesChange[o]),c.push(this.__cbOnceAssetFilesChange[o])}this.__cbOnceOwnerUnbindAssetFilesChange=h,this.__cbOnceAssetFilesChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onAssetFilesChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event assetFilesChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offAssetFilesChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindAssetFilesChange&&(this.__cbOnOwnerUnbindAssetFilesChange=[]),this.__cbOnOwnerUnbindAssetFilesChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindAssetFilesChange&&(this.__cbOnOwnerUnbindAssetFilesChange=[]),this.__cbOnOwnerUnbindAssetFilesChange.push(null);null==this.__cbOnAssetFilesChange&&(this.__cbOnAssetFilesChange=[]),this.__cbOnAssetFilesChange.push(n)},onceAssetFilesChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event assetFilesChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offAssetFilesChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindAssetFilesChange&&(this.__cbOnceOwnerUnbindAssetFilesChange=[]),this.__cbOnceOwnerUnbindAssetFilesChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindAssetFilesChange&&(this.__cbOnceOwnerUnbindAssetFilesChange=[]),this.__cbOnceOwnerUnbindAssetFilesChange.push(null);null==this.__cbOnceAssetFilesChange&&(this.__cbOnceAssetFilesChange=[]),this.__cbOnceAssetFilesChange.push(n)},offAssetFilesChange:function(e){if(null!=e){var n;null!=this.__cbOnAssetFilesChange&&-1!=(n=this.__cbOnAssetFilesChange.indexOf(e))&&(this.__cbOnAssetFilesChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindAssetFilesChange[n])&&r(),this.__cbOnOwnerUnbindAssetFilesChange.splice(n,1)),null!=this.__cbOnceAssetFilesChange&&-1!=(n=this.__cbOnceAssetFilesChange.indexOf(e))&&(this.__cbOnceAssetFilesChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindAssetFilesChange[n])&&r(),this.__cbOnceOwnerUnbindAssetFilesChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindAssetFilesChange){for(var t=0,i=this.__cbOnOwnerUnbindAssetFilesChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindAssetFilesChange[s])&&r()}this.__cbOnOwnerUnbindAssetFilesChange=null}if(null!=this.__cbOnceOwnerUnbindAssetFilesChange){for(t=0,i=this.__cbOnceOwnerUnbindAssetFilesChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindAssetFilesChange[s])&&r()}this.__cbOnceOwnerUnbindAssetFilesChange=null}this.__cbOnAssetFilesChange=null,this.__cbOnceAssetFilesChange=null}},listensAssetFilesChange:function(){return null!=this.__cbOnAssetFilesChange&&this.__cbOnAssetFilesChange.length>0||null!=this.__cbOnceAssetFilesChange&&this.__cbOnceAssetFilesChange.length>0},destroy:function(){if(!(this._lifecycleState<=-2)){this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),HxOverrides.remove(ceramic_Assets.instances,this);for(var e=0,n=[].concat(this.addedAssets);e<n.length;){var t=n[e];++e,t.offDestroy($bind(this,this.assetDestroyed)),t.destroy()}if(this.addedAssets=null,this.assetsByKindAndName=null,null!=this.atlasPacker){var i=this.atlasPacker;this.atlasPacker=null,i.destroy()}if(null!=this.pendingAtlasPackers){var s=this.pendingAtlasPackers;this.pendingAtlasPackers=null;for(e=0,n=s.length;e<n;){s[e++].destroy()}}}},flush:function(){for(var e=0,n=[].concat(this.addedAssets);e<n.length;){var t=n[e];++e,0==t.refCount&&t.destroy()}},add:function(e,n,t){var i="string"==typeof e?e:Reflect.field(e,"_id"),s=i.indexOf(":");if(-1==s)throw haxe_Exception.thrown("Assets: invalid asset id: "+e);var r=HxOverrides.substr(i,0,s),l=HxOverrides.substr(i,s+1,null);switch(r){case"atlas":this.addAtlas(l,n,t);break;case"binary":this.addBinary(l,n,t);break;case"database":this.addDatabase(l,n,t);break;case"font":this.addFont(l,n,t);break;case"fragments":this.addFragments(l,n,t);break;case"image":this.addImage(l,n,t);break;case"shader":this.addShader(l,n,t);break;case"sound":this.addSound(l,n,t);break;case"text":this.addText(l,n,t);break;default:if(!Object.prototype.hasOwnProperty.call(ceramic_Assets.customAssetKinds.h,r))throw haxe_Exception.thrown("Assets: invalid asset kind ("+r+") for id: "+e);ceramic_Assets.customAssetKinds.h[r].add(this,l,n,t)}},addAll:function(n){ceramic_App.app.backend.info;var t,i=["png","jpg","jpeg"],s=["txt","json","fnt","atlas"];if(null!=backend_Info._soundExtensions)t=[].concat(backend_Info._soundExtensions);else{backend_Info._soundExtensions=[];var r=new Audio,l=null!=e.navigator?e.navigator.userAgent:"",a=backend_Info.RE_OPERA.match(l)&&parseInt(backend_Info.RE_OPERA.matched(0).split("/")[1],10)<33,o=-1!=l.indexOf("Safari")&&-1==l.indexOf("Chrome"),h=backend_Info.RE_SAFARI_VERSION.match(l),c=(o&&h&&parseInt(backend_Info.RE_SAFARI_VERSION.matched(1),10),r.canPlayType('audio/ogg; codecs="vorbis"'));null!=c&&"no"!=c&&""!=c&&backend_Info._soundExtensions.push("ogg");var u=r.canPlayType("audio/mpeg;"),_=r.canPlayType("audio/mp3;");!a&&(null!=u&&"no"!=u&&""!=u||null!=_&&"no"!=_&&""!=_)&&backend_Info._soundExtensions.push("mp3");var d=r.canPlayType("audio/x-flac;"),f=r.canPlayType("audio/flac;");(null!=d&&"no"!=d&&""!=d||null!=f&&"no"!=f&&""!=f)&&backend_Info._soundExtensions.push("flac");var p=r.canPlayType('audio/wav; codecs="1"'),b=r.canPlayType("audio/wav;");(null!=p&&"no"!=p&&""!=p||null!=b&&"no"!=b&&""!=b)&&backend_Info._soundExtensions.push("wav"),t=[].concat(backend_Info._soundExtensions)}for(var y=["frag","vert"],g=["fnt"],O=["atlas"],x=["csv"],v=["fragments"],m=[],w=[],U=S=ceramic_Assets.customAssetKinds.h,C=Object.keys(S),T=C.length,D=0;D<T;){var E=U[C[D++]];m.push(E.extensions),w.push(E.add)}var A=ceramic_Assets.allByName;null!=this.runtimeAssets&&(A=this.runtimeAssets.getLists().allByName);for(var S,M=S=A.h,P=Object.keys(S),F=P.length,k=0;k<F;){var R=P[k++],I=R,N=M[R];if(null!=n){for(var L=!1,B=0,G=N.length;B<G;){var W=B++;if(n.match(N[W])){L=!0;break}}if(!L)continue}for(var K=ceramic_Path.extension(N[0]),Y=!1,H=0,X=i.length;H<X;){if(i[H++]==K){this.addImage(I),Y=!0;break}}if(!Y)for(var V=0,z=t.length;V<z;){if(t[V++]==K){this.addSound(I),Y=!0;break}}if(!Y)for(var j=0,$=y.length;j<$;){if(y[j++]==K){this.addShader(I),Y=!0;break}}if(!Y)for(var Q=0,q=g.length;Q<q;){if(g[Q++]==K){this.addFont(I),Y=!0;break}}if(!Y)for(var Z=0,J=O.length;Z<J;){if(O[Z++]==K){this.addAtlas(I),Y=!0;break}}if(!Y)for(var ee=0,ne=x.length;ee<ne;){if(x[ee++]==K){this.addDatabase(I),Y=!0;break}}if(!Y)for(var te=0,ie=v.length;te<ie;){if(v[te++]==K){this.addFragments(I),Y=!0;break}}if(!Y)for(var se=0,re=m.length;se<re;){for(var le=se++,ae=m[le],oe=0,he=ae.length;oe<he;){if(ae[oe++]==K){(0,w[le])(this,null,I,null),Y=!0;break}}if(Y)break}if(!Y)for(var ce=0,ue=s.length;ce<ue;){if(s[ce++]==K){this.addText(I),Y=!0;break}}}},addImage:function(e,n,t){StringTools.startsWith(e,"image:")&&(e=HxOverrides.substr(e,6,null)),this.addAsset(new ceramic_ImageAsset(e,n,t))},addFont:function(e,n,t){StringTools.startsWith(e,"font:")&&(e=HxOverrides.substr(e,5,null)),this.addAsset(new ceramic_FontAsset(e,n,t))},addAtlas:function(e,n,t){StringTools.startsWith(e,"atlas:")&&(e=HxOverrides.substr(e,6,null)),this.addAsset(new ceramic_AtlasAsset(e,n,t))},addText:function(e,n,t){StringTools.startsWith(e,"text:")&&(e=HxOverrides.substr(e,5,null)),this.addAsset(new ceramic_TextAsset(e,n,t))},addBinary:function(e,n,t){StringTools.startsWith(e,"binary:")&&(e=HxOverrides.substr(e,7,null)),this.addAsset(new ceramic_BinaryAsset(e,n,t))},addSound:function(e,n,t){StringTools.startsWith(e,"sound:")&&(e=HxOverrides.substr(e,6,null)),this.addAsset(new ceramic_SoundAsset(e,n,t))},addDatabase:function(e,n,t){StringTools.startsWith(e,"database:")&&(e=HxOverrides.substr(e,9,null)),this.addAsset(new ceramic_DatabaseAsset(e,n,t))},addFragments:function(e,n,t){StringTools.startsWith(e,"fragments:")&&(e=HxOverrides.substr(e,10,null)),this.addAsset(new ceramic_FragmentsAsset(e,n,t))},addShader:function(e,n,t){StringTools.startsWith(e,"shader:")&&(e=HxOverrides.substr(e,7,null)),this.addAsset(new ceramic_ShaderAsset(e,n,t))},addAsset:function(e){if(!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,e.kind)){var n=this.assetsByKindAndName,t=e.kind,i=new haxe_ds_StringMap;n.h[t]=i}var s=this.assetsByKindAndName.h[e.kind];e instanceof ceramic_ImageAsset&&(e.defaultImageOptions=this.defaultImageOptions);var r=s.h[e.fullName];if(null!=r){if(r==e)return ceramic_App.app.logger.warning("Cannot add asset "+Std.string(e)+" because it is already added for name: "+e.fullName+".",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Assets.hx",lineNumber:417,className:"ceramic.Assets",methodName:"addAsset"}),r;ceramic_App.app.logger.info("Replace "+Std.string(r)+" with "+Std.string(e),{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Assets.hx",lineNumber:414,className:"ceramic.Assets",methodName:"addAsset"}),this.removeAsset(r)}return e.onDestroy(this,$bind(this,this.assetDestroyed)),s.h[e.fullName]=e,null!=e.owner&&e.owner!=this&&e.owner.removeAsset(e),this.addedAssets.push(e),e.owner=this,e.set_runtimeAssets(this.runtimeAssets),e.set_hotReload(this.hotReload),r},assetDestroyed:function(e){for(var n=null,t=0,i=this.addedAssets;t<i.length;){var s=i[t];++t,s._lifecycleState<0&&(null==n&&(n=[]),n.push(s))}if(null!=n)for(t=0;t<n.length;){s=n[t];++t,this.removeAsset(s)}},imageAsset:function(e,n){return this.asset(e,"image",n)},fontAsset:function(e,n){return this.asset(e,"font",n)},atlasAsset:function(e,n){return this.asset(e,"atlas",n)},textAsset:function(e,n){return this.asset(e,"text",n)},soundAsset:function(e,n){return this.asset(e,"sound",n)},databaseAsset:function(e,n){return this.asset(e,"database",n)},fragmentsAsset:function(e,n){return this.asset(e,"fragments",n)},shaderAsset:function(e,n){return this.asset(e,"shader",n)},asset:function(e,n,t){var i="string"==typeof e?e:Reflect.field(e,"_id"),s=i.indexOf(":"),r=i;if(-1!=s&&(r=i.substring(s+1),n=i.substring(0,s)),null!=t&&(r+=":"+t),null==n)return null!=this.parent?this.parent.asset(e,n,t):null;var l=this.assetsByKindAndName.h[n];if(null==l)return null!=this.parent?this.parent.asset(e,n,t):null;var a=l.h[r];return null==a?null!=this.parent?this.parent.asset(e,n,t):null:a},removeAsset:function(e){e.offDestroy($bind(this,this.assetDestroyed));var n=this.assetsByKindAndName.h[e.kind];if(e!=n.h[e.name])throw haxe_Exception.thrown("Cannot remove asset "+Std.string(e)+" if it was not added at the first place.");HxOverrides.remove(this.addedAssets,e);var t=e.name;Object.prototype.hasOwnProperty.call(n.h,t)&&delete n.h[t],e.owner=null},moveAll:function(e){for(var n=[].concat(this.addedAssets),t=0,i=n.length;t<i;){var s=n[t++];this.removeAsset(s),e.addAsset(s)}},hasAnythingToLoad:function(){for(var e=0,n=this.addedAssets.length;e<n;){var t=e++;if(this.addedAssets[t].get_status()==o.NONE)return!0}return!1},countAssetsWithStatus:function(e){for(var n=0,t=(this.addedAssets,0),i=this.addedAssets.length;t<i;){var s=t++;this.addedAssets[s].get_status()==e&&++n}return n},load:function(e,n){null==e&&(e=!0);for(var t=this,i=0,s=0,r=!0,l=[].concat(this.addedAssets),a=0;a<l.length;){var h=[l[a]];++a,h[0].get_status()==o.NONE&&(h[0].onceComplete(this,function(e){return function(l){l||(r=!1,ceramic_App.app.logger.error("Failed to load asset "+e[0].name+" ("+Std.string(e[0])+")",n)),s-=1,t.emitProgress(i-s,i,r),0==s&&t._prepareComplete(r)}}(h)),s+=1,i+=1)}if(s>0)if(2==this.scheduleMethod){var c=[];for(a=0;a<l.length;){var u=l[a];++a,u.get_status()==o.NONE&&c.push(u)}this._loadNextSerial(c,0),this.immediate.flush()}else{if(this.delayBetweenXAssets>0){for(c=[],a=0;a<l.length;){u=l[a];++a,u.get_status()==o.NONE&&c.push(u)}this._loadNextParallel(c,0)}else for(a=0;a<l.length;){u=l[a];++a,u.get_status()==o.NONE&&u.load()}this.immediate.flush()}else e&&ceramic_App.app.logger.warning("There was no asset to load.",n),this._prepareComplete(!0)},_prepareComplete:function(e){var n=this;null!=this.pendingAtlasPackers&&this.pendingAtlasPackers.length>0?this._packNextAtlasPacker((function(){n._prepareComplete(e)})):this.emitComplete(!0)},_packNextAtlasPacker:function(e){this.pendingAtlasPackers.shift().pack((function(n){e()}))},addPendingAtlasPacker:function(e){null==this.pendingAtlasPackers&&(this.pendingAtlasPackers=[]),-1==this.pendingAtlasPackers.indexOf(e)&&this.pendingAtlasPackers.push(e)},_loadNextSerial:function(e,n){var t=this,i=e.shift();i.get_status()==o.NONE?(i.load(),i.onceComplete(this,(function(i){t._assetCompleteSerial(i,e,n)}))):e.length>0&&this._loadNextSerial(e,n)},_assetCompleteSerial:function(e,n,t){var i=this;t+=1,n.length>0&&(this.delayBetweenXAssets>0&&t>0&&t%this.delayBetweenXAssets==0?ceramic_App.app.onceXUpdates(this,2,(function(){i._loadNextSerial(n,t)})):this._loadNextSerial(n,t))},_loadNextParallel:function(e,n){var t=this;e.length>0&&((n+=1)>1&&n%this.delayBetweenXAssets==0?ceramic_App.app.onceXUpdates(this,2,(function(){e.shift().load(),t._loadNextParallel(e,n)})):(e.shift().load(),this._loadNextParallel(e,n)))},ensure:function(e,n,t,i){var s=this.asset(e,null,n),r=null;null==s?(this.add(e,n,t),r=this.asset(e,null,n)):r=s,null!=r?r.get_status()==o.READY?i(r):r.get_status()==o.LOADING||r.get_status()==o.NONE?(r.onceComplete(null,(function(e){i(e?r:null)})),r.get_status()==o.NONE&&this.load(null,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Assets.hx",lineNumber:797,className:"ceramic.Assets",methodName:"ensure"})):i(null):i(null)},ensureImage:function(e,n,t,i){var s=e;StringTools.startsWith(s,"image:")||(s="image:"+s),this.ensure(s,n,t,(function(e){i(e instanceof ceramic_ImageAsset?e:null)}))},ensureFont:function(e,n,t,i){var s=e;StringTools.startsWith(s,"font:")||(s="font:"+s),this.ensure(s,n,t,(function(e){i(e instanceof ceramic_FontAsset?e:null)}))},ensureAtlas:function(e,n,t,i){var s=e;StringTools.startsWith(s,"atlas:")||(s="atlas:"+s),this.ensure(s,n,t,(function(e){i(e instanceof ceramic_AtlasAsset?e:null)}))},ensureText:function(e,n,t,i){var s=e;StringTools.startsWith(s,"text:")||(s="text:"+s),this.ensure(s,n,t,(function(e){i(e instanceof ceramic_TextAsset?e:null)}))},ensureSound:function(e,n,t,i){var s=e;StringTools.startsWith(s,"sound:")||(s="sound:"+s),this.ensure(s,n,t,(function(e){i(e instanceof ceramic_SoundAsset?e:null)}))},ensureDatabase:function(e,n,t,i){var s=e;StringTools.startsWith(s,"database:")||(s="database:"+s),this.ensure(s,n,t,(function(e){i(e instanceof ceramic_DatabaseAsset?e:null)}))},ensureShader:function(e,n,t,i){var s=e;StringTools.startsWith(s,"shader:")||(s="shader:"+s),this.ensure(s,n,t,(function(e){i(e instanceof ceramic_ShaderAsset?e:null)}))},texture:function(e,n){var t=e;if(StringTools.startsWith(t,"image:")&&(t=HxOverrides.substr(t,6,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"image"))return null!=this.parent?this.parent.texture(e,n):null;var i=this.assetsByKindAndName.h.image.h[t];return null==i?null!=this.parent?this.parent.texture(e,n):null:i.get_texture()},font:function(e,n){var t=e;if(StringTools.startsWith(t,"font:")&&(t=HxOverrides.substr(t,5,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"font"))return null!=this.parent?this.parent.font(e,n):null;var i=this.assetsByKindAndName.h.font.h[t];return null==i?null!=this.parent?this.parent.font(e,n):null:i.get_font()},atlas:function(e,n){var t=e;if(StringTools.startsWith(t,"atlas:")&&(t=HxOverrides.substr(t,6,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"atlas"))return null!=this.parent?this.parent.atlas(e,n):null;var i=this.assetsByKindAndName.h.atlas.h[t];return null==i?null!=this.parent?this.parent.atlas(e,n):null:i.get_atlas()},sound:function(e,n){var t=e;if(StringTools.startsWith(t,"sound:")&&(t=HxOverrides.substr(t,6,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"sound"))return null!=this.parent?this.parent.sound(e,n):null;var i=this.assetsByKindAndName.h.sound.h[t];return null==i?null!=this.parent?this.parent.sound(e,n):null:i.get_sound()},text:function(e,n){var t=e;if(StringTools.startsWith(t,"text:")&&(t=HxOverrides.substr(t,5,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"text"))return null!=this.parent?this.parent.text(e,n):null;var i=this.assetsByKindAndName.h.text.h[t];return null==i?null!=this.parent?this.parent.text(e,n):null:i.get_text()},bytes:function(e,n){var t=e;if(StringTools.startsWith(t,"binary:")&&(t=HxOverrides.substr(t,7,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"binary"))return null!=this.parent?this.parent.bytes(e,n):null;var i=this.assetsByKindAndName.h.binary.h[t];return null==i?null!=this.parent?this.parent.bytes(e,n):null:i.get_bytes()},shader:function(e,n){var t=e;if(StringTools.startsWith(t,"shader:")&&(t=HxOverrides.substr(t,7,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"shader"))return null!=this.parent?this.parent.shader(e,n):null;var i=this.assetsByKindAndName.h.shader.h[t];return null==i?null!=this.parent?this.parent.shader(e,n):null:i.get_shader()},database:function(e,n){var t=e;if(StringTools.startsWith(t,"database:")&&(t=HxOverrides.substr(t,9,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"database"))return null!=this.parent?this.parent.database(e,n):null;var i=this.assetsByKindAndName.h.database.h[t];return null==i?null!=this.parent?this.parent.database(e,n):null:i.get_database()},fragments:function(e,n){var t=e;if(StringTools.startsWith(t,"fragments:")&&(t=HxOverrides.substr(t,10,null)),null!=n&&(t+=":"+n),!Object.prototype.hasOwnProperty.call(this.assetsByKindAndName.h,"fragments"))return null!=this.parent?this.parent.fragments(e,n):null;var i=this.assetsByKindAndName.h.fragments.h[t];return null==i?null!=this.parent?this.parent.fragments(e,n):null:i.get_fragments()},iterator:function(){for(var e=[],n=r=this.assetsByKindAndName.h,t=Object.keys(r),i=t.length,s=0;s<i;)for(var r,l=r=n[t[s++]].h,a=Object.keys(r),o=a.length,h=0;h<o;){var c=l[a[h++]];e.push(c)}return new haxe_iterators_ArrayIterator(e)},set_hotReload:function(e){if(this.hotReload==e)return e;this.hotReload=e;for(var n=0,t=this.addedAssets;n<t.length;){var i=t[n];++n,i.set_hotReload(e)}return e},watchDirectory:function(e,n){null==n&&(n=!0);var t=this;if(null!=this.runtimeAssets)throw haxe_Exception.thrown("There is already an instance of RuntimeAssets assigned. Cannot watch a directory, which also need its own instance");if(null==e)throw haxe_Exception.thrown("Cannot watch directory when using web target! (unless using electron runner and `ceramic_use_electron` define)");n&&this.set_hotReload(n),this.runtimeAssets=ceramic_RuntimeAssets.fromPath(e);var i=new ceramic_WatchDirectory;return i.watchDirectory(e),i.onDirectoryChange(this,(function(n,i,s){if(null==t.runtimeAssets?ceramic_App.app.logger.warning("Missing instance of RuntimeAssets when watched directory changed (path: "+e+")",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Assets.hx",lineNumber:1083,className:"ceramic.Assets",methodName:"watchDirectory"}):t.runtimeAssets.reset(ceramic_Files.getFlatDirectory(e),e),null==ceramic_Assets.lastModifiedByRealAssetPath){ceramic_Assets.lastModifiedByRealAssetPath=new haxe_ds_StringMap;for(var r=u=s.h,l=(_=Object.keys(u)).length,a=0;a<l;){var o=f=_[a++],h=r[f],c=ceramic_Assets.realAssetPath(o,t.runtimeAssets);ceramic_Assets.lastModifiedByRealAssetPath.h[c]=h}}var u,_,d=new haxe_ds_StringMap;for(r=u=i.h,l=(_=Object.keys(u)).length,a=0;a<l;){var f;o=f=_[a++],h=r[f],c=ceramic_Assets.realAssetPath(o,t.runtimeAssets);d.h[c]=h,Object.prototype.hasOwnProperty.call(ceramic_Assets.lastModifiedByRealAssetPath.h,c)&&h>ceramic_Assets.lastModifiedByRealAssetPath.h[c]&&ceramic_Assets.incrementReloadCount(c)}ceramic_Assets.lastModifiedByRealAssetPath=d,t.emitAssetFilesChange(i,s)})),this.onDestroy(i,(function(e){i.destroy()})),i},inheritRuntimeAssetsFromAssets:function(e){this.runtimeAssets=e.runtimeAssets,this.defaultImageOptions=e.defaultImageOptions},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offComplete(),this.offUpdate(),this.offProgress(),this.offAssetFilesChange()},__class__:ceramic_Assets,__properties__:$extend(ceramic_Entity.prototype.__properties__,{set_hotReload:"set_hotReload"})});var assets_AllAssets=function(){};t["assets.AllAssets"]=assets_AllAssets,assets_AllAssets.__name__="assets.AllAssets",assets_AllAssets.bind=function(){ceramic_Assets.all=assets_AllAssets.all,ceramic_Assets.allDirs=assets_AllAssets.allDirs,ceramic_Assets.allDirsByName=assets_AllAssets.allDirsByName,ceramic_Assets.allByName=assets_AllAssets.allByName};var spec_Audio=function(){};t["spec.Audio"]=spec_Audio,spec_Audio.__name__="spec.Audio",spec_Audio.__isInterface__=!0,spec_Audio.prototype={__class__:spec_Audio};var backend_Audio=function(){this.loadedAudioRetainCount=new haxe_ds_StringMap,this.loadedAudioResources=new haxe_ds_StringMap,this.loadingAudioCallbacks=new haxe_ds_StringMap};t["backend.Audio"]=backend_Audio,backend_Audio.__name__="backend.Audio",backend_Audio.__interfaces__=[spec_Audio],backend_Audio.prototype={load:function(e,n,t){var i=this,s=null!=n&&2==n.loadMethod,r=null!=n?n.immediate:null,done=function(e){var fn=function(){t(e),t=null};null!=r?r.push(fn):ceramic_App.app._onceImmediate(fn)},l=null!=n&&1==n.stream,a=StringTools.startsWith(e,"http://")||StringTools.startsWith(e,"https://");if(ceramic_Path.isAbsolute(e)||a||(e=ceramic_Path.join([ceramic_App.app.settings.assetsPath,e])),Object.prototype.hasOwnProperty.call(this.loadedAudioResources.h,e)){this.loadedAudioRetainCount.h[e]+=1;var o=this.loadedAudioResources.h[e];done(o)}else if(Object.prototype.hasOwnProperty.call(this.loadingAudioCallbacks.h,e))this.loadingAudioCallbacks.h[e].push((function(n){if(null!=n){var t=Object.prototype.hasOwnProperty.call(i.loadedAudioRetainCount.h,e)?i.loadedAudioRetainCount.h[e]:0;i.loadedAudioRetainCount.h[e]=t+1}done(n)}));else{var h=e;if(!a){var c=h.indexOf("?");-1!=c&&(h=HxOverrides.substr(h,0,c))}this.loadingAudioCallbacks.h[e]=[function(n){if(null!=n){var t=Object.prototype.hasOwnProperty.call(i.loadedAudioRetainCount.h,e)?i.loadedAudioRetainCount.h[e]:0;i.loadedAudioRetainCount.h[e]=t+1}done(n)}];var u=a?h:clay_Clay.app.assets.fullPath(h);clay_Clay.app.audio.loadData(u,l,null,!s,(function(n){if(null!=n){var t=new clay_audio_AudioSource(clay_Clay.app,n);i.loadedAudioResources.h[e]=t;var s=i.loadingAudioCallbacks.h[e],r=i.loadingAudioCallbacks;Object.prototype.hasOwnProperty.call(r.h,e)&&delete r.h[e];for(var l=0;l<s.length;){var a=s[l];++l,a(t)}}else!function(){var n=i.loadingAudioCallbacks.h[e],t=i.loadingAudioCallbacks;Object.prototype.hasOwnProperty.call(t.h,e)&&delete t.h[e];for(var s=0;s<n.length;){var r=n[s];++s;try{r(null)}catch(e){var l=[haxe_Exception.caught(e).unwrap()];ceramic_App.app._onceImmediate(function(e){return function(){throw haxe_Exception.thrown(e[0])}}(l))}}}()})),null!=r?r.push(clay_Immediate.flush):ceramic_App.app._onceImmediate(clay_Immediate.flush)}},getDuration:function(e){return e.getDuration()},resumeAudioContext:function(e){var n=clay_Clay.app.audio;if(null!=n)try{n.context.resume().then((function(){e(!0)}),(function(){e(!1)}))}catch(e){var t=haxe_Exception.caught(e).unwrap();ceramic_App.app.logger.error("Failed to resume audio context: "+Std.string(t),{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/Audio.hx",lineNumber:149,className:"backend.Audio",methodName:"resumeAudioContext"})}},supportsHotReloadPath:function(){return!0},destroy:function(e){for(var n=null,t=this.loadedAudioResources.h,i=t,s=Object.keys(t),r=s.length,l=0;l<r;){var a=s[l++],o=a;i[a]==e&&(n=o)}if(null==n)ceramic_App.app.logger.error("Failed to destroy audio resource: "+Std.string(e)+" because id could not be resolved",{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/Audio.hx",lineNumber:175,className:"backend.Audio",methodName:"destroy"});else if(this.loadedAudioRetainCount.h[n]>1)this.loadedAudioRetainCount.h[n]-=1;else{var h=this.loadedAudioResources;Object.prototype.hasOwnProperty.call(h.h,n)&&delete h.h[n];h=this.loadedAudioRetainCount;Object.prototype.hasOwnProperty.call(h.h,n)&&delete h.h[n],e.destroy()}},mute:function(e){return-1},play:function(e,n,t,i,s,r){if(null==r&&(r=!1),null==s&&(s=0),null==i&&(i=1),null==t&&(t=0),null==n&&(n=.5),!clay_Clay.app.audio.active)return-1;var l=e;l.data.isStream&&(s=0,i=1,t=0);var a=null;return a=r?clay_Clay.app.audio.loop(l,n,!1):clay_Clay.app.audio.play(l,n,!1),0!=t&&clay_Clay.app.audio.pan(a,t),1!=i&&clay_Clay.app.audio.pitch(a,i),0!=s&&clay_Clay.app.audio.position(a,s),a},pause:function(e){clay_Clay.app.audio.active&&null!=e&&-1!=e&&clay_Clay.app.audio.pause(e)},resume:function(e){clay_Clay.app.audio.active&&null!=e&&-1!=e&&clay_Clay.app.audio.unPause(e)},stop:function(e){clay_Clay.app.audio.active&&null!=e&&-1!=e&&null!=e&&-1!=e&&clay_Clay.app.audio.stop(e)},getVolume:function(e){return clay_Clay.app.audio.active?null==e||-1==e?0:clay_Clay.app.audio.volumeOf(e):0},setVolume:function(e,n){clay_Clay.app.audio.active&&null!=e&&-1!=e&&clay_Clay.app.audio.volume(e,n)},getPan:function(e){return clay_Clay.app.audio.active?null==e||-1==e?0:clay_Clay.app.audio.panOf(e):0},setPan:function(e,n){if(clay_Clay.app.audio.active&&null!=e&&-1!=e){var t=clay_Clay.app.audio.instanceOf(e);null!=t&&t.source.data.isStream||clay_Clay.app.audio.pan(e,n)}},getPitch:function(e){return clay_Clay.app.audio.active?null==e||-1==e?1:clay_Clay.app.audio.pitchOf(e):1},setPitch:function(e,n){if(clay_Clay.app.audio.active&&null!=e&&-1!=e){var t=clay_Clay.app.audio.instanceOf(e);null!=t&&t.source.data.isStream||clay_Clay.app.audio.pitch(e,n)}},getPosition:function(e){return clay_Clay.app.audio.active?null==e||-1==e?0:clay_Clay.app.audio.positionOf(e):0},setPosition:function(e,n){if(clay_Clay.app.audio.active&&null!=e&&-1!=e){var t=clay_Clay.app.audio.instanceOf(e);null!=t&&t.source.data.isStream||clay_Clay.app.audio.position(e,n)}},__class__:backend_Audio};var spec_Backend=function(){};t["spec.Backend"]=spec_Backend,spec_Backend.__name__="spec.Backend",spec_Backend.__isInterface__=!0,spec_Backend.prototype={__class__:spec_Backend};var backend_Backend=function(){this.mobileInBackground=!1,this.clipboard=new backend_Clipboard,this.textInput=new backend_TextInput,this.input=new backend_Input,this.screen=new backend_Screen,this.shaders=new backend_Shaders,this.textures=new backend_Textures,this.binaries=new backend_Binaries,this.texts=new backend_Texts,this.draw=new backend_Draw,this.audio=new backend_Audio,this.info=new backend_Info,this.io=new backend_IO};t["backend.Backend"]=backend_Backend,backend_Backend.__name__="backend.Backend",backend_Backend.__interfaces__=[spec_Backend,tracker_Events],backend_Backend.prototype={init:function(e){},setTargetFps:function(e){clay_Clay.app.config.updateRate=e>0?1/e:0},emitReady:function(){var e=0;if(null!=this.__cbOnReady&&(e+=this.__cbOnReady.length),null!=this.__cbOnceReady&&(e+=this.__cbOnceReady.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnReady)for(var s=0,r=this.__cbOnReady.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnReady[l],++i):--e}if(null!=this.__cbOnceReady){var a=null,o=null;for(s=0,r=this.__cbOnceReady.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceReady[l],this.__cbOnceReady[l]=null;var h=this.__cbOnceOwnerUnbindReady[l];this.__cbOnceOwnerUnbindReady[l]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],o=[],[]),a.push(this.__cbOnceOwnerUnbindReady[l]),o.push(this.__cbOnceReady[l])}this.__cbOnceOwnerUnbindReady=a,this.__cbOnceReady=o}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onReady:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event ready because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReady(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(null);null==this.__cbOnReady&&(this.__cbOnReady=[]),this.__cbOnReady.push(n)},onceReady:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event ready because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReady(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(null);null==this.__cbOnceReady&&(this.__cbOnceReady=[]),this.__cbOnceReady.push(n)},offReady:function(e){if(null!=e){var n;null!=this.__cbOnReady&&-1!=(n=this.__cbOnReady.indexOf(e))&&(this.__cbOnReady.splice(n,1),null!=(r=this.__cbOnOwnerUnbindReady[n])&&r(),this.__cbOnOwnerUnbindReady.splice(n,1)),null!=this.__cbOnceReady&&-1!=(n=this.__cbOnceReady.indexOf(e))&&(this.__cbOnceReady.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindReady[n])&&r(),this.__cbOnceOwnerUnbindReady.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReady){for(var t=0,i=this.__cbOnOwnerUnbindReady.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindReady[s])&&r()}this.__cbOnOwnerUnbindReady=null}if(null!=this.__cbOnceOwnerUnbindReady){for(t=0,i=this.__cbOnceOwnerUnbindReady.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindReady[s])&&r()}this.__cbOnceOwnerUnbindReady=null}this.__cbOnReady=null,this.__cbOnceReady=null}},listensReady:function(){return null!=this.__cbOnReady&&this.__cbOnReady.length>0||null!=this.__cbOnceReady&&this.__cbOnceReady.length>0},emitUpdate:function(e){var n=0;if(null!=this.__cbOnUpdate&&(n+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(n+=this.__cbOnceUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnUpdate)for(var r=0,l=this.__cbOnUpdate.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnUpdate[a],++s):--n}if(null!=this.__cbOnceUpdate){var o=null,h=null;for(r=0,l=this.__cbOnceUpdate.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceUpdate[a],this.__cbOnceUpdate[a]=null;var c=this.__cbOnceOwnerUnbindUpdate[a];this.__cbOnceOwnerUnbindUpdate[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindUpdate[a]),h.push(this.__cbOnceUpdate[a])}this.__cbOnceOwnerUnbindUpdate=o,this.__cbOnceUpdate=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(n)},onceUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(n)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindUpdate[n])&&r(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindUpdate[n])&&r(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindUpdate[s])&&r()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindUpdate[s])&&r()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&this.__cbOnUpdate.length>0||null!=this.__cbOnceUpdate&&this.__cbOnceUpdate.length>0},emitRender:function(){var e=0;if(null!=this.__cbOnRender&&(e+=this.__cbOnRender.length),null!=this.__cbOnceRender&&(e+=this.__cbOnceRender.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnRender)for(var s=0,r=this.__cbOnRender.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnRender[l],++i):--e}if(null!=this.__cbOnceRender){var a=null,o=null;for(s=0,r=this.__cbOnceRender.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceRender[l],this.__cbOnceRender[l]=null;var h=this.__cbOnceOwnerUnbindRender[l];this.__cbOnceOwnerUnbindRender[l]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],o=[],[]),a.push(this.__cbOnceOwnerUnbindRender[l]),o.push(this.__cbOnceRender[l])}this.__cbOnceOwnerUnbindRender=a,this.__cbOnceRender=o}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onRender:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event render because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offRender(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindRender&&(this.__cbOnOwnerUnbindRender=[]),this.__cbOnOwnerUnbindRender.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindRender&&(this.__cbOnOwnerUnbindRender=[]),this.__cbOnOwnerUnbindRender.push(null);null==this.__cbOnRender&&(this.__cbOnRender=[]),this.__cbOnRender.push(n)},onceRender:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event render because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offRender(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindRender&&(this.__cbOnceOwnerUnbindRender=[]),this.__cbOnceOwnerUnbindRender.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindRender&&(this.__cbOnceOwnerUnbindRender=[]),this.__cbOnceOwnerUnbindRender.push(null);null==this.__cbOnceRender&&(this.__cbOnceRender=[]),this.__cbOnceRender.push(n)},offRender:function(e){if(null!=e){var n;null!=this.__cbOnRender&&-1!=(n=this.__cbOnRender.indexOf(e))&&(this.__cbOnRender.splice(n,1),null!=(r=this.__cbOnOwnerUnbindRender[n])&&r(),this.__cbOnOwnerUnbindRender.splice(n,1)),null!=this.__cbOnceRender&&-1!=(n=this.__cbOnceRender.indexOf(e))&&(this.__cbOnceRender.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindRender[n])&&r(),this.__cbOnceOwnerUnbindRender.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindRender){for(var t=0,i=this.__cbOnOwnerUnbindRender.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindRender[s])&&r()}this.__cbOnOwnerUnbindRender=null}if(null!=this.__cbOnceOwnerUnbindRender){for(t=0,i=this.__cbOnceOwnerUnbindRender.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindRender[s])&&r()}this.__cbOnceOwnerUnbindRender=null}this.__cbOnRender=null,this.__cbOnceRender=null}},listensRender:function(){return null!=this.__cbOnRender&&this.__cbOnRender.length>0||null!=this.__cbOnceRender&&this.__cbOnceRender.length>0},unbindEvents:function(){this.offReady(),this.offUpdate(),this.offRender()},__class__:backend_Backend};var spec_Binaries=function(){};t["spec.Binaries"]=spec_Binaries,spec_Binaries.__name__="spec.Binaries",spec_Binaries.__isInterface__=!0,spec_Binaries.prototype={__class__:spec_Binaries};var backend_Binaries=function(){this.loadingBinaryCallbacks=new haxe_ds_StringMap};t["backend.Binaries"]=backend_Binaries,backend_Binaries.__name__="backend.Binaries",backend_Binaries.__interfaces__=[spec_Binaries],backend_Binaries.prototype={load:function(e,n,t){var i=this,s=null!=n?n.immediate:null,done=function(e){var fn=function(){t(e),t=null};null!=s?s.push(fn):ceramic_App.app._onceImmediate(fn)},r=StringTools.startsWith(e,"http://")||StringTools.startsWith(e,"https://");if(ceramic_Path.isAbsolute(e)||r||(e=ceramic_Path.join([ceramic_App.app.settings.assetsPath,e])),Object.prototype.hasOwnProperty.call(this.loadingBinaryCallbacks.h,e))this.loadingBinaryCallbacks.h[e].push((function(e){done(e)}));else{this.loadingBinaryCallbacks.h[e]=[];var l=e;if(!r){var a=l.indexOf("?");-1!=a&&(l=HxOverrides.substr(l,0,a))}var o=r?l:clay_Clay.app.assets.fullPath(l);clay_Clay.app.io.loadData(o,!0,null,(function(n){if(null!=n){var t=new haxe_io_Bytes(new Uint8Array(n.buffer));if(null!=(s=i.loadingBinaryCallbacks.h[e])){r=i.loadingBinaryCallbacks;Object.prototype.hasOwnProperty.call(r.h,e)&&delete r.h[e],done(t);for(l=0;l<s.length;){a=s[l];++l,a(t)}}else done(t)}else{var s;if(null!=(s=i.loadingBinaryCallbacks.h[e])){var r=i.loadingBinaryCallbacks;Object.prototype.hasOwnProperty.call(r.h,e)&&delete r.h[e],done(null);for(var l=0;l<s.length;){var a=s[l];++l,a(null)}}else done(null)}})),null!=s?s.push(clay_Immediate.flush):ceramic_App.app._onceImmediate(clay_Immediate.flush)}},supportsHotReloadPath:function(){return!0},__class__:backend_Binaries};var clay_Events=function(){};t["clay.Events"]=clay_Events,clay_Events.__name__="clay.Events",clay_Events.prototype={ready:function(){},tick:function(e){},render:function(){},freeze:function(){},unfreeze:function(){},keyDown:function(e,n,t,i,s,r){},keyUp:function(e,n,t,i,s,r){},text:function(e,n,t,i,s,r){},mouseMove:function(e,n,t,i,s,r){},mouseDown:function(e,n,t,i,s){},mouseUp:function(e,n,t,i,s){},mouseWheel:function(e,n,t,i){},touchDown:function(e,n,t,i,s,r){},touchUp:function(e,n,t,i,s,r){},touchMove:function(e,n,t,i,s,r){},gamepadAxis:function(e,n,t,i){},gamepadDown:function(e,n,t,i){},gamepadUp:function(e,n,t,i){},gamepadGyro:function(e,n,t,i,s){},gamepadDevice:function(e,n,t,i){},windowEvent:function(e,n,t,i,s){},appEvent:function(e){},audioEvent:function(e,n){},__class__:clay_Events};var backend_ClayEvents=function(e){this.gamepadGyroValues=new ceramic_IntMap,this.gamepadAxisValues=new ceramic_IntFloatMap,this.gamepadPressedValues=new ceramic_IntIntMap,this.gamepadButtonMapping=new ceramic_IntIntMap,this.gamepadAxisToButton=new ceramic_IntIntMap,this.swapXyGamepads=new ceramic_IntIntMap(16,.5,!1),this.swapAbGamepads=new ceramic_IntIntMap(16,.5,!1),this.removedGamepads=new ceramic_IntIntMap(16,.5,!1),this.activeGamepads=new ceramic_IntIntMap(16,.5,!1),this.mouseY=0,this.mouseX=0,this.mouseDownButtons=new ceramic_IntIntMap(16,.5,!1),this.touchIndexes=new ceramic_IntIntMap,this.touches=new ceramic_IntIntMap,this.lastHeight=-1,this.lastWidth=-1,this.lastDensity=-1,this.handleReady=e,this.configureGamepadMapping()};t["backend.ClayEvents"]=backend_ClayEvents,backend_ClayEvents.__name__="backend.ClayEvents",backend_ClayEvents.__super__=clay_Events,backend_ClayEvents.prototype=$extend(clay_Events.prototype,{configureGamepadMapping:function(){},ready:function(){this.backend=ceramic_App.app.backend,this.lastDensity=clay_Clay.app.screenDensity,this.lastWidth=clay_Clay.app.screenWidth,this.lastHeight=clay_Clay.app.screenHeight,this.handleReady(),this.backend.emitReady()},tick:function(e){this.triggerResizeIfNeeded(),this.backend.emitUpdate(e)},render:function(){this.backend.emitRender()},triggerResizeIfNeeded:function(){var e=clay_Clay.app.screenDensity,n=clay_Clay.app.screenWidth,t=clay_Clay.app.screenHeight;this.lastDensity==e&&this.lastWidth==n&&this.lastHeight==t||(this.lastDensity=e,this.lastWidth=n,this.lastHeight=t,this.backend.screen.emitResize())},appEvent:function(e){switch(e){case 0:break;case 11:ceramic_App.app.emitTerminate();break;case 12:ceramic_App.app.emitLowMemory();break;case 13:ceramic_App.app.emitBeginEnterBackground();break;case 14:ceramic_App.app.emitFinishEnterBackground();break;case 15:ceramic_App.app.emitBeginEnterForeground();break;case 16:ceramic_App.app.emitFinishEnterForeground()}},mouseDown:function(e,n,t,i,s){this.mouseDownButtons.intMap.h.hasOwnProperty(0|t)&&this.mouseUp(e,n,t,i,s),this.mouseX=e/clay_Clay.app.screenDensity,this.mouseY=n/clay_Clay.app.screenDensity,this.mouseDownButtons.set(t,1),this.backend.screen.emitMouseDown(t,this.mouseX,this.mouseY)},mouseUp:function(e,n,t,i,s){this.mouseDownButtons.intMap.h.hasOwnProperty(0|t)&&(this.mouseX=e/clay_Clay.app.screenDensity,this.mouseY=n/clay_Clay.app.screenDensity,this.mouseDownButtons.remove(t),this.backend.screen.emitMouseUp(t,this.mouseX,this.mouseY))},mouseMove:function(e,n,t,i,s,r){this.mouseX=e/clay_Clay.app.screenDensity,this.mouseY=n/clay_Clay.app.screenDensity,this.backend.screen.emitMouseMove(this.mouseX,this.mouseY)},mouseWheel:function(e,n,t,i){this.backend.screen.emitMouseWheel(e,n)},touchDown:function(e,n,t,i,s,r){for(var l=0;this.touchIndexes.intMap.h.hasOwnProperty(0|l);)++l;this.touches.set(s,l),this.touchIndexes.set(l,s),this.backend.screen.emitTouchDown(l,e*this.lastWidth,n*this.lastHeight)},touchUp:function(e,n,t,i,s,r){this.touches.intMap.h.hasOwnProperty(0|s)||this.touchDown(e,n,t,i,s,r);var l=this.touches.intMap.h[0|s],a=null!=l?l:0;this.backend.screen.emitTouchUp(a,e*this.lastWidth,n*this.lastHeight),this.touches.remove(s),this.touchIndexes.remove(a)},touchMove:function(e,n,t,i,s,r){this.touches.intMap.h.hasOwnProperty(0|s)||this.touchDown(e,n,t,i,s,r);var l=this.touches.intMap.h[0|s],a=null!=l?l:0;this.backend.screen.emitTouchMove(a,e*this.lastWidth,n*this.lastHeight)},keyDown:function(e,n,t,i,s,r){this.backend.input.emitKeyDown(new ceramic_Key(e,n)),this.backend.textInput.handleKeyDown(e,n)},keyUp:function(e,n,t,i,s,r){this.backend.input.emitKeyUp(new ceramic_Key(e,n)),this.backend.textInput.handleKeyUp(e,n)},_configureGamepad:function(e,n){if(null!=n){var t=n.toLowerCase();-1!=t.indexOf(" vendor: 057e ")||StringTools.startsWith(t,"057e-")?(this.swapAbGamepads.set(e,1),this.swapXyGamepads.set(e,1)):(this.swapAbGamepads.set(e,0),this.swapXyGamepads.set(e,0))}else this.swapAbGamepads.set(e,0),this.swapXyGamepads.set(e,0)},gamepadAxis:function(e,n,t,i){if(!this.activeGamepads.intMap.h.hasOwnProperty(0|e)&&!this.removedGamepads.intMap.h.hasOwnProperty(0|e)){this.activeGamepads.set(e,1);var s=clay_Clay.app.runtime.getGamepadName(e);this._configureGamepad(e,s),this.backend.input.emitGamepadEnable(e,s)}if(this.gamepadAxisToButton.intMap.h.hasOwnProperty(0|n)){var r=null!=(l=this.gamepadAxisToButton.intMap.h[0|n])?l:0;if(t>=.5)1!=(null!=(l=this.gamepadPressedValues.intMap.h[32*e+r|0])?l:0)&&(this.gamepadPressedValues.set(32*e+r,1),this.backend.input.emitGamepadDown(e,r));else 1==(null!=(l=this.gamepadPressedValues.intMap.h[32*e+r|0])?l:0)&&(this.gamepadPressedValues.set(32*e+r,0),this.backend.input.emitGamepadUp(e,r))}var l,a=null!=(l=this.gamepadAxisValues.intMap.h[32*e+n|0])?l:0,o=Math.round(100*t)/100;Math.abs(a-o)>.01&&(this.gamepadAxisValues.set(32*e+n,o),this.backend.input.emitGamepadAxis(e,n,o))},gamepadDown:function(e,n,t,i){if(!this.activeGamepads.intMap.h.hasOwnProperty(0|e)&&!this.removedGamepads.intMap.h.hasOwnProperty(0|e)){this.activeGamepads.set(e,1);for(var s=0;s<32;){var r=s++;this.gamepadPressedValues.set(32*e+r,0)}var l=clay_Clay.app.runtime.getGamepadName(e);this._configureGamepad(e,l),this.backend.input.emitGamepadEnable(e,l)}this.gamepadButtonMapping.intMap.h.hasOwnProperty(0|n)&&(n=null!=(t=this.gamepadButtonMapping.intMap.h[0|n])?t:0);0!=n&&1!=n||0!=(null!=(t=this.swapAbGamepads.intMap.h[0|e])?t:0)&&(n=1==n?0:1);2!=n&&3!=n||0!=(null!=(t=this.swapXyGamepads.intMap.h[0|e])?t:0)&&(n=2==n?3:2);1!=(null!=(t=this.gamepadPressedValues.intMap.h[32*e+n|0])?t:0)&&(this.gamepadPressedValues.set(32*e+n,1),this.backend.input.emitGamepadDown(e,n))},gamepadUp:function(e,n,t,i){if(!this.activeGamepads.intMap.h.hasOwnProperty(0|e)&&!this.removedGamepads.intMap.h.hasOwnProperty(0|e)){this.activeGamepads.set(e,1);for(var s=0;s<32;){var r=s++;this.gamepadPressedValues.set(32*e+r,0)}var l=clay_Clay.app.runtime.getGamepadName(e);this._configureGamepad(e,l),this.backend.input.emitGamepadEnable(e,l)}this.gamepadButtonMapping.intMap.h.hasOwnProperty(0|n)&&(n=null!=(t=this.gamepadButtonMapping.intMap.h[0|n])?t:0);0!=n&&1!=n||0!=(null!=(t=this.swapAbGamepads.intMap.h[0|e])?t:0)&&(n=1==n?0:1);2!=n&&3!=n||0!=(null!=(t=this.swapXyGamepads.intMap.h[0|e])?t:0)&&(n=2==n?3:2);1==(null!=(t=this.gamepadPressedValues.intMap.h[32*e+n|0])?t:0)&&(this.gamepadPressedValues.set(32*e+n,0),this.backend.input.emitGamepadUp(e,n))},gamepadGyro:function(e,n,t,i,s){if(!this.activeGamepads.intMap.h.hasOwnProperty(0|e)&&!this.removedGamepads.intMap.h.hasOwnProperty(0|e)){this.activeGamepads.set(e,1);for(var r=0;r<32;){var l=r++;this.gamepadPressedValues.set(32*e+l,0)}var a=clay_Clay.app.runtime.getGamepadName(e);this._configureGamepad(e,a),this.backend.input.emitGamepadEnable(e,a)}var o=.23225806451612904;this.backend.input.emitGamepadGyro(e,n*o,t*o,i*o)},gamepadDevice:function(e,n,t,i){var s=this;if(2==t){if(this.activeGamepads.intMap.h.hasOwnProperty(0|e)){for(var r=0;r<32;){var l=r++,a=this.gamepadPressedValues.intMap.h[32*e+l|0];1==(null!=a?a:0)&&(this.backend.input.emitGamepadUp(e,l),this.gamepadPressedValues.set(32*e+l,0))}this.backend.input.emitGamepadDisable(e),this.activeGamepads.remove(e),this.removedGamepads.set(e,1),ceramic_App.app.onceUpdate(null,(function(n){s.removedGamepads.remove(e)}))}}else if(1==t&&!this.activeGamepads.intMap.h.hasOwnProperty(0|e)){this.activeGamepads.set(e,1);for(r=0;r<32;){l=r++;this.gamepadPressedValues.set(32*e+l,0)}this.removedGamepads.remove(e);n=clay_Clay.app.runtime.getGamepadName(e);this._configureGamepad(e,n),this.backend.input.emitGamepadEnable(e,n)}},text:function(e,n,t,i,s,r){this.backend.textInput.inputActive&&this.backend.textInput.handleTextInput(e)},windowEvent:function(e,n,t,i,s){switch(e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:break;case 15:ceramic_App.app.settings.set_fullscreen(!0);break;case 16:ceramic_App.app.settings.set_fullscreen(!1)}},__class__:backend_ClayEvents});var spec_Clipboard=function(){};t["spec.Clipboard"]=spec_Clipboard,spec_Clipboard.__name__="spec.Clipboard",spec_Clipboard.__isInterface__=!0,spec_Clipboard.prototype={__class__:spec_Clipboard};var backend_Clipboard=function(){this.didBindBrowserClipboard=!1,this.didLogBrowserClipboardWriteWarning=!1,this.didLogBrowserClipboardReadWarning=!1,this.clipboardText=null};t["backend.Clipboard"]=backend_Clipboard,backend_Clipboard.__name__="backend.Clipboard",backend_Clipboard.__interfaces__=[spec_Clipboard],backend_Clipboard.prototype={bindBrowserClipboard:function(){var e=this;this.didBindBrowserClipboard=!0,this.readBrowserClipboard(),window.addEventListener("focus",(function(){e.readBrowserClipboard()}))},readBrowserClipboard:function(){var n=this,t=e.navigator;try{t.clipboard.readText().then((function(e){n.clipboardText!=e&&(n.clipboardText=e)}))}catch(e){var i=haxe_Exception.caught(e).unwrap();this.didLogBrowserClipboardReadWarning||(this.didLogBrowserClipboardReadWarning=!0,ceramic_App.app.logger.warning("Failed to read browser clipboard: "+Std.string(i),{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/Clipboard.hx",lineNumber:68,className:"backend.Clipboard",methodName:"readBrowserClipboard"}))}},writeBrowserClipboard:function(n){var t=e.navigator;try{t.clipboard.writeText(n).then((function(){}))}catch(e){var i=haxe_Exception.caught(e).unwrap();this.didLogBrowserClipboardWriteWarning||(this.didLogBrowserClipboardWriteWarning=!0,ceramic_App.app.logger.warning("Failed to write browser clipboard: "+Std.string(i),{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/Clipboard.hx",lineNumber:87,className:"backend.Clipboard",methodName:"writeBrowserClipboard"}))}},getText:function(){return this.clipboardText},setText:function(e){this.clipboardText=e,this.didBindBrowserClipboard&&this.writeBrowserClipboard(e)},__class__:backend_Clipboard};var spec_Draw=function(){};t["spec.Draw"]=spec_Draw,spec_Draw.__name__="spec.Draw",spec_Draw.__isInterface__=!0,spec_Draw.prototype={__class__:spec_Draw};var backend_Draw=function(){this.renderer=new ceramic_Renderer,this.renderer=new ceramic_Renderer};t["backend.Draw"]=backend_Draw,backend_Draw.__name__="backend.Draw",backend_Draw.__interfaces__=[spec_Draw],backend_Draw.prototype={begin:function(){},end:function(){},draw:function(e){this.renderer.render(!0,e)},swap:function(){},initBuffers:function(){backend_Draw._activeTextureSlot=0,backend_Draw._buffersIndex=-1,this.prepareNextBuffers()},prepareNextBuffers:function(){backend_Draw._buffersIndex++,backend_Draw._buffersIndex>64&&(backend_Draw._buffersIndex=0),backend_Draw._posListArray.length<=backend_Draw._buffersIndex&&(backend_Draw._posListArray[backend_Draw._buffersIndex]=new Float32Array(65536),backend_Draw._uvListArray[backend_Draw._buffersIndex]=new Float32Array(43691),backend_Draw._colorListArray[backend_Draw._buffersIndex]=new Float32Array(65536),backend_Draw._indiceListArray[backend_Draw._buffersIndex]=new Uint16Array(32768)),backend_Draw._posList=backend_Draw._posListArray[backend_Draw._buffersIndex],backend_Draw._uvList=backend_Draw._uvListArray[backend_Draw._buffersIndex],backend_Draw._colorList=backend_Draw._colorListArray[backend_Draw._buffersIndex],backend_Draw._indiceList=backend_Draw._indiceListArray[backend_Draw._buffersIndex]},beginRender:function(){clay_opengl_web_GL.gl.enableVertexAttribArray(0),clay_opengl_web_GL.gl.enableVertexAttribArray(1),clay_opengl_web_GL.gl.enableVertexAttribArray(2)},clear:function(){clay_opengl_web_GL.gl.clearColor((backend_Draw._whiteTransparentColor>>16&255)/255,(backend_Draw._whiteTransparentColor>>8&255)/255,(255&backend_Draw._whiteTransparentColor)/255,backend_Draw._whiteTransparentColor>>24&255),clay_Clay.app.config.render.depth>0?(clay_opengl_web_GL.gl.clear(16640),clay_opengl_web_GL.gl.clearDepth(1)):clay_opengl_web_GL.gl.clear(16384),null!=backend_Draw._currentRenderTarget&&(backend_Draw._didUpdateCurrentRenderTarget=!0)},clearAndApplyBackground:function(){var e=ceramic_App.app.settings.get_background();clay_opengl_web_GL.gl.clearColor((e>>16&255)/255,(e>>8&255)/255,(255&e)/255,1),clay_Clay.app.config.render.depth>0?(clay_opengl_web_GL.gl.clear(16640),clay_opengl_web_GL.gl.clearDepth(1)):clay_opengl_web_GL.gl.clear(16384),null!=backend_Draw._currentRenderTarget&&(backend_Draw._didUpdateCurrentRenderTarget=!0)},enableBlending:function(){clay_opengl_web_GL.gl.enable(3042)},disableBlending:function(){clay_opengl_web_GL.gl.disable(3042)},setActiveTexture:function(e){if(backend_Draw._activeTextureSlot=e,clay_opengl_GLGraphics._activeTextureSlot!=e){for(clay_opengl_GLGraphics._activeTextureSlot=e;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984+e)}},setPrimitiveType:function(e){backend_Draw._primitiveType=2==e?1:4},getActiveTexture:function(){return backend_Draw._activeTextureSlot},setRenderTarget:function(e,n){if(null==n&&(n=!1),backend_Draw._currentRenderTarget!=e||n){if(null!=backend_Draw._currentRenderTarget&&backend_Draw._currentRenderTarget!=e&&backend_Draw._didUpdateCurrentRenderTarget){var t=backend_Draw._currentRenderTarget.backendItem;t.antialiasing>1&&clay_opengl_GLGraphics.blitRenderTargetBuffers(t.renderTarget,t.width,t.height)}if(backend_Draw._currentRenderTarget=e,backend_Draw._didUpdateCurrentRenderTarget=!0,null!=e){var i=e.backendItem.renderTarget;null!=i?(clay_opengl_GLGraphics.bindFramebuffer(i.framebuffer),clay_opengl_GLGraphics.bindRenderbuffer(i.renderbuffer)):(clay_opengl_GLGraphics.bindFramebuffer(null),clay_opengl_GLGraphics.bindRenderbuffer(null));var s=0,r=0,l=((x=e.width)+s)/(U=x-s),a=(r+(v=e.height))/(C=r-v),o=((w=-1e3)+(m=1e3))/(T=w-m);(g=backend_Draw._projectionMatrix)[0]=2/U,g[4]=0,g[8]=0,g[12]=-l,g[1]=0,g[5]=2/C,g[9]=0,g[13]=-a,g[2]=0,g[6]=0,g[10]=-2/T,g[14]=-o,g[3]=0,g[7]=0,g[11]=0,g[15]=1,(h=backend_Draw._renderTargetTransform).a=1,h.b=0,h.c=0,h.d=1,h.tx=0,h.ty=0,h.changedDirty=!0;var h=backend_Draw._renderTargetTransform,c=e.density,u=e.density;h.a*=c,h.b*=u,h.c*=c,h.d*=u,h.tx*=c,h.ty*=u,h.changedDirty=!0;var _=e.density,d=e.width,f=e.height,p=-1;if(null==p&&(p=1),null!=(O=backend_Draw._renderTargetTransform)){if((h=backend_Draw._modelViewTransform).a=O.a,h.b=O.b,h.c=O.c,h.d=O.d,h.tx=O.tx,h.ty=O.ty,h.changedDirty=!0,0==(D=(h=backend_Draw._modelViewTransform).a*h.d-h.b*h.c))h.a=h.b=h.c=h.d=0,h.tx=-h.tx,h.ty=-h.ty;else{D=1/D;var b=h.d*D;h.d=h.a*D,h.a=b,h.b*=-D,h.c*=-D;var y=-h.a*h.tx-h.c*h.ty;h.ty=-h.b*h.tx-h.d*h.ty,h.tx=y}h.changedDirty=!0}else{(h=backend_Draw._modelViewTransform).a=1,h.b=0,h.c=0,h.d=1,h.tx=0,h.ty=0,h.changedDirty=!0}l=backend_Draw._modelViewTransform.tx,a=backend_Draw._modelViewTransform.ty;if((h=backend_Draw._modelViewTransform).tx+=-l,h.ty+=-a,h.changedDirty=!0,(h=backend_Draw._modelViewTransform).a*=_,h.b*=_,h.c*=_,h.d*=_,h.tx*=_,h.ty*=_,h.changedDirty=!0,(h=backend_Draw._modelViewTransform).tx+=l,h.ty+=a,h.changedDirty=!0,-1==p)(h=backend_Draw._modelViewTransform).tx+=.5*-d,h.ty+=.5*-f,h.changedDirty=!0,(h=backend_Draw._modelViewTransform).a*=1,h.b*=-1,h.c*=1,h.d*=-1,h.tx*=1,h.ty*=-1,h.changedDirty=!0,(h=backend_Draw._modelViewTransform).tx+=.5*d,h.ty+=.5*f,h.changedDirty=!0;if(0==(D=(h=backend_Draw._modelViewTransform).a*h.d-h.b*h.c))h.a=h.b=h.c=h.d=0,h.tx=-h.tx,h.ty=-h.ty;else{D=1/D;b=h.d*D;h.d=h.a*D,h.a=b,h.b*=-D,h.c*=-D;y=-h.a*h.tx-h.c*h.ty;h.ty=-h.b*h.tx-h.d*h.ty,h.tx=y}h.changedDirty=!0;var g=backend_Draw._modelViewMatrix,O=backend_Draw._modelViewTransform;g[0]=O.a,g[4]=O.c,g[8]=0,g[12]=O.tx,g[1]=O.b,g[5]=O.d,g[9]=0,g[13]=O.ty,g[2]=0,g[6]=0,g[10]=1,g[14]=0,g[3]=0,g[7]=0,g[11]=0,g[15]=1,backend_Draw._viewportDensity=e.density,backend_Draw._viewportWidth=e.width*backend_Draw._viewportDensity,backend_Draw._viewportHeight=e.height*backend_Draw._viewportDensity,clay_opengl_web_GL.gl.viewport(0,0,e.width*e.density|0,e.height*e.density|0),e.clearOnRender&&(clay_opengl_GLGraphics.clear((backend_Draw._blackTransparentColor>>16&255)/255,(backend_Draw._blackTransparentColor>>8&255)/255,(255&backend_Draw._blackTransparentColor)/255,(backend_Draw._blackTransparentColor>>24&255)/255),backend_Draw._didUpdateCurrentRenderTarget=!0)}else{null!=(e=null)?(clay_opengl_GLGraphics.bindFramebuffer(e.framebuffer),clay_opengl_GLGraphics.bindRenderbuffer(e.renderbuffer)):(clay_opengl_GLGraphics.bindFramebuffer(null),clay_opengl_GLGraphics.bindRenderbuffer(null));var x,v,m,w,U,C,T;s=0,r=0,l=((x=clay_Clay.app.screenWidth)+s)/(U=x-s),a=(r+(v=clay_Clay.app.screenHeight))/(C=r-v),o=((w=-1e3)+(m=1e3))/(T=w-m);(g=backend_Draw._projectionMatrix)[0]=2/U,g[4]=0,g[8]=0,g[12]=-l,g[1]=0,g[5]=2/C,g[9]=0,g[13]=-a,g[2]=0,g[6]=0,g[10]=-2/T,g[14]=-o,g[3]=0,g[7]=0,g[11]=0,g[15]=1;_=clay_Clay.app.screenDensity,d=clay_Clay.app.screenWidth,f=clay_Clay.app.screenHeight;if(null!=(O=ceramic_App.app.screen.matrix)){if((h=backend_Draw._modelViewTransform).a=O.a,h.b=O.b,h.c=O.c,h.d=O.d,h.tx=O.tx,h.ty=O.ty,h.changedDirty=!0,0==(D=(h=backend_Draw._modelViewTransform).a*h.d-h.b*h.c))h.a=h.b=h.c=h.d=0,h.tx=-h.tx,h.ty=-h.ty;else{D=1/D;b=h.d*D;h.d=h.a*D,h.a=b,h.b*=-D,h.c*=-D;y=-h.a*h.tx-h.c*h.ty;h.ty=-h.b*h.tx-h.d*h.ty,h.tx=y}h.changedDirty=!0}else{(h=backend_Draw._modelViewTransform).a=1,h.b=0,h.c=0,h.d=1,h.tx=0,h.ty=0,h.changedDirty=!0}var D;l=backend_Draw._modelViewTransform.tx,a=backend_Draw._modelViewTransform.ty;if((h=backend_Draw._modelViewTransform).tx+=-l,h.ty+=-a,h.changedDirty=!0,(h=backend_Draw._modelViewTransform).a*=_,h.b*=_,h.c*=_,h.d*=_,h.tx*=_,h.ty*=_,h.changedDirty=!0,(h=backend_Draw._modelViewTransform).tx+=l,h.ty+=a,h.changedDirty=!0,0==(D=(h=backend_Draw._modelViewTransform).a*h.d-h.b*h.c))h.a=h.b=h.c=h.d=0,h.tx=-h.tx,h.ty=-h.ty;else{D=1/D;b=h.d*D;h.d=h.a*D,h.a=b,h.b*=-D,h.c*=-D;y=-h.a*h.tx-h.c*h.ty;h.ty=-h.b*h.tx-h.d*h.ty,h.tx=y}h.changedDirty=!0;g=backend_Draw._modelViewMatrix,O=backend_Draw._modelViewTransform;g[0]=O.a,g[4]=O.c,g[8]=0,g[12]=O.tx,g[1]=O.b,g[5]=O.d,g[9]=0,g[13]=O.ty,g[2]=0,g[6]=0,g[10]=1,g[14]=0,g[3]=0,g[7]=0,g[11]=0,g[15]=1,backend_Draw._viewportDensity=clay_Clay.app.screenDensity,backend_Draw._viewportWidth=clay_Clay.app.screenWidth*backend_Draw._viewportDensity,backend_Draw._viewportHeight=clay_Clay.app.screenHeight*backend_Draw._viewportDensity,clay_opengl_web_GL.gl.viewport(0,0,0|backend_Draw._viewportWidth,0|backend_Draw._viewportHeight)}}},useShader:function(e){backend_Draw._activeShader=e,e.uniforms.setMatrix4("projectionMatrix",backend_Draw._projectionMatrix),e.uniforms.setMatrix4("modelViewMatrix",backend_Draw._modelViewMatrix);var n=ceramic_App.app.backend.shaders,t=0,i=backend_Draw._activeShader.customAttributes;if(null!=i)for(var s=0,r=i.length;s<r;){t+=i[s++].size}backend_Draw._floatAttributesSize=t,backend_Draw._batchMultiTexture=n.canBatchWithMultipleTextures(backend_Draw._activeShader),backend_Draw._vertexSize=3+backend_Draw._floatAttributesSize+(backend_Draw._batchMultiTexture?1:0),backend_Draw._posSize=backend_Draw._vertexSize,backend_Draw._vertexSize<4&&(backend_Draw._vertexSize=4),backend_Draw._maxVerts=0|Math.floor(65536/backend_Draw._vertexSize),e.activate(),0==backend_Draw._numPos&&(backend_Draw._numIndices=0,backend_Draw._numPos=0,backend_Draw._numUVs=0,backend_Draw._numColors=0,backend_Draw._posIndex=0,backend_Draw._uvIndex=0,backend_Draw._colorIndex=0)},resetIndexes:function(){backend_Draw._numIndices=0,backend_Draw._numPos=0,backend_Draw._numUVs=0,backend_Draw._numColors=0,backend_Draw._posIndex=0,backend_Draw._uvIndex=0,backend_Draw._colorIndex=0},setBlendFuncSeparate:function(e,n,t,i){clay_opengl_web_GL.gl.blendFuncSeparate(e,n,t,i)},beginDrawQuad:function(e){},endDrawQuad:function(){},beginDrawMesh:function(e){},endDrawMesh:function(){},enableScissor:function(e,n,t,i){clay_opengl_web_GL.gl.enable(3089);var s,r=backend_Draw._viewportDensity,l=(e*(s=backend_Draw._modelViewTransform).a+n*s.c+s.tx)*r,a=(e*(s=backend_Draw._modelViewTransform).b+n*s.d+s.ty)*r,o=((e+t)*(s=backend_Draw._modelViewTransform).a+(n+i)*s.c+s.tx)*r,h=((e+t)*(s=backend_Draw._modelViewTransform).b+(n+i)*s.d+s.ty)*r;null!=backend_Draw._currentRenderTarget?clay_opengl_web_GL.gl.scissor(Math.round(l),Math.round(backend_Draw._viewportHeight-a),Math.round(o-l),Math.round(a-h)):clay_opengl_web_GL.gl.scissor(Math.round(l),Math.round(backend_Draw._viewportHeight-h),Math.round(o-l),Math.round(h-a))},disableScissor:function(){clay_opengl_web_GL.gl.disable(3089)},drawWithStencilTest:function(){clay_opengl_web_GL.gl.stencilFunc(514,1,255),clay_opengl_web_GL.gl.stencilMask(0),clay_opengl_web_GL.gl.colorMask(!0,!0,!0,!0),clay_opengl_web_GL.gl.enable(2960)},drawWithoutStencilTest:function(){clay_opengl_web_GL.gl.stencilFunc(519,1,255),clay_opengl_web_GL.gl.stencilMask(255),clay_opengl_web_GL.gl.colorMask(!0,!0,!0,!0),clay_opengl_web_GL.gl.disable(2960)},beginDrawingInStencilBuffer:function(){backend_Draw._drawingInStencilBuffer=!0,clay_opengl_web_GL.gl.stencilMask(255),clay_opengl_web_GL.gl.clearStencil(255),clay_opengl_web_GL.gl.clear(1024),clay_opengl_web_GL.gl.enable(2960),clay_opengl_web_GL.gl.stencilOp(7680,7680,7681),clay_opengl_web_GL.gl.stencilFunc(519,1,255),clay_opengl_web_GL.gl.stencilMask(255),clay_opengl_web_GL.gl.colorMask(!1,!1,!1,!1)},endDrawingInStencilBuffer:function(){backend_Draw._drawingInStencilBuffer=!1},bindTexture:function(e){var n=e.textureId;clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]!=n&&(clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]=n,clay_opengl_web_GL.gl.bindTexture(3553,n))},bindNoTexture:function(){var e=ceramic_App.app.defaultWhiteTexture.backendItem.textureId;clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]!=e&&(clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]=e,clay_opengl_web_GL.gl.bindTexture(3553,e))},textureBackendItemMatchesId:function(e,n){return e.textureId==n},getTextureId:function(e){return e.textureId},getTextureWidth:function(e){return e.width},getTextureHeight:function(e){return e.height},getTextureWidthActual:function(e){return e.widthActual},getTextureHeightActual:function(e){return e.heightActual},updateProjectionMatrix:function(e,n){var t=e-0,i=0-n,s=(e+0)/t,r=(0+n)/i,l=backend_Draw._projectionMatrix;l[0]=2/t,l[4]=0,l[8]=0,l[12]=-s,l[1]=0,l[5]=2/i,l[9]=0,l[13]=-r,l[2]=0,l[6]=0,l[10]=.001,l[14]=0,l[3]=0,l[7]=0,l[11]=0,l[15]=1},updateViewMatrix:function(e,n,t,i,s){if(null==s&&(s=1),null!=i){if((a=backend_Draw._modelViewTransform).a=i.a,a.b=i.b,a.c=i.c,a.d=i.d,a.tx=i.tx,a.ty=i.ty,a.changedDirty=!0,0==(o=(a=backend_Draw._modelViewTransform).a*a.d-a.b*a.c))a.a=a.b=a.c=a.d=0,a.tx=-a.tx,a.ty=-a.ty;else{o=1/o;var r=a.d*o;a.d=a.a*o,a.a=r,a.b*=-o,a.c*=-o;var l=-a.a*a.tx-a.c*a.ty;a.ty=-a.b*a.tx-a.d*a.ty,a.tx=l}a.changedDirty=!0}else{(a=backend_Draw._modelViewTransform).a=1,a.b=0,a.c=0,a.d=1,a.tx=0,a.ty=0,a.changedDirty=!0}var a,o,h=backend_Draw._modelViewTransform.tx,c=backend_Draw._modelViewTransform.ty;((a=backend_Draw._modelViewTransform).tx+=-h,a.ty+=-c,a.changedDirty=!0,(a=backend_Draw._modelViewTransform).a*=e,a.b*=e,a.c*=e,a.d*=e,a.tx*=e,a.ty*=e,a.changedDirty=!0,(a=backend_Draw._modelViewTransform).tx+=h,a.ty+=c,a.changedDirty=!0,-1==s)&&((a=backend_Draw._modelViewTransform).tx+=.5*-n,a.ty+=.5*-t,a.changedDirty=!0,(a=backend_Draw._modelViewTransform).a*=1,a.b*=-1,a.c*=1,a.d*=-1,a.tx*=1,a.ty*=-1,a.changedDirty=!0,(a=backend_Draw._modelViewTransform).tx+=.5*n,a.ty+=.5*t,a.changedDirty=!0);if(0==(o=(a=backend_Draw._modelViewTransform).a*a.d-a.b*a.c))a.a=a.b=a.c=a.d=0,a.tx=-a.tx,a.ty=-a.ty;else{o=1/o;r=a.d*o;a.d=a.a*o,a.a=r,a.b*=-o,a.c*=-o;l=-a.a*a.tx-a.c*a.ty;a.ty=-a.b*a.tx-a.d*a.ty,a.tx=l}a.changedDirty=!0;var u=backend_Draw._modelViewMatrix;i=backend_Draw._modelViewTransform;u[0]=i.a,u[4]=i.c,u[8]=0,u[12]=i.tx,u[1]=i.b,u[5]=i.d,u[9]=0,u[13]=i.ty,u[2]=0,u[6]=0,u[10]=1,u[14]=0,u[3]=0,u[7]=0,u[11]=0,u[15]=1},matrixIdentity:function(e){e[0]=1,e[4]=0,e[8]=0,e[12]=0,e[1]=0,e[5]=1,e[9]=0,e[13]=0,e[2]=0,e[6]=0,e[10]=1,e[14]=0,e[3]=0,e[7]=0,e[11]=0,e[15]=1},setMatrixToTransform:function(e,n){e[0]=n.a,e[4]=n.c,e[8]=0,e[12]=n.tx,e[1]=n.b,e[5]=n.d,e[9]=0,e[13]=n.ty,e[2]=0,e[6]=0,e[10]=1,e[14]=0,e[3]=0,e[7]=0,e[11]=0,e[15]=1},getNumPos:function(){return backend_Draw._numPos},putPos:function(e,n,t){backend_Draw._posList[backend_Draw._posIndex]=e,backend_Draw._posList[backend_Draw._posIndex+1]=n,backend_Draw._posList[backend_Draw._posIndex+2]=t,backend_Draw._posIndex+=3,backend_Draw._numPos++},putPosAndTextureSlot:function(e,n,t,i){backend_Draw._posList[backend_Draw._posIndex]=e,backend_Draw._posList[backend_Draw._posIndex+1]=n,backend_Draw._posList[backend_Draw._posIndex+2]=t,backend_Draw._posList[backend_Draw._posIndex+3]=i,backend_Draw._posIndex+=4,backend_Draw._numPos++},beginFloatAttributes:function(){},putFloatAttribute:function(e,n){backend_Draw._posList[backend_Draw._posIndex+e]=n},endFloatAttributes:function(){backend_Draw._posIndex+=backend_Draw._floatAttributesSize},putIndice:function(e){backend_Draw._indiceList[backend_Draw._numIndices]=e,backend_Draw._numIndices++},putUVs:function(e,n){backend_Draw._uvList[backend_Draw._uvIndex]=e,backend_Draw._uvList[backend_Draw._uvIndex+1]=n,backend_Draw._uvIndex+=2,backend_Draw._numUVs++},putColor:function(e,n,t,i){backend_Draw._colorList[backend_Draw._colorIndex]=e,backend_Draw._colorList[backend_Draw._colorIndex+1]=n,backend_Draw._colorList[backend_Draw._colorIndex+2]=t,backend_Draw._colorList[backend_Draw._colorIndex+3]=i,backend_Draw._colorIndex+=4,backend_Draw._numColors++},hasAnythingToFlush:function(){return backend_Draw._numPos>0},shouldFlush:function(e,n,t){return!(backend_Draw._numPos+e<=backend_Draw._maxVerts)||backend_Draw._numIndices+n>16384},remainingVertices:function(){return backend_Draw._maxVerts-backend_Draw._numPos},remainingIndices:function(){return 16384-backend_Draw._numIndices},flush:function(){var e=backend_Draw._batchMultiTexture,n=new Float32Array(backend_Draw._posList.buffer,0,4*backend_Draw._posIndex/4|0),t=new Float32Array(backend_Draw._uvList.buffer,0,4*backend_Draw._uvIndex/4|0),i=new Float32Array(backend_Draw._colorList.buffer,0,4*backend_Draw._colorIndex/4|0),s=new Uint16Array(backend_Draw._indiceList.buffer,0,2*backend_Draw._numIndices/2|0),r=clay_opengl_web_GL.gl.createBuffer(),l=clay_opengl_web_GL.gl.createBuffer(),a=clay_opengl_web_GL.gl.createBuffer(),o=clay_opengl_web_GL.gl.createBuffer();clay_opengl_web_GL.gl.enableVertexAttribArray(0),clay_opengl_web_GL.gl.enableVertexAttribArray(1),clay_opengl_web_GL.gl.enableVertexAttribArray(2),clay_opengl_web_GL.gl.bindBuffer(34962,r),clay_opengl_web_GL.gl.vertexAttribPointer(0,3,5126,!1,4*backend_Draw._posSize,0),clay_opengl_web_GL.gl.bufferData(34962,n,35040),clay_opengl_web_GL.gl.bindBuffer(34962,a),clay_opengl_web_GL.gl.vertexAttribPointer(1,2,5126,!1,0,0),clay_opengl_web_GL.gl.bufferData(34962,t,35040),clay_opengl_web_GL.gl.bindBuffer(34962,l),clay_opengl_web_GL.gl.vertexAttribPointer(2,4,5126,!1,0,0),clay_opengl_web_GL.gl.bufferData(34962,i,35040);var h=3,c=3,u=0;if(e){var _=clay_opengl_web_GL.gl.createBuffer();backend_Draw._customGLBuffers[u++]=_,clay_opengl_web_GL.gl.enableVertexAttribArray(c),clay_opengl_web_GL.gl.bindBuffer(34962,_),clay_opengl_web_GL.gl.vertexAttribPointer(c,1,5126,!1,4*backend_Draw._posSize,4*h),clay_opengl_web_GL.gl.bufferData(34962,n,35040),++c,++h}if(null!=backend_Draw._activeShader&&null!=backend_Draw._activeShader.customAttributes){var d=backend_Draw._activeShader.customAttributes,f=u,p=f+d.length;u+=d.length;for(var b=f,y=p;b<y;){var g=d[(O=b++)-f];_=clay_opengl_web_GL.gl.createBuffer();backend_Draw._customGLBuffers[O]=_,clay_opengl_web_GL.gl.enableVertexAttribArray(c),clay_opengl_web_GL.gl.bindBuffer(34962,_),clay_opengl_web_GL.gl.vertexAttribPointer(c,g.size,5126,!1,4*backend_Draw._posSize,4*h),clay_opengl_web_GL.gl.bufferData(34962,n,35040),++c,h+=g.size}}if(clay_opengl_web_GL.gl.bindBuffer(34963,o),clay_opengl_web_GL.gl.bufferData(34963,s,35040),clay_opengl_web_GL.gl.drawElements(backend_Draw._primitiveType,backend_Draw._numIndices,5123,0),clay_opengl_web_GL.gl.deleteBuffer(r),clay_opengl_web_GL.gl.deleteBuffer(l),clay_opengl_web_GL.gl.deleteBuffer(a),u>0)for(c=3,b=0,y=u;b<y;){var O=b++;_=backend_Draw._customGLBuffers[O];clay_opengl_web_GL.gl.deleteBuffer(_),clay_opengl_web_GL.gl.disableVertexAttribArray(c),++c}clay_opengl_web_GL.gl.bindBuffer(34963,null),clay_opengl_web_GL.gl.deleteBuffer(o),null!=backend_Draw._currentRenderTarget&&(backend_Draw._didUpdateCurrentRenderTarget=!0),n=null,t=null,i=null,s=null,backend_Draw._numIndices=0,backend_Draw._numPos=0,backend_Draw._numUVs=0,backend_Draw._numColors=0,backend_Draw._posIndex=0,backend_Draw._uvIndex=0,backend_Draw._colorIndex=0,this.prepareNextBuffers()},__class__:backend_Draw};var backend_ElectronRunner=function(){};t["backend.ElectronRunner"]=backend_ElectronRunner,backend_ElectronRunner.__name__="backend.ElectronRunner";var spec_IO=function(){};t["spec.IO"]=spec_IO,spec_IO.__name__="spec.IO",spec_IO.__isInterface__=!0,spec_IO.prototype={__class__:spec_IO};var backend_IO=function(){};t["backend.IO"]=backend_IO,backend_IO.__name__="backend.IO",backend_IO.__interfaces__=[spec_IO],backend_IO.prototype={initKeyValueIfNeeded:function(){},saveString:function(e,n){try{var t=window.localStorage;if(null==t)return ceramic_App.app.logger.error("Cannot save string: localStorage not supported on this browser",{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:200,className:"backend.IO",methodName:"saveString"}),!1;t.setItem(e,ceramic_HashedString.encode(n))}catch(n){var i=haxe_Exception.caught(n).unwrap();return ceramic_App.app.logger.error("Failed to save string (key="+e+"): "+Std.string(i),{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:207,className:"backend.IO",methodName:"saveString"}),!1}return!0},appendString:function(e,n){try{var t=window.localStorage;if(null==t)return ceramic_App.app.logger.error("Cannot append string: localStorage not supported on this browser",{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:220,className:"backend.IO",methodName:"appendString"}),!1;var i=t.getItem(e);null==i?t.setItem(e,ceramic_HashedString.encode(n)):t.setItem(e,i+ceramic_HashedString.encode(n))}catch(n){var s=haxe_Exception.caught(n).unwrap();return ceramic_App.app.logger.error("Failed to append string (key="+e+"): "+Std.string(s),{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:233,className:"backend.IO",methodName:"appendString"}),!1}return!0},readString:function(e){try{var n=window.localStorage;if(null==n)return ceramic_App.app.logger.error("Cannot read string: localStorage not supported on this browser",{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:246,className:"backend.IO",methodName:"readString"}),null;var t=n.getItem(e);return null!=t?ceramic_HashedString.decode(t):null}catch(n){var i=haxe_Exception.caught(n).unwrap();return ceramic_App.app.logger.error("Failed to read string (key="+e+"): "+Std.string(i),{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/IO.hx",lineNumber:254,className:"backend.IO",methodName:"readString"}),null}},__class__:backend_IO};var spec_Info=function(){};t["spec.Info"]=spec_Info,spec_Info.__name__="spec.Info",spec_Info.__isInterface__=!0,spec_Info.prototype={__class__:spec_Info};var backend_Info=function(){};t["backend.Info"]=backend_Info,backend_Info.__name__="backend.Info",backend_Info.__interfaces__=[spec_Info],backend_Info.prototype={storageDirectory:function(){return null},imageExtensions:function(){return["png","jpg","jpeg"]},textExtensions:function(){return["txt","json","fnt","atlas"]},soundExtensions:function(){if(null!=backend_Info._soundExtensions)return[].concat(backend_Info._soundExtensions);backend_Info._soundExtensions=[];var n=new Audio,t=null!=e.navigator?e.navigator.userAgent:"",i=backend_Info.RE_OPERA.match(t)&&parseInt(backend_Info.RE_OPERA.matched(0).split("/")[1],10)<33,s=-1!=t.indexOf("Safari")&&-1==t.indexOf("Chrome"),r=backend_Info.RE_SAFARI_VERSION.match(t),l=(s&&r&&parseInt(backend_Info.RE_SAFARI_VERSION.matched(1),10),n.canPlayType('audio/ogg; codecs="vorbis"'));null!=l&&"no"!=l&&""!=l&&backend_Info._soundExtensions.push("ogg");var a=n.canPlayType("audio/mpeg;"),o=n.canPlayType("audio/mp3;");!i&&(null!=a&&"no"!=a&&""!=a||null!=o&&"no"!=o&&""!=o)&&backend_Info._soundExtensions.push("mp3");var h=n.canPlayType("audio/x-flac;"),c=n.canPlayType("audio/flac;");(null!=h&&"no"!=h&&""!=h||null!=c&&"no"!=c&&""!=c)&&backend_Info._soundExtensions.push("flac");var u=n.canPlayType('audio/wav; codecs="1"'),_=n.canPlayType("audio/wav;");return(null!=u&&"no"!=u&&""!=u||null!=_&&"no"!=_&&""!=_)&&backend_Info._soundExtensions.push("wav"),[].concat(backend_Info._soundExtensions)},shaderExtensions:function(){return["frag","vert"]},__class__:backend_Info};var spec_Input=function(){};t["spec.Input"]=spec_Input,spec_Input.__name__="spec.Input",spec_Input.__isInterface__=!0;var backend_Input=function(){};t["backend.Input"]=backend_Input,backend_Input.__name__="backend.Input",backend_Input.__interfaces__=[spec_Input,tracker_Events],backend_Input.prototype={emitKeyDown:function(e){var n=0;if(null!=this.__cbOnKeyDown&&(n+=this.__cbOnKeyDown.length),null!=this.__cbOnceKeyDown&&(n+=this.__cbOnceKeyDown.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnKeyDown)for(var r=0,l=this.__cbOnKeyDown.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnKeyDown[a],++s):--n}if(null!=this.__cbOnceKeyDown){var o=null,h=null;for(r=0,l=this.__cbOnceKeyDown.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceKeyDown[a],this.__cbOnceKeyDown[a]=null;var c=this.__cbOnceOwnerUnbindKeyDown[a];this.__cbOnceOwnerUnbindKeyDown[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindKeyDown[a]),h.push(this.__cbOnceKeyDown[a])}this.__cbOnceOwnerUnbindKeyDown=o,this.__cbOnceKeyDown=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onKeyDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event keyDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offKeyDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindKeyDown&&(this.__cbOnOwnerUnbindKeyDown=[]),this.__cbOnOwnerUnbindKeyDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindKeyDown&&(this.__cbOnOwnerUnbindKeyDown=[]),this.__cbOnOwnerUnbindKeyDown.push(null);null==this.__cbOnKeyDown&&(this.__cbOnKeyDown=[]),this.__cbOnKeyDown.push(n)},onceKeyDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event keyDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offKeyDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindKeyDown&&(this.__cbOnceOwnerUnbindKeyDown=[]),this.__cbOnceOwnerUnbindKeyDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindKeyDown&&(this.__cbOnceOwnerUnbindKeyDown=[]),this.__cbOnceOwnerUnbindKeyDown.push(null);null==this.__cbOnceKeyDown&&(this.__cbOnceKeyDown=[]),this.__cbOnceKeyDown.push(n)},offKeyDown:function(e){if(null!=e){var n;null!=this.__cbOnKeyDown&&-1!=(n=this.__cbOnKeyDown.indexOf(e))&&(this.__cbOnKeyDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindKeyDown[n])&&r(),this.__cbOnOwnerUnbindKeyDown.splice(n,1)),null!=this.__cbOnceKeyDown&&-1!=(n=this.__cbOnceKeyDown.indexOf(e))&&(this.__cbOnceKeyDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindKeyDown[n])&&r(),this.__cbOnceOwnerUnbindKeyDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindKeyDown){for(var t=0,i=this.__cbOnOwnerUnbindKeyDown.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindKeyDown[s])&&r()}this.__cbOnOwnerUnbindKeyDown=null}if(null!=this.__cbOnceOwnerUnbindKeyDown){for(t=0,i=this.__cbOnceOwnerUnbindKeyDown.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindKeyDown[s])&&r()}this.__cbOnceOwnerUnbindKeyDown=null}this.__cbOnKeyDown=null,this.__cbOnceKeyDown=null}},listensKeyDown:function(){return null!=this.__cbOnKeyDown&&this.__cbOnKeyDown.length>0||null!=this.__cbOnceKeyDown&&this.__cbOnceKeyDown.length>0},emitKeyUp:function(e){var n=0;if(null!=this.__cbOnKeyUp&&(n+=this.__cbOnKeyUp.length),null!=this.__cbOnceKeyUp&&(n+=this.__cbOnceKeyUp.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnKeyUp)for(var r=0,l=this.__cbOnKeyUp.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnKeyUp[a],++s):--n}if(null!=this.__cbOnceKeyUp){var o=null,h=null;for(r=0,l=this.__cbOnceKeyUp.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceKeyUp[a],this.__cbOnceKeyUp[a]=null;var c=this.__cbOnceOwnerUnbindKeyUp[a];this.__cbOnceOwnerUnbindKeyUp[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindKeyUp[a]),h.push(this.__cbOnceKeyUp[a])}this.__cbOnceOwnerUnbindKeyUp=o,this.__cbOnceKeyUp=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onKeyUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event keyUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offKeyUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindKeyUp&&(this.__cbOnOwnerUnbindKeyUp=[]),this.__cbOnOwnerUnbindKeyUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindKeyUp&&(this.__cbOnOwnerUnbindKeyUp=[]),this.__cbOnOwnerUnbindKeyUp.push(null);null==this.__cbOnKeyUp&&(this.__cbOnKeyUp=[]),this.__cbOnKeyUp.push(n)},onceKeyUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event keyUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offKeyUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindKeyUp&&(this.__cbOnceOwnerUnbindKeyUp=[]),this.__cbOnceOwnerUnbindKeyUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindKeyUp&&(this.__cbOnceOwnerUnbindKeyUp=[]),this.__cbOnceOwnerUnbindKeyUp.push(null);null==this.__cbOnceKeyUp&&(this.__cbOnceKeyUp=[]),this.__cbOnceKeyUp.push(n)},offKeyUp:function(e){if(null!=e){var n;null!=this.__cbOnKeyUp&&-1!=(n=this.__cbOnKeyUp.indexOf(e))&&(this.__cbOnKeyUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindKeyUp[n])&&r(),this.__cbOnOwnerUnbindKeyUp.splice(n,1)),null!=this.__cbOnceKeyUp&&-1!=(n=this.__cbOnceKeyUp.indexOf(e))&&(this.__cbOnceKeyUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindKeyUp[n])&&r(),this.__cbOnceOwnerUnbindKeyUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindKeyUp){for(var t=0,i=this.__cbOnOwnerUnbindKeyUp.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindKeyUp[s])&&r()}this.__cbOnOwnerUnbindKeyUp=null}if(null!=this.__cbOnceOwnerUnbindKeyUp){for(t=0,i=this.__cbOnceOwnerUnbindKeyUp.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindKeyUp[s])&&r()}this.__cbOnceOwnerUnbindKeyUp=null}this.__cbOnKeyUp=null,this.__cbOnceKeyUp=null}},listensKeyUp:function(){return null!=this.__cbOnKeyUp&&this.__cbOnKeyUp.length>0||null!=this.__cbOnceKeyUp&&this.__cbOnceKeyUp.length>0},emitGamepadAxis:function(e,n,t){var i=0;if(null!=this.__cbOnGamepadAxis&&(i+=this.__cbOnGamepadAxis.length),null!=this.__cbOnceGamepadAxis&&(i+=this.__cbOnceGamepadAxis.length),i>0){var s=ceramic_ArrayPool.pool(i),r=s.get(),l=0;if(null!=this.__cbOnGamepadAxis)for(var a=0,o=this.__cbOnGamepadAxis.length;a<o;){var h=a++;!0?(r.vector[l]=this.__cbOnGamepadAxis[h],++l):--i}if(null!=this.__cbOnceGamepadAxis){var c=null,u=null;for(a=0,o=this.__cbOnceGamepadAxis.length;a<o;){h=a++;if(!0){r.vector[l]=this.__cbOnceGamepadAxis[h],this.__cbOnceGamepadAxis[h]=null;var _=this.__cbOnceOwnerUnbindGamepadAxis[h];this.__cbOnceOwnerUnbindGamepadAxis[h]=null,null!=_&&_(),++l}else--i,null==c&&(c=[],u=[],[]),c.push(this.__cbOnceOwnerUnbindGamepadAxis[h]),u.push(this.__cbOnceGamepadAxis[h])}this.__cbOnceOwnerUnbindGamepadAxis=c,this.__cbOnceGamepadAxis=u}for(a=0,o=i;a<o;){l=a++;(0,r.vector[l])(e,n,t)}s.release(r),r=null}},onGamepadAxis:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadAxis because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadAxis(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadAxis&&(this.__cbOnOwnerUnbindGamepadAxis=[]),this.__cbOnOwnerUnbindGamepadAxis.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadAxis&&(this.__cbOnOwnerUnbindGamepadAxis=[]),this.__cbOnOwnerUnbindGamepadAxis.push(null);null==this.__cbOnGamepadAxis&&(this.__cbOnGamepadAxis=[]),this.__cbOnGamepadAxis.push(n)},onceGamepadAxis:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadAxis because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadAxis(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadAxis&&(this.__cbOnceOwnerUnbindGamepadAxis=[]),this.__cbOnceOwnerUnbindGamepadAxis.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadAxis&&(this.__cbOnceOwnerUnbindGamepadAxis=[]),this.__cbOnceOwnerUnbindGamepadAxis.push(null);null==this.__cbOnceGamepadAxis&&(this.__cbOnceGamepadAxis=[]),this.__cbOnceGamepadAxis.push(n)},offGamepadAxis:function(e){if(null!=e){var n;null!=this.__cbOnGamepadAxis&&-1!=(n=this.__cbOnGamepadAxis.indexOf(e))&&(this.__cbOnGamepadAxis.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadAxis[n])&&r(),this.__cbOnOwnerUnbindGamepadAxis.splice(n,1)),null!=this.__cbOnceGamepadAxis&&-1!=(n=this.__cbOnceGamepadAxis.indexOf(e))&&(this.__cbOnceGamepadAxis.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadAxis[n])&&r(),this.__cbOnceOwnerUnbindGamepadAxis.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadAxis){for(var t=0,i=this.__cbOnOwnerUnbindGamepadAxis.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindGamepadAxis[s])&&r()}this.__cbOnOwnerUnbindGamepadAxis=null}if(null!=this.__cbOnceOwnerUnbindGamepadAxis){for(t=0,i=this.__cbOnceOwnerUnbindGamepadAxis.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadAxis[s])&&r()}this.__cbOnceOwnerUnbindGamepadAxis=null}this.__cbOnGamepadAxis=null,this.__cbOnceGamepadAxis=null}},listensGamepadAxis:function(){return null!=this.__cbOnGamepadAxis&&this.__cbOnGamepadAxis.length>0||null!=this.__cbOnceGamepadAxis&&this.__cbOnceGamepadAxis.length>0},emitGamepadDown:function(e,n){var t=0;if(null!=this.__cbOnGamepadDown&&(t+=this.__cbOnGamepadDown.length),null!=this.__cbOnceGamepadDown&&(t+=this.__cbOnceGamepadDown.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnGamepadDown)for(var l=0,a=this.__cbOnGamepadDown.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnGamepadDown[o],++r):--t}if(null!=this.__cbOnceGamepadDown){var h=null,c=null;for(l=0,a=this.__cbOnceGamepadDown.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceGamepadDown[o],this.__cbOnceGamepadDown[o]=null;var u=this.__cbOnceOwnerUnbindGamepadDown[o];this.__cbOnceOwnerUnbindGamepadDown[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindGamepadDown[o]),c.push(this.__cbOnceGamepadDown[o])}this.__cbOnceOwnerUnbindGamepadDown=h,this.__cbOnceGamepadDown=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onGamepadDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadDown&&(this.__cbOnOwnerUnbindGamepadDown=[]),this.__cbOnOwnerUnbindGamepadDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadDown&&(this.__cbOnOwnerUnbindGamepadDown=[]),this.__cbOnOwnerUnbindGamepadDown.push(null);null==this.__cbOnGamepadDown&&(this.__cbOnGamepadDown=[]),this.__cbOnGamepadDown.push(n)},onceGamepadDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadDown&&(this.__cbOnceOwnerUnbindGamepadDown=[]),this.__cbOnceOwnerUnbindGamepadDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadDown&&(this.__cbOnceOwnerUnbindGamepadDown=[]),this.__cbOnceOwnerUnbindGamepadDown.push(null);null==this.__cbOnceGamepadDown&&(this.__cbOnceGamepadDown=[]),this.__cbOnceGamepadDown.push(n)},offGamepadDown:function(e){if(null!=e){var n;null!=this.__cbOnGamepadDown&&-1!=(n=this.__cbOnGamepadDown.indexOf(e))&&(this.__cbOnGamepadDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadDown[n])&&r(),this.__cbOnOwnerUnbindGamepadDown.splice(n,1)),null!=this.__cbOnceGamepadDown&&-1!=(n=this.__cbOnceGamepadDown.indexOf(e))&&(this.__cbOnceGamepadDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadDown[n])&&r(),this.__cbOnceOwnerUnbindGamepadDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadDown){for(var t=0,i=this.__cbOnOwnerUnbindGamepadDown.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindGamepadDown[s])&&r()}this.__cbOnOwnerUnbindGamepadDown=null}if(null!=this.__cbOnceOwnerUnbindGamepadDown){for(t=0,i=this.__cbOnceOwnerUnbindGamepadDown.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadDown[s])&&r()}this.__cbOnceOwnerUnbindGamepadDown=null}this.__cbOnGamepadDown=null,this.__cbOnceGamepadDown=null}},listensGamepadDown:function(){return null!=this.__cbOnGamepadDown&&this.__cbOnGamepadDown.length>0||null!=this.__cbOnceGamepadDown&&this.__cbOnceGamepadDown.length>0},emitGamepadUp:function(e,n){var t=0;if(null!=this.__cbOnGamepadUp&&(t+=this.__cbOnGamepadUp.length),null!=this.__cbOnceGamepadUp&&(t+=this.__cbOnceGamepadUp.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnGamepadUp)for(var l=0,a=this.__cbOnGamepadUp.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnGamepadUp[o],++r):--t}if(null!=this.__cbOnceGamepadUp){var h=null,c=null;for(l=0,a=this.__cbOnceGamepadUp.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceGamepadUp[o],this.__cbOnceGamepadUp[o]=null;var u=this.__cbOnceOwnerUnbindGamepadUp[o];this.__cbOnceOwnerUnbindGamepadUp[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindGamepadUp[o]),c.push(this.__cbOnceGamepadUp[o])}this.__cbOnceOwnerUnbindGamepadUp=h,this.__cbOnceGamepadUp=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onGamepadUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadUp&&(this.__cbOnOwnerUnbindGamepadUp=[]),this.__cbOnOwnerUnbindGamepadUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadUp&&(this.__cbOnOwnerUnbindGamepadUp=[]),this.__cbOnOwnerUnbindGamepadUp.push(null);null==this.__cbOnGamepadUp&&(this.__cbOnGamepadUp=[]),this.__cbOnGamepadUp.push(n)},onceGamepadUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadUp&&(this.__cbOnceOwnerUnbindGamepadUp=[]),this.__cbOnceOwnerUnbindGamepadUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadUp&&(this.__cbOnceOwnerUnbindGamepadUp=[]),this.__cbOnceOwnerUnbindGamepadUp.push(null);null==this.__cbOnceGamepadUp&&(this.__cbOnceGamepadUp=[]),this.__cbOnceGamepadUp.push(n)},offGamepadUp:function(e){if(null!=e){var n;null!=this.__cbOnGamepadUp&&-1!=(n=this.__cbOnGamepadUp.indexOf(e))&&(this.__cbOnGamepadUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadUp[n])&&r(),this.__cbOnOwnerUnbindGamepadUp.splice(n,1)),null!=this.__cbOnceGamepadUp&&-1!=(n=this.__cbOnceGamepadUp.indexOf(e))&&(this.__cbOnceGamepadUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadUp[n])&&r(),this.__cbOnceOwnerUnbindGamepadUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadUp){for(var t=0,i=this.__cbOnOwnerUnbindGamepadUp.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindGamepadUp[s])&&r()}this.__cbOnOwnerUnbindGamepadUp=null}if(null!=this.__cbOnceOwnerUnbindGamepadUp){for(t=0,i=this.__cbOnceOwnerUnbindGamepadUp.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadUp[s])&&r()}this.__cbOnceOwnerUnbindGamepadUp=null}this.__cbOnGamepadUp=null,this.__cbOnceGamepadUp=null}},listensGamepadUp:function(){return null!=this.__cbOnGamepadUp&&this.__cbOnGamepadUp.length>0||null!=this.__cbOnceGamepadUp&&this.__cbOnceGamepadUp.length>0},emitGamepadGyro:function(e,n,t,i){var s=0;if(null!=this.__cbOnGamepadGyro&&(s+=this.__cbOnGamepadGyro.length),null!=this.__cbOnceGamepadGyro&&(s+=this.__cbOnceGamepadGyro.length),s>0){var r=ceramic_ArrayPool.pool(s),l=r.get(),a=0;if(null!=this.__cbOnGamepadGyro)for(var o=0,h=this.__cbOnGamepadGyro.length;o<h;){var c=o++;!0?(l.vector[a]=this.__cbOnGamepadGyro[c],++a):--s}if(null!=this.__cbOnceGamepadGyro){var u=null,_=null;for(o=0,h=this.__cbOnceGamepadGyro.length;o<h;){c=o++;if(!0){l.vector[a]=this.__cbOnceGamepadGyro[c],this.__cbOnceGamepadGyro[c]=null;var d=this.__cbOnceOwnerUnbindGamepadGyro[c];this.__cbOnceOwnerUnbindGamepadGyro[c]=null,null!=d&&d(),++a}else--s,null==u&&(u=[],_=[],[]),u.push(this.__cbOnceOwnerUnbindGamepadGyro[c]),_.push(this.__cbOnceGamepadGyro[c])}this.__cbOnceOwnerUnbindGamepadGyro=u,this.__cbOnceGamepadGyro=_}for(o=0,h=s;o<h;){a=o++;(0,l.vector[a])(e,n,t,i)}r.release(l),l=null}},onGamepadGyro:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadGyro because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadGyro(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadGyro&&(this.__cbOnOwnerUnbindGamepadGyro=[]),this.__cbOnOwnerUnbindGamepadGyro.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadGyro&&(this.__cbOnOwnerUnbindGamepadGyro=[]),this.__cbOnOwnerUnbindGamepadGyro.push(null);null==this.__cbOnGamepadGyro&&(this.__cbOnGamepadGyro=[]),this.__cbOnGamepadGyro.push(n)},onceGamepadGyro:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadGyro because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadGyro(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadGyro&&(this.__cbOnceOwnerUnbindGamepadGyro=[]),this.__cbOnceOwnerUnbindGamepadGyro.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadGyro&&(this.__cbOnceOwnerUnbindGamepadGyro=[]),this.__cbOnceOwnerUnbindGamepadGyro.push(null);null==this.__cbOnceGamepadGyro&&(this.__cbOnceGamepadGyro=[]),this.__cbOnceGamepadGyro.push(n)},offGamepadGyro:function(e){if(null!=e){var n;null!=this.__cbOnGamepadGyro&&-1!=(n=this.__cbOnGamepadGyro.indexOf(e))&&(this.__cbOnGamepadGyro.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadGyro[n])&&r(),this.__cbOnOwnerUnbindGamepadGyro.splice(n,1)),null!=this.__cbOnceGamepadGyro&&-1!=(n=this.__cbOnceGamepadGyro.indexOf(e))&&(this.__cbOnceGamepadGyro.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadGyro[n])&&r(),this.__cbOnceOwnerUnbindGamepadGyro.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadGyro){for(var t=0,i=this.__cbOnOwnerUnbindGamepadGyro.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindGamepadGyro[s])&&r()}this.__cbOnOwnerUnbindGamepadGyro=null}if(null!=this.__cbOnceOwnerUnbindGamepadGyro){for(t=0,i=this.__cbOnceOwnerUnbindGamepadGyro.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadGyro[s])&&r()}this.__cbOnceOwnerUnbindGamepadGyro=null}this.__cbOnGamepadGyro=null,this.__cbOnceGamepadGyro=null}},listensGamepadGyro:function(){return null!=this.__cbOnGamepadGyro&&this.__cbOnGamepadGyro.length>0||null!=this.__cbOnceGamepadGyro&&this.__cbOnceGamepadGyro.length>0},emitGamepadEnable:function(e,n){var t=0;if(null!=this.__cbOnGamepadEnable&&(t+=this.__cbOnGamepadEnable.length),null!=this.__cbOnceGamepadEnable&&(t+=this.__cbOnceGamepadEnable.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnGamepadEnable)for(var l=0,a=this.__cbOnGamepadEnable.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnGamepadEnable[o],++r):--t}if(null!=this.__cbOnceGamepadEnable){var h=null,c=null;for(l=0,a=this.__cbOnceGamepadEnable.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceGamepadEnable[o],this.__cbOnceGamepadEnable[o]=null;var u=this.__cbOnceOwnerUnbindGamepadEnable[o];this.__cbOnceOwnerUnbindGamepadEnable[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindGamepadEnable[o]),c.push(this.__cbOnceGamepadEnable[o])}this.__cbOnceOwnerUnbindGamepadEnable=h,this.__cbOnceGamepadEnable=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onGamepadEnable:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadEnable because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadEnable(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadEnable&&(this.__cbOnOwnerUnbindGamepadEnable=[]),this.__cbOnOwnerUnbindGamepadEnable.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadEnable&&(this.__cbOnOwnerUnbindGamepadEnable=[]),this.__cbOnOwnerUnbindGamepadEnable.push(null);null==this.__cbOnGamepadEnable&&(this.__cbOnGamepadEnable=[]),this.__cbOnGamepadEnable.push(n)},onceGamepadEnable:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadEnable because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadEnable(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadEnable&&(this.__cbOnceOwnerUnbindGamepadEnable=[]),this.__cbOnceOwnerUnbindGamepadEnable.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadEnable&&(this.__cbOnceOwnerUnbindGamepadEnable=[]),this.__cbOnceOwnerUnbindGamepadEnable.push(null);null==this.__cbOnceGamepadEnable&&(this.__cbOnceGamepadEnable=[]),this.__cbOnceGamepadEnable.push(n)},offGamepadEnable:function(e){if(null!=e){var n;null!=this.__cbOnGamepadEnable&&-1!=(n=this.__cbOnGamepadEnable.indexOf(e))&&(this.__cbOnGamepadEnable.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadEnable[n])&&r(),this.__cbOnOwnerUnbindGamepadEnable.splice(n,1)),null!=this.__cbOnceGamepadEnable&&-1!=(n=this.__cbOnceGamepadEnable.indexOf(e))&&(this.__cbOnceGamepadEnable.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadEnable[n])&&r(),this.__cbOnceOwnerUnbindGamepadEnable.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadEnable){for(var t=0,i=this.__cbOnOwnerUnbindGamepadEnable.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindGamepadEnable[s])&&r()}this.__cbOnOwnerUnbindGamepadEnable=null}if(null!=this.__cbOnceOwnerUnbindGamepadEnable){for(t=0,i=this.__cbOnceOwnerUnbindGamepadEnable.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadEnable[s])&&r()}this.__cbOnceOwnerUnbindGamepadEnable=null}this.__cbOnGamepadEnable=null,this.__cbOnceGamepadEnable=null}},listensGamepadEnable:function(){return null!=this.__cbOnGamepadEnable&&this.__cbOnGamepadEnable.length>0||null!=this.__cbOnceGamepadEnable&&this.__cbOnceGamepadEnable.length>0},emitGamepadDisable:function(e){var n=0;if(null!=this.__cbOnGamepadDisable&&(n+=this.__cbOnGamepadDisable.length),null!=this.__cbOnceGamepadDisable&&(n+=this.__cbOnceGamepadDisable.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnGamepadDisable)for(var r=0,l=this.__cbOnGamepadDisable.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnGamepadDisable[a],++s):--n}if(null!=this.__cbOnceGamepadDisable){var o=null,h=null;for(r=0,l=this.__cbOnceGamepadDisable.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceGamepadDisable[a],this.__cbOnceGamepadDisable[a]=null;var c=this.__cbOnceOwnerUnbindGamepadDisable[a];this.__cbOnceOwnerUnbindGamepadDisable[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindGamepadDisable[a]),h.push(this.__cbOnceGamepadDisable[a])}this.__cbOnceOwnerUnbindGamepadDisable=o,this.__cbOnceGamepadDisable=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onGamepadDisable:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadDisable because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadDisable(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadDisable&&(this.__cbOnOwnerUnbindGamepadDisable=[]),this.__cbOnOwnerUnbindGamepadDisable.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadDisable&&(this.__cbOnOwnerUnbindGamepadDisable=[]),this.__cbOnOwnerUnbindGamepadDisable.push(null);null==this.__cbOnGamepadDisable&&(this.__cbOnGamepadDisable=[]),this.__cbOnGamepadDisable.push(n)},onceGamepadDisable:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadDisable because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadDisable(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadDisable&&(this.__cbOnceOwnerUnbindGamepadDisable=[]),this.__cbOnceOwnerUnbindGamepadDisable.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadDisable&&(this.__cbOnceOwnerUnbindGamepadDisable=[]),this.__cbOnceOwnerUnbindGamepadDisable.push(null);null==this.__cbOnceGamepadDisable&&(this.__cbOnceGamepadDisable=[]),this.__cbOnceGamepadDisable.push(n)},offGamepadDisable:function(e){if(null!=e){var n;null!=this.__cbOnGamepadDisable&&-1!=(n=this.__cbOnGamepadDisable.indexOf(e))&&(this.__cbOnGamepadDisable.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadDisable[n])&&r(),this.__cbOnOwnerUnbindGamepadDisable.splice(n,1)),null!=this.__cbOnceGamepadDisable&&-1!=(n=this.__cbOnceGamepadDisable.indexOf(e))&&(this.__cbOnceGamepadDisable.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadDisable[n])&&r(),this.__cbOnceOwnerUnbindGamepadDisable.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadDisable){for(var t=0,i=this.__cbOnOwnerUnbindGamepadDisable.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindGamepadDisable[s])&&r()}this.__cbOnOwnerUnbindGamepadDisable=null}if(null!=this.__cbOnceOwnerUnbindGamepadDisable){for(t=0,i=this.__cbOnceOwnerUnbindGamepadDisable.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadDisable[s])&&r()}this.__cbOnceOwnerUnbindGamepadDisable=null}this.__cbOnGamepadDisable=null,this.__cbOnceGamepadDisable=null}},listensGamepadDisable:function(){return null!=this.__cbOnGamepadDisable&&this.__cbOnGamepadDisable.length>0||null!=this.__cbOnceGamepadDisable&&this.__cbOnceGamepadDisable.length>0},startGamepadRumble:function(e,n,t,i){clay_Clay.app.runtime.startGamepadRumble(e,n,t,i)},stopGamepadRumble:function(e){clay_Clay.app.runtime.stopGamepadRumble(e)},unbindEvents:function(){this.offKeyDown(),this.offKeyUp(),this.offGamepadAxis(),this.offGamepadDown(),this.offGamepadUp(),this.offGamepadGyro(),this.offGamepadEnable(),this.offGamepadDisable()},__class__:backend_Input};var backend_Main=function(){};t["backend.Main"]=backend_Main,backend_Main.__name__="backend.Main",backend_Main.main=function(){backend_Main.events=new backend_ClayEvents(backend_Main.ready),new clay_Clay(backend_Main.configure,backend_Main.events)},backend_Main.configure=function(n){if(n.window.backgroundSleep=.016666666666666666,n.render.webgl.version=2,e.navigator.userAgent.toLowerCase().indexOf(" electron/")>-1)try{var t=require("electron").remote.require("./app.js");t.isCeramicRunner&&(backend_ElectronRunner.electronRunner=t)}catch(e){}if(null!=backend_ElectronRunner.electronRunner){document.getElementsByTagName("html")[0].className+=" in-electron-runner",ceramic_Logger._hasElectronRunner=!0;var i=console.log;console.log=function(e){backend_ElectronRunner.electronRunner.consoleLog(e),i(e)},window.addEventListener("error",(function(e){var n=e.error;if(n instanceof haxe_ValueException)n.get_stack();for(var t=(""+n.stack).split("\n"),i=t.length-1,s=-1!=navigator.platform.indexOf("Win");i>=0;){var r=t[i];r=StringTools.ltrim(r),r=StringTools.replace(r,"http://localhost:"+Std.string(backend_ElectronRunner.electronRunner.serverPort)+"/file:"+(s?"/":""),""),r=StringTools.replace(r,"http://localhost:"+Std.string(backend_ElectronRunner.electronRunner.serverPort)+"/",Std.string(backend_ElectronRunner.electronRunner.appFiles)+"/"),backend_ElectronRunner.electronRunner.consoleLog("[error] "+r),--i}}))}var s=ceramic_App.init();backend_Main.project=new Project(s),backend_Main.app=ceramic_App.app,n.runtime.preventDefaultMouseWheel=s.settings.get_preventDefaultMouseWheel(),backend_Main.app.settings.onPreventDefaultMouseWheelChange(backend_Main.app,(function(e,t){n.runtime.preventDefaultMouseWheel=e||backend_Main.app.numBlockingDefaultScroll>0})),n.runtime.preventDefaultTouches=s.settings.get_preventDefaultTouches(),backend_Main.app.settings.onPreventDefaultTouchesChange(backend_Main.app,(function(e,t){n.runtime.preventDefaultTouches=e||backend_Main.app.numBlockingDefaultScroll>0}));var r=backend_Main.app.numBlockingDefaultScroll;backend_Main.app.onPostUpdate(backend_Main.app,(function(e){var t=backend_Main.app.numBlockingDefaultScroll;if(r!=t){r=t;var i=backend_Main.app.settings.get_preventDefaultTouches()||t>0;n.runtime.preventDefaultTouches=i;i=backend_Main.app.settings.get_preventDefaultMouseWheel()||t>0;n.runtime.preventDefaultMouseWheel=i}})),null==backend_ElectronRunner.electronRunner&&backend_Main.app.settings.get_fullscreen()&&backend_Main.app.settings.set_fullscreen(!1),n.render.antialiasing=backend_Main.app.settings.antialiasing,backend_Main.app.settings.get_windowWidth()>0?n.window.width=backend_Main.app.settings.get_windowWidth():backend_Main.app.settings.get_targetWidth()>0&&(n.window.width=backend_Main.app.settings.get_targetWidth()),backend_Main.app.settings.get_windowHeight()>0?n.window.height=backend_Main.app.settings.get_windowHeight():backend_Main.app.settings.get_targetHeight()>0&&(n.window.height=backend_Main.app.settings.get_targetHeight()),n.window.fullscreen=backend_Main.app.settings.get_fullscreen(),n.window.resizable=backend_Main.app.settings.resizable,n.window.title=backend_Main.app.settings.get_title(),n.render.stencil=2,n.render.depth=16,backend_Main.configureOrientation(),null!=backend_Main.app.settings.backend.webParent?n.runtime.windowParent=backend_Main.app.settings.backend.webParent:n.runtime.windowParent=window.document.getElementById("ceramic-app"),n.runtime.mouseUseBrowserWindowEvents=!0,backend_Main.app.settings.backend.allowDefaultKeys&&(n.runtime.preventDefaultKeys=[]),backend_Main.containerElId=null!=backend_Main.app.settings.backend.webParent?backend_Main.app.settings.backend.webParent.id:"ceramic-app",backend_Main.containerWidth=0,backend_Main.containerHeight=0,backend_Main.containerPixelRatio=0,window.document.body.classList.add("ceramic-invisible"),window.requestAnimationFrame(backend_Main._updateContainerSizeIfNeeded),null!=backend_ElectronRunner.electronRunner&&(null!=backend_ElectronRunner.electronRunner.ceramicSettings&&backend_ElectronRunner.electronRunner.ceramicSettings({trace:function(e){},title:backend_Main.app.settings.get_title(),fullscreen:backend_Main.app.settings.get_fullscreen(),resizable:backend_Main.app.settings.resizable,targetWidth:backend_Main.app.settings.get_windowWidth()>0?backend_Main.app.settings.get_windowWidth():backend_Main.app.settings.get_targetWidth(),targetHeight:backend_Main.app.settings.get_windowHeight()>0?backend_Main.app.settings.get_windowHeight():backend_Main.app.settings.get_targetHeight()}),null!=backend_ElectronRunner.electronRunner.listenFullscreen&&backend_ElectronRunner.electronRunner.listenFullscreen((function(e){ceramic_App.app.settings.set_fullscreen(!0)}),(function(e){ceramic_App.app.settings.set_fullscreen(!1)})))},backend_Main._updateContainerSizeIfNeeded=function(e){null==e&&(e=.016);var n=window.document.getElementById(backend_Main.containerElId),t=window.document.getElementById("app");if(null!=n&&null!=t){var i=n.offsetWidth,s=n.offsetHeight,r=window.performance.now()/1e3;if(-1!=backend_Main.lastResizeTime&&(i!=backend_Main.lastNewWidth||s!=backend_Main.lastNewHeight))return-1==backend_Main.lastNewWidth&&-1==backend_Main.lastNewHeight||window.document.body.classList.add("ceramic-invisible"),backend_Main.lastResizeTime=r,backend_Main.lastNewWidth=i,backend_Main.lastNewHeight=s,void window.requestAnimationFrame(backend_Main._updateContainerSizeIfNeeded);if(-1!=backend_Main.lastResizeTime&&r-backend_Main.lastResizeTime<.1)return void window.requestAnimationFrame(backend_Main._updateContainerSizeIfNeeded);if(i!=backend_Main.containerWidth||s!=backend_Main.containerHeight||window.devicePixelRatio!=backend_Main.containerPixelRatio){backend_Main.containerWidth=i,backend_Main.containerHeight=s,backend_Main.containerPixelRatio=window.devicePixelRatio,t.style.width=backend_Main.containerWidth+"px",t.style.height=backend_Main.containerHeight+"px",t.width=Math.round(backend_Main.containerWidth*window.devicePixelRatio),t.height=Math.round(backend_Main.containerHeight*window.devicePixelRatio),backend_Main.resizing++,-1!=backend_Main.lastResizeTime&&window.document.body.classList.add("ceramic-invisible");var l;l=function(){0==backend_Main.resizing&&backend_Main.readyToDisplay&&window.document.body.classList.remove("ceramic-invisible")},window.setTimeout((function(){backend_Main.resizing--,l()}),100),backend_Main.lastResizeTime=r}}window.requestAnimationFrame(backend_Main._updateContainerSizeIfNeeded)},backend_Main._appLoaderCheckDisplayReady=function(e){backend_Main._displayReady?e():backend_Main._pendingDisplayReadyDone=e},backend_Main.ready=function(){backend_Main.app.backend.io.initKeyValueIfNeeded(),backend_Main._displayReady=!1,backend_Main.app.loaders.push(backend_Main._appLoaderCheckDisplayReady);clay_opengl_web_GL.gl.getExtension("OES_standard_derivatives");null!=backend_ElectronRunner.electronRunner&&backend_ElectronRunner.electronRunner.ceramicReady();var e=null;e=window.setInterval((function(){var n=null!=backend_Main.app.settings.backend.webParent?backend_Main.app.settings.backend.webParent.id:"ceramic-app",t=window.document.getElementById(n);if(window.document.getElementById("app").offsetWidth==t.offsetWidth&&(backend_Main.readyToDisplay=!0,window.clearInterval(e)),backend_Main.readyToDisplay&&(0==backend_Main.resizing&&window.document.body.classList.remove("ceramic-invisible"),backend_Main._displayReady=!0,null!=backend_Main._pendingDisplayReadyDone)){var i=backend_Main._pendingDisplayReadyDone;backend_Main._pendingDisplayReadyDone=null,i(),i=null}}),500)},backend_Main.configureOrientation=function(){};var spec_Screen=function(){};t["spec.Screen"]=spec_Screen,spec_Screen.__name__="spec.Screen",spec_Screen.__isInterface__=!0,spec_Screen.prototype={__class__:spec_Screen};var backend_Screen=function(){this.nextScreenshotIndex=0,this.didTryResumeAudioContext=!1};t["backend.Screen"]=backend_Screen,backend_Screen.__name__="backend.Screen",backend_Screen.__interfaces__=[spec_Screen,tracker_Events],backend_Screen.prototype={emitResize:function(){var e=0;if(null!=this.__cbOnResize&&(e+=this.__cbOnResize.length),null!=this.__cbOnceResize&&(e+=this.__cbOnceResize.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnResize)for(var s=0,r=this.__cbOnResize.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnResize[l],++i):--e}if(null!=this.__cbOnceResize){var a=null,o=null;for(s=0,r=this.__cbOnceResize.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceResize[l],this.__cbOnceResize[l]=null;var h=this.__cbOnceOwnerUnbindResize[l];this.__cbOnceOwnerUnbindResize[l]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],o=[],[]),a.push(this.__cbOnceOwnerUnbindResize[l]),o.push(this.__cbOnceResize[l])}this.__cbOnceOwnerUnbindResize=a,this.__cbOnceResize=o}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onResize:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event resize because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offResize(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push(null);null==this.__cbOnResize&&(this.__cbOnResize=[]),this.__cbOnResize.push(n)},onceResize:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event resize because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offResize(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push(null);null==this.__cbOnceResize&&(this.__cbOnceResize=[]),this.__cbOnceResize.push(n)},offResize:function(e){if(null!=e){var n;null!=this.__cbOnResize&&-1!=(n=this.__cbOnResize.indexOf(e))&&(this.__cbOnResize.splice(n,1),null!=(r=this.__cbOnOwnerUnbindResize[n])&&r(),this.__cbOnOwnerUnbindResize.splice(n,1)),null!=this.__cbOnceResize&&-1!=(n=this.__cbOnceResize.indexOf(e))&&(this.__cbOnceResize.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindResize[n])&&r(),this.__cbOnceOwnerUnbindResize.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindResize){for(var t=0,i=this.__cbOnOwnerUnbindResize.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindResize[s])&&r()}this.__cbOnOwnerUnbindResize=null}if(null!=this.__cbOnceOwnerUnbindResize){for(t=0,i=this.__cbOnceOwnerUnbindResize.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindResize[s])&&r()}this.__cbOnceOwnerUnbindResize=null}this.__cbOnResize=null,this.__cbOnceResize=null}},listensResize:function(){return null!=this.__cbOnResize&&this.__cbOnResize.length>0||null!=this.__cbOnceResize&&this.__cbOnceResize.length>0},emitMouseDown:function(e,n,t){this.tryResumeAudioContextIfNeeded();var i=0;if(null!=this.__cbOnMouseDown&&(i+=this.__cbOnMouseDown.length),null!=this.__cbOnceMouseDown&&(i+=this.__cbOnceMouseDown.length),i>0){var s=ceramic_ArrayPool.pool(i),r=s.get(),l=0;if(null!=this.__cbOnMouseDown)for(var a=0,o=this.__cbOnMouseDown.length;a<o;){var h=a++;!0?(r.vector[l]=this.__cbOnMouseDown[h],++l):--i}if(null!=this.__cbOnceMouseDown){var c=null,u=null;for(a=0,o=this.__cbOnceMouseDown.length;a<o;){h=a++;if(!0){r.vector[l]=this.__cbOnceMouseDown[h],this.__cbOnceMouseDown[h]=null;var _=this.__cbOnceOwnerUnbindMouseDown[h];this.__cbOnceOwnerUnbindMouseDown[h]=null,null!=_&&_(),++l}else--i,null==c&&(c=[],u=[],[]),c.push(this.__cbOnceOwnerUnbindMouseDown[h]),u.push(this.__cbOnceMouseDown[h])}this.__cbOnceOwnerUnbindMouseDown=c,this.__cbOnceMouseDown=u}for(a=0,o=i;a<o;){l=a++;(0,r.vector[l])(e,n,t)}s.release(r),r=null}},onMouseDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMouseDown&&(this.__cbOnOwnerUnbindMouseDown=[]),this.__cbOnOwnerUnbindMouseDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMouseDown&&(this.__cbOnOwnerUnbindMouseDown=[]),this.__cbOnOwnerUnbindMouseDown.push(null);null==this.__cbOnMouseDown&&(this.__cbOnMouseDown=[]),this.__cbOnMouseDown.push(n)},onceMouseDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMouseDown&&(this.__cbOnceOwnerUnbindMouseDown=[]),this.__cbOnceOwnerUnbindMouseDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMouseDown&&(this.__cbOnceOwnerUnbindMouseDown=[]),this.__cbOnceOwnerUnbindMouseDown.push(null);null==this.__cbOnceMouseDown&&(this.__cbOnceMouseDown=[]),this.__cbOnceMouseDown.push(n)},offMouseDown:function(e){if(null!=e){var n;null!=this.__cbOnMouseDown&&-1!=(n=this.__cbOnMouseDown.indexOf(e))&&(this.__cbOnMouseDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMouseDown[n])&&r(),this.__cbOnOwnerUnbindMouseDown.splice(n,1)),null!=this.__cbOnceMouseDown&&-1!=(n=this.__cbOnceMouseDown.indexOf(e))&&(this.__cbOnceMouseDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMouseDown[n])&&r(),this.__cbOnceOwnerUnbindMouseDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseDown){for(var t=0,i=this.__cbOnOwnerUnbindMouseDown.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindMouseDown[s])&&r()}this.__cbOnOwnerUnbindMouseDown=null}if(null!=this.__cbOnceOwnerUnbindMouseDown){for(t=0,i=this.__cbOnceOwnerUnbindMouseDown.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindMouseDown[s])&&r()}this.__cbOnceOwnerUnbindMouseDown=null}this.__cbOnMouseDown=null,this.__cbOnceMouseDown=null}},listensMouseDown:function(){return null!=this.__cbOnMouseDown&&this.__cbOnMouseDown.length>0||null!=this.__cbOnceMouseDown&&this.__cbOnceMouseDown.length>0},emitMouseUp:function(e,n,t){var i=0;if(null!=this.__cbOnMouseUp&&(i+=this.__cbOnMouseUp.length),null!=this.__cbOnceMouseUp&&(i+=this.__cbOnceMouseUp.length),i>0){var s=ceramic_ArrayPool.pool(i),r=s.get(),l=0;if(null!=this.__cbOnMouseUp)for(var a=0,o=this.__cbOnMouseUp.length;a<o;){var h=a++;!0?(r.vector[l]=this.__cbOnMouseUp[h],++l):--i}if(null!=this.__cbOnceMouseUp){var c=null,u=null;for(a=0,o=this.__cbOnceMouseUp.length;a<o;){h=a++;if(!0){r.vector[l]=this.__cbOnceMouseUp[h],this.__cbOnceMouseUp[h]=null;var _=this.__cbOnceOwnerUnbindMouseUp[h];this.__cbOnceOwnerUnbindMouseUp[h]=null,null!=_&&_(),++l}else--i,null==c&&(c=[],u=[],[]),c.push(this.__cbOnceOwnerUnbindMouseUp[h]),u.push(this.__cbOnceMouseUp[h])}this.__cbOnceOwnerUnbindMouseUp=c,this.__cbOnceMouseUp=u}for(a=0,o=i;a<o;){l=a++;(0,r.vector[l])(e,n,t)}s.release(r),r=null}},onMouseUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMouseUp&&(this.__cbOnOwnerUnbindMouseUp=[]),this.__cbOnOwnerUnbindMouseUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMouseUp&&(this.__cbOnOwnerUnbindMouseUp=[]),this.__cbOnOwnerUnbindMouseUp.push(null);null==this.__cbOnMouseUp&&(this.__cbOnMouseUp=[]),this.__cbOnMouseUp.push(n)},onceMouseUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMouseUp&&(this.__cbOnceOwnerUnbindMouseUp=[]),this.__cbOnceOwnerUnbindMouseUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMouseUp&&(this.__cbOnceOwnerUnbindMouseUp=[]),this.__cbOnceOwnerUnbindMouseUp.push(null);null==this.__cbOnceMouseUp&&(this.__cbOnceMouseUp=[]),this.__cbOnceMouseUp.push(n)},offMouseUp:function(e){if(null!=e){var n;null!=this.__cbOnMouseUp&&-1!=(n=this.__cbOnMouseUp.indexOf(e))&&(this.__cbOnMouseUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMouseUp[n])&&r(),this.__cbOnOwnerUnbindMouseUp.splice(n,1)),null!=this.__cbOnceMouseUp&&-1!=(n=this.__cbOnceMouseUp.indexOf(e))&&(this.__cbOnceMouseUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMouseUp[n])&&r(),this.__cbOnceOwnerUnbindMouseUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseUp){for(var t=0,i=this.__cbOnOwnerUnbindMouseUp.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindMouseUp[s])&&r()}this.__cbOnOwnerUnbindMouseUp=null}if(null!=this.__cbOnceOwnerUnbindMouseUp){for(t=0,i=this.__cbOnceOwnerUnbindMouseUp.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindMouseUp[s])&&r()}this.__cbOnceOwnerUnbindMouseUp=null}this.__cbOnMouseUp=null,this.__cbOnceMouseUp=null}},listensMouseUp:function(){return null!=this.__cbOnMouseUp&&this.__cbOnMouseUp.length>0||null!=this.__cbOnceMouseUp&&this.__cbOnceMouseUp.length>0},emitMouseWheel:function(e,n){var t=0;if(null!=this.__cbOnMouseWheel&&(t+=this.__cbOnMouseWheel.length),null!=this.__cbOnceMouseWheel&&(t+=this.__cbOnceMouseWheel.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnMouseWheel)for(var l=0,a=this.__cbOnMouseWheel.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnMouseWheel[o],++r):--t}if(null!=this.__cbOnceMouseWheel){var h=null,c=null;for(l=0,a=this.__cbOnceMouseWheel.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceMouseWheel[o],this.__cbOnceMouseWheel[o]=null;var u=this.__cbOnceOwnerUnbindMouseWheel[o];this.__cbOnceOwnerUnbindMouseWheel[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindMouseWheel[o]),c.push(this.__cbOnceMouseWheel[o])}this.__cbOnceOwnerUnbindMouseWheel=h,this.__cbOnceMouseWheel=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onMouseWheel:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseWheel because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseWheel(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMouseWheel&&(this.__cbOnOwnerUnbindMouseWheel=[]),this.__cbOnOwnerUnbindMouseWheel.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMouseWheel&&(this.__cbOnOwnerUnbindMouseWheel=[]),this.__cbOnOwnerUnbindMouseWheel.push(null);null==this.__cbOnMouseWheel&&(this.__cbOnMouseWheel=[]),this.__cbOnMouseWheel.push(n)},onceMouseWheel:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseWheel because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseWheel(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMouseWheel&&(this.__cbOnceOwnerUnbindMouseWheel=[]),this.__cbOnceOwnerUnbindMouseWheel.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMouseWheel&&(this.__cbOnceOwnerUnbindMouseWheel=[]),this.__cbOnceOwnerUnbindMouseWheel.push(null);null==this.__cbOnceMouseWheel&&(this.__cbOnceMouseWheel=[]),this.__cbOnceMouseWheel.push(n)},offMouseWheel:function(e){if(null!=e){var n;null!=this.__cbOnMouseWheel&&-1!=(n=this.__cbOnMouseWheel.indexOf(e))&&(this.__cbOnMouseWheel.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMouseWheel[n])&&r(),this.__cbOnOwnerUnbindMouseWheel.splice(n,1)),null!=this.__cbOnceMouseWheel&&-1!=(n=this.__cbOnceMouseWheel.indexOf(e))&&(this.__cbOnceMouseWheel.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMouseWheel[n])&&r(),this.__cbOnceOwnerUnbindMouseWheel.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseWheel){for(var t=0,i=this.__cbOnOwnerUnbindMouseWheel.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindMouseWheel[s])&&r()}this.__cbOnOwnerUnbindMouseWheel=null}if(null!=this.__cbOnceOwnerUnbindMouseWheel){for(t=0,i=this.__cbOnceOwnerUnbindMouseWheel.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindMouseWheel[s])&&r()}this.__cbOnceOwnerUnbindMouseWheel=null}this.__cbOnMouseWheel=null,this.__cbOnceMouseWheel=null}},listensMouseWheel:function(){return null!=this.__cbOnMouseWheel&&this.__cbOnMouseWheel.length>0||null!=this.__cbOnceMouseWheel&&this.__cbOnceMouseWheel.length>0},emitMouseMove:function(e,n){var t=0;if(null!=this.__cbOnMouseMove&&(t+=this.__cbOnMouseMove.length),null!=this.__cbOnceMouseMove&&(t+=this.__cbOnceMouseMove.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnMouseMove)for(var l=0,a=this.__cbOnMouseMove.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnMouseMove[o],++r):--t}if(null!=this.__cbOnceMouseMove){var h=null,c=null;for(l=0,a=this.__cbOnceMouseMove.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceMouseMove[o],this.__cbOnceMouseMove[o]=null;var u=this.__cbOnceOwnerUnbindMouseMove[o];this.__cbOnceOwnerUnbindMouseMove[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindMouseMove[o]),c.push(this.__cbOnceMouseMove[o])}this.__cbOnceOwnerUnbindMouseMove=h,this.__cbOnceMouseMove=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onMouseMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMouseMove&&(this.__cbOnOwnerUnbindMouseMove=[]),this.__cbOnOwnerUnbindMouseMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMouseMove&&(this.__cbOnOwnerUnbindMouseMove=[]),this.__cbOnOwnerUnbindMouseMove.push(null);null==this.__cbOnMouseMove&&(this.__cbOnMouseMove=[]),this.__cbOnMouseMove.push(n)},onceMouseMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMouseMove&&(this.__cbOnceOwnerUnbindMouseMove=[]),this.__cbOnceOwnerUnbindMouseMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMouseMove&&(this.__cbOnceOwnerUnbindMouseMove=[]),this.__cbOnceOwnerUnbindMouseMove.push(null);null==this.__cbOnceMouseMove&&(this.__cbOnceMouseMove=[]),this.__cbOnceMouseMove.push(n)},offMouseMove:function(e){if(null!=e){var n;null!=this.__cbOnMouseMove&&-1!=(n=this.__cbOnMouseMove.indexOf(e))&&(this.__cbOnMouseMove.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMouseMove[n])&&r(),this.__cbOnOwnerUnbindMouseMove.splice(n,1)),null!=this.__cbOnceMouseMove&&-1!=(n=this.__cbOnceMouseMove.indexOf(e))&&(this.__cbOnceMouseMove.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMouseMove[n])&&r(),this.__cbOnceOwnerUnbindMouseMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseMove){for(var t=0,i=this.__cbOnOwnerUnbindMouseMove.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindMouseMove[s])&&r()}this.__cbOnOwnerUnbindMouseMove=null}if(null!=this.__cbOnceOwnerUnbindMouseMove){for(t=0,i=this.__cbOnceOwnerUnbindMouseMove.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindMouseMove[s])&&r()}this.__cbOnceOwnerUnbindMouseMove=null}this.__cbOnMouseMove=null,this.__cbOnceMouseMove=null}},listensMouseMove:function(){return null!=this.__cbOnMouseMove&&this.__cbOnMouseMove.length>0||null!=this.__cbOnceMouseMove&&this.__cbOnceMouseMove.length>0},emitTouchDown:function(e,n,t){this.tryResumeAudioContextIfNeeded();var i=0;if(null!=this.__cbOnTouchDown&&(i+=this.__cbOnTouchDown.length),null!=this.__cbOnceTouchDown&&(i+=this.__cbOnceTouchDown.length),i>0){var s=ceramic_ArrayPool.pool(i),r=s.get(),l=0;if(null!=this.__cbOnTouchDown)for(var a=0,o=this.__cbOnTouchDown.length;a<o;){var h=a++;!0?(r.vector[l]=this.__cbOnTouchDown[h],++l):--i}if(null!=this.__cbOnceTouchDown){var c=null,u=null;for(a=0,o=this.__cbOnceTouchDown.length;a<o;){h=a++;if(!0){r.vector[l]=this.__cbOnceTouchDown[h],this.__cbOnceTouchDown[h]=null;var _=this.__cbOnceOwnerUnbindTouchDown[h];this.__cbOnceOwnerUnbindTouchDown[h]=null,null!=_&&_(),++l}else--i,null==c&&(c=[],u=[],[]),c.push(this.__cbOnceOwnerUnbindTouchDown[h]),u.push(this.__cbOnceTouchDown[h])}this.__cbOnceOwnerUnbindTouchDown=c,this.__cbOnceTouchDown=u}for(a=0,o=i;a<o;){l=a++;(0,r.vector[l])(e,n,t)}s.release(r),r=null}},onTouchDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTouchDown&&(this.__cbOnOwnerUnbindTouchDown=[]),this.__cbOnOwnerUnbindTouchDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTouchDown&&(this.__cbOnOwnerUnbindTouchDown=[]),this.__cbOnOwnerUnbindTouchDown.push(null);null==this.__cbOnTouchDown&&(this.__cbOnTouchDown=[]),this.__cbOnTouchDown.push(n)},onceTouchDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTouchDown&&(this.__cbOnceOwnerUnbindTouchDown=[]),this.__cbOnceOwnerUnbindTouchDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTouchDown&&(this.__cbOnceOwnerUnbindTouchDown=[]),this.__cbOnceOwnerUnbindTouchDown.push(null);null==this.__cbOnceTouchDown&&(this.__cbOnceTouchDown=[]),this.__cbOnceTouchDown.push(n)},offTouchDown:function(e){if(null!=e){var n;null!=this.__cbOnTouchDown&&-1!=(n=this.__cbOnTouchDown.indexOf(e))&&(this.__cbOnTouchDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTouchDown[n])&&r(),this.__cbOnOwnerUnbindTouchDown.splice(n,1)),null!=this.__cbOnceTouchDown&&-1!=(n=this.__cbOnceTouchDown.indexOf(e))&&(this.__cbOnceTouchDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTouchDown[n])&&r(),this.__cbOnceOwnerUnbindTouchDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchDown){for(var t=0,i=this.__cbOnOwnerUnbindTouchDown.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTouchDown[s])&&r()}this.__cbOnOwnerUnbindTouchDown=null}if(null!=this.__cbOnceOwnerUnbindTouchDown){for(t=0,i=this.__cbOnceOwnerUnbindTouchDown.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTouchDown[s])&&r()}this.__cbOnceOwnerUnbindTouchDown=null}this.__cbOnTouchDown=null,this.__cbOnceTouchDown=null}},listensTouchDown:function(){return null!=this.__cbOnTouchDown&&this.__cbOnTouchDown.length>0||null!=this.__cbOnceTouchDown&&this.__cbOnceTouchDown.length>0},emitTouchUp:function(e,n,t){var i=0;if(null!=this.__cbOnTouchUp&&(i+=this.__cbOnTouchUp.length),null!=this.__cbOnceTouchUp&&(i+=this.__cbOnceTouchUp.length),i>0){var s=ceramic_ArrayPool.pool(i),r=s.get(),l=0;if(null!=this.__cbOnTouchUp)for(var a=0,o=this.__cbOnTouchUp.length;a<o;){var h=a++;!0?(r.vector[l]=this.__cbOnTouchUp[h],++l):--i}if(null!=this.__cbOnceTouchUp){var c=null,u=null;for(a=0,o=this.__cbOnceTouchUp.length;a<o;){h=a++;if(!0){r.vector[l]=this.__cbOnceTouchUp[h],this.__cbOnceTouchUp[h]=null;var _=this.__cbOnceOwnerUnbindTouchUp[h];this.__cbOnceOwnerUnbindTouchUp[h]=null,null!=_&&_(),++l}else--i,null==c&&(c=[],u=[],[]),c.push(this.__cbOnceOwnerUnbindTouchUp[h]),u.push(this.__cbOnceTouchUp[h])}this.__cbOnceOwnerUnbindTouchUp=c,this.__cbOnceTouchUp=u}for(a=0,o=i;a<o;){l=a++;(0,r.vector[l])(e,n,t)}s.release(r),r=null}},onTouchUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTouchUp&&(this.__cbOnOwnerUnbindTouchUp=[]),this.__cbOnOwnerUnbindTouchUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTouchUp&&(this.__cbOnOwnerUnbindTouchUp=[]),this.__cbOnOwnerUnbindTouchUp.push(null);null==this.__cbOnTouchUp&&(this.__cbOnTouchUp=[]),this.__cbOnTouchUp.push(n)},onceTouchUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTouchUp&&(this.__cbOnceOwnerUnbindTouchUp=[]),this.__cbOnceOwnerUnbindTouchUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTouchUp&&(this.__cbOnceOwnerUnbindTouchUp=[]),this.__cbOnceOwnerUnbindTouchUp.push(null);null==this.__cbOnceTouchUp&&(this.__cbOnceTouchUp=[]),this.__cbOnceTouchUp.push(n)},offTouchUp:function(e){if(null!=e){var n;null!=this.__cbOnTouchUp&&-1!=(n=this.__cbOnTouchUp.indexOf(e))&&(this.__cbOnTouchUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTouchUp[n])&&r(),this.__cbOnOwnerUnbindTouchUp.splice(n,1)),null!=this.__cbOnceTouchUp&&-1!=(n=this.__cbOnceTouchUp.indexOf(e))&&(this.__cbOnceTouchUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTouchUp[n])&&r(),this.__cbOnceOwnerUnbindTouchUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchUp){for(var t=0,i=this.__cbOnOwnerUnbindTouchUp.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTouchUp[s])&&r()}this.__cbOnOwnerUnbindTouchUp=null}if(null!=this.__cbOnceOwnerUnbindTouchUp){for(t=0,i=this.__cbOnceOwnerUnbindTouchUp.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTouchUp[s])&&r()}this.__cbOnceOwnerUnbindTouchUp=null}this.__cbOnTouchUp=null,this.__cbOnceTouchUp=null}},listensTouchUp:function(){return null!=this.__cbOnTouchUp&&this.__cbOnTouchUp.length>0||null!=this.__cbOnceTouchUp&&this.__cbOnceTouchUp.length>0},emitTouchMove:function(e,n,t){var i=0;if(null!=this.__cbOnTouchMove&&(i+=this.__cbOnTouchMove.length),null!=this.__cbOnceTouchMove&&(i+=this.__cbOnceTouchMove.length),i>0){var s=ceramic_ArrayPool.pool(i),r=s.get(),l=0;if(null!=this.__cbOnTouchMove)for(var a=0,o=this.__cbOnTouchMove.length;a<o;){var h=a++;!0?(r.vector[l]=this.__cbOnTouchMove[h],++l):--i}if(null!=this.__cbOnceTouchMove){var c=null,u=null;for(a=0,o=this.__cbOnceTouchMove.length;a<o;){h=a++;if(!0){r.vector[l]=this.__cbOnceTouchMove[h],this.__cbOnceTouchMove[h]=null;var _=this.__cbOnceOwnerUnbindTouchMove[h];this.__cbOnceOwnerUnbindTouchMove[h]=null,null!=_&&_(),++l}else--i,null==c&&(c=[],u=[],[]),c.push(this.__cbOnceOwnerUnbindTouchMove[h]),u.push(this.__cbOnceTouchMove[h])}this.__cbOnceOwnerUnbindTouchMove=c,this.__cbOnceTouchMove=u}for(a=0,o=i;a<o;){l=a++;(0,r.vector[l])(e,n,t)}s.release(r),r=null}},onTouchMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTouchMove&&(this.__cbOnOwnerUnbindTouchMove=[]),this.__cbOnOwnerUnbindTouchMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTouchMove&&(this.__cbOnOwnerUnbindTouchMove=[]),this.__cbOnOwnerUnbindTouchMove.push(null);null==this.__cbOnTouchMove&&(this.__cbOnTouchMove=[]),this.__cbOnTouchMove.push(n)},onceTouchMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTouchMove&&(this.__cbOnceOwnerUnbindTouchMove=[]),this.__cbOnceOwnerUnbindTouchMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTouchMove&&(this.__cbOnceOwnerUnbindTouchMove=[]),this.__cbOnceOwnerUnbindTouchMove.push(null);null==this.__cbOnceTouchMove&&(this.__cbOnceTouchMove=[]),this.__cbOnceTouchMove.push(n)},offTouchMove:function(e){if(null!=e){var n;null!=this.__cbOnTouchMove&&-1!=(n=this.__cbOnTouchMove.indexOf(e))&&(this.__cbOnTouchMove.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTouchMove[n])&&r(),this.__cbOnOwnerUnbindTouchMove.splice(n,1)),null!=this.__cbOnceTouchMove&&-1!=(n=this.__cbOnceTouchMove.indexOf(e))&&(this.__cbOnceTouchMove.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTouchMove[n])&&r(),this.__cbOnceOwnerUnbindTouchMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchMove){for(var t=0,i=this.__cbOnOwnerUnbindTouchMove.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTouchMove[s])&&r()}this.__cbOnOwnerUnbindTouchMove=null}if(null!=this.__cbOnceOwnerUnbindTouchMove){for(t=0,i=this.__cbOnceOwnerUnbindTouchMove.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTouchMove[s])&&r()}this.__cbOnceOwnerUnbindTouchMove=null}this.__cbOnTouchMove=null,this.__cbOnceTouchMove=null}},listensTouchMove:function(){return null!=this.__cbOnTouchMove&&this.__cbOnTouchMove.length>0||null!=this.__cbOnceTouchMove&&this.__cbOnceTouchMove.length>0},willEmitMouseDown:function(e,n,t){this.tryResumeAudioContextIfNeeded()},willEmitTouchDown:function(e,n,t){this.tryResumeAudioContextIfNeeded()},tryResumeAudioContextIfNeeded:function(){this.didTryResumeAudioContext||(this.didTryResumeAudioContext=!0,ceramic_App.app.backend.audio.resumeAudioContext((function(e){e?ceramic_App.app.logger.success("Did resume audio context",{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/Screen.hx",lineNumber:51,className:"backend.Screen",methodName:"tryResumeAudioContextIfNeeded"}):ceramic_App.app.logger.error("Failed to resume audio context",{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/Screen.hx",lineNumber:54,className:"backend.Screen",methodName:"tryResumeAudioContextIfNeeded"})})))},getWidth:function(){return clay_Clay.app.screenWidth},getHeight:function(){return clay_Clay.app.screenHeight},getDensity:function(){return clay_Clay.app.screenDensity},setBackground:function(e){},setWindowTitle:function(e){clay_Clay.app.runtime.setWindowTitle(e)},setWindowFullscreen:function(e){null==backend_ElectronRunner.electronRunner||null==backend_ElectronRunner.electronRunner.setFullscreen?clay_Clay.app.runtime.setWindowFullscreen(e)||ceramic_App.app.settings.set_fullscreen(!e):backend_ElectronRunner.electronRunner.setFullscreen(e)},screenshotToTexture:function(e){var n=this;clay_Clay.app.runtime.window.toBlob((function(t){t.arrayBuffer().then((function(t){var i=new Uint8Array(t,0,t.byteLength);clay_Clay.app.assets.imageFromBytes(i,"png",4,!0,(function(t){if(null!=t){var i="screenshot:"+n.nextScreenshotIndex++,s=clay_graphics_Texture.fromImage(t);s.id=i,s.init(),e(s)}else e(null)}))}))}),"image/png")},screenshotToPng:function(e,n){clay_Clay.app.runtime.window.toBlob((function(t){t.arrayBuffer().then((function(t){var i=new haxe_io_Bytes(new Uint8Array(new Uint8Array(t,0,t.byteLength).buffer));null!=e?(ceramic_Files.saveBytes(e,i),n()):n(i)}))}),"image/png")},screenshotToPixels:function(e){clay_Clay.app.runtime.window.toBlob((function(n){n.arrayBuffer().then((function(n){var t=new Uint8Array(n,0,n.byteLength);clay_Clay.app.assets.imageFromBytes(t,"png",4,!1,(function(n){null!=n?e(n.pixels,n.width,n.height):e(null,0,0)}))}))}),"image/png")},unbindEvents:function(){this.offResize(),this.offMouseDown(),this.offMouseUp(),this.offMouseWheel(),this.offMouseMove(),this.offTouchDown(),this.offTouchUp(),this.offTouchMove()},__class__:backend_Screen};var clay_Resource=function(){this.id=null};t["clay.Resource"]=clay_Resource,clay_Resource.__name__="clay.Resource",clay_Resource.prototype={__class__:clay_Resource};var clay_graphics_Shader=function(){this.gpuShader=null,this.uniforms=null,this.textures=null,this.attributes=null,this.fragSource=null,this.vertSource=null,clay_Resource.call(this)};t["clay.graphics.Shader"]=clay_graphics_Shader,clay_graphics_Shader.__name__="clay.graphics.Shader",clay_graphics_Shader.__super__=clay_Resource,clay_graphics_Shader.prototype=$extend(clay_Resource.prototype,{init:function(){if(this.gpuShader=clay_opengl_GLGraphics.createShader(this.vertSource,this.fragSource,this.attributes,this.textures),null==this.gpuShader)throw haxe_Exception.thrown("Failed to create shader (id="+this.id+")");this.uniforms=new clay_graphics_Uniforms(this.gpuShader)},activate:function(){var e=this.gpuShader;clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),null!=this.uniforms&&this.uniforms.apply()},destroy:function(){clay_opengl_GLGraphics.deleteShader(this.gpuShader)},__class__:clay_graphics_Shader});var backend_ShaderImpl=function(){this.isBatchingMultiTexture=!1,this.customAttributes=null,clay_graphics_Shader.call(this)};t["backend.ShaderImpl"]=backend_ShaderImpl,backend_ShaderImpl.__name__="backend.ShaderImpl",backend_ShaderImpl.__super__=clay_graphics_Shader,backend_ShaderImpl.prototype=$extend(clay_graphics_Shader.prototype,{clone:function(){var e=new backend_ShaderImpl;return e.vertSource=this.vertSource,e.fragSource=this.fragSource,e.customAttributes=this.customAttributes,e.isBatchingMultiTexture=this.isBatchingMultiTexture,e.attributes=this.attributes,e.textures=this.textures,e.init(),e},__class__:backend_ShaderImpl});var spec_Shaders=function(){};t["spec.Shaders"]=spec_Shaders,spec_Shaders.__name__="spec.Shaders",spec_Shaders.__isInterface__=!0,spec_Shaders.prototype={__class__:spec_Shaders};var backend_Shaders=function(){};t["backend.Shaders"]=backend_Shaders,backend_Shaders.__name__="backend.Shaders",backend_Shaders.__interfaces__=[spec_Shaders],backend_Shaders.removeExtensions=function(e){for(var n=[],t=0,i=e.split("\n");t<i.length;){var s=i[t];++t,StringTools.startsWith(StringTools.trim(s),"#extension GL_OES_")||StringTools.startsWith(s,"#extension OES_")||n.push(s)}return e=n.join("\n")},backend_Shaders.convertToGLES3=function(e,n){var t=e.split("\n");return StringTools.startsWith(StringTools.trim(t[0]),"#version 100")&&(t.shift(),e=t.join("\n")),StringTools.startsWith(e,"#version ")||(e="#version 300 es\n"+e,n&&(e=StringTools.replace(e,"void main(","out vec4 fragColor;\nvoid main(")),e=ceramic_Utils.replaceIdentifier(e,"attribute","in"),e=n?ceramic_Utils.replaceIdentifier(e,"varying","in"):ceramic_Utils.replaceIdentifier(e,"varying","out"),e=ceramic_Utils.replaceIdentifier(e,"texture2D","texture"),e=ceramic_Utils.replaceIdentifier(e,"gl_FragColor","fragColor")),e},backend_Shaders.processMultiTextureVertTemplate=function(e,n,t){for(var i=e.split("\n"),s=[],r=0,l=i.length;r<l;){var a=i[r++],o=StringTools.replace(StringTools.trim(a)," ","").toLowerCase();"//ceramic:multitexture/vertextextureid"==o?s.push("attribute float vertexTextureId;"):"//ceramic:multitexture/textureid"==o?s.push("varying float textureId;"):"//ceramic:multitexture/assigntextureid"==o?s.push("textureId = vertexTextureId;"):s.push(a)}return s.join("\n")},backend_Shaders.processMultiTextureFragTemplate=function(e,n,t){for(var i=0|Math.min(n,t),s=e.split("\n"),r=[],l=!1,a=!1,o=[],h=0,c=s.length;h<c;){var u=s[h++],_=StringTools.replace(StringTools.trim(u)," ","").toLowerCase();if(l){l=!1;for(var d=0,f=i;d<f;){var p=d++;0==p?r.push(u):r.push(StringTools.replace(u,"tex0","tex"+p))}}else if(a)if("//ceramic:multitexture/endif"==_){if(a=!1,o.length>0)for(var b=0,y=i;b<y;){var g=b++;0==g?r.push("if (textureId == 0.0) {"):r.push("else if (textureId == "+g+".0) {");for(var O=0,x=o.length;O<x;){var v=O++;0==g?r.push(o[v]):r.push(StringTools.replace(o[v],"tex0","tex"+g))}r.push("}")}}else o.push(u);else StringTools.startsWith(_,"//ceramic:multitexture")?"//ceramic:multitexture/texture"==_?l=!0:"//ceramic:multitexture/textureid"==_?r.push("varying float textureId;"):"//ceramic:multitexture/if"==_&&(a=!0):r.push(u)}return r.join("\n")},backend_Shaders.computeMaxIfStatementsByFragmentShaderIfNeeded=function(e){if(null==e&&(e=32),-1==backend_Shaders._maxIfStatementsByFragmentShader){for(var n=StringTools.trim("\n#ifdef GL_ES\nprecision mediump float;\n#else\n#define mediump\n#endif\nvarying float test;\nvoid main() {\n    {{CONDITIONS}}\n    gl_FragColor = vec4(0.0);\n}\n"),t=clay_opengl_web_GL.gl.createShader(35632);e>0;){var i=StringTools.replace(n,"{{CONDITIONS}}",backend_Shaders.generateIfStatements(e));if(clay_opengl_web_GL.gl.shaderSource(t,i),clay_opengl_web_GL.gl.compileShader(t),0!=clay_opengl_web_GL.gl.getShaderParameter(t,35713)){backend_Shaders._maxIfStatementsByFragmentShader=e;break}e=e/2|0}clay_opengl_web_GL.gl.deleteShader(t)}},backend_Shaders.generateIfStatements=function(e){for(var n="",t=0,i=e;t<i;){var s=t++;s>0&&(n+="\nelse "),s<e-1&&(n+=Std.string("if (test == "+s+".0) {}"))}return n},backend_Shaders.prototype={fromSource:function(e,n,t){for(var i=!1,s=0,r=n.split("\n");s<r.length;){var l=r[s];if(++s,"//ceramic:multitexture"==StringTools.replace(StringTools.trim(l)," ","").toLowerCase()){i=!0;break}}var a=["tex0"];if(i){var o=ceramic_App.app.backend.textures.maxTexturesByBatch(),h=this.maxIfStatementsByFragmentShader(),c=0|Math.min(o,h);if(c>1)for(var u=1;u<=c;)a.push("tex"+u),++u;n=backend_Shaders.processMultiTextureFragTemplate(n,o,h),e=backend_Shaders.processMultiTextureVertTemplate(e,o,h)}var _=!1,d=!1;clay_Clay.app.runtime.webglVersion>=2&&(_=!0,d=!0),_&&(n=backend_Shaders.removeExtensions(n),e=backend_Shaders.removeExtensions(e)),d&&(n=backend_Shaders.convertToGLES3(n,!0),e=backend_Shaders.convertToGLES3(e,!1));var f=new backend_ShaderImpl;return f.attributes=i?backend_Shaders.SHADER_ATTRIBUTES_MULTITEXTURE:backend_Shaders.SHADER_ATTRIBUTES,f.textures=a,f.vertSource=e,f.fragSource=n,f.isBatchingMultiTexture=i,f.customAttributes=t,f.init(),f},destroy:function(e){e.destroy()},clone:function(e){return e.clone()},setInt:function(e,n,t){e.uniforms.setInt(n,t)},setFloat:function(e,n,t){e.uniforms.setFloat(n,t)},setColor:function(e,n,t,i,s,r){e.uniforms.setColor(n,t,i,s,r)},setVec2:function(e,n,t,i){e.uniforms.setVector2(n,t,i)},setVec3:function(e,n,t,i,s){e.uniforms.setVector3(n,t,i,s)},setVec4:function(e,n,t,i,s,r){e.uniforms.setVector4(n,t,i,s,r)},setFloatArray:function(e,n,t){e.uniforms.setFloatArray(n,new Float32Array(t))},setTexture:function(e,n,t,i){e.uniforms.setTexture(n,t,i)},setMat4FromTransform:function(e,n,t){e.uniforms.setMatrix4(n,new Float32Array([t.a,t.b,0,0,t.c,t.d,0,0,0,0,1,0,t.tx,t.ty,0,1]))},customFloatAttributesSize:function(e){var n=0,t=e.customAttributes;if(null!=t)for(var i=0,s=t.length;i<s;){n+=t[i++].size}return n},maxIfStatementsByFragmentShader:function(){var e=32;if(-1==backend_Shaders._maxIfStatementsByFragmentShader){for(var n=StringTools.trim("\n#ifdef GL_ES\nprecision mediump float;\n#else\n#define mediump\n#endif\nvarying float test;\nvoid main() {\n    {{CONDITIONS}}\n    gl_FragColor = vec4(0.0);\n}\n"),t=clay_opengl_web_GL.gl.createShader(35632);e>0;){var i=StringTools.replace(n,"{{CONDITIONS}}",backend_Shaders.generateIfStatements(e));if(clay_opengl_web_GL.gl.shaderSource(t,i),clay_opengl_web_GL.gl.compileShader(t),0!=clay_opengl_web_GL.gl.getShaderParameter(t,35713)){backend_Shaders._maxIfStatementsByFragmentShader=e;break}e=e/2|0}clay_opengl_web_GL.gl.deleteShader(t)}return backend_Shaders._maxIfStatementsByFragmentShader},canBatchWithMultipleTextures:function(e){return e.isBatchingMultiTexture},supportsHotReloadPath:function(){return!0},__class__:backend_Shaders};var spec_TextInput=function(){};t["spec.TextInput"]=spec_TextInput,spec_TextInput.__name__="spec.TextInput",spec_TextInput.__isInterface__=!0,spec_TextInput.prototype={__class__:spec_TextInput};var backend_TextInput=function(){this.inputRectH=0,this.inputRectW=0,this.inputRectY=0,this.inputRectX=0,this.inputActive=!1};t["backend.TextInput"]=backend_TextInput,backend_TextInput.__name__="backend.TextInput",backend_TextInput.__interfaces__=[spec_TextInput],backend_TextInput.prototype={start:function(e,n,t,i,s){this.inputActive||(this.inputRectX=0|n,this.inputRectY=0|t,this.inputRectW=0|Math.max(1,i),this.inputRectH=0|Math.max(1,s),this.inputActive=!0)},stop:function(){this.inputActive&&(this.inputRectX=0,this.inputRectY=0,this.inputRectW=0,this.inputRectH=0,this.inputActive=!1)},handleTextInput:function(e){" "!=e&&ceramic_App.app.textInput.appendText(e)},handleKeyDown:function(e,n){this.inputActive&&(42==n?ceramic_App.app.textInput.backspace():44==n?ceramic_App.app.textInput.space():40==n?ceramic_App.app.textInput.enter():41==n?ceramic_App.app.textInput.escape():80==n?ceramic_App.app.textInput.moveLeft():79==n?ceramic_App.app.textInput.moveRight():82==n?ceramic_App.app.textInput.moveUp():81==n&&ceramic_App.app.textInput.moveDown()),225==n?ceramic_App.app.textInput.lshiftDown():229==n?ceramic_App.app.textInput.rshiftDown():224==n?ceramic_App.app.textInput.lctrlDown():228==n?ceramic_App.app.textInput.rctrlDown():227==n?ceramic_App.app.textInput.lmetaDown():231==n&&ceramic_App.app.textInput.rmetaDown()},handleKeyUp:function(e,n){225==n?ceramic_App.app.textInput.lshiftUp():229==n?ceramic_App.app.textInput.rshiftUp():224==n?ceramic_App.app.textInput.lctrlUp():228==n?ceramic_App.app.textInput.rctrlUp():227==n?ceramic_App.app.textInput.lmetaUp():231==n&&ceramic_App.app.textInput.rmetaUp()},__class__:backend_TextInput};var spec_Texts=function(){};t["spec.Texts"]=spec_Texts,spec_Texts.__name__="spec.Texts",spec_Texts.__isInterface__=!0,spec_Texts.prototype={__class__:spec_Texts};var backend_Texts=function(){this.loadingTextCallbacks=new haxe_ds_StringMap};t["backend.Texts"]=backend_Texts,backend_Texts.__name__="backend.Texts",backend_Texts.__interfaces__=[spec_Texts],backend_Texts.prototype={load:function(e,n,t){var i=this,s=null!=n&&2==n.loadMethod,r=null!=n?n.immediate:null,done=function(e){var fn=function(){t(e),t=null};null!=r?r.push(fn):ceramic_App.app._onceImmediate(fn)},l=StringTools.startsWith(e,"http://")||StringTools.startsWith(e,"https://");if(ceramic_Path.isAbsolute(e)||l||(e=ceramic_Path.join([ceramic_App.app.settings.assetsPath,e])),Object.prototype.hasOwnProperty.call(this.loadingTextCallbacks.h,e))this.loadingTextCallbacks.h[e].push((function(e){done(e)}));else{this.loadingTextCallbacks.h[e]=[];var a=e;if(!l){var o=a.indexOf("?");-1!=o&&(a=HxOverrides.substr(a,0,o))}var h=l?a:clay_Clay.app.assets.fullPath(a);clay_Clay.app.io.loadData(h,!0,!s,(function(n){if(null!=n){var t=new haxe_io_Bytes(new Uint8Array(n.buffer)).toString();if(null!=(s=i.loadingTextCallbacks.h[e])){r=i.loadingTextCallbacks;Object.prototype.hasOwnProperty.call(r.h,e)&&delete r.h[e],done(t);for(l=0;l<s.length;){a=s[l];++l,a(t)}}else done(t)}else{var s;if(null!=(s=i.loadingTextCallbacks.h[e])){var r=i.loadingTextCallbacks;Object.prototype.hasOwnProperty.call(r.h,e)&&delete r.h[e],done(null);for(var l=0;l<s.length;){var a=s[l];++l,a(null)}}else done(null)}})),null!=r?r.push(clay_Immediate.flush):ceramic_App.app._onceImmediate(clay_Immediate.flush)}},supportsHotReloadPath:function(){return!0},__class__:backend_Texts};var spec_Textures=function(){};t["spec.Textures"]=spec_Textures,spec_Textures.__name__="spec.Textures",spec_Textures.__isInterface__=!0,spec_Textures.prototype={__class__:spec_Textures};var backend_Textures=function(){this.loadedTexturesRetainCount=new haxe_ds_StringMap,this.loadedTextures=new haxe_ds_StringMap,this.loadingTextureCallbacks=new haxe_ds_StringMap,this.nextBytesIndex=0,this.nextPixelsIndex=0,this.nextRenderIndex=0};t["backend.Textures"]=backend_Textures,backend_Textures.__name__="backend.Textures",backend_Textures.__interfaces__=[spec_Textures],backend_Textures.computeMaxTexturesByBatchIfNeeded=function(){-1==backend_Textures._maxTexturesByBatch&&(backend_Textures._maxTexturesByBatch=0|Math.min(32,clay_opengl_web_GL.gl.getParameter(34930)))},backend_Textures.prototype={load:function(e,n,t){var i=this,s=null!=n&&2==n.loadMethod,r=null!=n?n.immediate:null,done=function(e){var fn=function(){t(e),t=null};null!=r?r.push(fn):ceramic_App.app._onceImmediate(fn)},l=StringTools.startsWith(e,"http://")||StringTools.startsWith(e,"https://");if(ceramic_Path.isAbsolute(e)||l||(e=ceramic_Path.join([ceramic_App.app.settings.assetsPath,e])),Object.prototype.hasOwnProperty.call(this.loadedTextures.h,e)){this.loadedTexturesRetainCount.h[e]+=1;var a=this.loadedTextures.h[e];done(a)}else if(Object.prototype.hasOwnProperty.call(this.loadingTextureCallbacks.h,e))this.loadingTextureCallbacks.h[e].push((function(n){if(null!=n){var t=Object.prototype.hasOwnProperty.call(i.loadedTexturesRetainCount.h,e)?i.loadedTexturesRetainCount.h[e]:0;i.loadedTexturesRetainCount.h[e]=t+1}done(n)}));else{var o=e;if(!l){var h=o.indexOf("?");-1!=h&&(o=HxOverrides.substr(o,0,h))}this.loadingTextureCallbacks.h[e]=[function(n){if(null!=n){var t=Object.prototype.hasOwnProperty.call(i.loadedTexturesRetainCount.h,e)?i.loadedTexturesRetainCount.h[e]:0;i.loadedTexturesRetainCount.h[e]=t+1}done(n)}];var c=l?o:clay_Clay.app.assets.fullPath(o),u=!0;null!=n&&null!=n.premultiplyAlpha&&(u=n.premultiplyAlpha);var doFail=function(){var n=i.loadingTextureCallbacks.h[e],t=i.loadingTextureCallbacks;Object.prototype.hasOwnProperty.call(t.h,e)&&delete t.h[e];for(var s=0;s<n.length;){var r=n[s];++s;try{r(null)}catch(e){var l=[haxe_Exception.caught(e).unwrap()];ceramic_App.app._onceImmediate(function(e){return function(){throw haxe_Exception.thrown(e[0])}}(l))}}};clay_Clay.app.assets.loadImage(c,null,!s,(function(n){if(null!=n){var t=null;try{if(null==(t=clay_graphics_Texture.fromImage(n,u)))return void doFail();t.id=e,t.init()}catch(a){var s=haxe_Exception.caught(a).unwrap();return ceramic_App.app.logger.error("Failed to create texture: "+Std.string(s),{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/Textures.hx",lineNumber:127,className:"backend.Textures",methodName:"load"}),void doFail()}i.loadedTextures.h[e]=t;var r=i.loadingTextureCallbacks.h[e],l=i.loadingTextureCallbacks;Object.prototype.hasOwnProperty.call(l.h,e)&&delete l.h[e];for(var a=0;a<r.length;){var o=r[a];++a;try{o(t)}catch(e){s=[haxe_Exception.caught(e).unwrap()];ceramic_App.app._onceImmediate(function(e){return function(){throw haxe_Exception.thrown(e[0])}}(s))}}}else doFail()})),null!=r?r.push(clay_Immediate.flush):ceramic_App.app._onceImmediate(clay_Immediate.flush)}},loadFromBytes:function(e,n,t,i){var s=this,r="bytes:"+this.nextBytesIndex++,l=(null!=t&&t.loadMethod,null!=t?t.immediate:null),done=function(e){var fn=function(){i(e),i=null};null!=l?l.push(fn):ceramic_App.app._onceImmediate(fn)},a=!0;null!=t&&null!=t.premultiplyAlpha&&(a=t.premultiplyAlpha);clay_Clay.app.assets.imageFromBytes(new Uint8Array(e.b.bufferValue),n,null,null,(function(e){if(null!=e){var n=null;try{if(null==(n=clay_graphics_Texture.fromImage(e,a)))return void done(null);n.id=r,n.init()}catch(e){var t=haxe_Exception.caught(e).unwrap();return ceramic_App.app.logger.error("Failed to create texture: "+Std.string(t),{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/Textures.hx",lineNumber:205,className:"backend.Textures",methodName:"loadFromBytes"}),void done(null)}s.loadedTexturesRetainCount.h[r]=1,done(n)}else done(null)})),null!=l?l.push(clay_Immediate.flush):ceramic_App.app._onceImmediate(clay_Immediate.flush)},supportsHotReloadPath:function(){return!0},createTexture:function(e,n,t){var i="pixels:"+this.nextPixelsIndex++,s=new clay_graphics_Texture;return s.id=i,s.width=e,s.height=n,s.pixels=t,s.init(),this.loadedTexturesRetainCount.h[i]=1,s},createRenderTarget:function(e,n,t,i,s){var r="render:"+this.nextRenderIndex++,l=clay_Clay.app.runtime.webglVersion,a=new clay_graphics_RenderTexture;return a.id=r,a.width=e,a.height=n,a.depth=t,a.stencil=i,a.antialiasing=l>=2?s:0,a.init(),this.loadedTexturesRetainCount.h[r]=1,a},fetchTexturePixels:function(e,n){var t=e.width,i=e.height;return null==n&&(n=new Uint8Array(t*i*4)),e.fetch(n),n},submitTexturePixels:function(e,n){e.submit(n)},destroyTexture:function(e){var n=e.id;if(this.loadedTexturesRetainCount.h[n]>1)this.loadedTexturesRetainCount.h[n]-=1;else{var t=this.loadedTextures;Object.prototype.hasOwnProperty.call(t.h,n)&&delete t.h[n];t=this.loadedTexturesRetainCount;Object.prototype.hasOwnProperty.call(t.h,n)&&delete t.h[n],e.destroy()}},getTextureId:function(e){return e.textureId},getTextureWidth:function(e){return e.width},getTextureHeight:function(e){return e.height},getTextureWidthActual:function(e){return e.widthActual},getTextureHeightActual:function(e){return e.heightActual},getTextureIndex:function(e){return e.index},setTextureFilter:function(e,n){switch(n._hx_index){case 0:e.set_filterMin(9729),e.set_filterMag(9729);break;case 1:e.set_filterMin(9728),e.set_filterMag(9728)}},setTextureWrapS:function(e,n){switch(n){case 0:e.set_wrapS(33071);break;case 1:e.set_wrapS(10497);break;case 2:e.set_wrapS(33648)}},setTextureWrapT:function(e,n){switch(n){case 0:e.set_wrapT(33071);break;case 1:e.set_wrapT(10497);break;case 2:e.set_wrapT(33648)}},maxTextureWidth:function(){return 2048},maxTextureHeight:function(){return 2048},maxTexturesByBatch:function(){return-1==backend_Textures._maxTexturesByBatch&&(backend_Textures._maxTexturesByBatch=0|Math.min(32,clay_opengl_web_GL.gl.getParameter(34930))),backend_Textures._maxTexturesByBatch},textureToPng:function(e,n,t,i){null==n&&(n=!0);var s=this.fetchTexturePixels(e);e.id;n&&ceramic_PremultiplyAlpha.reversePremultiplyAlpha(s),clay_Clay.app.assets.pixelsToPngData(e.width,e.height,s,(function(e){null!=e?null!=t?(ceramic_Files.saveBytes(t,new haxe_io_Bytes(new Uint8Array(e.buffer))),i()):i(new haxe_io_Bytes(new Uint8Array(e.buffer))):(ceramic_App.app.logger.warning("Failed to get PNG data from texture",{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/Textures.hx",lineNumber:540,className:"backend.Textures",methodName:"textureToPng"}),i(null))}))},pixelsToPng:function(e,n,t,i,s){clay_Clay.app.assets.pixelsToPngData(e,n,t,(function(e){null!=e?null!=i?(ceramic_Files.saveBytes(i,new haxe_io_Bytes(new Uint8Array(e.buffer))),s()):s(new haxe_io_Bytes(new Uint8Array(e.buffer))):(ceramic_App.app.logger.warning("Failed to get PNG data from pixels",{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/Textures.hx",lineNumber:560,className:"backend.Textures",methodName:"pixelsToPng"}),s(null))}))},__class__:backend_Textures};var l=i["backend.VisualItem"]={__ename__:"backend.VisualItem",__constructs__:null,NONE:{_hx_name:"NONE",_hx_index:0,__enum__:"backend.VisualItem",toString:$estr},QUAD:{_hx_name:"QUAD",_hx_index:1,__enum__:"backend.VisualItem",toString:$estr},MESH:{_hx_name:"MESH",_hx_index:2,__enum__:"backend.VisualItem",toString:$estr}};l.__constructs__=[l.NONE,l.QUAD,l.MESH];var binpacking_IOccupancy=function(){};t["binpacking.IOccupancy"]=binpacking_IOccupancy,binpacking_IOccupancy.__name__="binpacking.IOccupancy",binpacking_IOccupancy.__isInterface__=!0,binpacking_IOccupancy.prototype={__class__:binpacking_IOccupancy};var binpacking_MaxRectsPackerBestFitPosition=function(){this.bestY=-1,this.bestX=-1,this.bestContactScore=-1,this.bestLongSideFit=-1,this.bestShortSideFit=-1,this.bestAreaFit=-1,this.bestNode=null};t["binpacking.MaxRectsPackerBestFitPosition"]=binpacking_MaxRectsPackerBestFitPosition,binpacking_MaxRectsPackerBestFitPosition.__name__="binpacking.MaxRectsPackerBestFitPosition",binpacking_MaxRectsPackerBestFitPosition.prototype={__class__:binpacking_MaxRectsPackerBestFitPosition};var binpacking_MaxRectsPackerRectScore=function(e,n,t){this.rect=e,this.primaryScore=n,this.secondaryScore=t};t["binpacking.MaxRectsPackerRectScore"]=binpacking_MaxRectsPackerRectScore,binpacking_MaxRectsPackerRectScore.__name__="binpacking.MaxRectsPackerRectScore",binpacking_MaxRectsPackerRectScore.prototype={__class__:binpacking_MaxRectsPackerRectScore};var binpacking_MaxRectsPacker=function(e,n,t){null==t&&(t=!0),null==n&&(n=0),null==e&&(e=0),this._bestFitPosition=new binpacking_MaxRectsPackerBestFitPosition,this.freeRectangles=[],this.usedRectangles=[],this.binWidth=e,this.binHeight=n,this.binAllowFlip=t;var i=new binpacking_Rect(0,0,e,n);this.freeRectangles.push(i)};t["binpacking.MaxRectsPacker"]=binpacking_MaxRectsPacker,binpacking_MaxRectsPacker.__name__="binpacking.MaxRectsPacker",binpacking_MaxRectsPacker.__interfaces__=[binpacking_IOccupancy],binpacking_MaxRectsPacker.prototype={insert:function(e,n,t){var i;switch(t){case 1:i=this.findPositionForNewNodeBestShortSideFit(e,n,this._bestFitPosition).bestNode;break;case 2:i=this.findPositionForNewNodeBestLongSideFit(e,n,this._bestFitPosition).bestNode;break;case 3:i=this.findPositionForNewNodeBestAreaFit(e,n,this._bestFitPosition).bestNode;break;case 4:i=this.findPositionForNewNodeBottomLeft(e,n,this._bestFitPosition).bestNode;break;case 5:i=this.findPositionForNewNodeContactPoint(e,n,this._bestFitPosition).bestNode}if(null==i||0==i.width||0==i.height)return null;for(var s=this.freeRectangles.length,r=0;r<s;)this.splitFreeNode(this.freeRectangles[r],i)&&(this.freeRectangles.splice(r,1),--r,--s),++r;return this.pruneFreeList(),this.usedRectangles.push(i),i},occupancy:function(){if(0==this.usedRectangles.length)return 0;for(var e=0,n=0,t=this.usedRectangles.length;n<t;){var i=n++;e+=this.usedRectangles[i].width*this.usedRectangles[i].height}return e/(this.binWidth*this.binHeight)},scoreRect:function(e,n,t){var i=new binpacking_Rect,s=1073741823,r=1073741823;switch(t){case 1:i=(l=this.findPositionForNewNodeBestShortSideFit(e,n,this._bestFitPosition)).bestNode,s=l.bestShortSideFit,r=l.bestLongSideFit;break;case 2:i=(l=this.findPositionForNewNodeBestLongSideFit(e,n,this._bestFitPosition)).bestNode,s=l.bestLongSideFit,r=l.bestLongSideFit;break;case 3:i=(l=this.findPositionForNewNodeBestAreaFit(e,n,this._bestFitPosition)).bestNode,s=l.bestAreaFit,r=l.bestShortSideFit;break;case 4:i=(l=this.findPositionForNewNodeBottomLeft(e,n,this._bestFitPosition)).bestNode,s=l.bestY,r=l.bestX;break;case 5:var l;i=(l=this.findPositionForNewNodeContactPoint(e,n,this._bestFitPosition)).bestNode,s=-l.bestContactScore}return 0==i.height&&(s=1073741823,r=1073741823),new binpacking_MaxRectsPackerRectScore(i,s,r)},contactPointScoreNode:function(e,n,t,i){var s=0;0!=e&&e+t!=this.binWidth||(s+=i),0!=n&&n+i!=this.binHeight||(s+=t);for(var r=0,l=this.usedRectangles.length;r<l;){var a=r++;this.usedRectangles[a].x!=e+t&&this.usedRectangles[a].x+this.usedRectangles[a].width!=e||(s+=0|this.commonIntervalLength(this.usedRectangles[a].y,this.usedRectangles[a].height,n,n+i)),this.usedRectangles[a].y!=n+i&&this.usedRectangles[a].y+this.usedRectangles[a].height!=n||(s+=0|this.commonIntervalLength(this.usedRectangles[a].x,this.usedRectangles[a].x+this.usedRectangles[a].width,e,e+t))}return s},findPositionForNewNodeBottomLeft:function(e,n,t){for(var i=new binpacking_Rect,s=1073741823,r=1073741823,l=0,a=this.freeRectangles.length;l<a;){var o=l++;if(this.freeRectangles[o].width>=e&&this.freeRectangles[o].height<r){var h=this.freeRectangles[o].y+n|0;i.x=this.freeRectangles[o].x,i.y=this.freeRectangles[o].y,i.width=e,i.height=n,s=h,r=0|this.freeRectangles[o].x}if(this.binAllowFlip&&this.freeRectangles[o].width>=n&&this.freeRectangles[o].height>=e){var c=this.freeRectangles[o].y+n|0;i.x=this.freeRectangles[o].x,i.y=this.freeRectangles[o].y,i.width=e,i.height=n,s=c,r=0|this.freeRectangles[o].x}}return t.bestNode=i,t.bestY=s,t.bestX=r,t},findPositionForNewNodeBestShortSideFit:function(e,n,t){for(var i=new binpacking_Rect,s=1073741823,r=1073741823,l=0,a=this.freeRectangles.length;l<a;){var o=l++;if(this.freeRectangles[o].width>=e&&this.freeRectangles[o].height>=n){var h=Math.abs(this.freeRectangles[o].width-e),c=Math.abs(this.freeRectangles[o].height-n),u=Math.min(h,c),_=Math.max(h,c);(u<s||u==s&&_<r)&&(i.x=this.freeRectangles[o].x,i.y=this.freeRectangles[o].y,i.width=e,i.height=n,s=0|u,r=0|_)}if(this.binAllowFlip&&this.freeRectangles[o].width>=n&&this.freeRectangles[o].height>=e){var d=Math.abs(this.freeRectangles[o].width-n),f=Math.abs(this.freeRectangles[o].height-e),p=Math.min(d,f),b=Math.max(d,f);(p<s||p==s&&b<r)&&(i.x=this.freeRectangles[o].x,i.y=this.freeRectangles[o].y,i.width=n,i.height=e,i.flipped=!i.flipped,s=0|p,r=0|b)}}return t.bestNode=i,t.bestShortSideFit=s,t.bestLongSideFit=r,t},findPositionForNewNodeBestLongSideFit:function(e,n,t){for(var i=new binpacking_Rect,s=1073741823,r=1073741823,l=0,a=this.freeRectangles.length;l<a;){var o=l++;if(this.freeRectangles[o].width>=e&&this.freeRectangles[o].height>=n){var h=Math.abs(this.freeRectangles[o].width-e),c=Math.abs(this.freeRectangles[o].height-n),u=Math.min(h,c),_=Math.max(h,c);(_<r||_==r&&u<s)&&(i.x=this.freeRectangles[o].x,i.y=this.freeRectangles[o].y,i.width=e,i.height=n,s=0|u,r=0|_)}if(this.binAllowFlip&&this.freeRectangles[o].width>=n&&this.freeRectangles[o].height>=e){var d=Math.abs(this.freeRectangles[o].width-e),f=Math.abs(this.freeRectangles[o].height-n),p=Math.min(d,f),b=Math.max(d,f);(b<r||b==r&&p<s)&&(i.x=this.freeRectangles[o].x,i.y=this.freeRectangles[o].y,i.width=n,i.height=e,i.flipped=!i.flipped,s=0|p,r=0|b)}}return t.bestNode=i,t.bestShortSideFit=s,t.bestLongSideFit=r,t},findPositionForNewNodeBestAreaFit:function(e,n,t){for(var i=new binpacking_Rect,s=1073741823,r=1073741823,l=0,a=this.freeRectangles.length;l<a;){var o=l++,h=this.freeRectangles[o].width*this.freeRectangles[o].height-e*n;if(this.freeRectangles[o].width>=e&&this.freeRectangles[o].height>=n){var c=Math.abs(this.freeRectangles[o].width-e),u=Math.abs(this.freeRectangles[o].height-n),_=Math.min(c,u);(h<s||h==s&&_<r)&&(i.x=this.freeRectangles[o].x,i.y=this.freeRectangles[o].y,i.width=e,i.height=n,r=0|_,s=0|h)}if(this.binAllowFlip&&this.freeRectangles[o].width>=n&&this.freeRectangles[o].height>=e){var d=Math.abs(this.freeRectangles[o].width-n),f=Math.abs(this.freeRectangles[o].height-e),p=Math.min(d,f);(h<s||h==s&&p<r)&&(i.x=this.freeRectangles[o].x,i.y=this.freeRectangles[o].y,i.width=n,i.height=e,i.flipped=!i.flipped,r=0|p,s=0|h)}}return t.bestNode=i,t.bestAreaFit=s,t.bestShortSideFit=r,t},findPositionForNewNodeContactPoint:function(e,n,t){for(var i=new binpacking_Rect,s=-1,r=0,l=this.freeRectangles.length;r<l;){var a=r++;if(this.freeRectangles[a].width>=e&&this.freeRectangles[a].height>=n){var o=this.contactPointScoreNode(0|this.freeRectangles[a].x,0|this.freeRectangles[a].y,e,n);o>s&&(i.x=this.freeRectangles[a].x,i.y=this.freeRectangles[a].y,i.width=e,i.height=n,s=o)}if(this.freeRectangles[a].width>=n&&this.freeRectangles[a].height>=e){var h=this.contactPointScoreNode(0|this.freeRectangles[a].x,0|this.freeRectangles[a].y,n,e);h>s&&(i.x=this.freeRectangles[a].x,i.y=this.freeRectangles[a].y,i.width=n,i.height=e,i.flipped=!i.flipped,s=h)}}return t.bestNode=i,t.bestContactScore=s,t},splitFreeNode:function(e,n){if(n.x>=e.x+e.width||n.x+n.width<=e.x||n.y>=e.y+e.height||n.y+n.height<=e.y)return!1;if(n.x<e.x+e.width&&n.x+n.width>e.x){if(n.y>e.y&&n.y<e.y+e.height)(t=new binpacking_Rect(e.x,e.y,e.width,e.height)).height=n.y-t.y,this.freeRectangles.push(t);if(n.y+n.height<e.y+e.height)(t=new binpacking_Rect(e.x,e.y,e.width,e.height)).y=n.y+n.height,t.height=e.y+e.height-(n.y+n.height),this.freeRectangles.push(t)}if(n.y<e.y+e.height&&n.y+n.height>e.y){var t;if(n.x>e.x&&n.x<e.x+e.width)(t=new binpacking_Rect(e.x,e.y,e.width,e.height)).width=n.x-t.x,this.freeRectangles.push(t);if(n.x+n.width<e.x+e.width)(t=new binpacking_Rect(e.x,e.y,e.width,e.height)).x=n.x+n.width,t.width=e.x+e.width-(n.x+n.width),this.freeRectangles.push(t)}return!0},pruneFreeList:function(){for(var e=0;e<this.freeRectangles.length;){for(var n=e+1;n<this.freeRectangles.length;){var t=this.freeRectangles[e],i=this.freeRectangles[n];if(t.x>=i.x&&t.y>=i.y&&t.x+t.width<=i.x+i.width&&t.y+t.height<=i.y+i.height){this.freeRectangles.splice(e,1),--e;break}var s=this.freeRectangles[n],r=this.freeRectangles[e];s.x>=r.x&&s.y>=r.y&&s.x+s.width<=r.x+r.width&&s.y+s.height<=r.y+r.height?this.freeRectangles.splice(n,1):++n}++e}},commonIntervalLength:function(e,n,t,i){return n<t||i<e?0:(n<i?n:i)-(e>t?e:t)},__class__:binpacking_MaxRectsPacker};var binpacking_RectSize=function(e,n){this.width=e,this.height=n};t["binpacking.RectSize"]=binpacking_RectSize,binpacking_RectSize.__name__="binpacking.RectSize",binpacking_RectSize.prototype={__class__:binpacking_RectSize};var binpacking_Rect=function(e,n,t,i,s){null==s&&(s=!1),null==i&&(i=0),null==t&&(t=0),null==n&&(n=0),null==e&&(e=0),this.x=e,this.y=n,this.width=t,this.height=i,this.flipped=s};t["binpacking.Rect"]=binpacking_Rect,binpacking_Rect.__name__="binpacking.Rect",binpacking_Rect.prototype={clone:function(){return new binpacking_Rect(this.x,this.y,this.width,this.height)},isContainedIn:function(e){return this.x>=e.x&&this.y>=e.y&&this.x+this.width<=e.x+e.width&&this.y+this.height<=e.y+e.height},__class__:binpacking_Rect};var binpacking_DisjointRectCollection=function(){this.rects=[]};t["binpacking.DisjointRectCollection"]=binpacking_DisjointRectCollection,binpacking_DisjointRectCollection.__name__="binpacking.DisjointRectCollection",binpacking_DisjointRectCollection.rectsDisjoint=function(e,n){return e.x+e.width<=n.x||n.x+n.width<=e.x||e.y+e.height<=n.y||n.y+n.height<=e.y},binpacking_DisjointRectCollection.prototype={add:function(e){return 0==e.width||0==e.height||!!this.disjoint(e)&&(this.rects.push(e),!0)},clear:function(){this.rects=[]},disjoint:function(e){if(0==e.width||0==e.height)return!0;for(var n=0,t=this.rects.length;n<t;){var i=n++;if(!binpacking_DisjointRectCollection.rectsDisjoint(this.rects[i],e))return!1}return!0},__class__:binpacking_DisjointRectCollection};var a={__properties__:{set_lightnessHSLuv:"set_lightnessHSLuv",get_lightnessHSLuv:"get_lightnessHSLuv",set_saturationHSLuv:"set_saturationHSLuv",get_saturationHSLuv:"get_saturationHSLuv",set_hueHSLuv:"set_hueHSLuv",get_hueHSLuv:"get_hueHSLuv",set_rgb:"set_rgb",get_rgb:"get_rgb",set_color:"set_color",get_color:"get_color",set_lightness:"set_lightness",get_lightness:"get_lightness",set_brightness:"set_brightness",get_brightness:"get_brightness",set_saturation:"set_saturation",get_saturation:"get_saturation",set_hue:"set_hue",get_hue:"get_hue",set_black:"set_black",get_black:"get_black",set_yellow:"set_yellow",get_yellow:"get_yellow",set_magenta:"set_magenta",get_magenta:"get_magenta",set_cyan:"set_cyan",get_cyan:"get_cyan",set_alphaFloat:"set_alphaFloat",get_alphaFloat:"get_alphaFloat",set_blueFloat:"set_blueFloat",get_blueFloat:"get_blueFloat",set_greenFloat:"set_greenFloat",get_greenFloat:"get_greenFloat",set_redFloat:"set_redFloat",get_redFloat:"get_redFloat",set_alpha:"set_alpha",get_alpha:"get_alpha",set_blue:"set_blue",get_blue:"get_blue",set_green:"set_green",get_green:"get_green",set_red:"set_red",get_red:"get_red"},toColor:function(e){var n=e>>16&255,t=e>>8&255,i=255&e,s=0;return s&=65535,s|=(n>255?255:n<0?0:n)<<16,s&=16711935,s|=(t>255?255:t<0?0:t)<<8,s&=16776960,s|=i>255?255:i<0?0:i},random:function(e,n){null==n&&(n=.5),null==e&&(e=.5);var t=e,i=n;null==i&&(i=.5),null==t&&(t=.5);var s=360*Math.random(),r=Math.random()*(1-t)+t,l=Math.random()*(1-i)+i,a=(0|u.fromHSB(s,r,l))-16777216;return a&=16777215,a|=-16777216},fromInt:function(e){return e},fromRGB:function(e,n,t){var i=0;i&=65535,i|=(e>255?255:e<0?0:e)<<16,i&=16711935,i|=(n>255?255:n<0?0:n)<<8,i&=16776960;var s=(0|(i|=t>255?255:t<0?0:t))-16777216;return s&=16777215,s|=-16777216},fromRGBFloat:function(e,n,t){var i=0;i&=65535,i|=((s=Math.round(255*e))>255?255:s<0?0:s)<<16,i&=16711935,i|=((s=Math.round(255*n))>255?255:s<0?0:s)<<8,i&=16776960;var s=(0|(i|=(s=Math.round(255*t))>255?255:s<0?0:s))-16777216;return s&=16777215,s|=-16777216},fromRGBA:function(e,n,t,i){var s=0;s&=65535,s|=(e>255?255:e<0?0:e)<<16,s&=16711935,s|=(n>255?255:n<0?0:n)<<8,s&=16776960;var r=i;null==r&&(r=255);var l=(0|(s|=t>255?255:t<0?0:t))-16777216;return l&=16777215,l|=(r>255?255:r<0?0:r)<<24},fromRGBAFloat:function(e,n,t,i){var s,r=-16777216;return r&=-16711681,r|=((s=Math.round(255*e))>255?255:s<0?0:s)<<16,r&=-65281,r|=((s=Math.round(255*n))>255?255:s<0?0:s)<<8,r&=-256,r|=(s=Math.round(255*t))>255?255:s<0?0:s,r&=16777215,r|=((s=Math.round(255*i))>255?255:s<0?0:s)<<24},fromCMYK:function(e,n,t,i){var s=-16777216,r=(1-e)*(1-i);s&=-16711681,s|=((l=Math.round(255*r))>255?255:l<0?0:l)<<16;r=(1-n)*(1-i);s&=-65281,s|=((l=Math.round(255*r))>255?255:l<0?0:l)<<8;var l;r=(1-t)*(1-i);return s&=-256,s|=(l=Math.round(255*r))>255?255:l<0?0:l},fromHSB:function(e,n,t){var i=-16777216,s=t*n,r=t-s,l=e,a=s,o=(l%=360)/60,h=a*(1-Math.abs(o%2-1))+r;switch(a+=r,0|o){case 0:i&=-16711681,i|=((c=Math.round(255*a))>255?255:c<0?0:c)<<16,i&=-65281,i|=((c=Math.round(255*h))>255?255:c<0?0:c)<<8,i&=-256,i|=(c=Math.round(255*r))>255?255:c<0?0:c;break;case 1:i&=-16711681,i|=((c=Math.round(255*h))>255?255:c<0?0:c)<<16,i&=-65281,i|=((c=Math.round(255*a))>255?255:c<0?0:c)<<8,i&=-256,i|=(c=Math.round(255*r))>255?255:c<0?0:c;break;case 2:i&=-16711681,i|=((c=Math.round(255*r))>255?255:c<0?0:c)<<16,i&=-65281,i|=((c=Math.round(255*a))>255?255:c<0?0:c)<<8,i&=-256,i|=(c=Math.round(255*h))>255?255:c<0?0:c;break;case 3:i&=-16711681,i|=((c=Math.round(255*r))>255?255:c<0?0:c)<<16,i&=-65281,i|=((c=Math.round(255*h))>255?255:c<0?0:c)<<8,i&=-256,i|=(c=Math.round(255*a))>255?255:c<0?0:c;break;case 4:i&=-16711681,i|=((c=Math.round(255*h))>255?255:c<0?0:c)<<16,i&=-65281,i|=((c=Math.round(255*r))>255?255:c<0?0:c)<<8,i&=-256,i|=(c=Math.round(255*a))>255?255:c<0?0:c;break;case 5:var c;i&=-16711681,i|=((c=Math.round(255*a))>255?255:c<0?0:c)<<16,i&=-65281,i|=((c=Math.round(255*r))>255?255:c<0?0:c)<<8,i&=-256,i|=(c=Math.round(255*h))>255?255:c<0?0:c}return i},fromHSL:function(e,n,t){var i=-16777216,s=(1-Math.abs(2*t-1))*n,r=t-s/2,l=e,a=s,o=(l%=360)/60,h=a*(1-Math.abs(o%2-1))+r;switch(a+=r,0|o){case 0:i&=-16711681,i|=((c=Math.round(255*a))>255?255:c<0?0:c)<<16,i&=-65281,i|=((c=Math.round(255*h))>255?255:c<0?0:c)<<8,i&=-256,i|=(c=Math.round(255*r))>255?255:c<0?0:c;break;case 1:i&=-16711681,i|=((c=Math.round(255*h))>255?255:c<0?0:c)<<16,i&=-65281,i|=((c=Math.round(255*a))>255?255:c<0?0:c)<<8,i&=-256,i|=(c=Math.round(255*r))>255?255:c<0?0:c;break;case 2:i&=-16711681,i|=((c=Math.round(255*r))>255?255:c<0?0:c)<<16,i&=-65281,i|=((c=Math.round(255*a))>255?255:c<0?0:c)<<8,i&=-256,i|=(c=Math.round(255*h))>255?255:c<0?0:c;break;case 3:i&=-16711681,i|=((c=Math.round(255*r))>255?255:c<0?0:c)<<16,i&=-65281,i|=((c=Math.round(255*h))>255?255:c<0?0:c)<<8,i&=-256,i|=(c=Math.round(255*a))>255?255:c<0?0:c;break;case 4:i&=-16711681,i|=((c=Math.round(255*h))>255?255:c<0?0:c)<<16,i&=-65281,i|=((c=Math.round(255*r))>255?255:c<0?0:c)<<8,i&=-256,i|=(c=Math.round(255*a))>255?255:c<0?0:c;break;case 5:var c;i&=-16711681,i|=((c=Math.round(255*a))>255?255:c<0?0:c)<<16,i&=-65281,i|=((c=Math.round(255*r))>255?255:c<0?0:c)<<8,i&=-256,i|=(c=Math.round(255*h))>255?255:c<0?0:c}return i},fromString:function(e){var n=null;if(e=StringTools.trim(e),StringTools.startsWith(e,"0x")){null==(c=Std.parseInt(e.substring(0,8)))&&(c=0);var t=(0|c)-16777216;t&=16777215,n=t|=-16777216}else if(StringTools.startsWith(e,"#"))if(e.length>=9){var i="0x"+e.substring(1,9);n=Std.parseInt(i)}else{i="0x"+e.substring(1,7);null==(c=Std.parseInt(i))&&(c=0);t=(0|c)-16777216;t&=16777215,n=t|=-16777216}else{e=e.toUpperCase();for(var s=u.colorLookup,r=s.h,l=Object.keys(r),a=l.length,o=0;o<a;){var h=l[o++];if(h==e){var c;null==(c=s.h[h])&&(c=0);t=(0|c)-16777216;t&=16777215,n=t|=-16777216;break}}}return n},getHSBColorWheel:function(){for(var e=[],n=0;n<360;){var t=n++;e.push(a.fromHSB(t,1,1))}return e},interpolate:function(e,n,t){null==t&&(t=.5);var i=((n>>16&255)-(e>>16&255))*t+(e>>16&255)|0,s=((n>>8&255)-(e>>8&255))*t+(e>>8&255)|0,r=((255&n)-(255&e))*t+(255&e)|0,l=0;l&=65535,l|=(i>255?255:i<0?0:i)<<16,l&=16711935,l|=(s>255?255:s<0?0:s)<<8,l&=16776960;var a=((n>>24&255)-(e>>24&255))*t+(e>>24&255)|0;null==a&&(a=255);var o=(0|(l|=r>255?255:r<0?0:r))-16777216;return o&=16777215,o|=(a>255?255:a<0?0:a)<<24},gradient:function(e,n,t,i){var s=[];null==i&&(i=function(e){return e});for(var r=0,l=t;r<l;){var a=r++,o=i(a/(t-1));null==o&&(o=.5);var h=((n>>16&255)-(e>>16&255))*o+(e>>16&255)|0,c=((n>>8&255)-(e>>8&255))*o+(e>>8&255)|0,u=((255&n)-(255&e))*o+(255&e)|0,_=0;_&=65535,_|=(h>255?255:h<0?0:h)<<16,_&=16711935,_|=(c>255?255:c<0?0:c)<<8,_&=16776960;var d=((n>>24&255)-(e>>24&255))*o+(e>>24&255)|0;null==d&&(d=255);var f=(0|(_|=u>255?255:u<0?0:u))-16777216;f&=16777215,f|=(d>255?255:d<0?0:d)<<24,s[a]=f}return s},multiply:function(e,n){var t=(e>>16&255)/255*((n>>16&255)/255),i=(e>>8&255)/255*((n>>8&255)/255),s=(255&e)/255*((255&n)/255),r=0;r&=65535,r|=((l=Math.round(255*t))>255?255:l<0?0:l)<<16,r&=16711935,r|=((l=Math.round(255*i))>255?255:l<0?0:l)<<8,r&=16776960;var l=(0|(r|=(l=Math.round(255*s))>255?255:l<0?0:l))-16777216;return l&=16777215,l|=-16777216},add:function(e,n){var t=(e>>16&255)+(n>>16&255),i=(e>>8&255)+(n>>8&255),s=(255&e)+(255&n),r=0;r&=65535,r|=(t>255?255:t<0?0:t)<<16,r&=16711935,r|=(i>255?255:i<0?0:i)<<8,r&=16776960;var l=(0|(r|=s>255?255:s<0?0:s))-16777216;return l&=16777215,l|=-16777216},subtract:function(e,n){var t=(e>>16&255)-(n>>16&255),i=(e>>8&255)-(n>>8&255),s=(255&e)-(255&n),r=0;r&=65535,r|=(t>255?255:t<0?0:t)<<16,r&=16711935,r|=(i>255?255:i<0?0:i)<<8,r&=16776960;var l=(0|(r|=s>255?255:s<0?0:s))-16777216;return l&=16777215,l|=-16777216},toHexString:function(e,n){return null==n&&(n=!0),(n?"0x":"")+StringTools.hex(e>>24&255,2)+StringTools.hex(e>>16&255,2)+StringTools.hex(e>>8&255,2)+StringTools.hex(255&e,2)},toWebString:function(e){var n=e>>16&255,t=e>>8&255,i=255&e,s=0;s&=65535,s|=(n>255?255:n<0?0:n)<<16,s&=16711935,s|=(t>255?255:t<0?0:t)<<8,s&=16776960;var r=!1;return null==r&&(r=!0),"#"+(r?"0x":"")+StringTools.hex((e=s|=i>255?255:i<0?0:i)>>16&255,2)+StringTools.hex(e>>8&255,2)+StringTools.hex(255&e,2)},getColorInfo:function(e){var n="0x"+StringTools.hex(e>>24&255,2)+StringTools.hex(e>>16&255,2)+StringTools.hex(e>>8&255,2)+StringTools.hex(255&e,2)+"\n";return n+="alpha: "+(e>>24&255)+"red: "+(e>>16&255)+" green: "+(e>>8&255)+" blue: "+(255&e)+"\n",n+="hue: "+a.roundDecimal(a.get_hue(e),2)+" saturation: "+a.roundDecimal((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),2)+" brightness: "+a.roundDecimal(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),2)+" lightness: "+a.roundDecimal((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))+Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/2,2)},getDarkened:function(e,n){null==n&&(n=.2);var t=n<0?0:n;n=t>1?1:t;var i=e,s=(Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))+Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/2*(1-n),r=a.get_hue(i),l=(1-Math.abs(2*s-1))*((Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))-Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))),o=s-l/2,h=r,c=l,u=(h%=360)/60,_=c*(1-Math.abs(u%2-1))+o;switch(c+=o,0|u){case 0:i&=-16711681,i|=((d=Math.round(255*c))>255?255:d<0?0:d)<<16,i&=-65281,i|=((d=Math.round(255*_))>255?255:d<0?0:d)<<8,i&=-256,i|=(d=Math.round(255*o))>255?255:d<0?0:d;break;case 1:i&=-16711681,i|=((d=Math.round(255*_))>255?255:d<0?0:d)<<16,i&=-65281,i|=((d=Math.round(255*c))>255?255:d<0?0:d)<<8,i&=-256,i|=(d=Math.round(255*o))>255?255:d<0?0:d;break;case 2:i&=-16711681,i|=((d=Math.round(255*o))>255?255:d<0?0:d)<<16,i&=-65281,i|=((d=Math.round(255*c))>255?255:d<0?0:d)<<8,i&=-256,i|=(d=Math.round(255*_))>255?255:d<0?0:d;break;case 3:i&=-16711681,i|=((d=Math.round(255*o))>255?255:d<0?0:d)<<16,i&=-65281,i|=((d=Math.round(255*_))>255?255:d<0?0:d)<<8,i&=-256,i|=(d=Math.round(255*c))>255?255:d<0?0:d;break;case 4:i&=-16711681,i|=((d=Math.round(255*_))>255?255:d<0?0:d)<<16,i&=-65281,i|=((d=Math.round(255*o))>255?255:d<0?0:d)<<8,i&=-256,i|=(d=Math.round(255*c))>255?255:d<0?0:d;break;case 5:var d;i&=-16711681,i|=((d=Math.round(255*c))>255?255:d<0?0:d)<<16,i&=-65281,i|=((d=Math.round(255*o))>255?255:d<0?0:d)<<8,i&=-256,i|=(d=Math.round(255*_))>255?255:d<0?0:d}return i},getLightened:function(e,n){null==n&&(n=.2);var t=n<0?0:n;n=t>1?1:t;var i=e,s=(Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))+Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/2+(1-(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))+Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/2)*n,r=a.get_hue(i),l=(1-Math.abs(2*s-1))*((Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))-Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))),o=s-l/2,h=r,c=l,u=(h%=360)/60,_=c*(1-Math.abs(u%2-1))+o;switch(c+=o,0|u){case 0:i&=-16711681,i|=((d=Math.round(255*c))>255?255:d<0?0:d)<<16,i&=-65281,i|=((d=Math.round(255*_))>255?255:d<0?0:d)<<8,i&=-256,i|=(d=Math.round(255*o))>255?255:d<0?0:d;break;case 1:i&=-16711681,i|=((d=Math.round(255*_))>255?255:d<0?0:d)<<16,i&=-65281,i|=((d=Math.round(255*c))>255?255:d<0?0:d)<<8,i&=-256,i|=(d=Math.round(255*o))>255?255:d<0?0:d;break;case 2:i&=-16711681,i|=((d=Math.round(255*o))>255?255:d<0?0:d)<<16,i&=-65281,i|=((d=Math.round(255*c))>255?255:d<0?0:d)<<8,i&=-256,i|=(d=Math.round(255*_))>255?255:d<0?0:d;break;case 3:i&=-16711681,i|=((d=Math.round(255*o))>255?255:d<0?0:d)<<16,i&=-65281,i|=((d=Math.round(255*_))>255?255:d<0?0:d)<<8,i&=-256,i|=(d=Math.round(255*c))>255?255:d<0?0:d;break;case 4:i&=-16711681,i|=((d=Math.round(255*_))>255?255:d<0?0:d)<<16,i&=-65281,i|=((d=Math.round(255*o))>255?255:d<0?0:d)<<8,i&=-256,i|=(d=Math.round(255*c))>255?255:d<0?0:d;break;case 5:var d;i&=-16711681,i|=((d=Math.round(255*c))>255?255:d<0?0:d)<<16,i&=-65281,i|=((d=Math.round(255*o))>255?255:d<0?0:d)<<8,i&=-256,i|=(d=Math.round(255*_))>255?255:d<0?0:d}return i},getInverted:function(e){var n=e>>24&255,t=0;t&=65535,t|=((r=255-(e>>16&255))>255?255:r<0?0:r)<<16,t&=16711935,t|=((l=255-(e>>8&255))>255?255:l<0?0:l)<<8,t&=16776960;var i=(0|(t|=(a=255-(255&e))>255?255:a<0?0:a))-16777216;i&=16777215;var s=i|=-16777216;s&=16777215;var r,l,a;t=0;return t&=65535,t|=((r=(s|=(n>255?255:n<0?0:n)<<24)>>16&255)>255?255:r<0?0:r)<<16,t&=16711935,t|=((l=s>>8&255)>255?255:l<0?0:l)<<8,t&=16776960,t|=(a=255&s)>255?255:a<0?0:a},setRGB:function(e,n,t,i){return e&=-16711681,e|=(n>255?255:n<0?0:n)<<16,e&=-65281,e|=(t>255?255:t<0?0:t)<<8,e&=-256,e|=i>255?255:i<0?0:i},setRGBA:function(e,n,t,i,s){return e&=-16711681,e|=(n>255?255:n<0?0:n)<<16,e&=-65281,e|=(t>255?255:t<0?0:t)<<8,e&=-256,e|=i>255?255:i<0?0:i,e&=16777215,e|=(s>255?255:s<0?0:s)<<24},setRGBFloat:function(e,n,t,i){var s;return e&=-16711681,e|=((s=Math.round(255*n))>255?255:s<0?0:s)<<16,e&=-65281,e|=((s=Math.round(255*t))>255?255:s<0?0:s)<<8,e&=-256,e|=(s=Math.round(255*i))>255?255:s<0?0:s},setRGBAFloat:function(e,n,t,i,s){var r;return e&=-16711681,e|=((r=Math.round(255*n))>255?255:r<0?0:r)<<16,e&=-65281,e|=((r=Math.round(255*t))>255?255:r<0?0:r)<<8,e&=-256,e|=(r=Math.round(255*i))>255?255:r<0?0:r,e&=16777215,e|=((r=Math.round(255*s))>255?255:r<0?0:r)<<24},setCMYK:function(e,n,t,i,s){var r=(1-n)*(1-s);e&=-16711681,e|=((l=Math.round(255*r))>255?255:l<0?0:l)<<16;r=(1-t)*(1-s);e&=-65281,e|=((l=Math.round(255*r))>255?255:l<0?0:l)<<8;var l;r=(1-i)*(1-s);return e&=-256,e|=(l=Math.round(255*r))>255?255:l<0?0:l},setHSB:function(e,n,t,i){var s=i*t,r=i-s,l=n,a=s,o=(l%=360)/60,h=a*(1-Math.abs(o%2-1))+r;switch(a+=r,0|o){case 0:e&=-16711681,e|=((c=Math.round(255*a))>255?255:c<0?0:c)<<16,e&=-65281,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<8,e&=-256,e|=(c=Math.round(255*r))>255?255:c<0?0:c;break;case 1:e&=-16711681,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<16,e&=-65281,e|=((c=Math.round(255*a))>255?255:c<0?0:c)<<8,e&=-256,e|=(c=Math.round(255*r))>255?255:c<0?0:c;break;case 2:e&=-16711681,e|=((c=Math.round(255*r))>255?255:c<0?0:c)<<16,e&=-65281,e|=((c=Math.round(255*a))>255?255:c<0?0:c)<<8,e&=-256,e|=(c=Math.round(255*h))>255?255:c<0?0:c;break;case 3:e&=-16711681,e|=((c=Math.round(255*r))>255?255:c<0?0:c)<<16,e&=-65281,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<8,e&=-256,e|=(c=Math.round(255*a))>255?255:c<0?0:c;break;case 4:e&=-16711681,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<16,e&=-65281,e|=((c=Math.round(255*r))>255?255:c<0?0:c)<<8,e&=-256,e|=(c=Math.round(255*a))>255?255:c<0?0:c;break;case 5:var c;e&=-16711681,e|=((c=Math.round(255*a))>255?255:c<0?0:c)<<16,e&=-65281,e|=((c=Math.round(255*r))>255?255:c<0?0:c)<<8,e&=-256,e|=(c=Math.round(255*h))>255?255:c<0?0:c}return e},setHSL:function(e,n,t,i){var s=(1-Math.abs(2*i-1))*t,r=i-s/2,l=n,a=s,o=(l%=360)/60,h=a*(1-Math.abs(o%2-1))+r;switch(a+=r,0|o){case 0:e&=-16711681,e|=((c=Math.round(255*a))>255?255:c<0?0:c)<<16,e&=-65281,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<8,e&=-256,e|=(c=Math.round(255*r))>255?255:c<0?0:c;break;case 1:e&=-16711681,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<16,e&=-65281,e|=((c=Math.round(255*a))>255?255:c<0?0:c)<<8,e&=-256,e|=(c=Math.round(255*r))>255?255:c<0?0:c;break;case 2:e&=-16711681,e|=((c=Math.round(255*r))>255?255:c<0?0:c)<<16,e&=-65281,e|=((c=Math.round(255*a))>255?255:c<0?0:c)<<8,e&=-256,e|=(c=Math.round(255*h))>255?255:c<0?0:c;break;case 3:e&=-16711681,e|=((c=Math.round(255*r))>255?255:c<0?0:c)<<16,e&=-65281,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<8,e&=-256,e|=(c=Math.round(255*a))>255?255:c<0?0:c;break;case 4:e&=-16711681,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<16,e&=-65281,e|=((c=Math.round(255*r))>255?255:c<0?0:c)<<8,e&=-256,e|=(c=Math.round(255*a))>255?255:c<0?0:c;break;case 5:var c;e&=-16711681,e|=((c=Math.round(255*a))>255?255:c<0?0:c)<<16,e&=-65281,e|=((c=Math.round(255*r))>255?255:c<0?0:c)<<8,e&=-256,e|=(c=Math.round(255*h))>255?255:c<0?0:c}return e},setHSChromaMatch:function(e,n,t,i,s){var r=(n%=360)/60,l=i*(1-Math.abs(r%2-1))+s;switch(i+=s,0|r){case 0:e&=-16711681,e|=((a=Math.round(255*i))>255?255:a<0?0:a)<<16,e&=-65281,e|=((a=Math.round(255*l))>255?255:a<0?0:a)<<8,e&=-256,e|=(a=Math.round(255*s))>255?255:a<0?0:a;break;case 1:e&=-16711681,e|=((a=Math.round(255*l))>255?255:a<0?0:a)<<16,e&=-65281,e|=((a=Math.round(255*i))>255?255:a<0?0:a)<<8,e&=-256,e|=(a=Math.round(255*s))>255?255:a<0?0:a;break;case 2:e&=-16711681,e|=((a=Math.round(255*s))>255?255:a<0?0:a)<<16,e&=-65281,e|=((a=Math.round(255*i))>255?255:a<0?0:a)<<8,e&=-256,e|=(a=Math.round(255*l))>255?255:a<0?0:a;break;case 3:e&=-16711681,e|=((a=Math.round(255*s))>255?255:a<0?0:a)<<16,e&=-65281,e|=((a=Math.round(255*l))>255?255:a<0?0:a)<<8,e&=-256,e|=(a=Math.round(255*i))>255?255:a<0?0:a;break;case 4:e&=-16711681,e|=((a=Math.round(255*l))>255?255:a<0?0:a)<<16,e&=-65281,e|=((a=Math.round(255*s))>255?255:a<0?0:a)<<8,e&=-256,e|=(a=Math.round(255*i))>255?255:a<0?0:a;break;case 5:var a;e&=-16711681,e|=((a=Math.round(255*i))>255?255:a<0?0:a)<<16,e&=-65281,e|=((a=Math.round(255*s))>255?255:a<0?0:a)<<8,e&=-256,e|=(a=Math.round(255*l))>255?255:a<0?0:a}return e},_new:function(e,n){null==n&&(n=255);var t=(0|e)-16777216;return t&=16777215,t|=(n>255?255:n<0?0:n)<<24},get_color:function(e){var n=e>>16&255,t=e>>8&255,i=255&e,s=0;return s&=65535,s|=(n>255?255:n<0?0:n)<<16,s&=16711935,s|=(t>255?255:t<0?0:t)<<8,s&=16776960,s|=i>255?255:i<0?0:i},set_color:function(e,n){var t;return-16711681,((t=n>>16&255)>255?255:t<0?0:t)<<16,-65281,((t=n>>8&255)>255?255:t<0?0:t)<<8,-256,(t=255&n)>255?255:t<0?0:t,n},get_rgb:function(e){var n=e>>16&255,t=e>>8&255,i=255&e,s=0;return s&=65535,s|=(n>255?255:n<0?0:n)<<16,s&=16711935,s|=(t>255?255:t<0?0:t)<<8,s&=16776960,s|=i>255?255:i<0?0:i},set_rgb:function(e,n){var t;return-16711681,((t=n>>16&255)>255?255:t<0?0:t)<<16,-65281,((t=n>>8&255)>255?255:t<0?0:t)<<8,-256,(t=255&n)>255?255:t<0?0:t,n},get_red:function(e){return e>>16&255},get_green:function(e){return e>>8&255},get_blue:function(e){return 255&e},get_alpha:function(e){return e>>24&255},get_redFloat:function(e){return(e>>16&255)/255},get_greenFloat:function(e){return(e>>8&255)/255},get_blueFloat:function(e){return(255&e)/255},get_alphaFloat:function(e){return(e>>24&255)/255},set_red:function(e,n){return-16711681,(n>255?255:n<0?0:n)<<16,n},set_green:function(e,n){return-65281,(n>255?255:n<0?0:n)<<8,n},set_blue:function(e,n){return-256,n>255?255:n<0?0:n,n},set_alpha:function(e,n){return 16777215,(n>255?255:n<0?0:n)<<24,n},set_redFloat:function(e,n){var t=Math.round(255*n);return-16711681,(t>255?255:t<0?0:t)<<16,n},set_greenFloat:function(e,n){var t=Math.round(255*n);return-65281,(t>255?255:t<0?0:t)<<8,n},set_blueFloat:function(e,n){var t=Math.round(255*n);return-256,t>255?255:t<0?0:t,n},set_alphaFloat:function(e,n){var t=Math.round(255*n);return 16777215,(t>255?255:t<0?0:t)<<24,n},get_cyan:function(e){return(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},get_magenta:function(e){return(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},get_yellow:function(e){return(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},get_black:function(e){return 1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},set_cyan:function(e,n){var t=(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),s=1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),r=(1-n)*(1-s);e&=-16711681,e|=((l=Math.round(255*r))>255?255:l<0?0:l)<<16;r=(1-t)*(1-s);e&=-65281,e|=((l=Math.round(255*r))>255?255:l<0?0:l)<<8;var l;r=(1-i)*(1-s);return e&=-256,e|=(l=Math.round(255*r))>255?255:l<0?0:l,n},set_magenta:function(e,n){var t=(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),s=(1-(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)))*(1-i);e&=-16711681,e|=((r=Math.round(255*s))>255?255:r<0?0:r)<<16;s=(1-n)*(1-i);e&=-65281,e|=((r=Math.round(255*s))>255?255:r<0?0:r)<<8;var r;s=(1-t)*(1-i);return e&=-256,e|=(r=Math.round(255*s))>255?255:r<0?0:r,n},set_yellow:function(e,n){var t=(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),s=(1-(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)))*(1-i);e&=-16711681,e|=((r=Math.round(255*s))>255?255:r<0?0:r)<<16;s=(1-t)*(1-i);e&=-65281,e|=((r=Math.round(255*s))>255?255:r<0?0:r)<<8;var r;s=(1-n)*(1-i);return e&=-256,e|=(r=Math.round(255*s))>255?255:r<0?0:r,n},set_black:function(e,n){var t=(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),s=(1-(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)))*(1-n);e&=-16711681,e|=((r=Math.round(255*s))>255?255:r<0?0:r)<<16;s=(1-t)*(1-n);e&=-65281,e|=((r=Math.round(255*s))>255?255:r<0?0:r)<<8;var r;s=(1-i)*(1-n);return e&=-256,e|=(r=Math.round(255*s))>255?255:r<0?0:r,n},get_hue:function(e){var n=0;return 0!=Math.atan2(Math.sqrt(3)*((e>>8&255)/255-(255&e)/255),(e>>16&255)/255*2-(e>>8&255)/255-(255&e)/255)&&(n=180/Math.PI*Math.atan2(Math.sqrt(3)*((e>>8&255)/255-(255&e)/255),(e>>16&255)/255*2-(e>>8&255)/255-(255&e)/255)),n<0?n+360:n},get_brightness:function(e){return Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},get_saturation:function(e){return(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},get_lightness:function(e){return(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))+Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/2},set_hue:function(e,n){var t=Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=t*((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))),s=t-i,r=n,l=i,a=(r%=360)/60,o=l*(1-Math.abs(a%2-1))+s;switch(l+=s,0|a){case 0:e&=-16711681,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<16,e&=-65281,e|=((h=Math.round(255*o))>255?255:h<0?0:h)<<8,e&=-256,e|=(h=Math.round(255*s))>255?255:h<0?0:h;break;case 1:e&=-16711681,e|=((h=Math.round(255*o))>255?255:h<0?0:h)<<16,e&=-65281,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<8,e&=-256,e|=(h=Math.round(255*s))>255?255:h<0?0:h;break;case 2:e&=-16711681,e|=((h=Math.round(255*s))>255?255:h<0?0:h)<<16,e&=-65281,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<8,e&=-256,e|=(h=Math.round(255*o))>255?255:h<0?0:h;break;case 3:e&=-16711681,e|=((h=Math.round(255*s))>255?255:h<0?0:h)<<16,e&=-65281,e|=((h=Math.round(255*o))>255?255:h<0?0:h)<<8,e&=-256,e|=(h=Math.round(255*l))>255?255:h<0?0:h;break;case 4:e&=-16711681,e|=((h=Math.round(255*o))>255?255:h<0?0:h)<<16,e&=-65281,e|=((h=Math.round(255*s))>255?255:h<0?0:h)<<8,e&=-256,e|=(h=Math.round(255*l))>255?255:h<0?0:h;break;case 5:var h;e&=-16711681,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<16,e&=-65281,e|=((h=Math.round(255*s))>255?255:h<0?0:h)<<8,e&=-256,e|=(h=Math.round(255*o))>255?255:h<0?0:h}return n},set_saturation:function(e,n){var t=a.get_hue(e),i=Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),s=i*n,r=i-s,l=t,o=s,h=(l%=360)/60,c=o*(1-Math.abs(h%2-1))+r;switch(o+=r,0|h){case 0:e&=-16711681,e|=((u=Math.round(255*o))>255?255:u<0?0:u)<<16,e&=-65281,e|=((u=Math.round(255*c))>255?255:u<0?0:u)<<8,e&=-256,e|=(u=Math.round(255*r))>255?255:u<0?0:u;break;case 1:e&=-16711681,e|=((u=Math.round(255*c))>255?255:u<0?0:u)<<16,e&=-65281,e|=((u=Math.round(255*o))>255?255:u<0?0:u)<<8,e&=-256,e|=(u=Math.round(255*r))>255?255:u<0?0:u;break;case 2:e&=-16711681,e|=((u=Math.round(255*r))>255?255:u<0?0:u)<<16,e&=-65281,e|=((u=Math.round(255*o))>255?255:u<0?0:u)<<8,e&=-256,e|=(u=Math.round(255*c))>255?255:u<0?0:u;break;case 3:e&=-16711681,e|=((u=Math.round(255*r))>255?255:u<0?0:u)<<16,e&=-65281,e|=((u=Math.round(255*c))>255?255:u<0?0:u)<<8,e&=-256,e|=(u=Math.round(255*o))>255?255:u<0?0:u;break;case 4:e&=-16711681,e|=((u=Math.round(255*c))>255?255:u<0?0:u)<<16,e&=-65281,e|=((u=Math.round(255*r))>255?255:u<0?0:u)<<8,e&=-256,e|=(u=Math.round(255*o))>255?255:u<0?0:u;break;case 5:var u;e&=-16711681,e|=((u=Math.round(255*o))>255?255:u<0?0:u)<<16,e&=-65281,e|=((u=Math.round(255*r))>255?255:u<0?0:u)<<8,e&=-256,e|=(u=Math.round(255*c))>255?255:u<0?0:u}return n},set_brightness:function(e,n){var t=a.get_hue(e),i=n*((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))),s=n-i,r=t,l=i,o=(r%=360)/60,h=l*(1-Math.abs(o%2-1))+s;switch(l+=s,0|o){case 0:e&=-16711681,e|=((c=Math.round(255*l))>255?255:c<0?0:c)<<16,e&=-65281,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<8,e&=-256,e|=(c=Math.round(255*s))>255?255:c<0?0:c;break;case 1:e&=-16711681,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<16,e&=-65281,e|=((c=Math.round(255*l))>255?255:c<0?0:c)<<8,e&=-256,e|=(c=Math.round(255*s))>255?255:c<0?0:c;break;case 2:e&=-16711681,e|=((c=Math.round(255*s))>255?255:c<0?0:c)<<16,e&=-65281,e|=((c=Math.round(255*l))>255?255:c<0?0:c)<<8,e&=-256,e|=(c=Math.round(255*h))>255?255:c<0?0:c;break;case 3:e&=-16711681,e|=((c=Math.round(255*s))>255?255:c<0?0:c)<<16,e&=-65281,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<8,e&=-256,e|=(c=Math.round(255*l))>255?255:c<0?0:c;break;case 4:e&=-16711681,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<16,e&=-65281,e|=((c=Math.round(255*s))>255?255:c<0?0:c)<<8,e&=-256,e|=(c=Math.round(255*l))>255?255:c<0?0:c;break;case 5:var c;e&=-16711681,e|=((c=Math.round(255*l))>255?255:c<0?0:c)<<16,e&=-65281,e|=((c=Math.round(255*s))>255?255:c<0?0:c)<<8,e&=-256,e|=(c=Math.round(255*h))>255?255:c<0?0:c}return n},set_lightness:function(e,n){var t=a.get_hue(e),i=(1-Math.abs(2*n-1))*((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))),s=n-i/2,r=t,l=i,o=(r%=360)/60,h=l*(1-Math.abs(o%2-1))+s;switch(l+=s,0|o){case 0:e&=-16711681,e|=((c=Math.round(255*l))>255?255:c<0?0:c)<<16,e&=-65281,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<8,e&=-256,e|=(c=Math.round(255*s))>255?255:c<0?0:c;break;case 1:e&=-16711681,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<16,e&=-65281,e|=((c=Math.round(255*l))>255?255:c<0?0:c)<<8,e&=-256,e|=(c=Math.round(255*s))>255?255:c<0?0:c;break;case 2:e&=-16711681,e|=((c=Math.round(255*s))>255?255:c<0?0:c)<<16,e&=-65281,e|=((c=Math.round(255*l))>255?255:c<0?0:c)<<8,e&=-256,e|=(c=Math.round(255*h))>255?255:c<0?0:c;break;case 3:e&=-16711681,e|=((c=Math.round(255*s))>255?255:c<0?0:c)<<16,e&=-65281,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<8,e&=-256,e|=(c=Math.round(255*l))>255?255:c<0?0:c;break;case 4:e&=-16711681,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<16,e&=-65281,e|=((c=Math.round(255*s))>255?255:c<0?0:c)<<8,e&=-256,e|=(c=Math.round(255*l))>255?255:c<0?0:c;break;case 5:var c;e&=-16711681,e|=((c=Math.round(255*l))>255?255:c<0?0:c)<<16,e&=-65281,e|=((c=Math.round(255*s))>255?255:c<0?0:c)<<8,e&=-256,e|=(c=Math.round(255*h))>255?255:c<0?0:c}return n},maxColor:function(e){return Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},minColor:function(e){return Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255))},boundChannel:function(e,n){return n>255?255:n<0?0:n},roundDecimal:function(e,n){for(var t=1,i=0,s=n;i<s;){i++;t*=10}return Math.round(e*t)/t},bound:function(e,n,t){var i=null!=n&&e<n?n:e;return null!=t&&i>t?t:i},toString:function(e){return-1==e?"NONE":"0x"+StringTools.hex(e>>24&255,2)+StringTools.hex(e>>16&255,2)+StringTools.hex(e>>8&255,2)+StringTools.hex(255&e,2)},get_hueHSLuv:function(e){var n=e>>16&255,t=e>>8&255,i=255&e,s=0;s&=65535,s|=(n>255?255:n<0?0:n)<<16,s&=16711935,s|=(t>255?255:t<0?0:t)<<8,s&=16776960;var r=s|=i>255?255:i<0?0:i,l=u._hsluvCacheMap.intMap.h[0|r],o=null!=l?l:0;if(0==o){o=1+(u._hsluvCacheValues.length/3|0),u._hsluvCacheMap.set(r,o);var h=a._hsluvResult;null==h&&(h=[0,0,0]),a._hsluvTuple[0]=(e>>16&255)/255,a._hsluvTuple[1]=(e>>8&255)/255,a._hsluvTuple[2]=(255&e)/255,hsluv_Hsluv.rgbToHsluv(a._hsluvTuple,h),h[1]*=.01,h[2]*=.01,u._hsluvCacheValues.push(a._hsluvResult[0]),u._hsluvCacheValues.push(a._hsluvResult[1]),u._hsluvCacheValues.push(a._hsluvResult[2])}return u._hsluvCacheValues[3*(o-1)]},set_hueHSLuv:function(e,n){var t=a.get_saturationHSLuv(e),i=a.get_lightnessHSLuv(e);if(a._hsluvTuple[0]=n,a._hsluvTuple[1]=100*t,a._hsluvTuple[2]=100*i,i>.001){hsluv_Hsluv.hsluvToRgb(a._hsluvTuple,a._hsluvResult);var s=a._hsluvResult[0];s<0&&(s=0),e&=-16711681,e|=((_=Math.round(255*s))>255?255:_<0?0:_)<<16,(s=a._hsluvResult[1])<0&&(s=0),e&=-65281,e|=((_=Math.round(255*s))>255?255:_<0?0:_)<<8,(s=a._hsluvResult[2])<0&&(s=0),e&=-256,e|=(_=Math.round(255*s))>255?255:_<0?0:_}else{var r=(1-Math.abs(2*i-1))*t,l=i-r/2,o=n,h=r,c=(o%=360)/60,u=h*(1-Math.abs(c%2-1))+l;switch(h+=l,0|c){case 0:e&=-16711681,e|=((_=Math.round(255*h))>255?255:_<0?0:_)<<16,e&=-65281,e|=((_=Math.round(255*u))>255?255:_<0?0:_)<<8,e&=-256,e|=(_=Math.round(255*l))>255?255:_<0?0:_;break;case 1:e&=-16711681,e|=((_=Math.round(255*u))>255?255:_<0?0:_)<<16,e&=-65281,e|=((_=Math.round(255*h))>255?255:_<0?0:_)<<8,e&=-256,e|=(_=Math.round(255*l))>255?255:_<0?0:_;break;case 2:e&=-16711681,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<16,e&=-65281,e|=((_=Math.round(255*h))>255?255:_<0?0:_)<<8,e&=-256,e|=(_=Math.round(255*u))>255?255:_<0?0:_;break;case 3:e&=-16711681,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<16,e&=-65281,e|=((_=Math.round(255*u))>255?255:_<0?0:_)<<8,e&=-256,e|=(_=Math.round(255*h))>255?255:_<0?0:_;break;case 4:e&=-16711681,e|=((_=Math.round(255*u))>255?255:_<0?0:_)<<16,e&=-65281,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<8,e&=-256,e|=(_=Math.round(255*h))>255?255:_<0?0:_;break;case 5:var _;e&=-16711681,e|=((_=Math.round(255*h))>255?255:_<0?0:_)<<16,e&=-65281,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<8,e&=-256,e|=(_=Math.round(255*u))>255?255:_<0?0:_}}return n},get_saturationHSLuv:function(e){var n=e>>16&255,t=e>>8&255,i=255&e,s=0;s&=65535,s|=(n>255?255:n<0?0:n)<<16,s&=16711935,s|=(t>255?255:t<0?0:t)<<8,s&=16776960;var r=s|=i>255?255:i<0?0:i,l=u._hsluvCacheMap.intMap.h[0|r],o=null!=l?l:0;if(0==o){o=1+(u._hsluvCacheValues.length/3|0),u._hsluvCacheMap.set(r,o);var h=a._hsluvResult;null==h&&(h=[0,0,0]),a._hsluvTuple[0]=(e>>16&255)/255,a._hsluvTuple[1]=(e>>8&255)/255,a._hsluvTuple[2]=(255&e)/255,hsluv_Hsluv.rgbToHsluv(a._hsluvTuple,h),h[1]*=.01,h[2]*=.01,u._hsluvCacheValues.push(a._hsluvResult[0]),u._hsluvCacheValues.push(a._hsluvResult[1]),u._hsluvCacheValues.push(a._hsluvResult[2])}return u._hsluvCacheValues[3*(o-1)+1]},set_saturationHSLuv:function(e,n){var t=a.get_hueHSLuv(e),i=a.get_lightnessHSLuv(e);if(a._hsluvTuple[0]=t,a._hsluvTuple[1]=100*n,a._hsluvTuple[2]=100*i,i>.001){hsluv_Hsluv.hsluvToRgb(a._hsluvTuple,a._hsluvResult);var s=a._hsluvResult[0];s<0&&(s=0),e&=-16711681,e|=((_=Math.round(255*s))>255?255:_<0?0:_)<<16,(s=a._hsluvResult[1])<0&&(s=0),e&=-65281,e|=((_=Math.round(255*s))>255?255:_<0?0:_)<<8,(s=a._hsluvResult[2])<0&&(s=0),e&=-256,e|=(_=Math.round(255*s))>255?255:_<0?0:_}else{var r=(1-Math.abs(2*i-1))*n,l=i-r/2,o=t,h=r,c=(o%=360)/60,u=h*(1-Math.abs(c%2-1))+l;switch(h+=l,0|c){case 0:e&=-16711681,e|=((_=Math.round(255*h))>255?255:_<0?0:_)<<16,e&=-65281,e|=((_=Math.round(255*u))>255?255:_<0?0:_)<<8,e&=-256,e|=(_=Math.round(255*l))>255?255:_<0?0:_;break;case 1:e&=-16711681,e|=((_=Math.round(255*u))>255?255:_<0?0:_)<<16,e&=-65281,e|=((_=Math.round(255*h))>255?255:_<0?0:_)<<8,e&=-256,e|=(_=Math.round(255*l))>255?255:_<0?0:_;break;case 2:e&=-16711681,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<16,e&=-65281,e|=((_=Math.round(255*h))>255?255:_<0?0:_)<<8,e&=-256,e|=(_=Math.round(255*u))>255?255:_<0?0:_;break;case 3:e&=-16711681,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<16,e&=-65281,e|=((_=Math.round(255*u))>255?255:_<0?0:_)<<8,e&=-256,e|=(_=Math.round(255*h))>255?255:_<0?0:_;break;case 4:e&=-16711681,e|=((_=Math.round(255*u))>255?255:_<0?0:_)<<16,e&=-65281,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<8,e&=-256,e|=(_=Math.round(255*h))>255?255:_<0?0:_;break;case 5:var _;e&=-16711681,e|=((_=Math.round(255*h))>255?255:_<0?0:_)<<16,e&=-65281,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<8,e&=-256,e|=(_=Math.round(255*u))>255?255:_<0?0:_}}return n},get_lightnessHSLuv:function(e){var n=e>>16&255,t=e>>8&255,i=255&e,s=0;s&=65535,s|=(n>255?255:n<0?0:n)<<16,s&=16711935,s|=(t>255?255:t<0?0:t)<<8,s&=16776960;var r=s|=i>255?255:i<0?0:i,l=u._hsluvCacheMap.intMap.h[0|r],o=null!=l?l:0;if(0==o){o=1+(u._hsluvCacheValues.length/3|0),u._hsluvCacheMap.set(r,o);var h=a._hsluvResult;null==h&&(h=[0,0,0]),a._hsluvTuple[0]=(e>>16&255)/255,a._hsluvTuple[1]=(e>>8&255)/255,a._hsluvTuple[2]=(255&e)/255,hsluv_Hsluv.rgbToHsluv(a._hsluvTuple,h),h[1]*=.01,h[2]*=.01,u._hsluvCacheValues.push(a._hsluvResult[0]),u._hsluvCacheValues.push(a._hsluvResult[1]),u._hsluvCacheValues.push(a._hsluvResult[2])}return u._hsluvCacheValues[3*(o-1)+2]},set_lightnessHSLuv:function(e,n){var t=a.get_hueHSLuv(e),i=a.get_saturationHSLuv(e);if(a._hsluvTuple[0]=t,a._hsluvTuple[1]=100*i,a._hsluvTuple[2]=100*n,n>.001){hsluv_Hsluv.hsluvToRgb(a._hsluvTuple,a._hsluvResult);var s=a._hsluvResult[0];s<0&&(s=0),e&=-16711681,e|=((_=Math.round(255*s))>255?255:_<0?0:_)<<16,(s=a._hsluvResult[1])<0&&(s=0),e&=-65281,e|=((_=Math.round(255*s))>255?255:_<0?0:_)<<8,(s=a._hsluvResult[2])<0&&(s=0),e&=-256,e|=(_=Math.round(255*s))>255?255:_<0?0:_}else{var r=(1-Math.abs(2*n-1))*i,l=n-r/2,o=t,h=r,c=(o%=360)/60,u=h*(1-Math.abs(c%2-1))+l;switch(h+=l,0|c){case 0:e&=-16711681,e|=((_=Math.round(255*h))>255?255:_<0?0:_)<<16,e&=-65281,e|=((_=Math.round(255*u))>255?255:_<0?0:_)<<8,e&=-256,e|=(_=Math.round(255*l))>255?255:_<0?0:_;break;case 1:e&=-16711681,e|=((_=Math.round(255*u))>255?255:_<0?0:_)<<16,e&=-65281,e|=((_=Math.round(255*h))>255?255:_<0?0:_)<<8,e&=-256,e|=(_=Math.round(255*l))>255?255:_<0?0:_;break;case 2:e&=-16711681,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<16,e&=-65281,e|=((_=Math.round(255*h))>255?255:_<0?0:_)<<8,e&=-256,e|=(_=Math.round(255*u))>255?255:_<0?0:_;break;case 3:e&=-16711681,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<16,e&=-65281,e|=((_=Math.round(255*u))>255?255:_<0?0:_)<<8,e&=-256,e|=(_=Math.round(255*h))>255?255:_<0?0:_;break;case 4:e&=-16711681,e|=((_=Math.round(255*u))>255?255:_<0?0:_)<<16,e&=-65281,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<8,e&=-256,e|=(_=Math.round(255*h))>255?255:_<0?0:_;break;case 5:var _;e&=-16711681,e|=((_=Math.round(255*h))>255?255:_<0?0:_)<<16,e&=-65281,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<8,e&=-256,e|=(_=Math.round(255*u))>255?255:_<0?0:_}}return n},_getOrCreateCachedHSLuvComponent:function(e,n){var t=e>>16&255,i=e>>8&255,s=255&e,r=0;r&=65535,r|=(t>255?255:t<0?0:t)<<16,r&=16711935,r|=(i>255?255:i<0?0:i)<<8,r&=16776960;var l=r|=s>255?255:s<0?0:s,o=u._hsluvCacheMap.intMap.h[0|l],h=null!=o?o:0;if(0==h){h=1+(u._hsluvCacheValues.length/3|0),u._hsluvCacheMap.set(l,h);var c=a._hsluvResult;null==c&&(c=[0,0,0]),a._hsluvTuple[0]=(e>>16&255)/255,a._hsluvTuple[1]=(e>>8&255)/255,a._hsluvTuple[2]=(255&e)/255,hsluv_Hsluv.rgbToHsluv(a._hsluvTuple,c),c[1]*=.01,c[2]*=.01,u._hsluvCacheValues.push(a._hsluvResult[0]),u._hsluvCacheValues.push(a._hsluvResult[1]),u._hsluvCacheValues.push(a._hsluvResult[2])}return u._hsluvCacheValues[3*(h-1)+n]},fromHSLuv:function(e,n,t){var i=-1;if(a._hsluvTuple[0]=e,a._hsluvTuple[1]=100*n,a._hsluvTuple[2]=100*t,t>.001){hsluv_Hsluv.hsluvToRgb(a._hsluvTuple,a._hsluvResult);var s=a._hsluvResult[0];s<0&&(s=0),i&=-16711681,i|=((_=Math.round(255*s))>255?255:_<0?0:_)<<16,(s=a._hsluvResult[1])<0&&(s=0),i&=-65281,i|=((_=Math.round(255*s))>255?255:_<0?0:_)<<8,(s=a._hsluvResult[2])<0&&(s=0),i&=-256,i|=(_=Math.round(255*s))>255?255:_<0?0:_}else{var r=(1-Math.abs(2*t-1))*n,l=t-r/2,o=e,h=r,c=(o%=360)/60,u=h*(1-Math.abs(c%2-1))+l;switch(h+=l,0|c){case 0:i&=-16711681,i|=((_=Math.round(255*h))>255?255:_<0?0:_)<<16,i&=-65281,i|=((_=Math.round(255*u))>255?255:_<0?0:_)<<8,i&=-256,i|=(_=Math.round(255*l))>255?255:_<0?0:_;break;case 1:i&=-16711681,i|=((_=Math.round(255*u))>255?255:_<0?0:_)<<16,i&=-65281,i|=((_=Math.round(255*h))>255?255:_<0?0:_)<<8,i&=-256,i|=(_=Math.round(255*l))>255?255:_<0?0:_;break;case 2:i&=-16711681,i|=((_=Math.round(255*l))>255?255:_<0?0:_)<<16,i&=-65281,i|=((_=Math.round(255*h))>255?255:_<0?0:_)<<8,i&=-256,i|=(_=Math.round(255*u))>255?255:_<0?0:_;break;case 3:i&=-16711681,i|=((_=Math.round(255*l))>255?255:_<0?0:_)<<16,i&=-65281,i|=((_=Math.round(255*u))>255?255:_<0?0:_)<<8,i&=-256,i|=(_=Math.round(255*h))>255?255:_<0?0:_;break;case 4:i&=-16711681,i|=((_=Math.round(255*u))>255?255:_<0?0:_)<<16,i&=-65281,i|=((_=Math.round(255*l))>255?255:_<0?0:_)<<8,i&=-256,i|=(_=Math.round(255*h))>255?255:_<0?0:_;break;case 5:var _;i&=-16711681,i|=((_=Math.round(255*h))>255?255:_<0?0:_)<<16,i&=-65281,i|=((_=Math.round(255*l))>255?255:_<0?0:_)<<8,i&=-256,i|=(_=Math.round(255*u))>255?255:_<0?0:_}}return i},setHSLuv:function(e,n,t,i){if(a._hsluvTuple[0]=n,a._hsluvTuple[1]=100*t,a._hsluvTuple[2]=100*i,i>.001){hsluv_Hsluv.hsluvToRgb(a._hsluvTuple,a._hsluvResult);var s=a._hsluvResult[0];s<0&&(s=0),e&=-16711681,e|=((_=Math.round(255*s))>255?255:_<0?0:_)<<16,(s=a._hsluvResult[1])<0&&(s=0),e&=-65281,e|=((_=Math.round(255*s))>255?255:_<0?0:_)<<8,(s=a._hsluvResult[2])<0&&(s=0),e&=-256,e|=(_=Math.round(255*s))>255?255:_<0?0:_}else{var r=(1-Math.abs(2*i-1))*t,l=i-r/2,o=n,h=r,c=(o%=360)/60,u=h*(1-Math.abs(c%2-1))+l;switch(h+=l,0|c){case 0:e&=-16711681,e|=((_=Math.round(255*h))>255?255:_<0?0:_)<<16,e&=-65281,e|=((_=Math.round(255*u))>255?255:_<0?0:_)<<8,e&=-256,e|=(_=Math.round(255*l))>255?255:_<0?0:_;break;case 1:e&=-16711681,e|=((_=Math.round(255*u))>255?255:_<0?0:_)<<16,e&=-65281,e|=((_=Math.round(255*h))>255?255:_<0?0:_)<<8,e&=-256,e|=(_=Math.round(255*l))>255?255:_<0?0:_;break;case 2:e&=-16711681,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<16,e&=-65281,e|=((_=Math.round(255*h))>255?255:_<0?0:_)<<8,e&=-256,e|=(_=Math.round(255*u))>255?255:_<0?0:_;break;case 3:e&=-16711681,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<16,e&=-65281,e|=((_=Math.round(255*u))>255?255:_<0?0:_)<<8,e&=-256,e|=(_=Math.round(255*h))>255?255:_<0?0:_;break;case 4:e&=-16711681,e|=((_=Math.round(255*u))>255?255:_<0?0:_)<<16,e&=-65281,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<8,e&=-256,e|=(_=Math.round(255*h))>255?255:_<0?0:_;break;case 5:var _;e&=-16711681,e|=((_=Math.round(255*h))>255?255:_<0?0:_)<<16,e&=-65281,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<8,e&=-256,e|=(_=Math.round(255*u))>255?255:_<0?0:_}}return e},getHSLuv:function(e,n){return null==n&&(n=[0,0,0]),a._hsluvTuple[0]=(e>>16&255)/255,a._hsluvTuple[1]=(e>>8&255)/255,a._hsluvTuple[2]=(255&e)/255,hsluv_Hsluv.rgbToHsluv(a._hsluvTuple,n),n[1]*=.01,n[2]*=.01,n}},ceramic_App=function(){this.info={name:"ceramic-webdemo-1",collections:{},version:"1.0",author:"My Company",displayName:"ceramic-webdemo-1"},this.numBlockingDefaultScroll=0,this.disposedEntities=[],this.beginUpdateCallbacks=[],this.visualsContentDirty=!1,this.hierarchyDirty=!1,this.lazyScenes=!0,this.timelines=new ceramic_Timelines,this.converters=new haxe_ds_StringMap,this.textInput=null,this.persistent=null,this.projectDir=null,this.defaultFont=null,this.defaultWhiteTexture=null,this.defaultTexturedShader=null,this.renderTextures=[],this.groups=[],this.destroyedVisuals=[],this.pendingVisuals=[],this.visuals=[],this.logger=new ceramic_Logger,this.frame=0,this._computeFps=new ceramic_ComputeFps,this.inUpdate=!1,this._xUpdatesToCallNow=[],this._xUpdatesHandlers=[],this._xUpdatesHandlersPool=new ceramic_Pool,this.loaders=[],this.postFlushImmediateCallbacksLen=0,this.postFlushImmediateCallbacksCapacity=0,this.postFlushImmediateCallbacks=[],this.immediateCallbacksLen=0,this.immediateCallbacksCapacity=0,this.immediateCallbacks=[],ceramic_Entity.call(this),ceramic_App.app=this,ceramic_Runner.init(),tracker_Tracker.backend=new ceramic_TrackerBackend,this.settings=new ceramic_Settings,this.screen=new ceramic_Screen,this.audio=new ceramic_Audio,this.input=new ceramic_Input,this.systems=new ceramic_Systems,this.assets=new ceramic_Assets,this.backend=new backend_Backend,this.backend.onceReady(this,$bind(this,this.backendReady)),this.backend.init(this)};t["ceramic.App"]=ceramic_App,ceramic_App.__name__="ceramic.App",ceramic_App.__properties__={get_app:"get_app"},ceramic_App.get_app=function(){return ceramic_App.app},ceramic_App.oncePreInit=function(e){null==ceramic_App.preInitCallbacks&&(ceramic_App.preInitCallbacks=[]),ceramic_App.preInitCallbacks.push(e)},ceramic_App.init=function(){return assets_AllAssets.bind(),new ceramic_App,new ceramic_InitSettings(ceramic_App.app.settings)},ceramic_App.__super__=ceramic_Entity,ceramic_App.prototype=$extend(ceramic_Entity.prototype,{emitReady:function(){var e=0;if(null!=this.__cbOnReady&&(e+=this.__cbOnReady.length),null!=this.__cbOnceReady&&(e+=this.__cbOnceReady.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnReady)for(var s=0,r=this.__cbOnReady.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnReady[l],++i):--e}if(null!=this.__cbOnceReady){var a=null,o=null;for(s=0,r=this.__cbOnceReady.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceReady[l],this.__cbOnceReady[l]=null;var h=this.__cbOnceOwnerUnbindReady[l];this.__cbOnceOwnerUnbindReady[l]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],o=[],[]),a.push(this.__cbOnceOwnerUnbindReady[l]),o.push(this.__cbOnceReady[l])}this.__cbOnceOwnerUnbindReady=a,this.__cbOnceReady=o}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onReady:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event ready because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReady(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(null);null==this.__cbOnReady&&(this.__cbOnReady=[]),this.__cbOnReady.push(n)},onceReady:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event ready because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReady(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(null);null==this.__cbOnceReady&&(this.__cbOnceReady=[]),this.__cbOnceReady.push(n)},offReady:function(e){if(null!=e){var n;null!=this.__cbOnReady&&-1!=(n=this.__cbOnReady.indexOf(e))&&(this.__cbOnReady.splice(n,1),null!=(r=this.__cbOnOwnerUnbindReady[n])&&r(),this.__cbOnOwnerUnbindReady.splice(n,1)),null!=this.__cbOnceReady&&-1!=(n=this.__cbOnceReady.indexOf(e))&&(this.__cbOnceReady.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindReady[n])&&r(),this.__cbOnceOwnerUnbindReady.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReady){for(var t=0,i=this.__cbOnOwnerUnbindReady.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindReady[s])&&r()}this.__cbOnOwnerUnbindReady=null}if(null!=this.__cbOnceOwnerUnbindReady){for(t=0,i=this.__cbOnceOwnerUnbindReady.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindReady[s])&&r()}this.__cbOnceOwnerUnbindReady=null}this.__cbOnReady=null,this.__cbOnceReady=null}},listensReady:function(){return null!=this.__cbOnReady&&this.__cbOnReady.length>0||null!=this.__cbOnceReady&&this.__cbOnceReady.length>0},emitUpdate:function(e){var n=0;if(null!=this.__cbOnUpdate&&(n+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(n+=this.__cbOnceUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnUpdate)for(var r=0,l=this.__cbOnUpdate.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnUpdate[a],++s):--n}if(null!=this.__cbOnceUpdate){var o=null,h=null;for(r=0,l=this.__cbOnceUpdate.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceUpdate[a],this.__cbOnceUpdate[a]=null;var c=this.__cbOnceOwnerUnbindUpdate[a];this.__cbOnceOwnerUnbindUpdate[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindUpdate[a]),h.push(this.__cbOnceUpdate[a])}this.__cbOnceOwnerUnbindUpdate=o,this.__cbOnceUpdate=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(n)},onceUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(n)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindUpdate[n])&&r(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindUpdate[n])&&r(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindUpdate[s])&&r()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindUpdate[s])&&r()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&this.__cbOnUpdate.length>0||null!=this.__cbOnceUpdate&&this.__cbOnceUpdate.length>0},emitPreUpdate:function(e){var n=0;if(null!=this.__cbOnPreUpdate&&(n+=this.__cbOnPreUpdate.length),null!=this.__cbOncePreUpdate&&(n+=this.__cbOncePreUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnPreUpdate)for(var r=0,l=this.__cbOnPreUpdate.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnPreUpdate[a],++s):--n}if(null!=this.__cbOncePreUpdate){var o=null,h=null;for(r=0,l=this.__cbOncePreUpdate.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOncePreUpdate[a],this.__cbOncePreUpdate[a]=null;var c=this.__cbOnceOwnerUnbindPreUpdate[a];this.__cbOnceOwnerUnbindPreUpdate[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindPreUpdate[a]),h.push(this.__cbOncePreUpdate[a])}this.__cbOnceOwnerUnbindPreUpdate=o,this.__cbOncePreUpdate=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onPreUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event preUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPreUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindPreUpdate&&(this.__cbOnOwnerUnbindPreUpdate=[]),this.__cbOnOwnerUnbindPreUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindPreUpdate&&(this.__cbOnOwnerUnbindPreUpdate=[]),this.__cbOnOwnerUnbindPreUpdate.push(null);null==this.__cbOnPreUpdate&&(this.__cbOnPreUpdate=[]),this.__cbOnPreUpdate.push(n)},oncePreUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event preUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPreUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindPreUpdate&&(this.__cbOnceOwnerUnbindPreUpdate=[]),this.__cbOnceOwnerUnbindPreUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindPreUpdate&&(this.__cbOnceOwnerUnbindPreUpdate=[]),this.__cbOnceOwnerUnbindPreUpdate.push(null);null==this.__cbOncePreUpdate&&(this.__cbOncePreUpdate=[]),this.__cbOncePreUpdate.push(n)},offPreUpdate:function(e){if(null!=e){var n;null!=this.__cbOnPreUpdate&&-1!=(n=this.__cbOnPreUpdate.indexOf(e))&&(this.__cbOnPreUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPreUpdate[n])&&r(),this.__cbOnOwnerUnbindPreUpdate.splice(n,1)),null!=this.__cbOncePreUpdate&&-1!=(n=this.__cbOncePreUpdate.indexOf(e))&&(this.__cbOncePreUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPreUpdate[n])&&r(),this.__cbOnceOwnerUnbindPreUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPreUpdate){for(var t=0,i=this.__cbOnOwnerUnbindPreUpdate.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindPreUpdate[s])&&r()}this.__cbOnOwnerUnbindPreUpdate=null}if(null!=this.__cbOnceOwnerUnbindPreUpdate){for(t=0,i=this.__cbOnceOwnerUnbindPreUpdate.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindPreUpdate[s])&&r()}this.__cbOnceOwnerUnbindPreUpdate=null}this.__cbOnPreUpdate=null,this.__cbOncePreUpdate=null}},listensPreUpdate:function(){return null!=this.__cbOnPreUpdate&&this.__cbOnPreUpdate.length>0||null!=this.__cbOncePreUpdate&&this.__cbOncePreUpdate.length>0},emitPostUpdate:function(e){var n=0;if(null!=this.__cbOnPostUpdate&&(n+=this.__cbOnPostUpdate.length),null!=this.__cbOncePostUpdate&&(n+=this.__cbOncePostUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnPostUpdate)for(var r=0,l=this.__cbOnPostUpdate.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnPostUpdate[a],++s):--n}if(null!=this.__cbOncePostUpdate){var o=null,h=null;for(r=0,l=this.__cbOncePostUpdate.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOncePostUpdate[a],this.__cbOncePostUpdate[a]=null;var c=this.__cbOnceOwnerUnbindPostUpdate[a];this.__cbOnceOwnerUnbindPostUpdate[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindPostUpdate[a]),h.push(this.__cbOncePostUpdate[a])}this.__cbOnceOwnerUnbindPostUpdate=o,this.__cbOncePostUpdate=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onPostUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event postUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPostUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindPostUpdate&&(this.__cbOnOwnerUnbindPostUpdate=[]),this.__cbOnOwnerUnbindPostUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindPostUpdate&&(this.__cbOnOwnerUnbindPostUpdate=[]),this.__cbOnOwnerUnbindPostUpdate.push(null);null==this.__cbOnPostUpdate&&(this.__cbOnPostUpdate=[]),this.__cbOnPostUpdate.push(n)},oncePostUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event postUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPostUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindPostUpdate&&(this.__cbOnceOwnerUnbindPostUpdate=[]),this.__cbOnceOwnerUnbindPostUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindPostUpdate&&(this.__cbOnceOwnerUnbindPostUpdate=[]),this.__cbOnceOwnerUnbindPostUpdate.push(null);null==this.__cbOncePostUpdate&&(this.__cbOncePostUpdate=[]),this.__cbOncePostUpdate.push(n)},offPostUpdate:function(e){if(null!=e){var n;null!=this.__cbOnPostUpdate&&-1!=(n=this.__cbOnPostUpdate.indexOf(e))&&(this.__cbOnPostUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPostUpdate[n])&&r(),this.__cbOnOwnerUnbindPostUpdate.splice(n,1)),null!=this.__cbOncePostUpdate&&-1!=(n=this.__cbOncePostUpdate.indexOf(e))&&(this.__cbOncePostUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPostUpdate[n])&&r(),this.__cbOnceOwnerUnbindPostUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPostUpdate){for(var t=0,i=this.__cbOnOwnerUnbindPostUpdate.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindPostUpdate[s])&&r()}this.__cbOnOwnerUnbindPostUpdate=null}if(null!=this.__cbOnceOwnerUnbindPostUpdate){for(t=0,i=this.__cbOnceOwnerUnbindPostUpdate.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindPostUpdate[s])&&r()}this.__cbOnceOwnerUnbindPostUpdate=null}this.__cbOnPostUpdate=null,this.__cbOncePostUpdate=null}},listensPostUpdate:function(){return null!=this.__cbOnPostUpdate&&this.__cbOnPostUpdate.length>0||null!=this.__cbOncePostUpdate&&this.__cbOncePostUpdate.length>0},emitDefaultAssetsLoad:function(e){var n=0;if(null!=this.__cbOnDefaultAssetsLoad&&(n+=this.__cbOnDefaultAssetsLoad.length),null!=this.__cbOnceDefaultAssetsLoad&&(n+=this.__cbOnceDefaultAssetsLoad.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnDefaultAssetsLoad)for(var r=0,l=this.__cbOnDefaultAssetsLoad.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnDefaultAssetsLoad[a],++s):--n}if(null!=this.__cbOnceDefaultAssetsLoad){var o=null,h=null;for(r=0,l=this.__cbOnceDefaultAssetsLoad.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceDefaultAssetsLoad[a],this.__cbOnceDefaultAssetsLoad[a]=null;var c=this.__cbOnceOwnerUnbindDefaultAssetsLoad[a];this.__cbOnceOwnerUnbindDefaultAssetsLoad[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindDefaultAssetsLoad[a]),h.push(this.__cbOnceDefaultAssetsLoad[a])}this.__cbOnceOwnerUnbindDefaultAssetsLoad=o,this.__cbOnceDefaultAssetsLoad=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onDefaultAssetsLoad:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event defaultAssetsLoad because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDefaultAssetsLoad(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindDefaultAssetsLoad&&(this.__cbOnOwnerUnbindDefaultAssetsLoad=[]),this.__cbOnOwnerUnbindDefaultAssetsLoad.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindDefaultAssetsLoad&&(this.__cbOnOwnerUnbindDefaultAssetsLoad=[]),this.__cbOnOwnerUnbindDefaultAssetsLoad.push(null);null==this.__cbOnDefaultAssetsLoad&&(this.__cbOnDefaultAssetsLoad=[]),this.__cbOnDefaultAssetsLoad.push(n)},onceDefaultAssetsLoad:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event defaultAssetsLoad because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDefaultAssetsLoad(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindDefaultAssetsLoad&&(this.__cbOnceOwnerUnbindDefaultAssetsLoad=[]),this.__cbOnceOwnerUnbindDefaultAssetsLoad.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindDefaultAssetsLoad&&(this.__cbOnceOwnerUnbindDefaultAssetsLoad=[]),this.__cbOnceOwnerUnbindDefaultAssetsLoad.push(null);null==this.__cbOnceDefaultAssetsLoad&&(this.__cbOnceDefaultAssetsLoad=[]),this.__cbOnceDefaultAssetsLoad.push(n)},offDefaultAssetsLoad:function(e){if(null!=e){var n;null!=this.__cbOnDefaultAssetsLoad&&-1!=(n=this.__cbOnDefaultAssetsLoad.indexOf(e))&&(this.__cbOnDefaultAssetsLoad.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDefaultAssetsLoad[n])&&r(),this.__cbOnOwnerUnbindDefaultAssetsLoad.splice(n,1)),null!=this.__cbOnceDefaultAssetsLoad&&-1!=(n=this.__cbOnceDefaultAssetsLoad.indexOf(e))&&(this.__cbOnceDefaultAssetsLoad.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDefaultAssetsLoad[n])&&r(),this.__cbOnceOwnerUnbindDefaultAssetsLoad.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDefaultAssetsLoad){for(var t=0,i=this.__cbOnOwnerUnbindDefaultAssetsLoad.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindDefaultAssetsLoad[s])&&r()}this.__cbOnOwnerUnbindDefaultAssetsLoad=null}if(null!=this.__cbOnceOwnerUnbindDefaultAssetsLoad){for(t=0,i=this.__cbOnceOwnerUnbindDefaultAssetsLoad.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindDefaultAssetsLoad[s])&&r()}this.__cbOnceOwnerUnbindDefaultAssetsLoad=null}this.__cbOnDefaultAssetsLoad=null,this.__cbOnceDefaultAssetsLoad=null}},listensDefaultAssetsLoad:function(){return null!=this.__cbOnDefaultAssetsLoad&&this.__cbOnDefaultAssetsLoad.length>0||null!=this.__cbOnceDefaultAssetsLoad&&this.__cbOnceDefaultAssetsLoad.length>0},emitCriticalError:function(e,n){var t=0;if(null!=this.__cbOnCriticalError&&(t+=this.__cbOnCriticalError.length),null!=this.__cbOnceCriticalError&&(t+=this.__cbOnceCriticalError.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnCriticalError)for(var l=0,a=this.__cbOnCriticalError.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnCriticalError[o],++r):--t}if(null!=this.__cbOnceCriticalError){var h=null,c=null;for(l=0,a=this.__cbOnceCriticalError.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceCriticalError[o],this.__cbOnceCriticalError[o]=null;var u=this.__cbOnceOwnerUnbindCriticalError[o];this.__cbOnceOwnerUnbindCriticalError[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindCriticalError[o]),c.push(this.__cbOnceCriticalError[o])}this.__cbOnceOwnerUnbindCriticalError=h,this.__cbOnceCriticalError=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onCriticalError:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event criticalError because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offCriticalError(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindCriticalError&&(this.__cbOnOwnerUnbindCriticalError=[]),this.__cbOnOwnerUnbindCriticalError.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindCriticalError&&(this.__cbOnOwnerUnbindCriticalError=[]),this.__cbOnOwnerUnbindCriticalError.push(null);null==this.__cbOnCriticalError&&(this.__cbOnCriticalError=[]),this.__cbOnCriticalError.push(n)},onceCriticalError:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event criticalError because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offCriticalError(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindCriticalError&&(this.__cbOnceOwnerUnbindCriticalError=[]),this.__cbOnceOwnerUnbindCriticalError.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindCriticalError&&(this.__cbOnceOwnerUnbindCriticalError=[]),this.__cbOnceOwnerUnbindCriticalError.push(null);null==this.__cbOnceCriticalError&&(this.__cbOnceCriticalError=[]),this.__cbOnceCriticalError.push(n)},offCriticalError:function(e){if(null!=e){var n;null!=this.__cbOnCriticalError&&-1!=(n=this.__cbOnCriticalError.indexOf(e))&&(this.__cbOnCriticalError.splice(n,1),null!=(r=this.__cbOnOwnerUnbindCriticalError[n])&&r(),this.__cbOnOwnerUnbindCriticalError.splice(n,1)),null!=this.__cbOnceCriticalError&&-1!=(n=this.__cbOnceCriticalError.indexOf(e))&&(this.__cbOnceCriticalError.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindCriticalError[n])&&r(),this.__cbOnceOwnerUnbindCriticalError.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCriticalError){for(var t=0,i=this.__cbOnOwnerUnbindCriticalError.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindCriticalError[s])&&r()}this.__cbOnOwnerUnbindCriticalError=null}if(null!=this.__cbOnceOwnerUnbindCriticalError){for(t=0,i=this.__cbOnceOwnerUnbindCriticalError.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindCriticalError[s])&&r()}this.__cbOnceOwnerUnbindCriticalError=null}this.__cbOnCriticalError=null,this.__cbOnceCriticalError=null}},listensCriticalError:function(){return null!=this.__cbOnCriticalError&&this.__cbOnCriticalError.length>0||null!=this.__cbOnceCriticalError&&this.__cbOnceCriticalError.length>0},emitBeginEnterBackground:function(){var e=0;if(null!=this.__cbOnBeginEnterBackground&&(e+=this.__cbOnBeginEnterBackground.length),null!=this.__cbOnceBeginEnterBackground&&(e+=this.__cbOnceBeginEnterBackground.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBeginEnterBackground)for(var s=0,r=this.__cbOnBeginEnterBackground.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnBeginEnterBackground[l],++i):--e}if(null!=this.__cbOnceBeginEnterBackground){var a=null,o=null;for(s=0,r=this.__cbOnceBeginEnterBackground.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceBeginEnterBackground[l],this.__cbOnceBeginEnterBackground[l]=null;var h=this.__cbOnceOwnerUnbindBeginEnterBackground[l];this.__cbOnceOwnerUnbindBeginEnterBackground[l]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],o=[],[]),a.push(this.__cbOnceOwnerUnbindBeginEnterBackground[l]),o.push(this.__cbOnceBeginEnterBackground[l])}this.__cbOnceOwnerUnbindBeginEnterBackground=a,this.__cbOnceBeginEnterBackground=o}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onBeginEnterBackground:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginEnterBackground because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginEnterBackground(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBeginEnterBackground&&(this.__cbOnOwnerUnbindBeginEnterBackground=[]),this.__cbOnOwnerUnbindBeginEnterBackground.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBeginEnterBackground&&(this.__cbOnOwnerUnbindBeginEnterBackground=[]),this.__cbOnOwnerUnbindBeginEnterBackground.push(null);null==this.__cbOnBeginEnterBackground&&(this.__cbOnBeginEnterBackground=[]),this.__cbOnBeginEnterBackground.push(n)},onceBeginEnterBackground:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginEnterBackground because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginEnterBackground(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBeginEnterBackground&&(this.__cbOnceOwnerUnbindBeginEnterBackground=[]),this.__cbOnceOwnerUnbindBeginEnterBackground.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBeginEnterBackground&&(this.__cbOnceOwnerUnbindBeginEnterBackground=[]),this.__cbOnceOwnerUnbindBeginEnterBackground.push(null);null==this.__cbOnceBeginEnterBackground&&(this.__cbOnceBeginEnterBackground=[]),this.__cbOnceBeginEnterBackground.push(n)},offBeginEnterBackground:function(e){if(null!=e){var n;null!=this.__cbOnBeginEnterBackground&&-1!=(n=this.__cbOnBeginEnterBackground.indexOf(e))&&(this.__cbOnBeginEnterBackground.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBeginEnterBackground[n])&&r(),this.__cbOnOwnerUnbindBeginEnterBackground.splice(n,1)),null!=this.__cbOnceBeginEnterBackground&&-1!=(n=this.__cbOnceBeginEnterBackground.indexOf(e))&&(this.__cbOnceBeginEnterBackground.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBeginEnterBackground[n])&&r(),this.__cbOnceOwnerUnbindBeginEnterBackground.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginEnterBackground){for(var t=0,i=this.__cbOnOwnerUnbindBeginEnterBackground.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindBeginEnterBackground[s])&&r()}this.__cbOnOwnerUnbindBeginEnterBackground=null}if(null!=this.__cbOnceOwnerUnbindBeginEnterBackground){for(t=0,i=this.__cbOnceOwnerUnbindBeginEnterBackground.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindBeginEnterBackground[s])&&r()}this.__cbOnceOwnerUnbindBeginEnterBackground=null}this.__cbOnBeginEnterBackground=null,this.__cbOnceBeginEnterBackground=null}},listensBeginEnterBackground:function(){return null!=this.__cbOnBeginEnterBackground&&this.__cbOnBeginEnterBackground.length>0||null!=this.__cbOnceBeginEnterBackground&&this.__cbOnceBeginEnterBackground.length>0},emitFinishEnterBackground:function(){var e=0;if(null!=this.__cbOnFinishEnterBackground&&(e+=this.__cbOnFinishEnterBackground.length),null!=this.__cbOnceFinishEnterBackground&&(e+=this.__cbOnceFinishEnterBackground.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFinishEnterBackground)for(var s=0,r=this.__cbOnFinishEnterBackground.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnFinishEnterBackground[l],++i):--e}if(null!=this.__cbOnceFinishEnterBackground){var a=null,o=null;for(s=0,r=this.__cbOnceFinishEnterBackground.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceFinishEnterBackground[l],this.__cbOnceFinishEnterBackground[l]=null;var h=this.__cbOnceOwnerUnbindFinishEnterBackground[l];this.__cbOnceOwnerUnbindFinishEnterBackground[l]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],o=[],[]),a.push(this.__cbOnceOwnerUnbindFinishEnterBackground[l]),o.push(this.__cbOnceFinishEnterBackground[l])}this.__cbOnceOwnerUnbindFinishEnterBackground=a,this.__cbOnceFinishEnterBackground=o}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onFinishEnterBackground:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event finishEnterBackground because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFinishEnterBackground(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFinishEnterBackground&&(this.__cbOnOwnerUnbindFinishEnterBackground=[]),this.__cbOnOwnerUnbindFinishEnterBackground.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFinishEnterBackground&&(this.__cbOnOwnerUnbindFinishEnterBackground=[]),this.__cbOnOwnerUnbindFinishEnterBackground.push(null);null==this.__cbOnFinishEnterBackground&&(this.__cbOnFinishEnterBackground=[]),this.__cbOnFinishEnterBackground.push(n)},onceFinishEnterBackground:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event finishEnterBackground because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFinishEnterBackground(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFinishEnterBackground&&(this.__cbOnceOwnerUnbindFinishEnterBackground=[]),this.__cbOnceOwnerUnbindFinishEnterBackground.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFinishEnterBackground&&(this.__cbOnceOwnerUnbindFinishEnterBackground=[]),this.__cbOnceOwnerUnbindFinishEnterBackground.push(null);null==this.__cbOnceFinishEnterBackground&&(this.__cbOnceFinishEnterBackground=[]),this.__cbOnceFinishEnterBackground.push(n)},offFinishEnterBackground:function(e){if(null!=e){var n;null!=this.__cbOnFinishEnterBackground&&-1!=(n=this.__cbOnFinishEnterBackground.indexOf(e))&&(this.__cbOnFinishEnterBackground.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFinishEnterBackground[n])&&r(),this.__cbOnOwnerUnbindFinishEnterBackground.splice(n,1)),null!=this.__cbOnceFinishEnterBackground&&-1!=(n=this.__cbOnceFinishEnterBackground.indexOf(e))&&(this.__cbOnceFinishEnterBackground.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFinishEnterBackground[n])&&r(),this.__cbOnceOwnerUnbindFinishEnterBackground.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFinishEnterBackground){for(var t=0,i=this.__cbOnOwnerUnbindFinishEnterBackground.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindFinishEnterBackground[s])&&r()}this.__cbOnOwnerUnbindFinishEnterBackground=null}if(null!=this.__cbOnceOwnerUnbindFinishEnterBackground){for(t=0,i=this.__cbOnceOwnerUnbindFinishEnterBackground.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindFinishEnterBackground[s])&&r()}this.__cbOnceOwnerUnbindFinishEnterBackground=null}this.__cbOnFinishEnterBackground=null,this.__cbOnceFinishEnterBackground=null}},listensFinishEnterBackground:function(){return null!=this.__cbOnFinishEnterBackground&&this.__cbOnFinishEnterBackground.length>0||null!=this.__cbOnceFinishEnterBackground&&this.__cbOnceFinishEnterBackground.length>0},emitBeginEnterForeground:function(){var e=0;if(null!=this.__cbOnBeginEnterForeground&&(e+=this.__cbOnBeginEnterForeground.length),null!=this.__cbOnceBeginEnterForeground&&(e+=this.__cbOnceBeginEnterForeground.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBeginEnterForeground)for(var s=0,r=this.__cbOnBeginEnterForeground.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnBeginEnterForeground[l],++i):--e}if(null!=this.__cbOnceBeginEnterForeground){var a=null,o=null;for(s=0,r=this.__cbOnceBeginEnterForeground.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceBeginEnterForeground[l],this.__cbOnceBeginEnterForeground[l]=null;var h=this.__cbOnceOwnerUnbindBeginEnterForeground[l];this.__cbOnceOwnerUnbindBeginEnterForeground[l]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],o=[],[]),a.push(this.__cbOnceOwnerUnbindBeginEnterForeground[l]),o.push(this.__cbOnceBeginEnterForeground[l])}this.__cbOnceOwnerUnbindBeginEnterForeground=a,this.__cbOnceBeginEnterForeground=o}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onBeginEnterForeground:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginEnterForeground because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginEnterForeground(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBeginEnterForeground&&(this.__cbOnOwnerUnbindBeginEnterForeground=[]),this.__cbOnOwnerUnbindBeginEnterForeground.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBeginEnterForeground&&(this.__cbOnOwnerUnbindBeginEnterForeground=[]),this.__cbOnOwnerUnbindBeginEnterForeground.push(null);null==this.__cbOnBeginEnterForeground&&(this.__cbOnBeginEnterForeground=[]),this.__cbOnBeginEnterForeground.push(n)},onceBeginEnterForeground:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginEnterForeground because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginEnterForeground(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBeginEnterForeground&&(this.__cbOnceOwnerUnbindBeginEnterForeground=[]),this.__cbOnceOwnerUnbindBeginEnterForeground.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBeginEnterForeground&&(this.__cbOnceOwnerUnbindBeginEnterForeground=[]),this.__cbOnceOwnerUnbindBeginEnterForeground.push(null);null==this.__cbOnceBeginEnterForeground&&(this.__cbOnceBeginEnterForeground=[]),this.__cbOnceBeginEnterForeground.push(n)},offBeginEnterForeground:function(e){if(null!=e){var n;null!=this.__cbOnBeginEnterForeground&&-1!=(n=this.__cbOnBeginEnterForeground.indexOf(e))&&(this.__cbOnBeginEnterForeground.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBeginEnterForeground[n])&&r(),this.__cbOnOwnerUnbindBeginEnterForeground.splice(n,1)),null!=this.__cbOnceBeginEnterForeground&&-1!=(n=this.__cbOnceBeginEnterForeground.indexOf(e))&&(this.__cbOnceBeginEnterForeground.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBeginEnterForeground[n])&&r(),this.__cbOnceOwnerUnbindBeginEnterForeground.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginEnterForeground){for(var t=0,i=this.__cbOnOwnerUnbindBeginEnterForeground.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindBeginEnterForeground[s])&&r()}this.__cbOnOwnerUnbindBeginEnterForeground=null}if(null!=this.__cbOnceOwnerUnbindBeginEnterForeground){for(t=0,i=this.__cbOnceOwnerUnbindBeginEnterForeground.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindBeginEnterForeground[s])&&r()}this.__cbOnceOwnerUnbindBeginEnterForeground=null}this.__cbOnBeginEnterForeground=null,this.__cbOnceBeginEnterForeground=null}},listensBeginEnterForeground:function(){return null!=this.__cbOnBeginEnterForeground&&this.__cbOnBeginEnterForeground.length>0||null!=this.__cbOnceBeginEnterForeground&&this.__cbOnceBeginEnterForeground.length>0},emitFinishEnterForeground:function(){var e=0;if(null!=this.__cbOnFinishEnterForeground&&(e+=this.__cbOnFinishEnterForeground.length),null!=this.__cbOnceFinishEnterForeground&&(e+=this.__cbOnceFinishEnterForeground.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFinishEnterForeground)for(var s=0,r=this.__cbOnFinishEnterForeground.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnFinishEnterForeground[l],++i):--e}if(null!=this.__cbOnceFinishEnterForeground){var a=null,o=null;for(s=0,r=this.__cbOnceFinishEnterForeground.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceFinishEnterForeground[l],this.__cbOnceFinishEnterForeground[l]=null;var h=this.__cbOnceOwnerUnbindFinishEnterForeground[l];this.__cbOnceOwnerUnbindFinishEnterForeground[l]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],o=[],[]),a.push(this.__cbOnceOwnerUnbindFinishEnterForeground[l]),o.push(this.__cbOnceFinishEnterForeground[l])}this.__cbOnceOwnerUnbindFinishEnterForeground=a,this.__cbOnceFinishEnterForeground=o}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onFinishEnterForeground:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event finishEnterForeground because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFinishEnterForeground(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFinishEnterForeground&&(this.__cbOnOwnerUnbindFinishEnterForeground=[]),this.__cbOnOwnerUnbindFinishEnterForeground.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFinishEnterForeground&&(this.__cbOnOwnerUnbindFinishEnterForeground=[]),this.__cbOnOwnerUnbindFinishEnterForeground.push(null);null==this.__cbOnFinishEnterForeground&&(this.__cbOnFinishEnterForeground=[]),this.__cbOnFinishEnterForeground.push(n)},onceFinishEnterForeground:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event finishEnterForeground because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFinishEnterForeground(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFinishEnterForeground&&(this.__cbOnceOwnerUnbindFinishEnterForeground=[]),this.__cbOnceOwnerUnbindFinishEnterForeground.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFinishEnterForeground&&(this.__cbOnceOwnerUnbindFinishEnterForeground=[]),this.__cbOnceOwnerUnbindFinishEnterForeground.push(null);null==this.__cbOnceFinishEnterForeground&&(this.__cbOnceFinishEnterForeground=[]),this.__cbOnceFinishEnterForeground.push(n)},offFinishEnterForeground:function(e){if(null!=e){var n;null!=this.__cbOnFinishEnterForeground&&-1!=(n=this.__cbOnFinishEnterForeground.indexOf(e))&&(this.__cbOnFinishEnterForeground.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFinishEnterForeground[n])&&r(),this.__cbOnOwnerUnbindFinishEnterForeground.splice(n,1)),null!=this.__cbOnceFinishEnterForeground&&-1!=(n=this.__cbOnceFinishEnterForeground.indexOf(e))&&(this.__cbOnceFinishEnterForeground.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFinishEnterForeground[n])&&r(),this.__cbOnceOwnerUnbindFinishEnterForeground.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFinishEnterForeground){for(var t=0,i=this.__cbOnOwnerUnbindFinishEnterForeground.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindFinishEnterForeground[s])&&r()}this.__cbOnOwnerUnbindFinishEnterForeground=null}if(null!=this.__cbOnceOwnerUnbindFinishEnterForeground){for(t=0,i=this.__cbOnceOwnerUnbindFinishEnterForeground.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindFinishEnterForeground[s])&&r()}this.__cbOnceOwnerUnbindFinishEnterForeground=null}this.__cbOnFinishEnterForeground=null,this.__cbOnceFinishEnterForeground=null}},listensFinishEnterForeground:function(){return null!=this.__cbOnFinishEnterForeground&&this.__cbOnFinishEnterForeground.length>0||null!=this.__cbOnceFinishEnterForeground&&this.__cbOnceFinishEnterForeground.length>0},emitBeginSortVisuals:function(){var e=0;if(null!=this.__cbOnBeginSortVisuals&&(e+=this.__cbOnBeginSortVisuals.length),null!=this.__cbOnceBeginSortVisuals&&(e+=this.__cbOnceBeginSortVisuals.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBeginSortVisuals)for(var s=0,r=this.__cbOnBeginSortVisuals.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnBeginSortVisuals[l],++i):--e}if(null!=this.__cbOnceBeginSortVisuals){var a=null,o=null;for(s=0,r=this.__cbOnceBeginSortVisuals.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceBeginSortVisuals[l],this.__cbOnceBeginSortVisuals[l]=null;var h=this.__cbOnceOwnerUnbindBeginSortVisuals[l];this.__cbOnceOwnerUnbindBeginSortVisuals[l]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],o=[],[]),a.push(this.__cbOnceOwnerUnbindBeginSortVisuals[l]),o.push(this.__cbOnceBeginSortVisuals[l])}this.__cbOnceOwnerUnbindBeginSortVisuals=a,this.__cbOnceBeginSortVisuals=o}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onBeginSortVisuals:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginSortVisuals because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginSortVisuals(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBeginSortVisuals&&(this.__cbOnOwnerUnbindBeginSortVisuals=[]),this.__cbOnOwnerUnbindBeginSortVisuals.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBeginSortVisuals&&(this.__cbOnOwnerUnbindBeginSortVisuals=[]),this.__cbOnOwnerUnbindBeginSortVisuals.push(null);null==this.__cbOnBeginSortVisuals&&(this.__cbOnBeginSortVisuals=[]),this.__cbOnBeginSortVisuals.push(n)},onceBeginSortVisuals:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginSortVisuals because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginSortVisuals(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBeginSortVisuals&&(this.__cbOnceOwnerUnbindBeginSortVisuals=[]),this.__cbOnceOwnerUnbindBeginSortVisuals.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBeginSortVisuals&&(this.__cbOnceOwnerUnbindBeginSortVisuals=[]),this.__cbOnceOwnerUnbindBeginSortVisuals.push(null);null==this.__cbOnceBeginSortVisuals&&(this.__cbOnceBeginSortVisuals=[]),this.__cbOnceBeginSortVisuals.push(n)},offBeginSortVisuals:function(e){if(null!=e){var n;null!=this.__cbOnBeginSortVisuals&&-1!=(n=this.__cbOnBeginSortVisuals.indexOf(e))&&(this.__cbOnBeginSortVisuals.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBeginSortVisuals[n])&&r(),this.__cbOnOwnerUnbindBeginSortVisuals.splice(n,1)),null!=this.__cbOnceBeginSortVisuals&&-1!=(n=this.__cbOnceBeginSortVisuals.indexOf(e))&&(this.__cbOnceBeginSortVisuals.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBeginSortVisuals[n])&&r(),this.__cbOnceOwnerUnbindBeginSortVisuals.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginSortVisuals){for(var t=0,i=this.__cbOnOwnerUnbindBeginSortVisuals.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindBeginSortVisuals[s])&&r()}this.__cbOnOwnerUnbindBeginSortVisuals=null}if(null!=this.__cbOnceOwnerUnbindBeginSortVisuals){for(t=0,i=this.__cbOnceOwnerUnbindBeginSortVisuals.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindBeginSortVisuals[s])&&r()}this.__cbOnceOwnerUnbindBeginSortVisuals=null}this.__cbOnBeginSortVisuals=null,this.__cbOnceBeginSortVisuals=null}},listensBeginSortVisuals:function(){return null!=this.__cbOnBeginSortVisuals&&this.__cbOnBeginSortVisuals.length>0||null!=this.__cbOnceBeginSortVisuals&&this.__cbOnceBeginSortVisuals.length>0},emitFinishSortVisuals:function(){var e=0;if(null!=this.__cbOnFinishSortVisuals&&(e+=this.__cbOnFinishSortVisuals.length),null!=this.__cbOnceFinishSortVisuals&&(e+=this.__cbOnceFinishSortVisuals.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFinishSortVisuals)for(var s=0,r=this.__cbOnFinishSortVisuals.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnFinishSortVisuals[l],++i):--e}if(null!=this.__cbOnceFinishSortVisuals){var a=null,o=null;for(s=0,r=this.__cbOnceFinishSortVisuals.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceFinishSortVisuals[l],this.__cbOnceFinishSortVisuals[l]=null;var h=this.__cbOnceOwnerUnbindFinishSortVisuals[l];this.__cbOnceOwnerUnbindFinishSortVisuals[l]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],o=[],[]),a.push(this.__cbOnceOwnerUnbindFinishSortVisuals[l]),o.push(this.__cbOnceFinishSortVisuals[l])}this.__cbOnceOwnerUnbindFinishSortVisuals=a,this.__cbOnceFinishSortVisuals=o}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onFinishSortVisuals:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event finishSortVisuals because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFinishSortVisuals(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFinishSortVisuals&&(this.__cbOnOwnerUnbindFinishSortVisuals=[]),this.__cbOnOwnerUnbindFinishSortVisuals.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFinishSortVisuals&&(this.__cbOnOwnerUnbindFinishSortVisuals=[]),this.__cbOnOwnerUnbindFinishSortVisuals.push(null);null==this.__cbOnFinishSortVisuals&&(this.__cbOnFinishSortVisuals=[]),this.__cbOnFinishSortVisuals.push(n)},onceFinishSortVisuals:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event finishSortVisuals because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFinishSortVisuals(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFinishSortVisuals&&(this.__cbOnceOwnerUnbindFinishSortVisuals=[]),this.__cbOnceOwnerUnbindFinishSortVisuals.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFinishSortVisuals&&(this.__cbOnceOwnerUnbindFinishSortVisuals=[]),this.__cbOnceOwnerUnbindFinishSortVisuals.push(null);null==this.__cbOnceFinishSortVisuals&&(this.__cbOnceFinishSortVisuals=[]),this.__cbOnceFinishSortVisuals.push(n)},offFinishSortVisuals:function(e){if(null!=e){var n;null!=this.__cbOnFinishSortVisuals&&-1!=(n=this.__cbOnFinishSortVisuals.indexOf(e))&&(this.__cbOnFinishSortVisuals.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFinishSortVisuals[n])&&r(),this.__cbOnOwnerUnbindFinishSortVisuals.splice(n,1)),null!=this.__cbOnceFinishSortVisuals&&-1!=(n=this.__cbOnceFinishSortVisuals.indexOf(e))&&(this.__cbOnceFinishSortVisuals.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFinishSortVisuals[n])&&r(),this.__cbOnceOwnerUnbindFinishSortVisuals.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFinishSortVisuals){for(var t=0,i=this.__cbOnOwnerUnbindFinishSortVisuals.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindFinishSortVisuals[s])&&r()}this.__cbOnOwnerUnbindFinishSortVisuals=null}if(null!=this.__cbOnceOwnerUnbindFinishSortVisuals){for(t=0,i=this.__cbOnceOwnerUnbindFinishSortVisuals.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindFinishSortVisuals[s])&&r()}this.__cbOnceOwnerUnbindFinishSortVisuals=null}this.__cbOnFinishSortVisuals=null,this.__cbOnceFinishSortVisuals=null}},listensFinishSortVisuals:function(){return null!=this.__cbOnFinishSortVisuals&&this.__cbOnFinishSortVisuals.length>0||null!=this.__cbOnceFinishSortVisuals&&this.__cbOnceFinishSortVisuals.length>0},emitBeginDraw:function(){var e=0;if(null!=this.__cbOnBeginDraw&&(e+=this.__cbOnBeginDraw.length),null!=this.__cbOnceBeginDraw&&(e+=this.__cbOnceBeginDraw.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnBeginDraw)for(var s=0,r=this.__cbOnBeginDraw.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnBeginDraw[l],++i):--e}if(null!=this.__cbOnceBeginDraw){var a=null,o=null;for(s=0,r=this.__cbOnceBeginDraw.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceBeginDraw[l],this.__cbOnceBeginDraw[l]=null;var h=this.__cbOnceOwnerUnbindBeginDraw[l];this.__cbOnceOwnerUnbindBeginDraw[l]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],o=[],[]),a.push(this.__cbOnceOwnerUnbindBeginDraw[l]),o.push(this.__cbOnceBeginDraw[l])}this.__cbOnceOwnerUnbindBeginDraw=a,this.__cbOnceBeginDraw=o}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onBeginDraw:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginDraw because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginDraw(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBeginDraw&&(this.__cbOnOwnerUnbindBeginDraw=[]),this.__cbOnOwnerUnbindBeginDraw.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBeginDraw&&(this.__cbOnOwnerUnbindBeginDraw=[]),this.__cbOnOwnerUnbindBeginDraw.push(null);null==this.__cbOnBeginDraw&&(this.__cbOnBeginDraw=[]),this.__cbOnBeginDraw.push(n)},onceBeginDraw:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginDraw because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginDraw(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBeginDraw&&(this.__cbOnceOwnerUnbindBeginDraw=[]),this.__cbOnceOwnerUnbindBeginDraw.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBeginDraw&&(this.__cbOnceOwnerUnbindBeginDraw=[]),this.__cbOnceOwnerUnbindBeginDraw.push(null);null==this.__cbOnceBeginDraw&&(this.__cbOnceBeginDraw=[]),this.__cbOnceBeginDraw.push(n)},offBeginDraw:function(e){if(null!=e){var n;null!=this.__cbOnBeginDraw&&-1!=(n=this.__cbOnBeginDraw.indexOf(e))&&(this.__cbOnBeginDraw.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBeginDraw[n])&&r(),this.__cbOnOwnerUnbindBeginDraw.splice(n,1)),null!=this.__cbOnceBeginDraw&&-1!=(n=this.__cbOnceBeginDraw.indexOf(e))&&(this.__cbOnceBeginDraw.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBeginDraw[n])&&r(),this.__cbOnceOwnerUnbindBeginDraw.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginDraw){for(var t=0,i=this.__cbOnOwnerUnbindBeginDraw.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindBeginDraw[s])&&r()}this.__cbOnOwnerUnbindBeginDraw=null}if(null!=this.__cbOnceOwnerUnbindBeginDraw){for(t=0,i=this.__cbOnceOwnerUnbindBeginDraw.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindBeginDraw[s])&&r()}this.__cbOnceOwnerUnbindBeginDraw=null}this.__cbOnBeginDraw=null,this.__cbOnceBeginDraw=null}},listensBeginDraw:function(){return null!=this.__cbOnBeginDraw&&this.__cbOnBeginDraw.length>0||null!=this.__cbOnceBeginDraw&&this.__cbOnceBeginDraw.length>0},emitFinishDraw:function(){var e=0;if(null!=this.__cbOnFinishDraw&&(e+=this.__cbOnFinishDraw.length),null!=this.__cbOnceFinishDraw&&(e+=this.__cbOnceFinishDraw.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFinishDraw)for(var s=0,r=this.__cbOnFinishDraw.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnFinishDraw[l],++i):--e}if(null!=this.__cbOnceFinishDraw){var a=null,o=null;for(s=0,r=this.__cbOnceFinishDraw.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceFinishDraw[l],this.__cbOnceFinishDraw[l]=null;var h=this.__cbOnceOwnerUnbindFinishDraw[l];this.__cbOnceOwnerUnbindFinishDraw[l]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],o=[],[]),a.push(this.__cbOnceOwnerUnbindFinishDraw[l]),o.push(this.__cbOnceFinishDraw[l])}this.__cbOnceOwnerUnbindFinishDraw=a,this.__cbOnceFinishDraw=o}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onFinishDraw:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event finishDraw because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFinishDraw(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFinishDraw&&(this.__cbOnOwnerUnbindFinishDraw=[]),this.__cbOnOwnerUnbindFinishDraw.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFinishDraw&&(this.__cbOnOwnerUnbindFinishDraw=[]),this.__cbOnOwnerUnbindFinishDraw.push(null);null==this.__cbOnFinishDraw&&(this.__cbOnFinishDraw=[]),this.__cbOnFinishDraw.push(n)},onceFinishDraw:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event finishDraw because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFinishDraw(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFinishDraw&&(this.__cbOnceOwnerUnbindFinishDraw=[]),this.__cbOnceOwnerUnbindFinishDraw.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFinishDraw&&(this.__cbOnceOwnerUnbindFinishDraw=[]),this.__cbOnceOwnerUnbindFinishDraw.push(null);null==this.__cbOnceFinishDraw&&(this.__cbOnceFinishDraw=[]),this.__cbOnceFinishDraw.push(n)},offFinishDraw:function(e){if(null!=e){var n;null!=this.__cbOnFinishDraw&&-1!=(n=this.__cbOnFinishDraw.indexOf(e))&&(this.__cbOnFinishDraw.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFinishDraw[n])&&r(),this.__cbOnOwnerUnbindFinishDraw.splice(n,1)),null!=this.__cbOnceFinishDraw&&-1!=(n=this.__cbOnceFinishDraw.indexOf(e))&&(this.__cbOnceFinishDraw.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFinishDraw[n])&&r(),this.__cbOnceOwnerUnbindFinishDraw.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFinishDraw){for(var t=0,i=this.__cbOnOwnerUnbindFinishDraw.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindFinishDraw[s])&&r()}this.__cbOnOwnerUnbindFinishDraw=null}if(null!=this.__cbOnceOwnerUnbindFinishDraw){for(t=0,i=this.__cbOnceOwnerUnbindFinishDraw.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindFinishDraw[s])&&r()}this.__cbOnceOwnerUnbindFinishDraw=null}this.__cbOnFinishDraw=null,this.__cbOnceFinishDraw=null}},listensFinishDraw:function(){return null!=this.__cbOnFinishDraw&&this.__cbOnFinishDraw.length>0||null!=this.__cbOnceFinishDraw&&this.__cbOnceFinishDraw.length>0},emitLowMemory:function(){var e=0;if(null!=this.__cbOnLowMemory&&(e+=this.__cbOnLowMemory.length),null!=this.__cbOnceLowMemory&&(e+=this.__cbOnceLowMemory.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnLowMemory)for(var s=0,r=this.__cbOnLowMemory.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnLowMemory[l],++i):--e}if(null!=this.__cbOnceLowMemory){var a=null,o=null;for(s=0,r=this.__cbOnceLowMemory.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceLowMemory[l],this.__cbOnceLowMemory[l]=null;var h=this.__cbOnceOwnerUnbindLowMemory[l];this.__cbOnceOwnerUnbindLowMemory[l]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],o=[],[]),a.push(this.__cbOnceOwnerUnbindLowMemory[l]),o.push(this.__cbOnceLowMemory[l])}this.__cbOnceOwnerUnbindLowMemory=a,this.__cbOnceLowMemory=o}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onLowMemory:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event lowMemory because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offLowMemory(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindLowMemory&&(this.__cbOnOwnerUnbindLowMemory=[]),this.__cbOnOwnerUnbindLowMemory.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindLowMemory&&(this.__cbOnOwnerUnbindLowMemory=[]),this.__cbOnOwnerUnbindLowMemory.push(null);null==this.__cbOnLowMemory&&(this.__cbOnLowMemory=[]),this.__cbOnLowMemory.push(n)},onceLowMemory:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event lowMemory because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offLowMemory(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindLowMemory&&(this.__cbOnceOwnerUnbindLowMemory=[]),this.__cbOnceOwnerUnbindLowMemory.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindLowMemory&&(this.__cbOnceOwnerUnbindLowMemory=[]),this.__cbOnceOwnerUnbindLowMemory.push(null);null==this.__cbOnceLowMemory&&(this.__cbOnceLowMemory=[]),this.__cbOnceLowMemory.push(n)},offLowMemory:function(e){if(null!=e){var n;null!=this.__cbOnLowMemory&&-1!=(n=this.__cbOnLowMemory.indexOf(e))&&(this.__cbOnLowMemory.splice(n,1),null!=(r=this.__cbOnOwnerUnbindLowMemory[n])&&r(),this.__cbOnOwnerUnbindLowMemory.splice(n,1)),null!=this.__cbOnceLowMemory&&-1!=(n=this.__cbOnceLowMemory.indexOf(e))&&(this.__cbOnceLowMemory.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindLowMemory[n])&&r(),this.__cbOnceOwnerUnbindLowMemory.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLowMemory){for(var t=0,i=this.__cbOnOwnerUnbindLowMemory.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindLowMemory[s])&&r()}this.__cbOnOwnerUnbindLowMemory=null}if(null!=this.__cbOnceOwnerUnbindLowMemory){for(t=0,i=this.__cbOnceOwnerUnbindLowMemory.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindLowMemory[s])&&r()}this.__cbOnceOwnerUnbindLowMemory=null}this.__cbOnLowMemory=null,this.__cbOnceLowMemory=null}},listensLowMemory:function(){return null!=this.__cbOnLowMemory&&this.__cbOnLowMemory.length>0||null!=this.__cbOnceLowMemory&&this.__cbOnceLowMemory.length>0},emitTerminate:function(){var e=0;if(null!=this.__cbOnTerminate&&(e+=this.__cbOnTerminate.length),null!=this.__cbOnceTerminate&&(e+=this.__cbOnceTerminate.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnTerminate)for(var s=0,r=this.__cbOnTerminate.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnTerminate[l],++i):--e}if(null!=this.__cbOnceTerminate){var a=null,o=null;for(s=0,r=this.__cbOnceTerminate.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceTerminate[l],this.__cbOnceTerminate[l]=null;var h=this.__cbOnceOwnerUnbindTerminate[l];this.__cbOnceOwnerUnbindTerminate[l]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],o=[],[]),a.push(this.__cbOnceOwnerUnbindTerminate[l]),o.push(this.__cbOnceTerminate[l])}this.__cbOnceOwnerUnbindTerminate=a,this.__cbOnceTerminate=o}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onTerminate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event terminate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTerminate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTerminate&&(this.__cbOnOwnerUnbindTerminate=[]),this.__cbOnOwnerUnbindTerminate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTerminate&&(this.__cbOnOwnerUnbindTerminate=[]),this.__cbOnOwnerUnbindTerminate.push(null);null==this.__cbOnTerminate&&(this.__cbOnTerminate=[]),this.__cbOnTerminate.push(n)},onceTerminate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event terminate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTerminate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTerminate&&(this.__cbOnceOwnerUnbindTerminate=[]),this.__cbOnceOwnerUnbindTerminate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTerminate&&(this.__cbOnceOwnerUnbindTerminate=[]),this.__cbOnceOwnerUnbindTerminate.push(null);null==this.__cbOnceTerminate&&(this.__cbOnceTerminate=[]),this.__cbOnceTerminate.push(n)},offTerminate:function(e){if(null!=e){var n;null!=this.__cbOnTerminate&&-1!=(n=this.__cbOnTerminate.indexOf(e))&&(this.__cbOnTerminate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTerminate[n])&&r(),this.__cbOnOwnerUnbindTerminate.splice(n,1)),null!=this.__cbOnceTerminate&&-1!=(n=this.__cbOnceTerminate.indexOf(e))&&(this.__cbOnceTerminate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTerminate[n])&&r(),this.__cbOnceOwnerUnbindTerminate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTerminate){for(var t=0,i=this.__cbOnOwnerUnbindTerminate.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTerminate[s])&&r()}this.__cbOnOwnerUnbindTerminate=null}if(null!=this.__cbOnceOwnerUnbindTerminate){for(t=0,i=this.__cbOnceOwnerUnbindTerminate.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTerminate[s])&&r()}this.__cbOnceOwnerUnbindTerminate=null}this.__cbOnTerminate=null,this.__cbOnceTerminate=null}},listensTerminate:function(){return null!=this.__cbOnTerminate&&this.__cbOnTerminate.length>0||null!=this.__cbOnceTerminate&&this.__cbOnceTerminate.length>0},_onceImmediateWithOwner:function(e,n){this._onceImmediate((function(){(null==e||e._lifecycleState>=0)&&n()}))},_onceImmediate:function(e){if(null==e)throw haxe_Exception.thrown("Immediate callback should not be null!");this.immediateCallbacksLen<this.immediateCallbacksCapacity?(this.immediateCallbacks[this.immediateCallbacksLen]=e,this.immediateCallbacksLen++):(this.immediateCallbacks[this.immediateCallbacksLen++]=e,this.immediateCallbacksCapacity++)},_oncePostFlushImmediateWithOwner:function(e,n,t){this._oncePostFlushImmediate((function(){(null==e||e._lifecycleState>=0)&&n()}),t)},_oncePostFlushImmediate:function(e,n){var t=this;n?ceramic_App.app._onceImmediate((function(){var n=!1;null==n&&(n=!0),t._oncePostFlushImmediate(e,n)})):0==this.immediateCallbacksLen?e():this.postFlushImmediateCallbacksLen<this.postFlushImmediateCallbacksCapacity?(this.postFlushImmediateCallbacks[this.postFlushImmediateCallbacksLen]=e,this.postFlushImmediateCallbacksLen++):(this.postFlushImmediateCallbacks[this.postFlushImmediateCallbacksLen++]=e,this.postFlushImmediateCallbacksCapacity++)},flushImmediate:function(){for(var e=!1;this.immediateCallbacksLen>0;){e=!0;var n=(h=ceramic_ArrayPool.pool(this.immediateCallbacksLen)).get(),t=this.immediateCallbacksLen;this.immediateCallbacksLen=0;for(var i=0,s=t;i<s;){var r=i++;n.vector[r]=this.immediateCallbacks[r],this.immediateCallbacks[r]=null}for(var l=0,a=t;l<a;){var o=l++;(0,n.vector[o])()}h.release(n)}if(this.postFlushImmediateCallbacksLen>0){var h;n=(h=ceramic_ArrayPool.pool(this.postFlushImmediateCallbacksLen)).get(),t=this.postFlushImmediateCallbacksLen;this.postFlushImmediateCallbacksLen=0;for(i=0,s=t;i<s;){r=i++;n.vector[r]=this.postFlushImmediateCallbacks[r],this.postFlushImmediateCallbacks[r]=null}for(i=0,s=t;i<s;){r=i++;(0,n.vector[r])()}h.release(n)}return e},onceXUpdates:function(e,n,t){var i=this._xUpdatesHandlersPool,s=i.availableItems.length>0?i.availableItems.pop():null;null==s&&(s=new ceramic_AppXUpdatesHandler),s.owner=e,s.numUpdates=n,s.callback=t;for(var r=!1,l=0,a=this._xUpdatesHandlers.length;l<a;){var o=l++;if(null==this._xUpdatesHandlers[o]){this._xUpdatesHandlers[o]=s,r=!0;break}}r||this._xUpdatesHandlers.push(s)},offXUpdates:function(e){for(var n=!1,t=0,i=this._xUpdatesHandlers.length;t<i;){var s=t++,r=this._xUpdatesHandlers[s];r.callback==e&&(r.reset(),this._xUpdatesHandlersPool.recycle(r),this._xUpdatesHandlers[s]=null,n=!0)}n&&this.cleanXUpdatesNullValues()},tickOnceXUpdates:function(){for(var e=0,n=!1,t=0,i=this._xUpdatesHandlers.length;t<i;){var s=t++,r=this._xUpdatesHandlers[s];if(null!=r&&(r.numUpdates--,r.numUpdates<=0)){var l=r.owner;(null==l||l._lifecycleState>=0)&&(this._xUpdatesToCallNow[e]=r.callback,++e),this._xUpdatesHandlers[s]=null,n=!0}}if(e>0)for(t=0,i=e;t<i;){s=t++;var a=this._xUpdatesToCallNow[s];this._xUpdatesToCallNow[s]=null,a()}n&&this.cleanXUpdatesNullValues()},cleanXUpdatesNullValues:function(){for(var e=0,n=0,t=this._xUpdatesHandlers.length;e<t;){do{if(null!=this._xUpdatesHandlers[e])break;++e,++n}while(e<t);if(0!=n&&e<t){var i=e-n;this._xUpdatesHandlers[i]=this._xUpdatesHandlers[e]}++e}var s=this._xUpdatesHandlers,r=t-n;if(s.length!=r)if(s.length>r)s.splice(r,s.length-r);else for(var l=s;l.length<r;)l.push(null)},get_computedFps:function(){return this._computeFps.fps},get_scenes:function(){return this.lazyScenes&&(this.lazyScenes=!1,this.scenes=ceramic_SceneSystem.get_shared()),this.scenes},set_scenes:function(e){return this.scenes=e},quit:function(){ceramic_PlatformSpecific.quit()},backendReady:function(){var e=this;if(this.backend.onUpdate(this,$bind(this,this.updatePreReady)),this.persistent=new ceramic_PersistentData("app"),this.textInput=new ceramic_TextInput,this.bindSettings(),this.screen.backendReady(),null!=ceramic_App.preInitCallbacks){for(var n=0,t=[].concat(ceramic_App.preInitCallbacks);n<t.length;){var i=t[n];++n,i()}ceramic_App.preInitCallbacks=null}this.initFieldConverters(),null!=this.settings.collections&&this.initCollections(this.settings.collections(),this.settings.appInfo),this.assets.add(this.settings.defaultShader),this.assets.add("shader:msdf"),this.assets.add("shader:pixelArt"),this.assets.onceComplete(this,(function(n){e.assets.add(e.settings.defaultFont),e.assets.add("image:white"),e.assets.onceComplete(e,(function(n){n?(e.defaultFont=e.assets.font(e.settings.defaultFont),e.defaultWhiteTexture=e.assets.texture("image:white"),e.defaultTexturedShader=e.assets.shader(e.settings.defaultShader),e.logger.success("Default assets loaded.",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/App.hx",lineNumber:834,className:"ceramic.App",methodName:"backendReady"}),e.assetsLoaded()):ceramic_App.app.logger.error("Failed to load default assets.",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/App.hx",lineNumber:837,className:"ceramic.App",methodName:"backendReady"})})),e.emitDefaultAssetsLoad(e.assets),e.assets.load(null,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/App.hx",lineNumber:845,className:"ceramic.App",methodName:"backendReady"}),e.assets.immediate.flush(),e.flushImmediate()})),this.assets.load(null,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/App.hx",lineNumber:851,className:"ceramic.App",methodName:"backendReady"}),this.assets.immediate.flush(),this.flushImmediate()},bindSettings:function(){this.settings.onTargetFpsChange(this,(function(e,n){ceramic_App.app.backend.setTargetFps(e)})),ceramic_App.app.backend.setTargetFps(this.settings.get_targetFps())},initFieldConverters:function(){var e=this.converters,n=new ceramic_ConvertTexture;e.h["ceramic.Texture"]=n;e=this.converters,n=new ceramic_ConvertFont;e.h["ceramic.BitmapFont"]=n;e=this.converters,n=new ceramic_ConvertFragmentData;e.h["ceramic.FragmentData"]=n;e=this.converters,n=new ceramic_ConvertMap;e.h["Map<String,String>"]=n;e=this.converters,n=new ceramic_ConvertMap;e.h["Map<String,Bool>"]=n;e=this.converters,n=new ceramic_ConvertMap;e.h["ceramic.ReadOnlyMap<String,String>"]=n;e=this.converters,n=new ceramic_ConvertMap;e.h["ceramic.ReadOnlyMap<String,Bool>"]=n;e=this.converters,n=new ceramic_ConvertArray;e.h["Array<Float>"]=n;e=this.converters,n=new ceramic_ConvertArray;e.h["Array<Int>"]=n;e=this.converters,n=new ceramic_ConvertArray;e.h["Array<String>"]=n;e=this.converters,n=new ceramic_ConvertArray;e.h["ceramic.ReadOnlyArray<Float>"]=n;e=this.converters,n=new ceramic_ConvertArray;e.h["ceramic.ReadOnlyArray<Int>"]=n;e=this.converters,n=new ceramic_ConvertArray;e.h["ceramic.ReadOnlyArray<String>"]=n;e=this.converters,n=new ceramic_ConvertComponentMap;e.h["Map<String,ceramic.Component>"]=n;e=this.converters,n=new ceramic_ConvertComponentMap;e.h["ceramic.ReadOnlyMap<String,ceramic.Component>"]=n;e=this.converters,n=new ceramic_ConvertIntBoolMap;e.h["ceramic.IntBoolMap"]=n},initCollections:function(e,n){var i=this;null==n&&(n=this.info);for(var s=Object.create(null),r=0,l=0,a=Reflect.fields(n.collections);l<a.length;){var o=a[l];++l;for(var h=0,c=Reflect.fields(Reflect.field(n.collections,o));h<c.length;){var u=c[h];++h;var _=Reflect.field(Reflect.field(n.collections,o),u);if("string"!=typeof _){var d=_.data;null!=d&&(Object.prototype.hasOwnProperty.call(s,d)||(s[d]=!0,this.assets.addDatabase(d),++r))}}}r>0&&this.assets.onceComplete(this,(function(s){for(var r=0,l=Reflect.fields(n.collections);r<l.length;){var a=l[r];++r;for(var o=0,h=Reflect.fields(Reflect.field(n.collections,a));o<h.length;){var c=h[o];++o;var u=Reflect.field(Reflect.field(n.collections,a),c);if("string"!=typeof u){var _=u.data;if(null!=_){for(var d=i.assets.database(_),f=Reflect.field(e,c),p=u.type,b=t[p],y=0;y<d.length;){var g=d[y];++y;var O=Type.createInstance(b,[null,null]);O.setRawData(g),f.push(O)}f.synchronize()}}}}}))},assetsLoaded:function(){this.runNextLoader()},runNextLoader:function(){this.loaders.length>0?this.loaders.shift()($bind(this,this.runNextLoader)):(this.loaders=null,this.runReady())},runReady:function(){var e=this;ceramic_PlatformSpecific.postAppInit(),this.emitReady(),this.screen.resize(),this.backend.offUpdate($bind(this,this.updatePreReady)),this.backend.onUpdate(this,$bind(this,this.update)),this.backend.onRender(this,$bind(this,this.render)),this.backend.input.onKeyDown(this,(function(n){e.beginUpdateCallbacks.push((function(){e.input.emitKeyDown(n)}))})),this.backend.input.onKeyUp(this,(function(n){e.beginUpdateCallbacks.push((function(){e.input.emitKeyUp(n)}))})),this.backend.input.onGamepadEnable(this,(function(n,t){e.beginUpdateCallbacks.push((function(){e.input.emitGamepadEnable(n,t)}))})),this.backend.input.onGamepadDisable(this,(function(n){e.beginUpdateCallbacks.push((function(){e.input.emitGamepadDisable(n)}))})),this.backend.input.onGamepadDown(this,(function(n,t){e.beginUpdateCallbacks.push((function(){e.input.emitGamepadDown(n,t)}))})),this.backend.input.onGamepadUp(this,(function(n,t){e.beginUpdateCallbacks.push((function(){e.input.emitGamepadUp(n,t)}))})),this.backend.input.onGamepadGyro(this,(function(n,t,i,s){e.beginUpdateCallbacks.push((function(){e.input.emitGamepadGyro(n,t,i,s)}))})),this.backend.input.onGamepadAxis(this,(function(n,t,i){e.beginUpdateCallbacks.push((function(){e.input.emitGamepadAxis(n,t,i)}))}))},updatePreReady:function(e){ceramic_Assets.flushAllInstancesImmediate(),this.flushImmediate()},update:function(e){++this.frame>999999999&&(this.frame-=999999999);var n=e;if(n>this.settings.get_maxDelta()&&(n=this.settings.get_maxDelta()),this.settings.get_overrideDelta()>=0&&(n=this.settings.get_overrideDelta()),this._computeFps.addFrame(n),this.delta=n,this.realDelta=e,ceramic_Timer.update(n,e),ceramic_Runner.tick(),this.screen.updatePointerOverState(n),this.inUpdate=!0,this.screen.resetDeltas(),this.input.resetDeltas(),this.beginUpdateCallbacks.length>0){var t=this.beginUpdateCallbacks;this.beginUpdateCallbacks=[];for(var i=0;i<t.length;){var s=t[i];++i,s()}}for(this.emitPreUpdate(n),this.systems.earlyUpdate(n),ceramic_Assets.flushAllInstancesImmediate(),this.flushImmediate(),n>0&&(ceramic_Tween.tick(n),this.flushImmediate()),this.emitUpdate(n),this.tickOnceXUpdates(),this.flushImmediate(),this.systems.lateUpdate(n),this.emitPostUpdate(n),this.flushImmediate();this.disposedEntities.length>0;){this.disposedEntities.shift().destroy()}this.syncPendingVisuals();var r=this.visuals,l=0,a=!1,o=!1;do{this.visualsContentDirty=!1,(g=this.screen.matrix).changedDirty&&(g.changed=g.tx!=g._txPrev||g.ty!=g._tyPrev||g.a!=g._aPrev||g.b!=g._bPrev||g.c!=g._cPrev||g.d!=g._dPrev,g.changedDirty=!1),this.screen.matrix.changed&&this.screen.matrix.emitChange();i=0;for(var h=r.length;i<h;){(y=r[b=i++])._lifecycleState>=0&&(y.touchableDirty&&y.computeTouchable(),y.contentDirty&&(y.visibilityDirty&&y.computeVisibility(),y.computedVisible&&y.computeContent()))}for(var c=0,u=r.length;c<u;){var _=r[c++];if(_._lifecycleState>=0&&null!=_.transform)(w=_.transform).changedDirty&&(w.changed=w.tx!=w._txPrev||w.ty!=w._tyPrev||w.a!=w._aPrev||w.b!=w._bPrev||w.c!=w._cPrev||w.d!=w._dPrev,w.changedDirty=!1),_.transform.changed&&_.transform.emitChange()}if(l++>9999){if(a&&this.visualsContentDirty)throw haxe_Exception.thrown("Failed to update visuals because flushImmediate() is being called continuously and visuals content stays dirty.");if(a)throw haxe_Exception.thrown("Failed to update visuals because flushImmediate() is being called continuously.");for(var d=0,f=r.length;d<f;){var p=r[d++];if(p._lifecycleState>=0&&p.contentDirty)throw haxe_Exception.thrown("Failed to update visuals because visuals content stays dirty. ("+Std.string(p)+")")}}a=this.flushImmediate(),o=this.syncPendingVisuals()}while(a||this.visualsContentDirty||o);for(i=0,h=this.renderTextures.length;i<h;){var b=i++;null!=(B=this.renderTextures[b]).dependingTextures&&B.dependingTextures.clear()}for(i=0,h=r.length;i<h;){var y;if((y=r[b=i++])._lifecycleState>=0&&(y.renderTargetDirty&&y.computeRenderTarget(),y.matrixDirty&&y.computeMatrix(),y.visibilityDirty&&y.computeVisibility(),y.computedVisible&&(y.clipDirty&&y.computeClip(),null!=y.computedRenderTarget)))if(null!=y.asQuad){if(null!=y.asQuad._texture){var g=y.computedRenderTarget,O=y.asQuad._texture;null==g.dependingTextures&&(g.dependingTextures=new ceramic_IntIntMap);var x=null!=(Y=g.dependingTextures.intMap.h[0|O.index])?Y:0;g.dependingTextures.set(O.index,x+1)}if(null!=y.shader&&null!=y.shader.usedTextures){var v=y.shader.usedTextures;for(c=0,u=v.length;c<u;){var m=c++,w=y.computedRenderTarget,U=v[m];null==w.dependingTextures&&(w.dependingTextures=new ceramic_IntIntMap);var C=w.dependingTextures.intMap.h[0|U.index],T=null!=C?C:0;w.dependingTextures.set(U.index,T+1)}}}else if(null!=y.asMesh){if(null!=y.asMesh.texture){var D=y.computedRenderTarget,E=y.asMesh.texture;null==D.dependingTextures&&(D.dependingTextures=new ceramic_IntIntMap);var A=D.dependingTextures.intMap.h[0|E.index],S=null!=A?A:0;D.dependingTextures.set(E.index,S+1)}if(null!=y.shader&&null!=y.shader.usedTextures){var M=y.shader.usedTextures;for(d=0,f=M.length;d<f;){var P=d++,F=y.computedRenderTarget,k=M[P];null==F.dependingTextures&&(F.dependingTextures=new ceramic_IntIntMap);var R=F.dependingTextures.intMap.h[0|k.index],I=null!=R?R:0;F.dependingTextures.set(k.index,I+1)}}}}this.computeHierarchy();var N=this.renderTextures;if(0!=N.length){var L=N.length;for(i=0,h=L;i<h;){var B;(B=N[b=i++]).priority=0}for(i=0,h=L;i<h;){var G=N[b=i++];for(c=0,u=L;c<u;){var W=N[c++];if(null!=G.dependingTextures)K=(null!=(Y=G.dependingTextures.intMap.h[0|W.index])?Y:0)>0;else K=!1;K&&W.priority<=G.priority&&(W.priority=G.priority+1)}}for(i=0,h=L;i<h;)for(G=N[b=i++],c=0,u=L;c<u;){var K,Y;W=N[c++];if(null!=G.dependingTextures)K=(null!=(Y=G.dependingTextures.intMap.h[0|W.index])?Y:0)>0;else K=!1;K&&W.priority<=G.priority&&(W.priority=G.priority+1)}}this.syncDestroyedVisuals();r=this.visuals;this.emitBeginSortVisuals(),ceramic_SortVisuals.rec(r,0,r.length),this.emitFinishSortVisuals(),this.inUpdate=!1},render:function(){this.emitBeginDraw(),this.backend.draw.draw(this.visuals),this.emitFinishDraw()},addVisual:function(e){this.pendingVisuals.push(e)},removeVisual:function(e){this.destroyedVisuals.push(e)},syncPendingVisuals:function(){if(this.pendingVisuals.length>0){for(;this.pendingVisuals.length>0;)this.visuals.push(this.pendingVisuals.pop());return this.hierarchyDirty=!0,!0}return!1},syncDestroyedVisuals:function(){if(this.destroyedVisuals.length>0){for(var e=0,n=0,t=this.visuals.length;e<t;){do{if(!(this.visuals[e]._lifecycleState<0))break;++e,++n}while(e<t);if(0!=n&&e<t){var i=e-n;this.visuals[i]=this.visuals[e]}++e}if(0!=(r=this.destroyedVisuals).length)if(r.length>0)r.splice(0,r.length);else for(var s=r;s.length<0;)s.push(null);var r,l=t-n;if((r=this.visuals).length!=l)if(r.length>l)r.splice(l,r.length-l);else for(s=r;s.length<l;)s.push(null);this.hierarchyDirty=!0}},updateVisuals:function(e){var n=0,t=!1,i=!1;do{this.visualsContentDirty=!1,(p=this.screen.matrix).changedDirty&&(p.changed=p.tx!=p._txPrev||p.ty!=p._tyPrev||p.a!=p._aPrev||p.b!=p._bPrev||p.c!=p._cPrev||p.d!=p._dPrev,p.changedDirty=!1),this.screen.matrix.changed&&this.screen.matrix.emitChange();for(var s=0,r=e.length;s<r;){(f=e[_=s++])._lifecycleState>=0&&(f.touchableDirty&&f.computeTouchable(),f.contentDirty&&(f.visibilityDirty&&f.computeVisibility(),f.computedVisible&&f.computeContent()))}for(var l=0,a=e.length;l<a;){var o=e[l++];if(o._lifecycleState>=0&&null!=o.transform)(v=o.transform).changedDirty&&(v.changed=v.tx!=v._txPrev||v.ty!=v._tyPrev||v.a!=v._aPrev||v.b!=v._bPrev||v.c!=v._cPrev||v.d!=v._dPrev,v.changedDirty=!1),o.transform.changed&&o.transform.emitChange()}if(n++>9999){if(t&&this.visualsContentDirty)throw haxe_Exception.thrown("Failed to update visuals because flushImmediate() is being called continuously and visuals content stays dirty.");if(t)throw haxe_Exception.thrown("Failed to update visuals because flushImmediate() is being called continuously.");for(var h=0,c=e.length;h<c;){var u=e[h++];if(u._lifecycleState>=0&&u.contentDirty)throw haxe_Exception.thrown("Failed to update visuals because visuals content stays dirty. ("+Std.string(u)+")")}}t=this.flushImmediate(),i=this.syncPendingVisuals()}while(t||this.visualsContentDirty||i);for(s=0,r=this.renderTextures.length;s<r;){var _=s++,d=this.renderTextures[_];null!=d.dependingTextures&&d.dependingTextures.clear()}for(s=0,r=e.length;s<r;){var f;if((f=e[_=s++])._lifecycleState>=0&&(f.renderTargetDirty&&f.computeRenderTarget(),f.matrixDirty&&f.computeMatrix(),f.visibilityDirty&&f.computeVisibility(),f.computedVisible&&(f.clipDirty&&f.computeClip(),null!=f.computedRenderTarget)))if(null!=f.asQuad){if(null!=f.asQuad._texture){var p=f.computedRenderTarget,b=f.asQuad._texture;null==p.dependingTextures&&(p.dependingTextures=new ceramic_IntIntMap);var y=p.dependingTextures.intMap.h[0|b.index],g=null!=y?y:0;p.dependingTextures.set(b.index,g+1)}if(null!=f.shader&&null!=f.shader.usedTextures){var O=f.shader.usedTextures;for(l=0,a=O.length;l<a;){var x=l++,v=f.computedRenderTarget,m=O[x];null==v.dependingTextures&&(v.dependingTextures=new ceramic_IntIntMap);var w=v.dependingTextures.intMap.h[0|m.index],U=null!=w?w:0;v.dependingTextures.set(m.index,U+1)}}}else if(null!=f.asMesh){if(null!=f.asMesh.texture){var C=f.computedRenderTarget,T=f.asMesh.texture;null==C.dependingTextures&&(C.dependingTextures=new ceramic_IntIntMap);var D=C.dependingTextures.intMap.h[0|T.index],E=null!=D?D:0;C.dependingTextures.set(T.index,E+1)}if(null!=f.shader&&null!=f.shader.usedTextures){var A=f.shader.usedTextures;for(h=0,c=A.length;h<c;){var S=h++,M=f.computedRenderTarget,P=A[S];null==M.dependingTextures&&(M.dependingTextures=new ceramic_IntIntMap);var F=M.dependingTextures.intMap.h[0|P.index],k=null!=F?F:0;M.dependingTextures.set(P.index,k+1)}}}}},computeHierarchy:function(){if(this.hierarchyDirty){for(var e=0,n=this.visuals.length;e<n;){var t=e++,i=this.visuals[t];i._lifecycleState>=0&&null==i.parent&&(i.computedDepth=1e3*i.depth,null!=i.children&&ceramic_Visual._computeChildrenDepth0(i))}this.hierarchyDirty=!1}},computeRenderTexturesPriority:function(e){if(0!=e.length){for(var n=e.length,t=0,i=n;t<i;){e[t++].priority=0}for(t=0,i=n;t<i;)for(var s=e[t++],r=0,l=n;r<l;){var a=e[r++];if(null!=s.dependingTextures)o=(null!=(h=s.dependingTextures.intMap.h[0|a.index])?h:0)>0;else o=!1;o&&a.priority<=s.priority&&(a.priority=s.priority+1)}for(t=0,i=n;t<i;)for(s=e[t++],r=0,l=n;r<l;){var o,h;a=e[r++];if(null!=s.dependingTextures)o=(null!=(h=s.dependingTextures.intMap.h[0|a.index])?h:0)>0;else o=!1;o&&a.priority<=s.priority&&(a.priority=s.priority+1)}}},sortVisuals:function(e){this.emitBeginSortVisuals(),ceramic_SortVisuals.rec(e,0,e.length),this.emitFinishSortVisuals()},group:function(e,n){null==n&&(n=!0);for(var t=0,i=this.groups.length;t<i;){var s=t++,r=this.groups[s];if(r.id==e)return r}return n?new ceramic_Group(e):null},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offReady(),this.offUpdate(),this.offPreUpdate(),this.offPostUpdate(),this.offDefaultAssetsLoad(),this.offCriticalError(),this.offBeginEnterBackground(),this.offFinishEnterBackground(),this.offBeginEnterForeground(),this.offFinishEnterForeground(),this.offBeginSortVisuals(),this.offFinishSortVisuals(),this.offBeginDraw(),this.offFinishDraw(),this.offLowMemory(),this.offTerminate()},__class__:ceramic_App,__properties__:$extend(ceramic_Entity.prototype.__properties__,{set_scenes:"set_scenes",get_scenes:"get_scenes",get_computedFps:"get_computedFps"})});var ceramic_AppXUpdatesHandler=function(){this.callback=null,this.numUpdates=-1,this.owner=null};t["ceramic.AppXUpdatesHandler"]=ceramic_AppXUpdatesHandler,ceramic_AppXUpdatesHandler.__name__="ceramic.AppXUpdatesHandler",ceramic_AppXUpdatesHandler.prototype={reset:function(){this.owner=null,this.numUpdates=-1,this.callback=null},__class__:ceramic_AppXUpdatesHandler};var ceramic_Mesh=function(){this.uvs=[],this.texture=null,this.floatColors=null,this.colors=[],this.indices=[],this.vertices=[],this.complexHit=!1,this.customFloatAttributesSize=0,this.colorMapping=0,ceramic_Visual.call(this),this.asMesh=this};t["ceramic.Mesh"]=ceramic_Mesh,ceramic_Mesh.__name__="ceramic.Mesh",ceramic_Mesh.__super__=ceramic_Visual,ceramic_Mesh.prototype=$extend(ceramic_Visual.prototype,{destroy:function(){if(!(this._lifecycleState<=-2)){this._lifecycleState=-2;null!=this.texture&&(null!=this.texture&&(this.texture.offDestroy($bind(this,this.textureDestroyed)),null!=this.texture.asset&&this.texture.asset.release()),this.texture=null,null!=this.texture&&(this.texture.onDestroy(this,$bind(this,this.textureDestroyed)),null!=this.texture.asset&&this.texture.asset.retain())),this._lifecycleState=-1,ceramic_Visual.prototype.destroy.call(this)}},get_color:function(){if(null!=this.floatColors&&this.floatColors.length>=3){var e,n=this.floatColors[0],t=this.floatColors[1],i=this.floatColors[2],s=0;return s&=65535,s|=((e=Math.round(255*n))>255?255:e<0?0:e)<<16,s&=16711935,s|=((e=Math.round(255*t))>255?255:e<0?0:e)<<8,s&=16776960,s|=(e=Math.round(255*i))>255?255:e<0?0:e}if(null!=this.colors&&this.colors.length>0){var r=this.colors[0];s=0;return s&=65535,s|=((n=r>>16&255)>255?255:n<0?0:n)<<16,s&=16711935,s|=((t=r>>8&255)>255?255:t<0?0:t)<<8,s&=16776960,s|=(i=255&r)>255?255:i<0?0:i}return 16777215},set_color:function(e){if(null!=this.floatColors)this.floatColors[0]=(e>>16&255)/255,this.floatColors[1]=(e>>8&255)/255,this.floatColors[2]=(255&e)/255,this.floatColors[3]=1;else{null==this.colors&&(this.colors=[]);var n=255;null==n&&(n=255);var t=(0|e)-16777216;t&=16777215,t|=(n>255?255:n<0?0:n)<<24,this.colors[0]=t}return e},set_texture:function(e){return this.texture==e||(null!=this.texture&&(this.texture.offDestroy($bind(this,this.textureDestroyed)),null!=this.texture.asset&&this.texture.asset.release()),this.texture=e,null!=this.texture&&(this.texture.onDestroy(this,$bind(this,this.textureDestroyed)),null!=this.texture.asset&&this.texture.asset.retain())),e},textureDestroyed:function(e){null!=this.texture&&(null!=this.texture&&(this.texture.offDestroy($bind(this,this.textureDestroyed)),null!=this.texture.asset&&this.texture.asset.release()),this.texture=null,null!=this.texture&&(this.texture.onDestroy(this,$bind(this,this.textureDestroyed)),null!=this.texture.asset&&this.texture.asset.retain()))},hitTest:function(e,n,t){if(this.complexHit){for(var i,s,r,l,a,o,h,c,u,_,d=e*t.a+n*t.c+t.tx,f=e*t.b+n*t.d+t.ty,p=2+this.customFloatAttributesSize,b=0,y=0,g=this.indices.length/3|0;b<g;){s=this.indices[y],++y,r=this.indices[y],++y,l=this.indices[y],++y,i=s*p,a=this.vertices[i],++i,o=this.vertices[i],i=r*p,h=this.vertices[i],++i,c=this.vertices[i],i=l*p,u=this.vertices[i],++i;var O=(d-h)*(o-c)-(a-h)*(f-c),x=(d-u)*(c-(_=this.vertices[i]))-(h-u)*(f-_),v=(d-a)*(_-o)-(u-a)*(f-o);if(!(O<0||x<0||v<0)||!(O>0||x>0||v>0))return!0;++b}return!1}return ceramic_Visual.prototype.hitTest.call(this,e,n,t)},set_shader:function(e){return this.shader=e,null!=e&&(this.customFloatAttributesSize=e.customFloatAttributesSize),e},computeSize:function(){if(null!=this.vertices&&this.vertices.length>=2){var e=0,n=0,t=0,i=this.vertices.length-1;if(this.customFloatAttributesSize>0)for(;t<i;){(s=this.vertices[t])>e&&(e=s),++t,(r=this.vertices[t])>n&&(n=r),t+=1+this.customFloatAttributesSize}else for(;t<i;){var s,r;(s=this.vertices[t])>e&&(e=s),++t,(r=this.vertices[t])>n&&(n=r),++t}var l=Math.round(1e3*n)/1e3;this.set_width(Math.round(1e3*e)/1e3),this.set_height(l)}else this.set_width(0),this.set_height(0)},grid:function(e,n,t,i){null==i&&(i=-1),null==t&&(t=-1),-1==t&&(t=this._width),-1==i&&(i=this._height);for(var s,r=t/e,l=i/n,a=0,o=0,h=0,c=n+1;h<c;)for(var u=h++,_=u*l,d=0,f=e+1;d<f;){var p=d++;if(this.vertices[a]=p*r,++a,this.vertices[a]=_,++a,u>0&&p>0){var b=(u-1)*(e+1)+p-1;this.indices[o]=b,++o,this.indices[o]=b+1,++o,this.indices[o]=b+(e+1),++o,this.indices[o]=b+1,++o,this.indices[o]=b+(e+1),++o,this.indices[o]=b+(e+1)+1,++o}}if(this.vertices.length>a&&(s=this.vertices).length!=a)if(s.length>a)s.splice(a,s.length-a);else for(var y=s;y.length<a;)y.push(null);if(this.indices.length>o&&(s=this.indices).length!=o)if(s.length>o)s.splice(o,s.length-o);else for(y=s;y.length<o;)y.push(null)},gridFromTexture:function(e,n,t){null==t&&(t=this.texture),this.grid(e,n,t.width,t.height);for(var i=0,s=1/e,r=1/n,l=0,a=n+1;l<a;){var o=l++*r;this.uvs[i]=0,++i,this.uvs[i]=o,++i;for(var h=1,c=e+1;h<c;){var u=h++;this.uvs[i]=u*s,++i,this.uvs[i]=o,++i}}if(this.uvs.length>i){var _=this.uvs;if(_.length!=i)if(_.length>i)_.splice(i,_.length-i);else for(var d=_;d.length<i;)d.push(null)}},__class__:ceramic_Mesh,__properties__:$extend(ceramic_Visual.prototype.__properties__,{set_texture:"set_texture",set_color:"set_color",get_color:"get_color"})});var ceramic_Arc=function(){this.thickness=16,this.borderPosition=c.MIDDLE,this.angle=270,this.radius=64,this.sides=32,ceramic_Mesh.call(this),this.set_anchorX(.5),this.set_anchorY(.5)};t["ceramic.Arc"]=ceramic_Arc,ceramic_Arc.__name__="ceramic.Arc",ceramic_Arc.__super__=ceramic_Mesh,ceramic_Arc.prototype=$extend(ceramic_Mesh.prototype,{set_sides:function(e){return this.sides==e||(this.sides=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_radius:function(e){return this.radius==e||(this.radius=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_angle:function(e){return this.angle==e||(this.angle=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_borderPosition:function(e){return this.borderPosition==e||(this.borderPosition=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_thickness:function(e){return this.thickness==e||(this.thickness=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},computeContent:function(){var e,n,t=this.radius,i=this.angle,s=this.thickness,r=this.borderPosition,l=Math.ceil(this.sides*i/360),a=this.vertices,o=this.indices;if(0!=a.length)if(a.length>0)a.splice(0,a.length);else for(var h=a;h.length<0;)h.push(null);if(0!=o.length)if(o.length>0)o.splice(0,o.length);else for(h=o;h.length<0;)h.push(null);var c,u,_=1.5*Math.PI,d=.017453292519943295*i/l;switch(r._hx_index){case 0:c=-s;break;case 1:c=0;break;case 2:c=.5*-s}switch(r._hx_index){case 0:u=0;break;case 1:u=s;break;case 2:u=.5*s}this.set_width(2*t),this.set_height(2*t);for(var f=0,p=l+1;f<p;){var b=f++,y=Math.cos(_+d*b),g=Math.sin(_+d*b);if(e=(t+c)*y,n=(t+c)*g,a.push(t+e),a.push(t+n),e=(t+u)*y,n=(t+u)*g,a.push(t+e),a.push(t+n),b>0){var O=2*(b-1);o.push(O),o.push(O+1),o.push(O+2),o.push(O+1),o.push(O+2),o.push(O+3)}}this.contentDirty=!1},__class__:ceramic_Arc,__properties__:$extend(ceramic_Mesh.prototype.__properties__,{set_thickness:"set_thickness",set_borderPosition:"set_borderPosition",set_angle:"set_angle",set_radius:"set_radius",set_sides:"set_sides"})});var ceramic_ArrayPool=function(e){this.nextFree=0,this.arrays=null,this.arrayLengths=e};t["ceramic.ArrayPool"]=ceramic_ArrayPool,ceramic_ArrayPool.__name__="ceramic.ArrayPool",ceramic_ArrayPool.pool=function(e){return e<=10?ceramic_ArrayPool.dynPool10:e<=100?ceramic_ArrayPool.dynPool100:e<=1e3?ceramic_ArrayPool.dynPool1000:e<=1e4?ceramic_ArrayPool.dynPool10000:e<=1e5?ceramic_ArrayPool.dynPool100000:(ceramic_ArrayPool.didNotifyLargePool||(ceramic_ArrayPool.didNotifyLargePool=!0,ceramic_Timer.schedule(null,.5,(function(){ceramic_ArrayPool.didNotifyLargePool=!1}),-1),ceramic_App.app.logger.warning("You should avoid asking a pool for arrays with more than 100000 elements (asked: "+e+") because it needs allocating a temporary one-time pool each time for that.",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ArrayPool.hx",lineNumber:45,className:"ceramic.ArrayPool",methodName:"pool"})),new ceramic_ArrayPool(e))},ceramic_ArrayPool.prototype={get:function(){if(null==this.arrays)this.arrays=new ceramic_ReusableArray(ceramic_ArrayPool.ALLOC_STEP);else if(this.nextFree>=this.arrays.length){var e=this.arrays;e.set_length(e.length+ceramic_ArrayPool.ALLOC_STEP)}var n=this.arrays.vector[this.nextFree];for(null==n&&(n=new ceramic_ReusableArray(this.arrayLengths),this.arrays.vector[this.nextFree]=n),n._poolIndex=this.nextFree;this.nextFree++,this.nextFree!=this.arrays.length;){var t=this.arrays.vector[this.nextFree];if(null==t)break;if(-1==t._poolIndex)break}return n},release:function(e){var n=e._poolIndex;e._poolIndex=-1,this.nextFree>n&&(this.nextFree=n);for(var t=0,i=e.length;t<i;){var s=t++;e.vector[s]=null}},__class__:ceramic_ArrayPool};var ceramic_Assert=function(){};t["ceramic.Assert"]=ceramic_Assert,ceramic_Assert.__name__="ceramic.Assert";var ceramic_Asset=function(e,n,t,i){this.customExtensions=null,this.hotReload=!1,this.handleTexturesDensityChange=!1,this.unobservedStatus=o.NONE,this.statusAutoruns=null,this.refCount=0,this.assets=null,this.density=1,this.observedDirty=!1,ceramic_Entity.call(this),this.kind=e,this.options=null!=i?i:{},this.set_name(n),this.set_variant(t),this.computePath()};t["ceramic.Asset"]=ceramic_Asset,ceramic_Asset.__name__="ceramic.Asset",ceramic_Asset.__interfaces__=[tracker_Observable],ceramic_Asset.__super__=ceramic_Entity,ceramic_Asset.prototype=$extend(ceramic_Entity.prototype,{emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var l=0,a=this.__cbOnObservedDirty.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnObservedDirty[o],++r):--t}if(null!=this.__cbOnceObservedDirty){var h=null,c=null;for(l=0,a=this.__cbOnceObservedDirty.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceObservedDirty[o],this.__cbOnceObservedDirty[o]=null;var u=this.__cbOnceOwnerUnbindObservedDirty[o];this.__cbOnceOwnerUnbindObservedDirty[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindObservedDirty[o]),c.push(this.__cbOnceObservedDirty[o])}this.__cbOnceOwnerUnbindObservedDirty=h,this.__cbOnceObservedDirty=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(n)},onceObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(n)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[s])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[s])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&this.__cbOnObservedDirty.length>0||null!=this.__cbOnceObservedDirty&&this.__cbOnceObservedDirty.length>0},emitComplete:function(e){e&&null!=this.owner&&this.owner.emitUpdate(this);var n=0;if(null!=this.__cbOnComplete&&(n+=this.__cbOnComplete.length),null!=this.__cbOnceComplete&&(n+=this.__cbOnceComplete.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnComplete)for(var r=0,l=this.__cbOnComplete.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnComplete[a],++s):--n}if(null!=this.__cbOnceComplete){var o=null,h=null;for(r=0,l=this.__cbOnceComplete.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceComplete[a],this.__cbOnceComplete[a]=null;var c=this.__cbOnceOwnerUnbindComplete[a];this.__cbOnceOwnerUnbindComplete[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindComplete[a]),h.push(this.__cbOnceComplete[a])}this.__cbOnceOwnerUnbindComplete=o,this.__cbOnceComplete=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onComplete:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event complete because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offComplete(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push(null);null==this.__cbOnComplete&&(this.__cbOnComplete=[]),this.__cbOnComplete.push(n)},onceComplete:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event complete because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offComplete(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push(null);null==this.__cbOnceComplete&&(this.__cbOnceComplete=[]),this.__cbOnceComplete.push(n)},offComplete:function(e){if(null!=e){var n;null!=this.__cbOnComplete&&-1!=(n=this.__cbOnComplete.indexOf(e))&&(this.__cbOnComplete.splice(n,1),null!=(r=this.__cbOnOwnerUnbindComplete[n])&&r(),this.__cbOnOwnerUnbindComplete.splice(n,1)),null!=this.__cbOnceComplete&&-1!=(n=this.__cbOnceComplete.indexOf(e))&&(this.__cbOnceComplete.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindComplete[n])&&r(),this.__cbOnceOwnerUnbindComplete.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindComplete){for(var t=0,i=this.__cbOnOwnerUnbindComplete.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindComplete[s])&&r()}this.__cbOnOwnerUnbindComplete=null}if(null!=this.__cbOnceOwnerUnbindComplete){for(t=0,i=this.__cbOnceOwnerUnbindComplete.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindComplete[s])&&r()}this.__cbOnceOwnerUnbindComplete=null}this.__cbOnComplete=null,this.__cbOnceComplete=null}},listensComplete:function(){return null!=this.__cbOnComplete&&this.__cbOnComplete.length>0||null!=this.__cbOnceComplete&&this.__cbOnceComplete.length>0},get_status:function(){var e=this.unobservedStatus;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.statusAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.statusAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_status:function(e){var n=this.unobservedStatus;if(this.unobservedStatus=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitStatusChange(e,n);var t=this.statusAutoruns;if(null!=t){this.statusAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateStatus:function(){var e=this.unobservedStatus;this.emitStatusChange(e,e);var n=this.statusAutoruns;if(null!=n){this.statusAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitStatusChange:function(e,n){var t=0;if(null!=this.__cbOnStatusChange&&(t+=this.__cbOnStatusChange.length),null!=this.__cbOnceStatusChange&&(t+=this.__cbOnceStatusChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnStatusChange)for(var l=0,a=this.__cbOnStatusChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnStatusChange[o],++r):--t}if(null!=this.__cbOnceStatusChange){var h=null,c=null;for(l=0,a=this.__cbOnceStatusChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceStatusChange[o],this.__cbOnceStatusChange[o]=null;var u=this.__cbOnceOwnerUnbindStatusChange[o];this.__cbOnceOwnerUnbindStatusChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindStatusChange[o]),c.push(this.__cbOnceStatusChange[o])}this.__cbOnceOwnerUnbindStatusChange=h,this.__cbOnceStatusChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onStatusChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event statusChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offStatusChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindStatusChange&&(this.__cbOnOwnerUnbindStatusChange=[]),this.__cbOnOwnerUnbindStatusChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindStatusChange&&(this.__cbOnOwnerUnbindStatusChange=[]),this.__cbOnOwnerUnbindStatusChange.push(null);null==this.__cbOnStatusChange&&(this.__cbOnStatusChange=[]),this.__cbOnStatusChange.push(n)},onceStatusChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event statusChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offStatusChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindStatusChange&&(this.__cbOnceOwnerUnbindStatusChange=[]),this.__cbOnceOwnerUnbindStatusChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindStatusChange&&(this.__cbOnceOwnerUnbindStatusChange=[]),this.__cbOnceOwnerUnbindStatusChange.push(null);null==this.__cbOnceStatusChange&&(this.__cbOnceStatusChange=[]),this.__cbOnceStatusChange.push(n)},offStatusChange:function(e){if(null!=e){var n;null!=this.__cbOnStatusChange&&-1!=(n=this.__cbOnStatusChange.indexOf(e))&&(this.__cbOnStatusChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindStatusChange[n])&&r(),this.__cbOnOwnerUnbindStatusChange.splice(n,1)),null!=this.__cbOnceStatusChange&&-1!=(n=this.__cbOnceStatusChange.indexOf(e))&&(this.__cbOnceStatusChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindStatusChange[n])&&r(),this.__cbOnceOwnerUnbindStatusChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStatusChange){for(var t=0,i=this.__cbOnOwnerUnbindStatusChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindStatusChange[s])&&r()}this.__cbOnOwnerUnbindStatusChange=null}if(null!=this.__cbOnceOwnerUnbindStatusChange){for(t=0,i=this.__cbOnceOwnerUnbindStatusChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindStatusChange[s])&&r()}this.__cbOnceOwnerUnbindStatusChange=null}this.__cbOnStatusChange=null,this.__cbOnceStatusChange=null}},listensStatusChange:function(){return null!=this.__cbOnStatusChange&&this.__cbOnStatusChange.length>0||null!=this.__cbOnceStatusChange&&this.__cbOnceStatusChange.length>0},load:function(){this.set_status(o.BROKEN),ceramic_App.app.logger.error("This asset as no load implementation.",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Asset.hx",lineNumber:108,className:"ceramic.Asset",methodName:"load"}),this.emitComplete(!1)},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),null!=this.owner&&(this.owner.removeAsset(this),this.owner=null),null!=this.assets&&(this.assets.destroy(),this.assets=null))},computePath:function(n,t,i){if(null==i&&null!=this.runtimeAssets&&(i=this.runtimeAssets),null==n)switch(this.kind){case"atlas":n=["atlas"];break;case"database":n=["csv"];break;case"font":n=["fnt"];break;case"fragments":n=["fragments"];break;case"image":n=["png","jpg","jpeg"];break;case"shader":n=["frag","vert"];break;case"sound":ceramic_App.app.backend.info;if(null!=backend_Info._soundExtensions)n=[].concat(backend_Info._soundExtensions);else{backend_Info._soundExtensions=[];var s=new Audio,r=null!=e.navigator?e.navigator.userAgent:"",l=backend_Info.RE_OPERA.match(r)&&parseInt(backend_Info.RE_OPERA.matched(0).split("/")[1],10)<33,a=-1!=r.indexOf("Safari")&&-1==r.indexOf("Chrome"),o=backend_Info.RE_SAFARI_VERSION.match(r),h=(a&&o&&parseInt(backend_Info.RE_SAFARI_VERSION.matched(1),10),s.canPlayType('audio/ogg; codecs="vorbis"'));null!=h&&"no"!=h&&""!=h&&backend_Info._soundExtensions.push("ogg");var c=s.canPlayType("audio/mpeg;"),u=s.canPlayType("audio/mp3;");!l&&(null!=c&&"no"!=c&&""!=c||null!=u&&"no"!=u&&""!=u)&&backend_Info._soundExtensions.push("mp3");var _=s.canPlayType("audio/x-flac;"),d=s.canPlayType("audio/flac;");(null!=_&&"no"!=_&&""!=_||null!=d&&"no"!=d&&""!=d)&&backend_Info._soundExtensions.push("flac");var f=s.canPlayType('audio/wav; codecs="1"'),p=s.canPlayType("audio/wav;");(null!=f&&"no"!=f&&""!=f||null!=p&&"no"!=p&&""!=p)&&backend_Info._soundExtensions.push("wav"),n=[].concat(backend_Info._soundExtensions)}break;case"text":n=["txt","json","fnt","atlas"];break;default:n=null}if((null==n||null==t)&&Object.prototype.hasOwnProperty.call(ceramic_Assets.customAssetKinds.h,this.kind)){var b=ceramic_Assets.customAssetKinds.h[this.kind];null==n&&(n=b.extensions),null==t&&(t=b.dir)}null==n&&(n=[]),null!=this.customExtensions&&(n=n.concat(this.customExtensions)),null==t&&(t=!1);var y=ceramic_App.app.screen.get_texturesDensity(),g=null,O=[],x=null,v=t?null!=i?i.getLists().allDirsByName:ceramic_Assets.allDirsByName:null!=i?i.getLists().allByName:ceramic_Assets.allByName,m=this.name;if(null==g&&null!=m&&ceramic_Path.isAbsolute(m)&&(g=m),n.length>0){for(var w=0;w<n.length;){var U=n[w];if(++w,StringTools.endsWith(m,"."+U)){m=HxOverrides.substr(m,0,m.length-U.length-1);break}}var C=!1;if(Object.prototype.hasOwnProperty.call(v.h,m)){var T=v.h[m];for(w=0;w<n.length;){U=n[w];++w;for(var D=99999999999,E=0;E<T.length;){var A=T[E];++E;var S=ceramic_Assets.decodePath(A);if(S.extension==U){if(!C){var M=Math.abs(y-S.density);M<D&&(D=M,S.density,g=S.path,x=S)}O.push(S.path)}}null!=g&&(C=!0)}}}if(null==g&&(g=m),this.allPaths=O,this.set_path(g),null!=x&&null!=x.flags)for(var P=x.flags.h,F=Object.keys(P),k=F.length,R=0;R<k;){var I=F[R++];Object.prototype.hasOwnProperty.call(this.options,I)||(this.options[I]=x.flags.h[I])}},set_path:function(e){return this.path==e||(this.get_status()==o.READY&&this.set_status(o.NONE),this.path=e,this.density=null==e?1:ceramic_Assets.decodePath(e).density),e},set_name:function(e){return this.name==e||(this.name=e,this.fullName=null!=this.variant?e+":"+this.variant:e,this.id="asset:"+this.kind+":"+this.fullName),e},set_variant:function(e){return this.variant==e?e:(this.variant=e,this.fullName=null!=e?this.name+":"+e:this.name,this.id="asset:"+this.kind+":"+this.fullName,this.name)},set_runtimeAssets:function(e){return this.runtimeAssets==e||(this.runtimeAssets=e,this.computePath()),e},set_handleTexturesDensityChange:function(e){return this.handleTexturesDensityChange==e||(this.handleTexturesDensityChange=e,e?ceramic_App.app.screen.onTexturesDensityChange(this,$bind(this,this.texturesDensityDidChange)):ceramic_App.app.screen.offTexturesDensityChange($bind(this,this.texturesDensityDidChange))),e},texturesDensityDidChange:function(e,n){},set_hotReload:function(e){return this.hotReload==e||(this.hotReload=e,e?this.owner.onAssetFilesChange(this,$bind(this,this.assetFilesDidChange)):this.owner.offAssetFilesChange($bind(this,this.assetFilesDidChange))),e},assetFilesDidChange:function(e,n){},toString:function(){var e=this.className();return null!=this.path&&""!=StringTools.trim(this.path)?e+"("+this.name+" "+this.path+")":e+"("+this.name+")"},willEmitComplete:function(e){e&&null!=this.owner&&this.owner.emitUpdate(this)},retain:function(){this.refCount++},release:function(){0==this.refCount?ceramic_App.app.logger.warning("Called release() on asset "+Std.string(this)+" when its refCount is already 0 (destroyed="+Std.string(this._lifecycleState<0)+")",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Asset.hx",lineNumber:400,className:"ceramic.Asset",methodName:"release"}):this.refCount--},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offStatusChange(),this.offComplete()},__class__:ceramic_Asset,__properties__:$extend(ceramic_Entity.prototype.__properties__,{set_hotReload:"set_hotReload",set_handleTexturesDensityChange:"set_handleTexturesDensityChange",set_status:"set_status",get_status:"get_status",set_runtimeAssets:"set_runtimeAssets",set_path:"set_path",set_variant:"set_variant",set_name:"set_name"})});var ceramic_AssetPathInfo=function(e){this.path=e;var n=e.lastIndexOf(".");this.extension=HxOverrides.substr(e,n+1,null).toLowerCase();var t=HxOverrides.substr(e,0,n),i=t.lastIndexOf("@");if(this.density=1,-1==i)i=n;else for(var s=0,r=HxOverrides.substr(t,i+1,null).split("+");s<r.length;){var l=r[s];++s;var a=!0;if(StringTools.endsWith(l,"x")){var o=parseFloat(HxOverrides.substr(l,0,l.length-1));isNaN(o)||(this.density=o,a=!1)}if(a){null==this.flags&&(this.flags=new haxe_ds_StringMap);var h=l.indexOf("=");if(-1==h)this.flags.h[l]=!0;else{var c=HxOverrides.substr(l,0,h),u=HxOverrides.substr(l,h+1,null);this.flags.h[c]=u}}}this.name=HxOverrides.substr(e,0,Math.min(i,n))};t["ceramic.AssetPathInfo"]=ceramic_AssetPathInfo,ceramic_AssetPathInfo.__name__="ceramic.AssetPathInfo",ceramic_AssetPathInfo.prototype={toString:function(){return""+Std.string({extension:this.extension,name:this.name,path:this.path,density:this.density})},__class__:ceramic_AssetPathInfo};var o=i["ceramic.AssetStatus"]={__ename__:"ceramic.AssetStatus",__constructs__:null,NONE:{_hx_name:"NONE",_hx_index:0,__enum__:"ceramic.AssetStatus",toString:$estr},LOADING:{_hx_name:"LOADING",_hx_index:1,__enum__:"ceramic.AssetStatus",toString:$estr},READY:{_hx_name:"READY",_hx_index:2,__enum__:"ceramic.AssetStatus",toString:$estr},BROKEN:{_hx_name:"BROKEN",_hx_index:3,__enum__:"ceramic.AssetStatus",toString:$estr}};o.__constructs__=[o.NONE,o.LOADING,o.READY,o.BROKEN];var h={toString:function(e){switch(e){case 1:return"ASYNC";case 2:return"SYNC"}}},ceramic_AtlasAsset=function(e,n,t){this.parseAtlas=null,this.unobservedText=null,this.textAutoruns=null,this.unobservedAtlas=null,this.atlasAutoruns=null,ceramic_Asset.call(this,"atlas",e,n,t),this.set_handleTexturesDensityChange(!0),this.assets=new ceramic_Assets};t["ceramic.AtlasAsset"]=ceramic_AtlasAsset,ceramic_AtlasAsset.__name__="ceramic.AtlasAsset",ceramic_AtlasAsset.__super__=ceramic_Asset,ceramic_AtlasAsset.prototype=$extend(ceramic_Asset.prototype,{emitReplaceAtlas:function(e,n){var t=0;if(null!=this.__cbOnReplaceAtlas&&(t+=this.__cbOnReplaceAtlas.length),null!=this.__cbOnceReplaceAtlas&&(t+=this.__cbOnceReplaceAtlas.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnReplaceAtlas)for(var l=0,a=this.__cbOnReplaceAtlas.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnReplaceAtlas[o],++r):--t}if(null!=this.__cbOnceReplaceAtlas){var h=null,c=null;for(l=0,a=this.__cbOnceReplaceAtlas.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceReplaceAtlas[o],this.__cbOnceReplaceAtlas[o]=null;var u=this.__cbOnceOwnerUnbindReplaceAtlas[o];this.__cbOnceOwnerUnbindReplaceAtlas[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindReplaceAtlas[o]),c.push(this.__cbOnceReplaceAtlas[o])}this.__cbOnceOwnerUnbindReplaceAtlas=h,this.__cbOnceReplaceAtlas=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onReplaceAtlas:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event replaceAtlas because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReplaceAtlas(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindReplaceAtlas&&(this.__cbOnOwnerUnbindReplaceAtlas=[]),this.__cbOnOwnerUnbindReplaceAtlas.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindReplaceAtlas&&(this.__cbOnOwnerUnbindReplaceAtlas=[]),this.__cbOnOwnerUnbindReplaceAtlas.push(null);null==this.__cbOnReplaceAtlas&&(this.__cbOnReplaceAtlas=[]),this.__cbOnReplaceAtlas.push(n)},onceReplaceAtlas:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event replaceAtlas because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReplaceAtlas(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindReplaceAtlas&&(this.__cbOnceOwnerUnbindReplaceAtlas=[]),this.__cbOnceOwnerUnbindReplaceAtlas.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindReplaceAtlas&&(this.__cbOnceOwnerUnbindReplaceAtlas=[]),this.__cbOnceOwnerUnbindReplaceAtlas.push(null);null==this.__cbOnceReplaceAtlas&&(this.__cbOnceReplaceAtlas=[]),this.__cbOnceReplaceAtlas.push(n)},offReplaceAtlas:function(e){if(null!=e){var n;null!=this.__cbOnReplaceAtlas&&-1!=(n=this.__cbOnReplaceAtlas.indexOf(e))&&(this.__cbOnReplaceAtlas.splice(n,1),null!=(r=this.__cbOnOwnerUnbindReplaceAtlas[n])&&r(),this.__cbOnOwnerUnbindReplaceAtlas.splice(n,1)),null!=this.__cbOnceReplaceAtlas&&-1!=(n=this.__cbOnceReplaceAtlas.indexOf(e))&&(this.__cbOnceReplaceAtlas.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindReplaceAtlas[n])&&r(),this.__cbOnceOwnerUnbindReplaceAtlas.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReplaceAtlas){for(var t=0,i=this.__cbOnOwnerUnbindReplaceAtlas.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindReplaceAtlas[s])&&r()}this.__cbOnOwnerUnbindReplaceAtlas=null}if(null!=this.__cbOnceOwnerUnbindReplaceAtlas){for(t=0,i=this.__cbOnceOwnerUnbindReplaceAtlas.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindReplaceAtlas[s])&&r()}this.__cbOnceOwnerUnbindReplaceAtlas=null}this.__cbOnReplaceAtlas=null,this.__cbOnceReplaceAtlas=null}},listensReplaceAtlas:function(){return null!=this.__cbOnReplaceAtlas&&this.__cbOnReplaceAtlas.length>0||null!=this.__cbOnceReplaceAtlas&&this.__cbOnceReplaceAtlas.length>0},get_atlas:function(){var e=this.unobservedAtlas;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.atlasAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.atlasAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_atlas:function(e){var n=this.unobservedAtlas;if(this.unobservedAtlas=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitAtlasChange(e,n);var t=this.atlasAutoruns;if(null!=t){this.atlasAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateAtlas:function(){var e=this.unobservedAtlas;this.emitAtlasChange(e,e);var n=this.atlasAutoruns;if(null!=n){this.atlasAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitAtlasChange:function(e,n){var t=0;if(null!=this.__cbOnAtlasChange&&(t+=this.__cbOnAtlasChange.length),null!=this.__cbOnceAtlasChange&&(t+=this.__cbOnceAtlasChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnAtlasChange)for(var l=0,a=this.__cbOnAtlasChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnAtlasChange[o],++r):--t}if(null!=this.__cbOnceAtlasChange){var h=null,c=null;for(l=0,a=this.__cbOnceAtlasChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceAtlasChange[o],this.__cbOnceAtlasChange[o]=null;var u=this.__cbOnceOwnerUnbindAtlasChange[o];this.__cbOnceOwnerUnbindAtlasChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindAtlasChange[o]),c.push(this.__cbOnceAtlasChange[o])}this.__cbOnceOwnerUnbindAtlasChange=h,this.__cbOnceAtlasChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onAtlasChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event atlasChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offAtlasChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindAtlasChange&&(this.__cbOnOwnerUnbindAtlasChange=[]),this.__cbOnOwnerUnbindAtlasChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindAtlasChange&&(this.__cbOnOwnerUnbindAtlasChange=[]),this.__cbOnOwnerUnbindAtlasChange.push(null);null==this.__cbOnAtlasChange&&(this.__cbOnAtlasChange=[]),this.__cbOnAtlasChange.push(n)},onceAtlasChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event atlasChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offAtlasChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindAtlasChange&&(this.__cbOnceOwnerUnbindAtlasChange=[]),this.__cbOnceOwnerUnbindAtlasChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindAtlasChange&&(this.__cbOnceOwnerUnbindAtlasChange=[]),this.__cbOnceOwnerUnbindAtlasChange.push(null);null==this.__cbOnceAtlasChange&&(this.__cbOnceAtlasChange=[]),this.__cbOnceAtlasChange.push(n)},offAtlasChange:function(e){if(null!=e){var n;null!=this.__cbOnAtlasChange&&-1!=(n=this.__cbOnAtlasChange.indexOf(e))&&(this.__cbOnAtlasChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindAtlasChange[n])&&r(),this.__cbOnOwnerUnbindAtlasChange.splice(n,1)),null!=this.__cbOnceAtlasChange&&-1!=(n=this.__cbOnceAtlasChange.indexOf(e))&&(this.__cbOnceAtlasChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindAtlasChange[n])&&r(),this.__cbOnceOwnerUnbindAtlasChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindAtlasChange){for(var t=0,i=this.__cbOnOwnerUnbindAtlasChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindAtlasChange[s])&&r()}this.__cbOnOwnerUnbindAtlasChange=null}if(null!=this.__cbOnceOwnerUnbindAtlasChange){for(t=0,i=this.__cbOnceOwnerUnbindAtlasChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindAtlasChange[s])&&r()}this.__cbOnceOwnerUnbindAtlasChange=null}this.__cbOnAtlasChange=null,this.__cbOnceAtlasChange=null}},listensAtlasChange:function(){return null!=this.__cbOnAtlasChange&&this.__cbOnAtlasChange.length>0||null!=this.__cbOnceAtlasChange&&this.__cbOnceAtlasChange.length>0},get_text:function(){var e=this.unobservedText;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.textAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.textAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_text:function(e){var n=this.unobservedText;if(this.unobservedText=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTextChange(e,n);var t=this.textAutoruns;if(null!=t){this.textAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateText:function(){var e=this.unobservedText;this.emitTextChange(e,e);var n=this.textAutoruns;if(null!=n){this.textAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitTextChange:function(e,n){var t=0;if(null!=this.__cbOnTextChange&&(t+=this.__cbOnTextChange.length),null!=this.__cbOnceTextChange&&(t+=this.__cbOnceTextChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnTextChange)for(var l=0,a=this.__cbOnTextChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnTextChange[o],++r):--t}if(null!=this.__cbOnceTextChange){var h=null,c=null;for(l=0,a=this.__cbOnceTextChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceTextChange[o],this.__cbOnceTextChange[o]=null;var u=this.__cbOnceOwnerUnbindTextChange[o];this.__cbOnceOwnerUnbindTextChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindTextChange[o]),c.push(this.__cbOnceTextChange[o])}this.__cbOnceOwnerUnbindTextChange=h,this.__cbOnceTextChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onTextChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event textChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTextChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTextChange&&(this.__cbOnOwnerUnbindTextChange=[]),this.__cbOnOwnerUnbindTextChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTextChange&&(this.__cbOnOwnerUnbindTextChange=[]),this.__cbOnOwnerUnbindTextChange.push(null);null==this.__cbOnTextChange&&(this.__cbOnTextChange=[]),this.__cbOnTextChange.push(n)},onceTextChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event textChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTextChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTextChange&&(this.__cbOnceOwnerUnbindTextChange=[]),this.__cbOnceOwnerUnbindTextChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTextChange&&(this.__cbOnceOwnerUnbindTextChange=[]),this.__cbOnceOwnerUnbindTextChange.push(null);null==this.__cbOnceTextChange&&(this.__cbOnceTextChange=[]),this.__cbOnceTextChange.push(n)},offTextChange:function(e){if(null!=e){var n;null!=this.__cbOnTextChange&&-1!=(n=this.__cbOnTextChange.indexOf(e))&&(this.__cbOnTextChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTextChange[n])&&r(),this.__cbOnOwnerUnbindTextChange.splice(n,1)),null!=this.__cbOnceTextChange&&-1!=(n=this.__cbOnceTextChange.indexOf(e))&&(this.__cbOnceTextChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTextChange[n])&&r(),this.__cbOnceOwnerUnbindTextChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTextChange){for(var t=0,i=this.__cbOnOwnerUnbindTextChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTextChange[s])&&r()}this.__cbOnOwnerUnbindTextChange=null}if(null!=this.__cbOnceOwnerUnbindTextChange){for(t=0,i=this.__cbOnceOwnerUnbindTextChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTextChange[s])&&r()}this.__cbOnceOwnerUnbindTextChange=null}this.__cbOnTextChange=null,this.__cbOnceTextChange=null}},listensTextChange:function(){return null!=this.__cbOnTextChange&&this.__cbOnTextChange.length>0||null!=this.__cbOnceTextChange&&this.__cbOnceTextChange.length>0},load:function(){var e=this;null!=this.owner&&(this.assets.inheritRuntimeAssetsFromAssets(this.owner),this.assets.loadMethod=this.owner.loadMethod,this.assets.scheduleMethod=this.owner.scheduleMethod,this.assets.delayBetweenXAssets=this.owner.delayBetweenXAssets);for(var n=[],t=this.assets.iterator();t.hasNext();){var i=t.next();n.push(i)}if(this.set_status(o.LOADING),null==this.path)return ceramic_App.app.logger.warning("Cannot load atlas asset if path is undefined.",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:55,className:"ceramic.AtlasAsset",methodName:"load"}),this.set_status(o.BROKEN),void this.emitComplete(!1);ceramic_App.app.logger.info("Load atlas "+this.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:61,className:"ceramic.AtlasAsset",methodName:"load"}),this.assets.runtimeAssets=this.runtimeAssets,(t=new ceramic_TextAsset(this.name)).set_handleTexturesDensityChange(!1),this.assets.addAsset(t),t.set_path(this.path),this.assets.onceComplete(this,(function(i){if(e.set_text(t.get_text()),null!=e.get_text())try{var s=null!=e.parseAtlas?e.parseAtlas(e.get_text()):ceramic_TextureAtlasParser.parse(e.get_text());s.id="atlas:"+e.path;for(var r=[],l=0,a=s.pages.length;l<a;){var h=l++,c=s.pages[h].get_name(),u=ceramic_Path.directory(e.path);null!=u&&u.length>0&&(c=ceramic_Path.join([u,c]));var _=ceramic_Assets.decodePath(c),d=new ceramic_ImageAsset(_.name);d.set_handleTexturesDensityChange(!1),d.set_path(_.path),e.assets.addAsset(d),r.push(d)}e.assets.onceComplete(e,(function(t){if(t){for(var i=0,l=r.length;i<l;){var a=i++,h=(b=r[a]).get_texture();null!=h&&h.set_filter(s.pages[a].get_filter()),s.pages[a].set_texture(h)}s.computeFrames();var c=e.get_atlas();if(s.asset=e,e.set_atlas(s),null!=c){e.emitReplaceAtlas(e.get_atlas(),c);for(i=0,l=[].concat(ceramic_App.app.visuals);i<l.length;){var u=l[i];if(++i,u._lifecycleState>=0&&null!=u.asQuad){var _=u.asQuad;if(null!=_.tile&&_.tile instanceof ceramic_TextureAtlasRegion){var d=_.tile;if(null!=d&&d.atlas==c){var f=d.name;if(null!=f){var p=s.region(f);null!=p?_.set_tile(p):_.set_tile(null)}else _.set_tile(null)}}}}c.asset=null,c.destroy()}for(i=0;i<n.length;){var b=n[i];if(++i,b instanceof ceramic_ImageAsset){var y=b;-1==r.indexOf(y)&&b.destroy()}else b.destroy()}e.set_status(o.READY),e.emitComplete(!0),e.handleTexturesDensityChange&&e.checkTexturesDensity()}else e.set_status(o.BROKEN),ceramic_App.app.logger.error("Failed to load textures for atlas at path: "+e.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:189,className:"ceramic.AtlasAsset",methodName:"load"}),e.emitComplete(!1)})),e.assets.load(null,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:195,className:"ceramic.AtlasAsset",methodName:"load"})}catch(l){e.set_status(o.BROKEN),ceramic_App.app.logger.error("Failed to decode atlas data at path: "+e.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:199,className:"ceramic.AtlasAsset",methodName:"load"}),e.emitComplete(!1)}else e.set_status(o.BROKEN),ceramic_App.app.logger.error("Failed to load atlas data at path: "+e.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:205,className:"ceramic.AtlasAsset",methodName:"load"}),e.emitComplete(!1)})),this.assets.load(null,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:210,className:"ceramic.AtlasAsset",methodName:"load"})},texturesDensityDidChange:function(e,n){this.get_status()==o.READY&&this.checkTexturesDensity()},checkTexturesDensity:function(){if(null!=this.owner&&this.owner.reloadOnTextureDensityChange){var e=this.path;this.computePath(),e!=this.path&&(ceramic_App.app.logger.info("Reload atlas ("+e+" -> "+this.path+")",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:234,className:"ceramic.AtlasAsset",methodName:"checkTexturesDensity"}),this.load())}},assetFilesDidChange:function(e,n){var t=-1;Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]);var i=-1;Object.prototype.hasOwnProperty.call(e.h,this.path)&&(i=e.h[this.path]),i>t&&(ceramic_App.app.logger.info("Reload atlas (file has changed)",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/AtlasAsset.hx",lineNumber:255,className:"ceramic.AtlasAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Asset.prototype.destroy.call(this),null!=this.get_atlas()&&(this.get_atlas().destroy(),this.set_atlas(null)))},unbindEvents:function(){ceramic_Asset.prototype.unbindEvents.call(this),this.offReplaceAtlas(),this.offAtlasChange(),this.offTextChange()},__class__:ceramic_AtlasAsset,__properties__:$extend(ceramic_Asset.prototype.__properties__,{set_text:"set_text",get_text:"get_text",set_atlas:"set_atlas",get_atlas:"get_atlas"})});var ceramic_Audio=function(){ceramic_Entity.call(this),this.mixers=new ceramic_IntMap,this.mixers.exists(0)||this.mixers.set(0,new ceramic_AudioMixer(0))};t["ceramic.Audio"]=ceramic_Audio,ceramic_Audio.__name__="ceramic.Audio",ceramic_Audio.__super__=ceramic_Entity,ceramic_Audio.prototype=$extend(ceramic_Entity.prototype,{initMixerIfNeeded:function(e){this.mixers.exists(e)||this.mixers.set(e,new ceramic_AudioMixer(e))},mixer:function(e){this.mixers.exists(e)||this.mixers.set(e,new ceramic_AudioMixer(e));var n=this.mixers,t=n._keys.intMap.h[0|e];return(e=null!=t?t:0)>=2?n.values[e-2]:ceramic_IntMap.RET_NULL},__class__:ceramic_Audio});var ceramic_AudioMixer=function(e){this.mute=!1,this.pitch=1,this.pan=0,this.volume=.5,ceramic_Entity.call(this),this.index=e};t["ceramic.AudioMixer"]=ceramic_AudioMixer,ceramic_AudioMixer.__name__="ceramic.AudioMixer",ceramic_AudioMixer.__super__=ceramic_Entity,ceramic_AudioMixer.prototype=$extend(ceramic_Entity.prototype,{__class__:ceramic_AudioMixer});var ceramic_AutoCollections=function(){};t["ceramic.AutoCollections"]=ceramic_AutoCollections,ceramic_AutoCollections.__name__="ceramic.AutoCollections",ceramic_AutoCollections.__isInterface__=!0;var ceramic_BackgroundQueue=function(e){null==e&&(e=.1),this.pending=[],this.stop=!1,this.runsInBackground=!1,this.checkInterval=.1,ceramic_Entity.call(this),this.checkInterval=.1};t["ceramic.BackgroundQueue"]=ceramic_BackgroundQueue,ceramic_BackgroundQueue.__name__="ceramic.BackgroundQueue",ceramic_BackgroundQueue.__super__=ceramic_Entity,ceramic_BackgroundQueue.prototype=$extend(ceramic_Entity.prototype,{schedule:function(e){ceramic_App.app._onceImmediate(e)},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),this.stop=!0)},__class__:ceramic_BackgroundQueue});var ceramic_BezierEasing=function(e,n,t,i){if(this.quadratic=!1,this.cached=!1,this.linearEasing=!1,this.cached&&this.removeFromCache(this.mX1,this.mY1,this.mX2,this.mY2),null==t||null==i?(this.quadratic=!0,this.mQuadraticX1=e,this.mQuadraticX2=t,this.mX1=ceramic_BezierEasing.TWO_THIRD*e,this.mY1=ceramic_BezierEasing.TWO_THIRD*n,this.mX2=1+ceramic_BezierEasing.TWO_THIRD*(e-1),this.mY2=1+ceramic_BezierEasing.TWO_THIRD*(n-1)):(this.quadratic=!1,this.mX1=e,this.mY1=n,this.mX2=t,this.mY2=i),this.mX1==this.mY1&&this.mX2==this.mY2)this.linearEasing=!0;else{this.linearEasing=!1,null==this.sampleValues&&(this.sampleValues=[]);for(var s=0,r=ceramic_BezierEasing.SPLINE_TABLE_SIZE;s<r;){var l=s++,a=l*ceramic_BezierEasing.SAMPLE_STEP_SIZE,o=this.mX1,h=this.mX2;this.sampleValues[l]=(((1-3*h+3*o)*a+(3*h-6*o))*a+3*o)*a}}};t["ceramic.BezierEasing"]=ceramic_BezierEasing,ceramic_BezierEasing.__name__="ceramic.BezierEasing",ceramic_BezierEasing.quadraticToCubicCP1=function(e){return ceramic_BezierEasing.TWO_THIRD*e},ceramic_BezierEasing.quadraticToCubicCP2=function(e){return 1+ceramic_BezierEasing.TWO_THIRD*(e-1)},ceramic_BezierEasing.cacheKey=function(e,n,t,i){return 0|1e4*e+1e5*n+1e6*t+1e7*i},ceramic_BezierEasing.clearCache=function(){ceramic_BezierEasing.cachedInstances=null,ceramic_BezierEasing.numCachedInstances=0},ceramic_BezierEasing.get=function(e,n,t,i){var s=null==t||null==i,r=s?ceramic_BezierEasing.TWO_THIRD*e:e,l=s?ceramic_BezierEasing.TWO_THIRD*n:n,a=s?1+ceramic_BezierEasing.TWO_THIRD*(e-1):t,o=s?1+ceramic_BezierEasing.TWO_THIRD*(n-1):i,h=null,c=0|1e4*r+1e5*l+1e6*a+1e7*o;null==ceramic_BezierEasing.cachedInstances&&(ceramic_BezierEasing.cachedInstances=new ceramic_IntMap);var u=ceramic_BezierEasing.cachedInstances,_=u._keys.intMap.h[0|c],d=null!=_?_:0,f=d>=2?u.values[d-2]:ceramic_IntMap.RET_NULL;if(null==f)ceramic_BezierEasing.numCachedInstances>=ceramic_BezierEasing.CACHE_SIZE&&ceramic_BezierEasing.clearCache(),h=new ceramic_BezierEasing(r,l,a,o),ceramic_BezierEasing.cachedInstances.set(c,[h]),ceramic_BezierEasing.numCachedInstances++;else{for(var p=f.length-1;p>=0;){var b=f[p];if(b.mX1==r&&b.mY1==l&&b.mX2==a&&b.mY2==o){h=b;break}--p}null==h&&((h=new ceramic_BezierEasing(e,n,t,i)).cached=!0,f.push(h))}return h},ceramic_BezierEasing.prototype={configure:function(e,n,t,i){if(this.cached&&this.removeFromCache(this.mX1,this.mY1,this.mX2,this.mY2),null==t||null==i?(this.quadratic=!0,this.mQuadraticX1=e,this.mQuadraticX2=t,this.mX1=ceramic_BezierEasing.TWO_THIRD*e,this.mY1=ceramic_BezierEasing.TWO_THIRD*n,this.mX2=1+ceramic_BezierEasing.TWO_THIRD*(e-1),this.mY2=1+ceramic_BezierEasing.TWO_THIRD*(n-1)):(this.quadratic=!1,this.mX1=e,this.mY1=n,this.mX2=t,this.mY2=i),this.mX1==this.mY1&&this.mX2==this.mY2)this.linearEasing=!0;else{this.linearEasing=!1,null==this.sampleValues&&(this.sampleValues=[]);for(var s=0,r=ceramic_BezierEasing.SPLINE_TABLE_SIZE;s<r;){var l=s++,a=l*ceramic_BezierEasing.SAMPLE_STEP_SIZE,o=this.mX1,h=this.mX2;this.sampleValues[l]=(((1-3*h+3*o)*a+(3*h-6*o))*a+3*o)*a}}},ease:function(e){if(this.linearEasing)return e;if(0==e)return 0;if(1==e)return 1;for(var n=0,t=1,i=ceramic_BezierEasing.SPLINE_TABLE_SIZE-1;t!=i&&this.sampleValues[t]<=e;)n+=ceramic_BezierEasing.SAMPLE_STEP_SIZE,++t;--t;var s,r=n+(e-this.sampleValues[t])/(this.sampleValues[t+1]-this.sampleValues[t])*ceramic_BezierEasing.SAMPLE_STEP_SIZE,l=this.mX1,a=3*(1-3*(p=this.mX2)+3*l)*r*r+2*(3*p-6*l)*r+3*l;if(a>=ceramic_BezierEasing.NEWTON_MIN_SLOPE)s=this.newtonRaphsonIterate(e,r,this.mX1,this.mX2);else if(0==a)s=r;else{var o,h,c=n,u=n+ceramic_BezierEasing.SAMPLE_STEP_SIZE,_=this.mX1,d=this.mX2,f=0;do{(o=(((1-3*d+3*_)*(h=c+(u-c)/2)+(3*d-6*_))*h+3*_)*h-e)>0?u=h:c=h}while(Math.abs(o)>ceramic_BezierEasing.SUBDIVISION_PRECISION&&++f<ceramic_BezierEasing.SUBDIVISION_MAX_ITERATIONS);s=h}var p;l=this.mY1;return(((1-3*(p=this.mY2)+3*l)*s+(3*p-6*l))*s+3*l)*s},getTForX:function(e){for(var n=0,t=1,i=ceramic_BezierEasing.SPLINE_TABLE_SIZE-1;t!=i&&this.sampleValues[t]<=e;)n+=ceramic_BezierEasing.SAMPLE_STEP_SIZE,++t;--t;var s=n+(e-this.sampleValues[t])/(this.sampleValues[t+1]-this.sampleValues[t])*ceramic_BezierEasing.SAMPLE_STEP_SIZE,r=this.mX1,l=this.mX2,a=3*(1-3*l+3*r)*s*s+2*(3*l-6*r)*s+3*r;if(a>=ceramic_BezierEasing.NEWTON_MIN_SLOPE)return this.newtonRaphsonIterate(e,s,this.mX1,this.mX2);if(0==a)return s;var o,h,c=n,u=n+ceramic_BezierEasing.SAMPLE_STEP_SIZE,_=this.mX1,d=this.mX2,f=0;do{(o=(((1-3*d+3*_)*(h=c+(u-c)/2)+(3*d-6*_))*h+3*_)*h-e)>0?u=h:c=h}while(Math.abs(o)>ceramic_BezierEasing.SUBDIVISION_PRECISION&&++f<ceramic_BezierEasing.SUBDIVISION_MAX_ITERATIONS);return h},calcBezier:function(e,n,t){return(((1-3*t+3*n)*e+(3*t-6*n))*e+3*n)*e},getSlope:function(e,n,t){return 3*(1-3*t+3*n)*e*e+2*(3*t-6*n)*e+3*n},binarySubdivide:function(e,n,t,i,s){var r,l,a=0;do{(r=(((1-3*s+3*i)*(l=n+(t-n)/2)+(3*s-6*i))*l+3*i)*l-e)>0?t=l:n=l}while(Math.abs(r)>ceramic_BezierEasing.SUBDIVISION_PRECISION&&++a<ceramic_BezierEasing.SUBDIVISION_MAX_ITERATIONS);return l},newtonRaphsonIterate:function(e,n,t,i){for(var s=0,r=ceramic_BezierEasing.NEWTON_ITERATIONS;s<r;){s++;var l=3*(1-3*i+3*t)*n*n+2*(3*i-6*t)*n+3*t;if(0==l)return n;n-=((((1-3*i+3*t)*n+(3*i-6*t))*n+3*t)*n-e)/l}return n},A:function(e,n){return 1-3*n+3*e},B:function(e,n){return 3*n-6*e},C:function(e){return 3*e},removeFromCache:function(e,n,t,i){this.cached=!1;var s=0|1e4*e+1e5*n+1e6*t+1e7*i;if(null!=ceramic_BezierEasing.cachedInstances){var r=ceramic_BezierEasing.cachedInstances,l=r._keys.intMap.h[0|s],a=null!=l?l:0,o=a>=2?r.values[a-2]:ceramic_IntMap.RET_NULL;null!=o&&(1==o.length&&o[0]==this?ceramic_BezierEasing.cachedInstances.remove(s):HxOverrides.remove(o,this))}},__class__:ceramic_BezierEasing};var ceramic_BinaryAsset=function(e,n,t){this.unobservedBytes=null,this.bytesAutoruns=null,ceramic_Asset.call(this,"binary",e,n,t)};t["ceramic.BinaryAsset"]=ceramic_BinaryAsset,ceramic_BinaryAsset.__name__="ceramic.BinaryAsset",ceramic_BinaryAsset.__super__=ceramic_Asset,ceramic_BinaryAsset.prototype=$extend(ceramic_Asset.prototype,{get_bytes:function(){var e=this.unobservedBytes;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.bytesAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.bytesAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_bytes:function(e){var n=this.unobservedBytes;if(this.unobservedBytes=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitBytesChange(e,n);var t=this.bytesAutoruns;if(null!=t){this.bytesAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateBytes:function(){var e=this.unobservedBytes;this.emitBytesChange(e,e);var n=this.bytesAutoruns;if(null!=n){this.bytesAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitBytesChange:function(e,n){var t=0;if(null!=this.__cbOnBytesChange&&(t+=this.__cbOnBytesChange.length),null!=this.__cbOnceBytesChange&&(t+=this.__cbOnceBytesChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnBytesChange)for(var l=0,a=this.__cbOnBytesChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnBytesChange[o],++r):--t}if(null!=this.__cbOnceBytesChange){var h=null,c=null;for(l=0,a=this.__cbOnceBytesChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceBytesChange[o],this.__cbOnceBytesChange[o]=null;var u=this.__cbOnceOwnerUnbindBytesChange[o];this.__cbOnceOwnerUnbindBytesChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindBytesChange[o]),c.push(this.__cbOnceBytesChange[o])}this.__cbOnceOwnerUnbindBytesChange=h,this.__cbOnceBytesChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onBytesChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event bytesChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBytesChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBytesChange&&(this.__cbOnOwnerUnbindBytesChange=[]),this.__cbOnOwnerUnbindBytesChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBytesChange&&(this.__cbOnOwnerUnbindBytesChange=[]),this.__cbOnOwnerUnbindBytesChange.push(null);null==this.__cbOnBytesChange&&(this.__cbOnBytesChange=[]),this.__cbOnBytesChange.push(n)},onceBytesChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event bytesChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBytesChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBytesChange&&(this.__cbOnceOwnerUnbindBytesChange=[]),this.__cbOnceOwnerUnbindBytesChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBytesChange&&(this.__cbOnceOwnerUnbindBytesChange=[]),this.__cbOnceOwnerUnbindBytesChange.push(null);null==this.__cbOnceBytesChange&&(this.__cbOnceBytesChange=[]),this.__cbOnceBytesChange.push(n)},offBytesChange:function(e){if(null!=e){var n;null!=this.__cbOnBytesChange&&-1!=(n=this.__cbOnBytesChange.indexOf(e))&&(this.__cbOnBytesChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBytesChange[n])&&r(),this.__cbOnOwnerUnbindBytesChange.splice(n,1)),null!=this.__cbOnceBytesChange&&-1!=(n=this.__cbOnceBytesChange.indexOf(e))&&(this.__cbOnceBytesChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBytesChange[n])&&r(),this.__cbOnceOwnerUnbindBytesChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBytesChange){for(var t=0,i=this.__cbOnOwnerUnbindBytesChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindBytesChange[s])&&r()}this.__cbOnOwnerUnbindBytesChange=null}if(null!=this.__cbOnceOwnerUnbindBytesChange){for(t=0,i=this.__cbOnceOwnerUnbindBytesChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindBytesChange[s])&&r()}this.__cbOnceOwnerUnbindBytesChange=null}this.__cbOnBytesChange=null,this.__cbOnceBytesChange=null}},listensBytesChange:function(){return null!=this.__cbOnBytesChange&&this.__cbOnBytesChange.length>0||null!=this.__cbOnceBytesChange&&this.__cbOnceBytesChange.length>0},load:function(){var e=this;if(this.set_status(o.LOADING),null==this.path)return ceramic_App.app.logger.warning("Cannot load binary asset if path is undefined.",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/BinaryAsset.hx",lineNumber:21,className:"ceramic.BinaryAsset",methodName:"load"}),this.set_status(o.BROKEN),void this.emitComplete(!1);var n={};if(null!=this.owner&&(n.immediate=this.owner.immediate,n.loadMethod=this.owner.loadMethod),null!=this.options)for(var t=0,i=Reflect.fields(this.options);t<i.length;){var s=i[t];++t,n[s]=Reflect.field(this.options,s)}var r=this.path,l=ceramic_Assets.realAssetPath(r,this.runtimeAssets),a=ceramic_Assets.getReloadCount(l);a>0&&(l+="?hot="+a,r+="?hot="+a),ceramic_App.app.logger.info("Load binary "+r,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/BinaryAsset.hx",lineNumber:47,className:"ceramic.BinaryAsset",methodName:"load"}),ceramic_App.app.backend.binaries.load(l,n,(function(n){null!=n?(e.set_bytes(n),e.set_status(o.READY),e.emitComplete(!0)):(e.set_status(o.BROKEN),ceramic_App.app.logger.error("Failed to load binary at path: "+e.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/BinaryAsset.hx",lineNumber:57,className:"ceramic.BinaryAsset",methodName:"load"}),e.emitComplete(!1))}))},assetFilesDidChange:function(e,n){var t=-1;Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]);var i=-1;Object.prototype.hasOwnProperty.call(e.h,this.path)&&(i=e.h[this.path]),i>t&&(ceramic_App.app.logger.info("Reload binary (file has changed)",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/BinaryAsset.hx",lineNumber:80,className:"ceramic.BinaryAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Asset.prototype.destroy.call(this),this.set_bytes(null))},unbindEvents:function(){ceramic_Asset.prototype.unbindEvents.call(this),this.offBytesChange()},__class__:ceramic_BinaryAsset,__properties__:$extend(ceramic_Asset.prototype.__properties__,{set_bytes:"set_bytes",get_bytes:"get_bytes"})});var ceramic_BitmapFont=function(e,n){if(this._preRenderingPages=null,this.preRenderedPages=null,this.pageShaders=null,this.pages=new ceramic_IntMap(16,.5,!0),ceramic_Entity.call(this),this.set_fontData(e),null==e)throw haxe_Exception.thrown("BitmapFont: fontData is null");if(null==n)throw haxe_Exception.thrown("BitmapFont: pages is null");null!=e.distanceField&&(this.pageShaders=new haxe_ds_IntMap);for(var t=0,i=e.pages;t<i.length;){var s=i[t];++t;var r=s.file;null!=e.path&&e.path.length>0&&"."!=e.path&&(r=ceramic_Path.join([e.path,s.file]));var l=n.h[r];if(null==l)throw haxe_Exception.thrown("BitmapFont: missing texture for file "+s.file);if(this.pages.set(s.id,l),null!=e.distanceField){var a=ceramic_App.app.assets.shader("shader:msdf").clone();ceramic_App.app.backend.shaders;a.backendItem.uniforms.setFloat("pxRange",e.distanceField.distanceRange);ceramic_App.app.backend.shaders;a.backendItem.uniforms.setVector2("texSize",l.width*l.density,l.height*l.density),this.pageShaders.h[s.id]=a}}};t["ceramic.BitmapFont"]=ceramic_BitmapFont,ceramic_BitmapFont.__name__="ceramic.BitmapFont",ceramic_BitmapFont.__super__=ceramic_Entity,ceramic_BitmapFont.prototype=$extend(ceramic_Entity.prototype,{set_fontData:function(e){return this.fontData=e,null!=e&&(this.spaceChar=e.chars.get(32),null==e.chars.get(160)&&e.chars.set(160,this.spaceChar)),e},get_face:function(){return this.fontData.face},set_face:function(e){return this.fontData.face=e},get_pointSize:function(){return this.fontData.pointSize},set_pointSize:function(e){return this.fontData.pointSize=e},get_baseSize:function(){return this.fontData.baseSize},set_baseSize:function(e){return this.fontData.baseSize=e},get_chars:function(){return this.fontData.chars},set_chars:function(e){return this.fontData.chars=e},get_charCount:function(){return this.fontData.charCount},set_charCount:function(e){return this.fontData.charCount=e},get_lineHeight:function(){return this.fontData.lineHeight},set_lineHeight:function(e){return this.fontData.lineHeight=e},get_kernings:function(){return this.fontData.kernings},set_kernings:function(e){return this.fontData.kernings=e},get_msdf:function(){return null!=this.fontData.distanceField&&"msdf"==this.fontData.distanceField.fieldType},destroy:function(){if(!(this._lifecycleState<=-2)){if(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),null!=this.asset&&this.asset.destroy(),null!=this.pages){for(var e=this.pages.iterableKeys,n=0,t=e.length;n<t;){var i=n++;(l=this.pages.get(e[i])).destroy()}this.pages=null}if(null!=this.pageShaders){for(var s=this.pageShaders.iterator();s.hasNext();){s.next().destroy()}this.pageShaders=null}if(null!=this.preRenderedPages){for(var r=this.preRenderedPages.iterator();r.hasNext();)for(var l=r.next().iterator();l.hasNext();){l.next().destroy()}this.preRenderedPages=null}}},needsToPreRenderAtSize:function(e){if(null==this.preRenderedPages||!this.preRenderedPages.h.hasOwnProperty(e))return!0;for(var n=this.preRenderedPages.h[e],t=0,i=this.pages.iterableKeys;t<i.length;){var s=i[t];if(++t,!n.h.hasOwnProperty(s))return!0}return!1},preRenderAtSize:function(e,n){for(var t=0,i=0,s=this.pages.iterableKeys;i<s.length;){var r=s[i];++i,t+=1,this.preRenderPage(r,e,(function(){0==(t-=1)&&(n(),n=null)}))}},preRenderPage:function(e,n,t){var i,s,r=this;if((null==this.preRenderedPages&&(this.preRenderedPages=new haxe_ds_IntMap),null!=this._preRenderingPages)&&null!=(i=this._preRenderingPages.h[n]))return void(null!=(s=i.h[e])&&s.push(t));null==this._preRenderingPages&&(this._preRenderingPages=new haxe_ds_IntMap),null==(i=this._preRenderingPages.h[n])&&(i=new haxe_ds_IntMap,this._preRenderingPages.h[n]=i),null==(s=i.h[e])&&(s=[],i.h[e]=s);var l=this.preRenderedPages.h[n],a=this.pages.get(e);if(null==a)throw haxe_Exception.thrown("Invalid bitmap font page with id "+e);var o=n/this.fontData.pointSize,h=Math.ceil(a.width*a.density*o),c=Math.ceil(a.width*a.density*o),u=new ceramic_RenderTexture(h,c,1);u.clearOnRender=!0,u.autoRender=!1;var _=new ceramic_Quad;_._texture!=a&&_._set_texture(a),_.set_width(h),_.set_height(c),_.set_shader(null!=this.pageShaders?this.pageShaders.h[e]:null),_.set_visible(!1),null!=l&&l.h.hasOwnProperty(e)&&l.h[e].destroy(),u.stamp(_,(function(){for(_.destroy(),_=null,null==l&&(l=new haxe_ds_IntMap,r.preRenderedPages.h[n]=l),l.h[e]=u,t(),t=null,i.remove(e);s.length>0;){var a=s.shift();a(),a=null}}))},kerning:function(e,n){var t=this.fontData.kernings.get(e);if(null!=t&&t.intMap.h.hasOwnProperty(0|n)){var i=t.intMap.h[0|n];return null!=i?i:0}return 0},__class__:ceramic_BitmapFont,__properties__:$extend(ceramic_Entity.prototype.__properties__,{get_msdf:"get_msdf",set_kernings:"set_kernings",get_kernings:"get_kernings",set_lineHeight:"set_lineHeight",get_lineHeight:"get_lineHeight",set_charCount:"set_charCount",get_charCount:"get_charCount",set_chars:"set_chars",get_chars:"get_chars",set_baseSize:"set_baseSize",get_baseSize:"get_baseSize",set_pointSize:"set_pointSize",get_pointSize:"get_pointSize",set_face:"set_face",get_face:"get_face",set_fontData:"set_fontData"})});var ceramic_BitmapFontCharacter=function(e,n,t,i,s,r,l,a,o){this.id=e,this.x=n,this.y=t,this.width=i,this.height=s,this.xOffset=r,this.yOffset=l,this.xAdvance=a,this.page=o};t["ceramic.BitmapFontCharacter"]=ceramic_BitmapFontCharacter,ceramic_BitmapFontCharacter.__name__="ceramic.BitmapFontCharacter",ceramic_BitmapFontCharacter.prototype={__class__:ceramic_BitmapFontCharacter};var ceramic_BitmapFontData=function(e,n,t,i,s,r,l,a,o,h){this.face=e,this.path=n,this.pointSize=t,this.baseSize=i,this.chars=s,this.charCount=r,this.distanceField=l,this.pages=a,this.lineHeight=o,this.kernings=h};t["ceramic.BitmapFontData"]=ceramic_BitmapFontData,ceramic_BitmapFontData.__name__="ceramic.BitmapFontData",ceramic_BitmapFontData.prototype={__class__:ceramic_BitmapFontData};var ceramic_BitmapFontDataPage=function(e,n){this.id=e,this.file=n};t["ceramic.BitmapFontDataPage"]=ceramic_BitmapFontDataPage,ceramic_BitmapFontDataPage.__name__="ceramic.BitmapFontDataPage",ceramic_BitmapFontDataPage.prototype={__class__:ceramic_BitmapFontDataPage};var ceramic_BitmapFontDistanceFieldData=function(e,n){this.fieldType=e,this.distanceRange=n};t["ceramic.BitmapFontDistanceFieldData"]=ceramic_BitmapFontDistanceFieldData,ceramic_BitmapFontDistanceFieldData.__name__="ceramic.BitmapFontDistanceFieldData",ceramic_BitmapFontDistanceFieldData.prototype={__class__:ceramic_BitmapFontDistanceFieldData};var ceramic_BitmapFontParser=function(){};t["ceramic.BitmapFontParser"]=ceramic_BitmapFontParser,ceramic_BitmapFontParser.__name__="ceramic.BitmapFontParser",ceramic_BitmapFontParser.parse=function(e){if(0==e.length)throw haxe_Exception.thrown("BitmapFont: fontData is 0 length");if(StringTools.startsWith(StringTools.trim(e),"<"))try{e=ceramic_BitmapFontParser.convertXmlFontData(e)}catch(r){var n=haxe_Exception.caught(r).unwrap();throw haxe_Exception.thrown("BitmapFont: invalid xml font data specified for parser: "+Std.string(n))}var t=new ceramic_BitmapFontData(null,".",0,0,new ceramic_IntMap,0,null,[],0,new ceramic_IntMap),i=StringTools.replace(StringTools.replace(e,"\r",""),"\t"," ").split("\n");if(0==i.length)throw haxe_Exception.thrown("BitmapFont: invalid font data specified for parser.");var s=i[0];if("info"!=HxOverrides.substr(StringTools.ltrim(s),0,4))throw haxe_Exception.thrown("BitmapFont: invalid font data specified for parser. Format should be plain ascii text .fnt file only currently.");for(var r=0;r<i.length;){var l=i[r];++r,ceramic_BitmapFontParser.parseLine(l,t)}return i=null,t},ceramic_BitmapFontParser.convertXmlFontData=function(e){for(var n="",t=Xml.parse(e).firstElement().elements();t.hasNext();){var i=t.next();if(i.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":r.toString(i.nodeType)));switch(i.nodeName){case"chars":case"pages":if(i.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":r.toString(i.nodeType)));if("chars"==i.nodeName){if(i.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":r.toString(i.nodeType)));n+=Std.string(i.nodeName);for(var s=i.attributes();s.hasNext();){var l=s.next(),a=i.get(l);null!=a&&(n+=" ",n+=Std.string(l),n+="=","face"==l||"char"==l||"file"==l||-1!=a.indexOf(" ")||-1!=a.indexOf('"')||-1!=a.indexOf("=")?n+=Std.string(JSON.stringify(a)):n+=Std.string(a))}n+="\n"}for(var o=i.elements();o.hasNext();){var h=o.next();if(h.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==h.nodeType?"null":r.toString(h.nodeType)));n+=Std.string(h.nodeName);for(var c=h.attributes();c.hasNext();){var u=c.next(),_=h.get(u);null!=_&&(n+=" ",n+=Std.string(u),n+="=","face"==u||"char"==u||"file"==u||-1!=_.indexOf(" ")||-1!=_.indexOf('"')||-1!=_.indexOf("=")?n+=Std.string(JSON.stringify(_)):n+=Std.string(_))}n+="\n"}break;default:if(i.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":r.toString(i.nodeType)));n+=Std.string(i.nodeName);for(var d=i.attributes();d.hasNext();){var f=d.next(),p=i.get(f);null!=p&&(n+=" ",n+=Std.string(f),n+="=","face"==f||"char"==f||"file"==f||-1!=p.indexOf(" ")||-1!=p.indexOf('"')||-1!=p.indexOf("=")?n+=Std.string(JSON.stringify(p)):n+=Std.string(p))}n+="\n"}}return n},ceramic_BitmapFontParser.parseLine=function(e,n){var t=new haxe_ds_StringMap;switch(ceramic_BitmapFontParser.extractLineTokens(e,t)){case"char":var i=new ceramic_BitmapFontCharacter(Std.parseInt(t.h.id),parseFloat(t.h.x),parseFloat(t.h.y),parseFloat(t.h.width),parseFloat(t.h.height),parseFloat(t.h.xoffset),parseFloat(t.h.yoffset),parseFloat(t.h.xadvance),Std.parseInt(t.h.page));n.chars.set(i.id,i);break;case"chars":n.charCount=Std.parseInt(t.h.count);break;case"common":n.lineHeight=parseFloat(t.h.lineHeight),n.baseSize=parseFloat(t.h.base);break;case"distanceField":var s=t.h.fieldType,r=Std.parseInt(t.h.distanceRange);n.distanceField=new ceramic_BitmapFontDistanceFieldData(s,r);break;case"info":var l=(u=t.h.face).length;34==HxOverrides.cca(u,0)&&34==HxOverrides.cca(u,l-1)&&(u=u.substring(1,l-1)),n.face=u,n.pointSize=parseFloat(t.h.size);break;case"kerning":var a=Std.parseInt(t.h.first),o=Std.parseInt(t.h.second),h=parseFloat(t.h.amount),c=n.kernings.get(a);null==c&&(c=new ceramic_IntFloatMap,n.kernings.set(a,c)),c.set(o,h);break;case"page":var u;l=(u=t.h.file).length;34==HxOverrides.cca(u,0)&&34==HxOverrides.cca(u,l-1)&&(u=u.substring(1,l-1)),n.pages.push(new ceramic_BitmapFontDataPage(Std.parseInt(t.h.id),StringTools.trim(u)))}},ceramic_BitmapFontParser.extractLineTokens=function(e,n){for(var t=0,i=e.length,s=null,r=null,l=null,a=!1;t<i;){var o=HxOverrides.cca(e,t);if(a){if(92==o?(o=HxOverrides.cca(e,t),++t):34==o&&(a=!1),null==l)throw haxe_Exception.thrown("Invalid bitmap font line: "+e);l.b+=Std.string(e.charAt(t))}else if(32==o)null!=l&&(null==s?s=l.b:null==r?(r=l.b,n.h[r]=null):n.h[r]=l.b,r=null,l=null);else if(null==r&&61==o){if(null==l)throw haxe_Exception.thrown("Invalid bitmap font line: "+e);r=l.b,l=null}else 34==o&&(a=!0),null==l&&(l=new StringBuf),l.b+=Std.string(e.charAt(t));++t}return null!=l&&(null==s?s=l.b:null==r?(r=l.b,n.h[r]=null):n.h[r]=l.b,r=null,l=null),s},ceramic_BitmapFontParser.unquote=function(e){var n=e.length;return 34==HxOverrides.cca(e,0)&&34==HxOverrides.cca(e,n-1)&&(e=e.substring(1,n-1)),e};var ceramic_Border=function(){this.borderRightColor=-1,this.borderLeftColor=-1,this.borderBottomColor=-1,this.borderTopColor=-1,this.borderColor=8421504,this.borderRightSize=-1,this.borderLeftSize=-1,this.borderBottomSize=-1,this.borderTopSize=-1,this.borderSize=1,this.borderPosition=c.INSIDE,this.autoComputeColors=!0,this.autoComputeVertices=!0,ceramic_Mesh.call(this),this.colorMapping=1,this.vertices=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.indices=[0,1,2,2,1,3,3,1,5,5,1,7,4,5,6,6,5,7,0,2,6,6,2,4],this.colors=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.computeVertices()};t["ceramic.Border"]=ceramic_Border,ceramic_Border.__name__="ceramic.Border",ceramic_Border.__super__=ceramic_Mesh,ceramic_Border.prototype=$extend(ceramic_Mesh.prototype,{set_autoComputeVertices:function(e){return this.autoComputeVertices==e||(this.autoComputeVertices=e,e&&this.computeVertices()),e},set_autoComputeColors:function(e){return this.autoComputeColors==e||(this.autoComputeColors=e,e&&this.computeColors()),e},set_width:function(e){return ceramic_Mesh.prototype.set_width.call(this,e),this.autoComputeVertices&&this.computeVertices(),e},set_height:function(e){return ceramic_Mesh.prototype.set_height.call(this,e),this.autoComputeVertices&&this.computeVertices(),e},set_borderPosition:function(e){return this.borderPosition==e||(this.borderPosition=e,this.autoComputeVertices&&this.computeVertices()),e},set_borderSize:function(e){return this.borderSize==e||(this.borderSize=e,this.autoComputeVertices&&this.computeVertices()),e},set_borderTopSize:function(e){return this.borderTopSize==e||(this.borderTopSize=e,this.autoComputeVertices&&this.computeVertices()),e},set_borderBottomSize:function(e){return this.borderBottomSize==e||(this.borderBottomSize=e,this.autoComputeVertices&&this.computeVertices()),e},set_borderLeftSize:function(e){return this.borderLeftSize==e||(this.borderLeftSize=e,this.autoComputeVertices&&this.computeVertices()),e},set_borderRightSize:function(e){return this.borderRightSize==e||(this.borderRightSize=e,this.autoComputeVertices&&this.computeVertices()),e},set_borderColor:function(e){return this.borderColor==e||(this.borderColor=e,this.autoComputeColors&&this.computeColors()),e},set_borderTopColor:function(e){return this.borderTopColor==e||(this.borderTopColor=e,this.autoComputeColors&&this.computeColors()),e},set_borderBottomColor:function(e){return this.borderBottomColor==e||(this.borderBottomColor=e,this.autoComputeColors&&this.computeColors()),e},set_borderLeftColor:function(e){return this.borderLeftColor==e||(this.borderLeftColor=e,this.autoComputeColors&&this.computeColors()),e},set_borderRightColor:function(e){return this.borderRightColor==e||(this.borderRightColor=e,this.autoComputeColors&&this.computeColors()),e},computeColors:function(){var e=(0|(-1!=this.borderTopColor?this.borderTopColor:this.borderColor))-16777216;e&=16777215;var n=e|=-16777216;e=(0|(-1!=this.borderBottomColor?this.borderBottomColor:this.borderColor))-16777216;e&=16777215;var t=e|=-16777216;e=(0|(-1!=this.borderLeftColor?this.borderLeftColor:this.borderColor))-16777216;e&=16777215;var i=e|=-16777216;e=(0|(-1!=this.borderRightColor?this.borderRightColor:this.borderColor))-16777216;e&=16777215;var s=e|=-16777216;this.colors[0]=n,this.colors[1]=n,this.colors[2]=n,this.colors[3]=n,this.colors[4]=n,this.colors[5]=n,this.colors[6]=s,this.colors[7]=s,this.colors[8]=s,this.colors[9]=s,this.colors[10]=s,this.colors[11]=s,this.colors[12]=t,this.colors[13]=t,this.colors[14]=t,this.colors[15]=t,this.colors[16]=t,this.colors[17]=t,this.colors[18]=i,this.colors[19]=i,this.colors[20]=i,this.colors[21]=i,this.colors[22]=i,this.colors[23]=i},computeVertices:function(){var e=.5,n=.5;this.borderPosition==c.OUTSIDE?(e=1,n=0):this.borderPosition==c.INSIDE&&(e=0,n=1);var t=this.borderLeftSize>=0?this.borderLeftSize:this.borderSize,i=e*t,s=n*t,r=this.borderTopSize>=0?this.borderTopSize:this.borderSize,l=e*r,a=n*r,o=this.borderRightSize>=0?this.borderRightSize:this.borderSize,h=e*o,u=n*o,_=this.borderBottomSize>=0?this.borderBottomSize:this.borderSize,d=e*_,f=n*_,p=this.get_width(),b=this.get_height();this.vertices[0]=-i,this.vertices[1]=-l;var y=p+h;this.vertices[2]=y,this.vertices[3]=-l,this.vertices[4]=s,this.vertices[5]=a,y=p-u,this.vertices[6]=y,this.vertices[7]=a,this.vertices[8]=s,y=b-f,this.vertices[9]=y,y=p-u,this.vertices[10]=y,y=b-f,this.vertices[11]=y,this.vertices[12]=-i,y=b+d,this.vertices[13]=y,y=p+h,this.vertices[14]=y,y=b+d,this.vertices[15]=y},__class__:ceramic_Border,__properties__:$extend(ceramic_Mesh.prototype.__properties__,{set_borderRightColor:"set_borderRightColor",set_borderLeftColor:"set_borderLeftColor",set_borderBottomColor:"set_borderBottomColor",set_borderTopColor:"set_borderTopColor",set_borderColor:"set_borderColor",set_borderRightSize:"set_borderRightSize",set_borderLeftSize:"set_borderLeftSize",set_borderBottomSize:"set_borderBottomSize",set_borderTopSize:"set_borderTopSize",set_borderSize:"set_borderSize",set_borderPosition:"set_borderPosition",set_autoComputeColors:"set_autoComputeColors",set_autoComputeVertices:"set_autoComputeVertices"})});var c=i["ceramic.BorderPosition"]={__ename__:"ceramic.BorderPosition",__constructs__:null,INSIDE:{_hx_name:"INSIDE",_hx_index:0,__enum__:"ceramic.BorderPosition",toString:$estr},OUTSIDE:{_hx_name:"OUTSIDE",_hx_index:1,__enum__:"ceramic.BorderPosition",toString:$estr},MIDDLE:{_hx_name:"MIDDLE",_hx_index:2,__enum__:"ceramic.BorderPosition",toString:$estr}};c.__constructs__=[c.INSIDE,c.OUTSIDE,c.MIDDLE];var ceramic_CeramicLogo=function(){this.shadowSize=.1075,this.tilt=1,this.resolution=1,this.curveEasing=ceramic_BezierEasing.get(.71,0,1,.38),this.filledBottom=0,this.numEllipseIndices=0,this.numEllipseVertices=0,ceramic_Mesh.call(this),this.colorMapping=1,this.colors=[],this.set_width(112),this.set_height(162)};t["ceramic.CeramicLogo"]=ceramic_CeramicLogo,ceramic_CeramicLogo.__name__="ceramic.CeramicLogo",ceramic_CeramicLogo.__super__=ceramic_Mesh,ceramic_CeramicLogo.prototype=$extend(ceramic_Mesh.prototype,{set_resolution:function(e){return this.resolution!=e&&(this.resolution=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_tilt:function(e){return this.tilt!=e&&(this.tilt=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_shadowSize:function(e){return this.shadowSize!=e&&(this.shadowSize=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_width:function(e){return this.get_width()!=e&&(ceramic_Mesh.prototype.set_width.call(this,e),this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_height:function(e){return this.get_height()!=e&&(ceramic_Mesh.prototype.set_height.call(this,e),this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},computeContent:function(){if(!(this.get_width()<=0||this.get_height()<=0)){var e;if(0!=(e=this.colors).length)if(e.length>0)e.splice(0,e.length);else for(var n=e;n.length<0;)n.push(null);if(0!=(e=this.vertices).length)if(e.length>0)e.splice(0,e.length);else for(n=e;n.length<0;)n.push(null);if(0!=(e=this.indices).length)if(e.length>0)e.splice(0,e.length);else for(n=e;n.length<0;)n.push(null);this.filledBottom=0,this.computeEllipse(8947848),this.computeBottomSection(12500670,this.shadowSize),this.computeBottomSection(16777215,1)}},computeEllipse:function(e){var n=this.get_width(),t=2*Math.floor(Math.ceil(.25*n*this.resolution)/2),i=(Math.PI,6.283185307179586/t),s=.5*n,r=.5*n*.095*this.tilt;this.vertices.push(s),this.vertices.push(r);for(var l=0,a=t+1;l<a;){var o=l++,h=Math.cos(Math.PI+i*o),c=Math.sin(Math.PI+i*o);if(this.vertices.push((1+h)*s),this.vertices.push((1+c)*r),o>0){var u=o;this.indices.push(0),this.indices.push(u),this.indices.push(u+1);var _=(0|e)-16777216;_&=16777215,_|=-16777216,this.colors.push(_);var d=(0|e)-16777216;d&=16777215,d|=-16777216,this.colors.push(d);var f=(0|e)-16777216;f&=16777215,f|=-16777216,this.colors.push(f)}}this.numEllipseVertices=Math.floor(this.vertices.length/2),this.numEllipseIndices=this.indices.length},computeBottomSection:function(e,n){for(var t=this.get_width(),i=this.get_height(),s=this.vertices[2*this.numEllipseVertices-1],r=this.filledBottom*t,l=n*t,a=-1,o=-1,h=-1,c=-1,u=2*this.numEllipseVertices-2;u>=this.numEllipseVertices&&this.vertices[u]<r;)u-=2;for(0==this.filledBottom?(a=u,o=u-2):(a=u+2,o=u),u=2*this.numEllipseVertices-2;u>=this.numEllipseVertices&&this.vertices[u]<l;)u-=2;1==n?(h=u,c=u-2):(h=u+2,c=u);var _=this.vertices[a+1]+(this.vertices[o+1]-this.vertices[a+1])*((r-this.vertices[a])/(this.vertices[o]-this.vertices[a])),d=this.vertices[h+1]+(this.vertices[c+1]-this.vertices[h+1])*((l-this.vertices[h])/(this.vertices[c]-this.vertices[h])),f=.5*t,p=i,b=(p-s)*(1-.36*(1+.1*(this.tilt-1))),y=_+b,g=d+b,O=p-y,x=p-g,v=Math.floor(this.vertices.length/2);this.vertices.push(r),this.vertices.push(_);var m=0;u=o;do{this.vertices.push(this.vertices[u]),this.vertices.push(this.vertices[u+1]),u-=2,++m}while(u>=h);this.vertices.push(l),this.vertices.push(d),this.vertices.push(l),this.vertices.push(g),this.vertices.push(r),this.vertices.push(y);var U=this.indices.length;ceramic_Triangulate._triangulateWithRange(this.vertices,v,m+4,this.indices,null,w.POLY2TRI),v=Math.floor(this.vertices.length/2)-2;for(var C=0,T=this.indices.length-U;C<T;){C++;var D=(0|e)-16777216;D&=16777215,D|=-16777216,this.colors.push(D)}var E=Math.ceil(.35*Math.max(O,x)*this.resolution);if(E>0)for(C=0,T=E;C<T;){var A=C++,S=(A+1)/E,M=S+.55*(1-this.curveEasing.ease(1-S)-S),P=y+O*M,F=g+x*M;if(A<E-1){var k=this.curveEasing.ease(M),R=r+(f-r)*k,I=l+(f-l)*k;this.vertices.push(R),this.vertices.push(P),this.vertices.push(I),this.vertices.push(F),0==A?(this.indices.push(v+1),this.indices.push(v),this.indices.push(v+2),this.indices.push(v+2),this.indices.push(v),this.indices.push(v+3)):(this.indices.push(v),this.indices.push(v+1),this.indices.push(v+2),this.indices.push(v+2),this.indices.push(v+1),this.indices.push(v+3)),v+=2;D=(0|e)-16777216;D&=16777215,D|=-16777216,this.colors.push(D);var N=(0|e)-16777216;N&=16777215,N|=-16777216,this.colors.push(N);var L=(0|e)-16777216;L&=16777215,L|=-16777216,this.colors.push(L);var B=(0|e)-16777216;B&=16777215,B|=-16777216,this.colors.push(B);var G=(0|e)-16777216;G&=16777215,G|=-16777216,this.colors.push(G);var W=(0|e)-16777216;W&=16777215,W|=-16777216,this.colors.push(W)}else{this.vertices.push(f),this.vertices.push(Math.max(P,F)),this.indices.push(v),this.indices.push(v+1),this.indices.push(v+2),v+=2;var K=(0|e)-16777216;K&=16777215,K|=-16777216,this.colors.push(K);var Y=(0|e)-16777216;Y&=16777215,Y|=-16777216,this.colors.push(Y);var H=(0|e)-16777216;H&=16777215,H|=-16777216,this.colors.push(H)}}this.filledBottom=n},__class__:ceramic_CeramicLogo,__properties__:$extend(ceramic_Mesh.prototype.__properties__,{set_shadowSize:"set_shadowSize",set_tilt:"set_tilt",set_resolution:"set_resolution"})});var ceramic_CollectionImpl=function(){this.combinedCollectionLastChanges=null,this.combinedCollections=null,this.filter=null,this.byId=null,this.entriesDirty=!1,this.indexDirty=!0,this.entries=[],this.lastChange=0,this.internalId=ceramic_CollectionImpl._nextInternalId++};t["ceramic.CollectionImpl"]=ceramic_CollectionImpl,ceramic_CollectionImpl.__name__="ceramic.CollectionImpl",ceramic_CollectionImpl.__interfaces__=[tracker_Events],ceramic_CollectionImpl.prototype={get_length:function(){if(null!=this.combinedCollections&&ceramic_CollectionImpl._lastCheckedCombined!=this){for(var e=0,n=this.combinedCollections.length;e<n;){var t=e++,i=this.combinedCollections[t];if(this.combinedCollectionLastChanges[t]!=i.lastChange){this.entriesDirty=!0;break}}ceramic_CollectionImpl._lastCheckedCombined=this}return this.entriesDirty&&this.computeEntries(),this.entries.length},pushAll:function(e){for(var n=0;n<e.length;){var t=e[n];++n,this.entries.push(t)}this.indexDirty=!0,this.lastChange=this.lastChange>999999999?-999999999:this.lastChange+1,ceramic_CollectionImpl._lastCheckedCombined=null},clear:function(){var e=this.entries.length;e>0&&this.entries.splice(0,e),this.indexDirty=!0,this.lastChange=this.lastChange>999999999?-999999999:this.lastChange+1,ceramic_CollectionImpl._lastCheckedCombined=null},push:function(e){this.entries.push(e),this.indexDirty=!0,this.lastChange=this.lastChange>999999999?-999999999:this.lastChange+1,ceramic_CollectionImpl._lastCheckedCombined=null},remove:function(e){HxOverrides.remove(this.entries,e),this.indexDirty=!0,this.lastChange=this.lastChange>999999999?-999999999:this.lastChange+1,ceramic_CollectionImpl._lastCheckedCombined=null},synchronize:function(){this.entriesDirty&&this.computeEntries(),this.indexDirty&&this.computeIndex()},get:function(e){if(null==e)throw haxe_Exception.thrown("Cannot get a collection entry with a null id!");if(null!=this.combinedCollections&&ceramic_CollectionImpl._lastCheckedCombined!=this){for(var n=0,t=this.combinedCollections.length;n<t;){var i=n++,s=this.combinedCollections[i];if(this.combinedCollectionLastChanges[i]!=s.lastChange){this.entriesDirty=!0;break}}ceramic_CollectionImpl._lastCheckedCombined=this}return this.entriesDirty&&this.computeEntries(),this.indexDirty&&this.computeIndex(),this.byId.h[e]},getByIndex:function(e){if(null!=this.combinedCollections&&ceramic_CollectionImpl._lastCheckedCombined!=this){for(var n=0,t=this.combinedCollections.length;n<t;){var i=n++,s=this.combinedCollections[i];if(this.combinedCollectionLastChanges[i]!=s.lastChange){this.entriesDirty=!0;break}}ceramic_CollectionImpl._lastCheckedCombined=this}return this.entriesDirty&&this.computeEntries(),this.entries[e]},indexOfId:function(e){var n=this.get(e);return null==n?-1:this.indexOf(n)},indexOf:function(e){if(null!=this.combinedCollections&&ceramic_CollectionImpl._lastCheckedCombined!=this){for(var n=0,t=this.combinedCollections.length;n<t;){var i=n++,s=this.combinedCollections[i];if(this.combinedCollectionLastChanges[i]!=s.lastChange){this.entriesDirty=!0;break}}ceramic_CollectionImpl._lastCheckedCombined=this}return this.entriesDirty&&this.computeEntries(),this.entries.indexOf(e)},iterator:function(){if(null!=this.combinedCollections&&ceramic_CollectionImpl._lastCheckedCombined!=this){for(var e=0,n=this.combinedCollections.length;e<n;){var t=e++,i=this.combinedCollections[t];if(this.combinedCollectionLastChanges[t]!=i.lastChange){this.entriesDirty=!0;break}}ceramic_CollectionImpl._lastCheckedCombined=this}return this.entriesDirty&&this.computeEntries(),new haxe_iterators_ArrayIterator(this.entries)},checkCombined:function(){if(null!=this.combinedCollections&&ceramic_CollectionImpl._lastCheckedCombined!=this){for(var e=0,n=this.combinedCollections.length;e<n;){var t=e++,i=this.combinedCollections[t];if(this.combinedCollectionLastChanges[t]!=i.lastChange){this.entriesDirty=!0;break}}ceramic_CollectionImpl._lastCheckedCombined=this}},computeIndex:function(){this.entriesDirty&&this.computeEntries(),this.byId=new haxe_ds_StringMap;for(var e=0,n=this.entries;e<n.length;){var t=n[e];++e,Object.prototype.hasOwnProperty.call(this.byId.h,t.id)||(this.byId.h[t.id]=t)}this.indexDirty=!1},computeEntries:function(){this.entries=[];for(var e=0,n=this.combinedCollections.length;e<n;){var t=e++,i=this.combinedCollections[t];if(null!=i.combinedCollections&&ceramic_CollectionImpl._lastCheckedCombined!=i){for(var s=0,r=i.combinedCollections.length;s<r;){var l=s++,a=i.combinedCollections[l];if(i.combinedCollectionLastChanges[l]!=a.lastChange){i.entriesDirty=!0;break}}ceramic_CollectionImpl._lastCheckedCombined=i}i.entriesDirty&&i.computeEntries();for(var o=0,h=i.entries;o<h.length;){var c=h[o++];this.entries.push(c)}this.combinedCollectionLastChanges[t]=i.lastChange}null!=this.filter&&(this.entries=this.filter(this.entries)),this.entriesDirty=!1,this.indexDirty=!0,ceramic_CollectionImpl._lastCheckedCombined!=this&&(ceramic_CollectionImpl._lastCheckedCombined=null)},__class__:ceramic_CollectionImpl,__properties__:{get_length:"get_length"}};var ceramic_CollectionEntry=function(e,n){this.index=ceramic_CollectionEntry._nextIndex++,this.id=null!=e?e:"id"+ceramic_CollectionEntry._nextId++,this.name=n};t["ceramic.CollectionEntry"]=ceramic_CollectionEntry,ceramic_CollectionEntry.__name__="ceramic.CollectionEntry",ceramic_CollectionEntry.prototype={setRawData:function(e){for(var n=js_Boot.getClass(this),t=n.__name__,s=ceramic_FieldInfo.types(t),r=s.h,l=Object.keys(r),a=l.length,o=0;o<a;){var h=l[o++],c=s.h[h];if(Object.prototype.hasOwnProperty.call(e,h)){var u=Reflect.field(e,h),_=null;if(this.setRawField(h,u))continue;var d=n.__name__;if(ceramic_FieldMeta._hasMeta(n,d,h,"skipEmpty",!0)){if(null==u)continue;if("string"==typeof u)if(0==u.length)continue}if(null==c){var f=StringTools.trim((""+Std.string(u)).toLowerCase()),p=i[c];if(null!=p){for(var b=0,y=p.__constructs__,g=new Array(y.length),O=0,x=y.length;O<x;){var v=O++;g[v]=y[v]._hx_name}for(var m=g;b<m.length;){var w=m[b];if(++b,w.toLowerCase()==f){_=Type.createEnum(p,w);break}}}}else switch(c){case"Bool":_="boolean"==typeof u?u:""!=(u=StringTools.trim((""+Std.string(u)).toLowerCase()))&&"0"!=u&&"false"!=u&&"no"!=u;break;case"Float":"number"==typeof u&&(0|u)===u||"number"==typeof u?_=u:(null==(_=parseFloat(StringTools.replace(""+Std.string(u),",",".")))||isNaN(_))&&(_=0);break;case"String":_=null==u||"null"==u?null:""+Std.string(u);break;case"Int":case"ceramic.Color":"number"==typeof u&&(0|u)===u||"number"==typeof u?_=0|u:(null==(_=Std.parseInt(""+Std.string(u)))||isNaN(_))&&(_=0);break;default:var U=StringTools.trim((""+Std.string(u)).toLowerCase()),C=i[c];if(null!=C){for(var T=0,D=C.__constructs__,E=new Array(D.length),A=0,S=D.length;A<S;){var M=A++;E[M]=D[M]._hx_name}for(var P=E;T<P.length;){var F=P[T];if(++T,F.toLowerCase()==U){_=Type.createEnum(C,F);break}}}}this[h]=_}}},setRawField:function(e,n){return!1},__class__:ceramic_CollectionEntry};var ceramic_IntIntMap=function(e,n,t){null==t&&(t=!1),null==n&&(n=.5),null==e&&(e=16),this.size=0,this.iterableKeysUsed=null,this.iterableKeys=null,this.intMap=new haxe_ds_IntMap,t&&(this.iterableKeys=[],this.iterableKeysUsed=new ceramic_IntIntMap(16,.5,!1))};t["ceramic.IntIntMap"]=ceramic_IntIntMap,ceramic_IntIntMap.__name__="ceramic.IntIntMap",ceramic_IntIntMap.prototype={clear:function(){this.intMap.h={},this.size=0,null!=this.iterableKeys&&(this.iterableKeys=[],this.iterableKeysUsed=new ceramic_IntIntMap(16,.5,!1))},exists:function(e){return this.intMap.h.hasOwnProperty(0|e)},set:function(e,n){var t;if(null!=this.iterableKeys){var i=this.iterableKeysUsed.intMap.h[0|e];t=0==(null!=i?i:0)}else t=!1;t&&(this.iterableKeysUsed.set(e,1),this.iterableKeys.push(e));var s=0|e;return this.intMap.h.hasOwnProperty(s)||this.size++,this.intMap.h[s]=0|n,n},get:function(e){var n=this.intMap.h[0|e];return null!=n?n:0},remove:function(e){var n,t=0|e,i=0;if(null!=this.iterableKeys){var s=this.iterableKeysUsed.intMap.h[0|e];n=0!=(null!=s?s:0)}else n=!1;return n&&(this.iterableKeysUsed.set(e,0),this.iterableKeys.splice(this.iterableKeys.indexOf(e),1)),this.intMap.h.hasOwnProperty(t)&&(i=this.intMap.h[t],this.size--),this.intMap.remove(t),i},getInline:function(e){var n=this.intMap.h[0|e];return null!=n?n:0},existsInline:function(e){return this.intMap.h.hasOwnProperty(0|e)},copy:function(){var e=new ceramic_IntIntMap;return e.intMap=this.intMap.copy(),e.size=this.size,e.iterableKeys=null!=this.iterableKeys?this.iterableKeys.slice():null,e.iterableKeysUsed=null!=this.iterableKeysUsed?p.copy(this.iterableKeysUsed):null,e},iterator:function(){return new ceramic_IntIntMapIterator(this)},keys:function(){return new ceramic_IntIntMapKeyIterator(this)},keyValueIterator:function(){return new ceramic_IntIntMapKeyValueIterator(this)},__class__:ceramic_IntIntMap};var u={__properties__:{set_lightnessHSLuv:"set_lightnessHSLuv",get_lightnessHSLuv:"get_lightnessHSLuv",set_saturationHSLuv:"set_saturationHSLuv",get_saturationHSLuv:"get_saturationHSLuv",set_hueHSLuv:"set_hueHSLuv",get_hueHSLuv:"get_hueHSLuv",set_lightness:"set_lightness",get_lightness:"get_lightness",set_brightness:"set_brightness",get_brightness:"get_brightness",set_saturation:"set_saturation",get_saturation:"get_saturation",set_hue:"set_hue",get_hue:"get_hue",set_black:"set_black",get_black:"get_black",set_yellow:"set_yellow",get_yellow:"get_yellow",set_magenta:"set_magenta",get_magenta:"get_magenta",set_cyan:"set_cyan",get_cyan:"get_cyan",set_blueFloat:"set_blueFloat",get_blueFloat:"get_blueFloat",set_greenFloat:"set_greenFloat",get_greenFloat:"get_greenFloat",set_redFloat:"set_redFloat",get_redFloat:"get_redFloat",set_blue:"set_blue",get_blue:"get_blue",set_green:"set_green",get_green:"get_green",set_red:"set_red",get_red:"get_red"},toAlphaColor:function(e){var n=(0|e)-16777216;return n&=16777215,n|=-16777216},random:function(e,n){null==n&&(n=.5),null==e&&(e=.5);var t=360*Math.random(),i=Math.random()*(1-e)+e,s=Math.random()*(1-n)+n;return u.fromHSB(t,i,s)},fromInt:function(e){var n=e;return null==n&&(n=0),n},fromRGB:function(e,n,t){var i=0;return i&=65535,i|=(e>255?255:e<0?0:e)<<16,i&=16711935,i|=(n>255?255:n<0?0:n)<<8,i&=16776960,i|=t>255?255:t<0?0:t},fromRGBFloat:function(e,n,t){var i,s=0;return s&=65535,s|=((i=Math.round(255*e))>255?255:i<0?0:i)<<16,s&=16711935,s|=((i=Math.round(255*n))>255?255:i<0?0:i)<<8,s&=16776960,s|=(i=Math.round(255*t))>255?255:i<0?0:i},fromCMYK:function(e,n,t,i){var s=0,r=(1-e)*(1-i);s&=65535,s|=((l=Math.round(255*r))>255?255:l<0?0:l)<<16;r=(1-n)*(1-i);s&=16711935,s|=((l=Math.round(255*r))>255?255:l<0?0:l)<<8;var l;r=(1-t)*(1-i);return s&=16776960,s|=(l=Math.round(255*r))>255?255:l<0?0:l},fromHSB:function(e,n,t){var i=0,s=t*n,r=t-s,l=e,a=s,o=(l%=360)/60,h=a*(1-Math.abs(o%2-1))+r;switch(a+=r,0|o){case 0:i&=65535,i|=((c=Math.round(255*a))>255?255:c<0?0:c)<<16,i&=16711935,i|=((c=Math.round(255*h))>255?255:c<0?0:c)<<8,i&=16776960,i|=(c=Math.round(255*r))>255?255:c<0?0:c;break;case 1:i&=65535,i|=((c=Math.round(255*h))>255?255:c<0?0:c)<<16,i&=16711935,i|=((c=Math.round(255*a))>255?255:c<0?0:c)<<8,i&=16776960,i|=(c=Math.round(255*r))>255?255:c<0?0:c;break;case 2:i&=65535,i|=((c=Math.round(255*r))>255?255:c<0?0:c)<<16,i&=16711935,i|=((c=Math.round(255*a))>255?255:c<0?0:c)<<8,i&=16776960,i|=(c=Math.round(255*h))>255?255:c<0?0:c;break;case 3:i&=65535,i|=((c=Math.round(255*r))>255?255:c<0?0:c)<<16,i&=16711935,i|=((c=Math.round(255*h))>255?255:c<0?0:c)<<8,i&=16776960,i|=(c=Math.round(255*a))>255?255:c<0?0:c;break;case 4:i&=65535,i|=((c=Math.round(255*h))>255?255:c<0?0:c)<<16,i&=16711935,i|=((c=Math.round(255*r))>255?255:c<0?0:c)<<8,i&=16776960,i|=(c=Math.round(255*a))>255?255:c<0?0:c;break;case 5:var c;i&=65535,i|=((c=Math.round(255*a))>255?255:c<0?0:c)<<16,i&=16711935,i|=((c=Math.round(255*r))>255?255:c<0?0:c)<<8,i&=16776960,i|=(c=Math.round(255*h))>255?255:c<0?0:c}return i},fromHSL:function(e,n,t){var i=0,s=(1-Math.abs(2*t-1))*n,r=t-s/2,l=e,a=s,o=(l%=360)/60,h=a*(1-Math.abs(o%2-1))+r;switch(a+=r,0|o){case 0:i&=65535,i|=((c=Math.round(255*a))>255?255:c<0?0:c)<<16,i&=16711935,i|=((c=Math.round(255*h))>255?255:c<0?0:c)<<8,i&=16776960,i|=(c=Math.round(255*r))>255?255:c<0?0:c;break;case 1:i&=65535,i|=((c=Math.round(255*h))>255?255:c<0?0:c)<<16,i&=16711935,i|=((c=Math.round(255*a))>255?255:c<0?0:c)<<8,i&=16776960,i|=(c=Math.round(255*r))>255?255:c<0?0:c;break;case 2:i&=65535,i|=((c=Math.round(255*r))>255?255:c<0?0:c)<<16,i&=16711935,i|=((c=Math.round(255*a))>255?255:c<0?0:c)<<8,i&=16776960,i|=(c=Math.round(255*h))>255?255:c<0?0:c;break;case 3:i&=65535,i|=((c=Math.round(255*r))>255?255:c<0?0:c)<<16,i&=16711935,i|=((c=Math.round(255*h))>255?255:c<0?0:c)<<8,i&=16776960,i|=(c=Math.round(255*a))>255?255:c<0?0:c;break;case 4:i&=65535,i|=((c=Math.round(255*h))>255?255:c<0?0:c)<<16,i&=16711935,i|=((c=Math.round(255*r))>255?255:c<0?0:c)<<8,i&=16776960,i|=(c=Math.round(255*a))>255?255:c<0?0:c;break;case 5:var c;i&=65535,i|=((c=Math.round(255*a))>255?255:c<0?0:c)<<16,i&=16711935,i|=((c=Math.round(255*r))>255?255:c<0?0:c)<<8,i&=16776960,i|=(c=Math.round(255*h))>255?255:c<0?0:c}return i},fromString:function(e){var n=null;if(e=StringTools.trim(e),StringTools.startsWith(e,"0x"))null==(f=Std.parseInt(e.substring(0,8)))&&(f=0),n=f;else if(StringTools.startsWith(e,"#"))if(e.length>=9){var t="0x"+e.substring(1,9),i=Std.parseInt(t),s=i>>16&255,r=i>>8&255,l=255&i,a=0;a&=65535,a|=(s>255?255:s<0?0:s)<<16,a&=16711935,a|=(r>255?255:r<0?0:r)<<8,a&=16776960,n=a|=l>255?255:l<0?0:l}else{t="0x"+e.substring(1,7);null==(f=Std.parseInt(t))&&(f=0),n=f}else{e=e.toUpperCase();for(var o=u.colorLookup.h,h=Object.keys(o),c=h.length,_=0;_<c;){var d=h[_++];if(d==e){var f;null==(f=u.colorLookup.h[d])&&(f=0),n=f;break}}}return n},getHSBColorWheel:function(){for(var e=[],n=0;n<360;){var t=n++;e.push(u.fromHSB(t,1,1))}return e},interpolate:function(e,n,t){null==t&&(t=.5);var i=((n>>16&255)-(e>>16&255))*t+(e>>16&255)|0,s=((n>>8&255)-(e>>8&255))*t+(e>>8&255)|0,r=((255&n)-(255&e))*t+(255&e)|0,l=0;return l&=65535,l|=(i>255?255:i<0?0:i)<<16,l&=16711935,l|=(s>255?255:s<0?0:s)<<8,l&=16776960,l|=r>255?255:r<0?0:r},gradient:function(e,n,t,i){var s=[];null==i&&(i=function(e){return e});for(var r=0,l=t;r<l;){var a=r++,o=i(a/(t-1));null==o&&(o=.5);var h=((n>>16&255)-(e>>16&255))*o+(e>>16&255)|0,c=((n>>8&255)-(e>>8&255))*o+(e>>8&255)|0,u=((255&n)-(255&e))*o+(255&e)|0,_=0;_&=65535,_|=(h>255?255:h<0?0:h)<<16,_&=16711935,_|=(c>255?255:c<0?0:c)<<8,_&=16776960,_|=u>255?255:u<0?0:u,s[a]=_}return s},multiply:function(e,n){var t,i=(e>>16&255)/255*((n>>16&255)/255),s=(e>>8&255)/255*((n>>8&255)/255),r=(255&e)/255*((255&n)/255),l=0;return l&=65535,l|=((t=Math.round(255*i))>255?255:t<0?0:t)<<16,l&=16711935,l|=((t=Math.round(255*s))>255?255:t<0?0:t)<<8,l&=16776960,l|=(t=Math.round(255*r))>255?255:t<0?0:t},add:function(e,n){var t=(e>>16&255)+(n>>16&255),i=(e>>8&255)+(n>>8&255),s=(255&e)+(255&n),r=0;return r&=65535,r|=(t>255?255:t<0?0:t)<<16,r&=16711935,r|=(i>255?255:i<0?0:i)<<8,r&=16776960,r|=s>255?255:s<0?0:s},subtract:function(e,n){var t=(e>>16&255)-(n>>16&255),i=(e>>8&255)-(n>>8&255),s=(255&e)-(255&n),r=0;return r&=65535,r|=(t>255?255:t<0?0:t)<<16,r&=16711935,r|=(i>255?255:i<0?0:i)<<8,r&=16776960,r|=s>255?255:s<0?0:s},toHexString:function(e,n){return null==n&&(n=!0),(n?"0x":"")+StringTools.hex(e>>16&255,2)+StringTools.hex(e>>8&255,2)+StringTools.hex(255&e,2)},toWebString:function(e){var n=!1;return null==n&&(n=!0),"#"+(n?"0x":"")+StringTools.hex(e>>16&255,2)+StringTools.hex(e>>8&255,2)+StringTools.hex(255&e,2)},getColorInfo:function(e){var n="0x"+StringTools.hex(e>>16&255,2)+StringTools.hex(e>>8&255,2)+StringTools.hex(255&e,2)+"\n";return n+="red: "+(e>>16&255)+" green: "+(e>>8&255)+" blue: "+(255&e)+"\n",n+="hue: "+u.roundDecimal(u.get_hue(e),2)+" saturation: "+u.roundDecimal((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),2)+" brightness: "+u.roundDecimal(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),2)+" lightness: "+u.roundDecimal((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))+Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/2,2)},getDarkened:function(e,n){null==n&&(n=.2);var t=n<0?0:n;n=t>1?1:t;var i=e,s=(Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))+Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/2*(1-n),r=u.get_hue(i),l=(1-Math.abs(2*s-1))*((Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))-Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))),a=s-l/2,o=r,h=l,c=(o%=360)/60,_=h*(1-Math.abs(c%2-1))+a;switch(h+=a,0|c){case 0:i&=65535,i|=((s=Math.round(255*h))>255?255:s<0?0:s)<<16,i&=16711935,i|=((s=Math.round(255*_))>255?255:s<0?0:s)<<8,i&=16776960,i|=(s=Math.round(255*a))>255?255:s<0?0:s;break;case 1:i&=65535,i|=((s=Math.round(255*_))>255?255:s<0?0:s)<<16,i&=16711935,i|=((s=Math.round(255*h))>255?255:s<0?0:s)<<8,i&=16776960,i|=(s=Math.round(255*a))>255?255:s<0?0:s;break;case 2:i&=65535,i|=((s=Math.round(255*a))>255?255:s<0?0:s)<<16,i&=16711935,i|=((s=Math.round(255*h))>255?255:s<0?0:s)<<8,i&=16776960,i|=(s=Math.round(255*_))>255?255:s<0?0:s;break;case 3:i&=65535,i|=((s=Math.round(255*a))>255?255:s<0?0:s)<<16,i&=16711935,i|=((s=Math.round(255*_))>255?255:s<0?0:s)<<8,i&=16776960,i|=(s=Math.round(255*h))>255?255:s<0?0:s;break;case 4:i&=65535,i|=((s=Math.round(255*_))>255?255:s<0?0:s)<<16,i&=16711935,i|=((s=Math.round(255*a))>255?255:s<0?0:s)<<8,i&=16776960,i|=(s=Math.round(255*h))>255?255:s<0?0:s;break;case 5:i&=65535,i|=((s=Math.round(255*h))>255?255:s<0?0:s)<<16,i&=16711935,i|=((s=Math.round(255*a))>255?255:s<0?0:s)<<8,i&=16776960,i|=(s=Math.round(255*_))>255?255:s<0?0:s}return i},getLightened:function(e,n){null==n&&(n=.2);var t=n<0?0:n;n=t>1?1:t;var i=e,s=(Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))+Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/2+(1-(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))+Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/2)*n,r=u.get_hue(i),l=(1-Math.abs(2*s-1))*((Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))-Math.min((i>>16&255)/255,Math.min((i>>8&255)/255,(255&i)/255)))/Math.max((i>>16&255)/255,Math.max((i>>8&255)/255,(255&i)/255))),a=s-l/2,o=r,h=l,c=(o%=360)/60,_=h*(1-Math.abs(c%2-1))+a;switch(h+=a,0|c){case 0:i&=65535,i|=((s=Math.round(255*h))>255?255:s<0?0:s)<<16,i&=16711935,i|=((s=Math.round(255*_))>255?255:s<0?0:s)<<8,i&=16776960,i|=(s=Math.round(255*a))>255?255:s<0?0:s;break;case 1:i&=65535,i|=((s=Math.round(255*_))>255?255:s<0?0:s)<<16,i&=16711935,i|=((s=Math.round(255*h))>255?255:s<0?0:s)<<8,i&=16776960,i|=(s=Math.round(255*a))>255?255:s<0?0:s;break;case 2:i&=65535,i|=((s=Math.round(255*a))>255?255:s<0?0:s)<<16,i&=16711935,i|=((s=Math.round(255*h))>255?255:s<0?0:s)<<8,i&=16776960,i|=(s=Math.round(255*_))>255?255:s<0?0:s;break;case 3:i&=65535,i|=((s=Math.round(255*a))>255?255:s<0?0:s)<<16,i&=16711935,i|=((s=Math.round(255*_))>255?255:s<0?0:s)<<8,i&=16776960,i|=(s=Math.round(255*h))>255?255:s<0?0:s;break;case 4:i&=65535,i|=((s=Math.round(255*_))>255?255:s<0?0:s)<<16,i&=16711935,i|=((s=Math.round(255*a))>255?255:s<0?0:s)<<8,i&=16776960,i|=(s=Math.round(255*h))>255?255:s<0?0:s;break;case 5:i&=65535,i|=((s=Math.round(255*h))>255?255:s<0?0:s)<<16,i&=16711935,i|=((s=Math.round(255*a))>255?255:s<0?0:s)<<8,i&=16776960,i|=(s=Math.round(255*_))>255?255:s<0?0:s}return i},getInverted:function(e){var n=255-(e>>16&255),t=255-(e>>8&255),i=255-(255&e),s=0;return s&=65535,s|=(n>255?255:n<0?0:n)<<16,s&=16711935,s|=(t>255?255:t<0?0:t)<<8,s&=16776960,s|=i>255?255:i<0?0:i},setRGB:function(e,n,t,i){return e&=65535,e|=(n>255?255:n<0?0:n)<<16,e&=16711935,e|=(t>255?255:t<0?0:t)<<8,e&=16776960,e|=i>255?255:i<0?0:i},setRGBFloat:function(e,n,t,i){var s;return e&=65535,e|=((s=Math.round(255*n))>255?255:s<0?0:s)<<16,e&=16711935,e|=((s=Math.round(255*t))>255?255:s<0?0:s)<<8,e&=16776960,e|=(s=Math.round(255*i))>255?255:s<0?0:s},setCMYK:function(e,n,t,i,s){var r=(1-n)*(1-s);e&=65535,e|=((l=Math.round(255*r))>255?255:l<0?0:l)<<16;r=(1-t)*(1-s);e&=16711935,e|=((l=Math.round(255*r))>255?255:l<0?0:l)<<8;var l;r=(1-i)*(1-s);return e&=16776960,e|=(l=Math.round(255*r))>255?255:l<0?0:l},setHSB:function(e,n,t,i){var s=i*t,r=i-s,l=n,a=s,o=(l%=360)/60,h=a*(1-Math.abs(o%2-1))+r;switch(a+=r,0|o){case 0:e&=65535,e|=((c=Math.round(255*a))>255?255:c<0?0:c)<<16,e&=16711935,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<8,e&=16776960,e|=(c=Math.round(255*r))>255?255:c<0?0:c;break;case 1:e&=65535,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<16,e&=16711935,e|=((c=Math.round(255*a))>255?255:c<0?0:c)<<8,e&=16776960,e|=(c=Math.round(255*r))>255?255:c<0?0:c;break;case 2:e&=65535,e|=((c=Math.round(255*r))>255?255:c<0?0:c)<<16,e&=16711935,e|=((c=Math.round(255*a))>255?255:c<0?0:c)<<8,e&=16776960,e|=(c=Math.round(255*h))>255?255:c<0?0:c;break;case 3:e&=65535,e|=((c=Math.round(255*r))>255?255:c<0?0:c)<<16,e&=16711935,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<8,e&=16776960,e|=(c=Math.round(255*a))>255?255:c<0?0:c;break;case 4:e&=65535,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<16,e&=16711935,e|=((c=Math.round(255*r))>255?255:c<0?0:c)<<8,e&=16776960,e|=(c=Math.round(255*a))>255?255:c<0?0:c;break;case 5:var c;e&=65535,e|=((c=Math.round(255*a))>255?255:c<0?0:c)<<16,e&=16711935,e|=((c=Math.round(255*r))>255?255:c<0?0:c)<<8,e&=16776960,e|=(c=Math.round(255*h))>255?255:c<0?0:c}return e},setHSL:function(e,n,t,i){var s=(1-Math.abs(2*i-1))*t,r=i-s/2,l=n,a=s,o=(l%=360)/60,h=a*(1-Math.abs(o%2-1))+r;switch(a+=r,0|o){case 0:e&=65535,e|=((c=Math.round(255*a))>255?255:c<0?0:c)<<16,e&=16711935,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<8,e&=16776960,e|=(c=Math.round(255*r))>255?255:c<0?0:c;break;case 1:e&=65535,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<16,e&=16711935,e|=((c=Math.round(255*a))>255?255:c<0?0:c)<<8,e&=16776960,e|=(c=Math.round(255*r))>255?255:c<0?0:c;break;case 2:e&=65535,e|=((c=Math.round(255*r))>255?255:c<0?0:c)<<16,e&=16711935,e|=((c=Math.round(255*a))>255?255:c<0?0:c)<<8,e&=16776960,e|=(c=Math.round(255*h))>255?255:c<0?0:c;break;case 3:e&=65535,e|=((c=Math.round(255*r))>255?255:c<0?0:c)<<16,e&=16711935,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<8,e&=16776960,e|=(c=Math.round(255*a))>255?255:c<0?0:c;break;case 4:e&=65535,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<16,e&=16711935,e|=((c=Math.round(255*r))>255?255:c<0?0:c)<<8,e&=16776960,e|=(c=Math.round(255*a))>255?255:c<0?0:c;break;case 5:var c;e&=65535,e|=((c=Math.round(255*a))>255?255:c<0?0:c)<<16,e&=16711935,e|=((c=Math.round(255*r))>255?255:c<0?0:c)<<8,e&=16776960,e|=(c=Math.round(255*h))>255?255:c<0?0:c}return e},setHSChromaMatch:function(e,n,t,i,s){var r=(n%=360)/60,l=i*(1-Math.abs(r%2-1))+s;switch(i+=s,0|r){case 0:e&=65535,e|=((a=Math.round(255*i))>255?255:a<0?0:a)<<16,e&=16711935,e|=((a=Math.round(255*l))>255?255:a<0?0:a)<<8,e&=16776960,e|=(a=Math.round(255*s))>255?255:a<0?0:a;break;case 1:e&=65535,e|=((a=Math.round(255*l))>255?255:a<0?0:a)<<16,e&=16711935,e|=((a=Math.round(255*i))>255?255:a<0?0:a)<<8,e&=16776960,e|=(a=Math.round(255*s))>255?255:a<0?0:a;break;case 2:e&=65535,e|=((a=Math.round(255*s))>255?255:a<0?0:a)<<16,e&=16711935,e|=((a=Math.round(255*i))>255?255:a<0?0:a)<<8,e&=16776960,e|=(a=Math.round(255*l))>255?255:a<0?0:a;break;case 3:e&=65535,e|=((a=Math.round(255*s))>255?255:a<0?0:a)<<16,e&=16711935,e|=((a=Math.round(255*l))>255?255:a<0?0:a)<<8,e&=16776960,e|=(a=Math.round(255*i))>255?255:a<0?0:a;break;case 4:e&=65535,e|=((a=Math.round(255*l))>255?255:a<0?0:a)<<16,e&=16711935,e|=((a=Math.round(255*s))>255?255:a<0?0:a)<<8,e&=16776960,e|=(a=Math.round(255*i))>255?255:a<0?0:a;break;case 5:var a;e&=65535,e|=((a=Math.round(255*i))>255?255:a<0?0:a)<<16,e&=16711935,e|=((a=Math.round(255*s))>255?255:a<0?0:a)<<8,e&=16776960,e|=(a=Math.round(255*l))>255?255:a<0?0:a}return e},_new:function(e){return null==e&&(e=0),e},get_red:function(e){return e>>16&255},get_green:function(e){return e>>8&255},get_blue:function(e){return 255&e},get_redFloat:function(e){return(e>>16&255)/255},get_greenFloat:function(e){return(e>>8&255)/255},get_blueFloat:function(e){return(255&e)/255},set_red:function(e,n){return 65535,(n>255?255:n<0?0:n)<<16,n},set_green:function(e,n){return 16711935,(n>255?255:n<0?0:n)<<8,n},set_blue:function(e,n){return 16776960,n>255?255:n<0?0:n,n},set_redFloat:function(e,n){var t=Math.round(255*n);return 65535,(t>255?255:t<0?0:t)<<16,n},set_greenFloat:function(e,n){var t=Math.round(255*n);return 16711935,(t>255?255:t<0?0:t)<<8,n},set_blueFloat:function(e,n){var t=Math.round(255*n);return 16776960,t>255?255:t<0?0:t,n},get_cyan:function(e){return(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},get_magenta:function(e){return(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},get_yellow:function(e){return(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},get_black:function(e){return 1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},set_cyan:function(e,n){var t=(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),s=1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),r=(1-n)*(1-s);e&=65535,e|=((l=Math.round(255*r))>255?255:l<0?0:l)<<16;r=(1-t)*(1-s);e&=16711935,e|=((l=Math.round(255*r))>255?255:l<0?0:l)<<8;var l;r=(1-i)*(1-s);return e&=16776960,e|=(l=Math.round(255*r))>255?255:l<0?0:l,n},set_magenta:function(e,n){var t=(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),s=(1-(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)))*(1-i);e&=65535,e|=((r=Math.round(255*s))>255?255:r<0?0:r)<<16;s=(1-n)*(1-i);e&=16711935,e|=((r=Math.round(255*s))>255?255:r<0?0:r)<<8;var r;s=(1-t)*(1-i);return e&=16776960,e|=(r=Math.round(255*s))>255?255:r<0?0:r,n},set_yellow:function(e,n){var t=(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),s=(1-(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)))*(1-i);e&=65535,e|=((r=Math.round(255*s))>255?255:r<0?0:r)<<16;s=(1-t)*(1-i);e&=16711935,e|=((r=Math.round(255*s))>255?255:r<0?0:r)<<8;var r;s=(1-n)*(1-i);return e&=16776960,e|=(r=Math.round(255*s))>255?255:r<0?0:r,n},set_black:function(e,n){var t=(1-(e>>8&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=(1-(255&e)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),s=(1-(1-(e>>16&255)/255-(1-Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)))*(1-n);e&=65535,e|=((r=Math.round(255*s))>255?255:r<0?0:r)<<16;s=(1-t)*(1-n);e&=16711935,e|=((r=Math.round(255*s))>255?255:r<0?0:r)<<8;var r;s=(1-i)*(1-n);return e&=16776960,e|=(r=Math.round(255*s))>255?255:r<0?0:r,n},get_hue:function(e){var n=0;return 0!=Math.atan2(Math.sqrt(3)*((e>>8&255)/255-(255&e)/255),(e>>16&255)/255*2-(e>>8&255)/255-(255&e)/255)&&(n=180/Math.PI*Math.atan2(Math.sqrt(3)*((e>>8&255)/255-(255&e)/255),(e>>16&255)/255*2-(e>>8&255)/255-(255&e)/255)),n<0?n+360:n},get_brightness:function(e){return Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},get_saturation:function(e){return(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},get_lightness:function(e){return(Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))+Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/2},set_hue:function(e,n){var t=Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),i=t*((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))),s=t-i,r=n,l=i,a=(r%=360)/60,o=l*(1-Math.abs(a%2-1))+s;switch(l+=s,0|a){case 0:e&=65535,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*o))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*s))>255?255:h<0?0:h;break;case 1:e&=65535,e|=((h=Math.round(255*o))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*s))>255?255:h<0?0:h;break;case 2:e&=65535,e|=((h=Math.round(255*s))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*o))>255?255:h<0?0:h;break;case 3:e&=65535,e|=((h=Math.round(255*s))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*o))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*l))>255?255:h<0?0:h;break;case 4:e&=65535,e|=((h=Math.round(255*o))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*s))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*l))>255?255:h<0?0:h;break;case 5:var h;e&=65535,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*s))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*o))>255?255:h<0?0:h}return n},set_saturation:function(e,n){var t=u.get_hue(e),i=Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255)),s=i*n,r=i-s,l=t,a=s,o=(l%=360)/60,h=a*(1-Math.abs(o%2-1))+r;switch(a+=r,0|o){case 0:e&=65535,e|=((c=Math.round(255*a))>255?255:c<0?0:c)<<16,e&=16711935,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<8,e&=16776960,e|=(c=Math.round(255*r))>255?255:c<0?0:c;break;case 1:e&=65535,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<16,e&=16711935,e|=((c=Math.round(255*a))>255?255:c<0?0:c)<<8,e&=16776960,e|=(c=Math.round(255*r))>255?255:c<0?0:c;break;case 2:e&=65535,e|=((c=Math.round(255*r))>255?255:c<0?0:c)<<16,e&=16711935,e|=((c=Math.round(255*a))>255?255:c<0?0:c)<<8,e&=16776960,e|=(c=Math.round(255*h))>255?255:c<0?0:c;break;case 3:e&=65535,e|=((c=Math.round(255*r))>255?255:c<0?0:c)<<16,e&=16711935,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<8,e&=16776960,e|=(c=Math.round(255*a))>255?255:c<0?0:c;break;case 4:e&=65535,e|=((c=Math.round(255*h))>255?255:c<0?0:c)<<16,e&=16711935,e|=((c=Math.round(255*r))>255?255:c<0?0:c)<<8,e&=16776960,e|=(c=Math.round(255*a))>255?255:c<0?0:c;break;case 5:var c;e&=65535,e|=((c=Math.round(255*a))>255?255:c<0?0:c)<<16,e&=16711935,e|=((c=Math.round(255*r))>255?255:c<0?0:c)<<8,e&=16776960,e|=(c=Math.round(255*h))>255?255:c<0?0:c}return n},set_brightness:function(e,n){var t=u.get_hue(e),i=n*((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))),s=n-i,r=t,l=i,a=(r%=360)/60,o=l*(1-Math.abs(a%2-1))+s;switch(l+=s,0|a){case 0:e&=65535,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*o))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*s))>255?255:h<0?0:h;break;case 1:e&=65535,e|=((h=Math.round(255*o))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*s))>255?255:h<0?0:h;break;case 2:e&=65535,e|=((h=Math.round(255*s))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*o))>255?255:h<0?0:h;break;case 3:e&=65535,e|=((h=Math.round(255*s))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*o))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*l))>255?255:h<0?0:h;break;case 4:e&=65535,e|=((h=Math.round(255*o))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*s))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*l))>255?255:h<0?0:h;break;case 5:var h;e&=65535,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*s))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*o))>255?255:h<0?0:h}return n},set_lightness:function(e,n){var t=u.get_hue(e),i=(1-Math.abs(2*n-1))*((Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))-Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255)))/Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))),s=n-i/2,r=t,l=i,a=(r%=360)/60,o=l*(1-Math.abs(a%2-1))+s;switch(l+=s,0|a){case 0:e&=65535,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*o))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*s))>255?255:h<0?0:h;break;case 1:e&=65535,e|=((h=Math.round(255*o))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*s))>255?255:h<0?0:h;break;case 2:e&=65535,e|=((h=Math.round(255*s))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*o))>255?255:h<0?0:h;break;case 3:e&=65535,e|=((h=Math.round(255*s))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*o))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*l))>255?255:h<0?0:h;break;case 4:e&=65535,e|=((h=Math.round(255*o))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*s))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*l))>255?255:h<0?0:h;break;case 5:var h;e&=65535,e|=((h=Math.round(255*l))>255?255:h<0?0:h)<<16,e&=16711935,e|=((h=Math.round(255*s))>255?255:h<0?0:h)<<8,e&=16776960,e|=(h=Math.round(255*o))>255?255:h<0?0:h}return n},maxColor:function(e){return Math.max((e>>16&255)/255,Math.max((e>>8&255)/255,(255&e)/255))},minColor:function(e){return Math.min((e>>16&255)/255,Math.min((e>>8&255)/255,(255&e)/255))},boundChannel:function(e,n){return n>255?255:n<0?0:n},roundDecimal:function(e,n){for(var t=1,i=0,s=n;i<s;){i++;t*=10}return Math.round(e*t)/t},bound:function(e,n,t){var i=null!=n&&e<n?n:e;return null!=t&&i>t?t:i},toString:function(e){return-1==e?"NONE":"0x"+StringTools.hex(e>>16&255,2)+StringTools.hex(e>>8&255,2)+StringTools.hex(255&e,2)},get_hueHSLuv:function(e){var n=e,t=u._hsluvCacheMap.intMap.h[0|n],i=null!=t?t:0;if(0==i){i=1+(u._hsluvCacheValues.length/3|0),u._hsluvCacheMap.set(n,i);var s=u._hsluvResult;null==s&&(s=[0,0,0]),u._hsluvTuple[0]=(e>>16&255)/255,u._hsluvTuple[1]=(e>>8&255)/255,u._hsluvTuple[2]=(255&e)/255,hsluv_Hsluv.rgbToHsluv(u._hsluvTuple,s),s[1]*=.01,s[2]*=.01,u._hsluvCacheValues.push(u._hsluvResult[0]),u._hsluvCacheValues.push(u._hsluvResult[1]),u._hsluvCacheValues.push(u._hsluvResult[2])}return u._hsluvCacheValues[3*(i-1)]},set_hueHSLuv:function(e,n){var t=u.get_saturationHSLuv(e),i=u.get_lightnessHSLuv(e);if(u._hsluvTuple[0]=n,u._hsluvTuple[1]=100*t,u._hsluvTuple[2]=100*i,i>.001){hsluv_Hsluv.hsluvToRgb(u._hsluvTuple,u._hsluvResult);var s=u._hsluvResult[0];s<0&&(s=0),e&=65535,e|=((_=Math.round(255*s))>255?255:_<0?0:_)<<16,(s=u._hsluvResult[1])<0&&(s=0),e&=16711935,e|=((_=Math.round(255*s))>255?255:_<0?0:_)<<8,(s=u._hsluvResult[2])<0&&(s=0),e&=16776960,e|=(_=Math.round(255*s))>255?255:_<0?0:_}else{var r=(1-Math.abs(2*i-1))*t,l=i-r/2,a=n,o=r,h=(a%=360)/60,c=o*(1-Math.abs(h%2-1))+l;switch(o+=l,0|h){case 0:e&=65535,e|=((_=Math.round(255*o))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*c))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*l))>255?255:_<0?0:_;break;case 1:e&=65535,e|=((_=Math.round(255*c))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*o))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*l))>255?255:_<0?0:_;break;case 2:e&=65535,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*o))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*c))>255?255:_<0?0:_;break;case 3:e&=65535,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*c))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*o))>255?255:_<0?0:_;break;case 4:e&=65535,e|=((_=Math.round(255*c))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*o))>255?255:_<0?0:_;break;case 5:var _;e&=65535,e|=((_=Math.round(255*o))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*c))>255?255:_<0?0:_}}return n},get_saturationHSLuv:function(e){var n=e,t=u._hsluvCacheMap.intMap.h[0|n],i=null!=t?t:0;if(0==i){i=1+(u._hsluvCacheValues.length/3|0),u._hsluvCacheMap.set(n,i);var s=u._hsluvResult;null==s&&(s=[0,0,0]),u._hsluvTuple[0]=(e>>16&255)/255,u._hsluvTuple[1]=(e>>8&255)/255,u._hsluvTuple[2]=(255&e)/255,hsluv_Hsluv.rgbToHsluv(u._hsluvTuple,s),s[1]*=.01,s[2]*=.01,u._hsluvCacheValues.push(u._hsluvResult[0]),u._hsluvCacheValues.push(u._hsluvResult[1]),u._hsluvCacheValues.push(u._hsluvResult[2])}return u._hsluvCacheValues[3*(i-1)+1]},set_saturationHSLuv:function(e,n){var t=u.get_hueHSLuv(e),i=u.get_lightnessHSLuv(e);if(u._hsluvTuple[0]=t,u._hsluvTuple[1]=100*n,u._hsluvTuple[2]=100*i,i>.001){hsluv_Hsluv.hsluvToRgb(u._hsluvTuple,u._hsluvResult);var s=u._hsluvResult[0];s<0&&(s=0),e&=65535,e|=((_=Math.round(255*s))>255?255:_<0?0:_)<<16,(s=u._hsluvResult[1])<0&&(s=0),e&=16711935,e|=((_=Math.round(255*s))>255?255:_<0?0:_)<<8,(s=u._hsluvResult[2])<0&&(s=0),e&=16776960,e|=(_=Math.round(255*s))>255?255:_<0?0:_}else{var r=(1-Math.abs(2*i-1))*n,l=i-r/2,a=t,o=r,h=(a%=360)/60,c=o*(1-Math.abs(h%2-1))+l;switch(o+=l,0|h){case 0:e&=65535,e|=((_=Math.round(255*o))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*c))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*l))>255?255:_<0?0:_;break;case 1:e&=65535,e|=((_=Math.round(255*c))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*o))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*l))>255?255:_<0?0:_;break;case 2:e&=65535,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*o))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*c))>255?255:_<0?0:_;break;case 3:e&=65535,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*c))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*o))>255?255:_<0?0:_;break;case 4:e&=65535,e|=((_=Math.round(255*c))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*o))>255?255:_<0?0:_;break;case 5:var _;e&=65535,e|=((_=Math.round(255*o))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*c))>255?255:_<0?0:_}}return n},get_lightnessHSLuv:function(e){var n=e,t=u._hsluvCacheMap.intMap.h[0|n],i=null!=t?t:0;if(0==i){i=1+(u._hsluvCacheValues.length/3|0),u._hsluvCacheMap.set(n,i);var s=u._hsluvResult;null==s&&(s=[0,0,0]),u._hsluvTuple[0]=(e>>16&255)/255,u._hsluvTuple[1]=(e>>8&255)/255,u._hsluvTuple[2]=(255&e)/255,hsluv_Hsluv.rgbToHsluv(u._hsluvTuple,s),s[1]*=.01,s[2]*=.01,u._hsluvCacheValues.push(u._hsluvResult[0]),u._hsluvCacheValues.push(u._hsluvResult[1]),u._hsluvCacheValues.push(u._hsluvResult[2])}return u._hsluvCacheValues[3*(i-1)+2]},set_lightnessHSLuv:function(e,n){var t=u.get_hueHSLuv(e),i=u.get_saturationHSLuv(e);if(u._hsluvTuple[0]=t,u._hsluvTuple[1]=100*i,u._hsluvTuple[2]=100*n,n>.001){hsluv_Hsluv.hsluvToRgb(u._hsluvTuple,u._hsluvResult);var s=u._hsluvResult[0];s<0&&(s=0),e&=65535,e|=((_=Math.round(255*s))>255?255:_<0?0:_)<<16,(s=u._hsluvResult[1])<0&&(s=0),e&=16711935,e|=((_=Math.round(255*s))>255?255:_<0?0:_)<<8,(s=u._hsluvResult[2])<0&&(s=0),e&=16776960,e|=(_=Math.round(255*s))>255?255:_<0?0:_}else{var r=(1-Math.abs(2*n-1))*i,l=n-r/2,a=t,o=r,h=(a%=360)/60,c=o*(1-Math.abs(h%2-1))+l;switch(o+=l,0|h){case 0:e&=65535,e|=((_=Math.round(255*o))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*c))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*l))>255?255:_<0?0:_;break;case 1:e&=65535,e|=((_=Math.round(255*c))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*o))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*l))>255?255:_<0?0:_;break;case 2:e&=65535,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*o))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*c))>255?255:_<0?0:_;break;case 3:e&=65535,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*c))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*o))>255?255:_<0?0:_;break;case 4:e&=65535,e|=((_=Math.round(255*c))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*o))>255?255:_<0?0:_;break;case 5:var _;e&=65535,e|=((_=Math.round(255*o))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*c))>255?255:_<0?0:_}}return n},_getOrCreateCachedHSLuvComponent:function(e,n){var t=e,i=u._hsluvCacheMap.intMap.h[0|t],s=null!=i?i:0;if(0==s){s=1+(u._hsluvCacheValues.length/3|0),u._hsluvCacheMap.set(t,s);var r=u._hsluvResult;null==r&&(r=[0,0,0]),u._hsluvTuple[0]=(e>>16&255)/255,u._hsluvTuple[1]=(e>>8&255)/255,u._hsluvTuple[2]=(255&e)/255,hsluv_Hsluv.rgbToHsluv(u._hsluvTuple,r),r[1]*=.01,r[2]*=.01,u._hsluvCacheValues.push(u._hsluvResult[0]),u._hsluvCacheValues.push(u._hsluvResult[1]),u._hsluvCacheValues.push(u._hsluvResult[2])}return u._hsluvCacheValues[3*(s-1)+n]},fromHSLuv:function(e,n,t){var i=0;if(u._hsluvTuple[0]=e,u._hsluvTuple[1]=100*n,u._hsluvTuple[2]=100*t,t>.001){hsluv_Hsluv.hsluvToRgb(u._hsluvTuple,u._hsluvResult);var s=u._hsluvResult[0];s<0&&(s=0),i&=65535,i|=((_=Math.round(255*s))>255?255:_<0?0:_)<<16,(s=u._hsluvResult[1])<0&&(s=0),i&=16711935,i|=((_=Math.round(255*s))>255?255:_<0?0:_)<<8,(s=u._hsluvResult[2])<0&&(s=0),i&=16776960,i|=(_=Math.round(255*s))>255?255:_<0?0:_}else{var r=(1-Math.abs(2*t-1))*n,l=t-r/2,a=e,o=r,h=(a%=360)/60,c=o*(1-Math.abs(h%2-1))+l;switch(o+=l,0|h){case 0:i&=65535,i|=((_=Math.round(255*o))>255?255:_<0?0:_)<<16,i&=16711935,i|=((_=Math.round(255*c))>255?255:_<0?0:_)<<8,i&=16776960,i|=(_=Math.round(255*l))>255?255:_<0?0:_;break;case 1:i&=65535,i|=((_=Math.round(255*c))>255?255:_<0?0:_)<<16,i&=16711935,i|=((_=Math.round(255*o))>255?255:_<0?0:_)<<8,i&=16776960,i|=(_=Math.round(255*l))>255?255:_<0?0:_;break;case 2:i&=65535,i|=((_=Math.round(255*l))>255?255:_<0?0:_)<<16,i&=16711935,i|=((_=Math.round(255*o))>255?255:_<0?0:_)<<8,i&=16776960,i|=(_=Math.round(255*c))>255?255:_<0?0:_;break;case 3:i&=65535,i|=((_=Math.round(255*l))>255?255:_<0?0:_)<<16,i&=16711935,i|=((_=Math.round(255*c))>255?255:_<0?0:_)<<8,i&=16776960,i|=(_=Math.round(255*o))>255?255:_<0?0:_;break;case 4:i&=65535,i|=((_=Math.round(255*c))>255?255:_<0?0:_)<<16,i&=16711935,i|=((_=Math.round(255*l))>255?255:_<0?0:_)<<8,i&=16776960,i|=(_=Math.round(255*o))>255?255:_<0?0:_;break;case 5:var _;i&=65535,i|=((_=Math.round(255*o))>255?255:_<0?0:_)<<16,i&=16711935,i|=((_=Math.round(255*l))>255?255:_<0?0:_)<<8,i&=16776960,i|=(_=Math.round(255*c))>255?255:_<0?0:_}}return i},setHSLuv:function(e,n,t,i){if(u._hsluvTuple[0]=n,u._hsluvTuple[1]=100*t,u._hsluvTuple[2]=100*i,i>.001){hsluv_Hsluv.hsluvToRgb(u._hsluvTuple,u._hsluvResult);var s=u._hsluvResult[0];s<0&&(s=0),e&=65535,e|=((_=Math.round(255*s))>255?255:_<0?0:_)<<16,(s=u._hsluvResult[1])<0&&(s=0),e&=16711935,e|=((_=Math.round(255*s))>255?255:_<0?0:_)<<8,(s=u._hsluvResult[2])<0&&(s=0),e&=16776960,e|=(_=Math.round(255*s))>255?255:_<0?0:_}else{var r=(1-Math.abs(2*i-1))*t,l=i-r/2,a=n,o=r,h=(a%=360)/60,c=o*(1-Math.abs(h%2-1))+l;switch(o+=l,0|h){case 0:e&=65535,e|=((_=Math.round(255*o))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*c))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*l))>255?255:_<0?0:_;break;case 1:e&=65535,e|=((_=Math.round(255*c))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*o))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*l))>255?255:_<0?0:_;break;case 2:e&=65535,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*o))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*c))>255?255:_<0?0:_;break;case 3:e&=65535,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*c))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*o))>255?255:_<0?0:_;break;case 4:e&=65535,e|=((_=Math.round(255*c))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*o))>255?255:_<0?0:_;break;case 5:var _;e&=65535,e|=((_=Math.round(255*o))>255?255:_<0?0:_)<<16,e&=16711935,e|=((_=Math.round(255*l))>255?255:_<0?0:_)<<8,e&=16776960,e|=(_=Math.round(255*c))>255?255:_<0?0:_}}return e},getHSLuv:function(e,n){return null==n&&(n=[0,0,0]),u._hsluvTuple[0]=(e>>16&255)/255,u._hsluvTuple[1]=(e>>8&255)/255,u._hsluvTuple[2]=(255&e)/255,hsluv_Hsluv.rgbToHsluv(u._hsluvTuple,n),n[1]*=.01,n[2]*=.01,n}},ceramic_Component=function(){};t["ceramic.Component"]=ceramic_Component,ceramic_Component.__name__="ceramic.Component",ceramic_Component.__isInterface__=!0,ceramic_Component.prototype={__class__:ceramic_Component};var ceramic_ComputeFps=function(e){null==e&&(e=10),this.fps=0,this.index=0,this.size=e,this.frames=[];for(var n=0,t=e;n<t;){n++;this.frames.push(0)}};t["ceramic.ComputeFps"]=ceramic_ComputeFps,ceramic_ComputeFps.__name__="ceramic.ComputeFps",ceramic_ComputeFps.prototype={addFrame:function(e){this.frames[this.index]=e,this.index=(this.index+1)%this.size;for(var n=0,t=0,i=this.size;t<i;){var s=t++;n+=this.frames[s]}n=n>0?this.size/n:0,this.fps=Math.round(Math.min(999,n))},__class__:ceramic_ComputeFps};var ceramic_ConvertField=function(){};t["ceramic.ConvertField"]=ceramic_ConvertField,ceramic_ConvertField.__name__="ceramic.ConvertField",ceramic_ConvertField.__isInterface__=!0,ceramic_ConvertField.prototype={__class__:ceramic_ConvertField};var ceramic_ConvertArray=function(){};t["ceramic.ConvertArray"]=ceramic_ConvertArray,ceramic_ConvertArray.__name__="ceramic.ConvertArray",ceramic_ConvertArray.__interfaces__=[ceramic_ConvertField],ceramic_ConvertArray.prototype={basicToField:function(e,n,t,i,s){if(null!=i){var r=[];s(r=r.concat(i))}else s(null)},fieldToBasic:function(e,n,t){if(null==t)return null;var i=[];return i=i.concat(t)},__class__:ceramic_ConvertArray};var ceramic_ConvertComponentMap=function(){};t["ceramic.ConvertComponentMap"]=ceramic_ConvertComponentMap,ceramic_ConvertComponentMap.__name__="ceramic.ConvertComponentMap",ceramic_ConvertComponentMap.__interfaces__=[ceramic_ConvertField],ceramic_ConvertComponentMap.prototype={basicToField:function(e,n,t,i,s){if(null!=i){for(var r=new haxe_ds_StringMap,l=0,a=Reflect.fields(i);l<a.length;){var o=a[l];++l;i[o];ceramic_App.app.logger.error("Not using component initializers anymore. Need to implement event based solution!",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ConvertComponentMap.hx",lineNumber:38,className:"ceramic.ConvertComponentMap",methodName:"basicToField"})}s(r)}else s(null)},fieldToBasic:function(e,n,t){if(null==t)return null;for(var i={},s=t.h,r=Object.keys(s),l=r.length,a=0;a<l;){var o=r[a++],h=t.h[o];null!=h&&null!=h.initializerName&&(i[o]=h.initializerName)}return i},__class__:ceramic_ConvertComponentMap};var ceramic_ConvertFont=function(){};t["ceramic.ConvertFont"]=ceramic_ConvertFont,ceramic_ConvertFont.__name__="ceramic.ConvertFont",ceramic_ConvertFont.__interfaces__=[ceramic_ConvertField],ceramic_ConvertFont.prototype={basicToField:function(e,n,t,i,s){null!=i?i==ceramic_App.app.defaultFont.asset.name?s(ceramic_App.app.defaultFont):t.ensureFont(i,null,null,(function(e){s(null!=e?e.get_font():null)})):s(null)},fieldToBasic:function(e,n,t){return null==t||null==t.asset?null:t.asset.name},__class__:ceramic_ConvertFont};var ceramic_ConvertFragmentData=function(){};t["ceramic.ConvertFragmentData"]=ceramic_ConvertFragmentData,ceramic_ConvertFragmentData.__name__="ceramic.ConvertFragmentData",ceramic_ConvertFragmentData.__interfaces__=[ceramic_ConvertField],ceramic_ConvertFragmentData.prototype={basicToField:function(e,n,t,i,s){s(i)},fieldToBasic:function(e,n,t){return t},__class__:ceramic_ConvertFragmentData};var ceramic_ConvertIntBoolMap=function(){};t["ceramic.ConvertIntBoolMap"]=ceramic_ConvertIntBoolMap,ceramic_ConvertIntBoolMap.__name__="ceramic.ConvertIntBoolMap",ceramic_ConvertIntBoolMap.__interfaces__=[ceramic_ConvertField],ceramic_ConvertIntBoolMap.prototype={basicToField:function(e,n,t,i,s){if(null!=i){for(var r=new ceramic_IntIntMap(16,.5,!1),l=0,a=Reflect.fields(i);l<a.length;){var o=a[l];++l,r.set(Std.parseInt(o),Reflect.field(i,o)?1:0)}s(r)}else s(null)},fieldToBasic:function(e,n,t){if(null==t)return null;return ceramic_App.app.logger.warning("ConvertIntBoolMap.fieldToBasic() not implemented!",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ConvertIntBoolMap.hx",lineNumber:47,className:"ceramic.ConvertIntBoolMap",methodName:"fieldToBasic"}),{}},__class__:ceramic_ConvertIntBoolMap};var ceramic_ConvertMap=function(){};t["ceramic.ConvertMap"]=ceramic_ConvertMap,ceramic_ConvertMap.__name__="ceramic.ConvertMap",ceramic_ConvertMap.__interfaces__=[ceramic_ConvertField],ceramic_ConvertMap.prototype={basicToField:function(e,n,t,i,s){if(null!=i){for(var r=new haxe_ds_StringMap,l=0,a=Reflect.fields(i);l<a.length;){var o=a[l];++l,r.h[o]=i[o]}s(r)}else s(null)},fieldToBasic:function(e,n,t){if(null==t)return null;for(var i={},s=t.h,r=Object.keys(s),l=r.length,a=0;a<l;){var o=r[a++];i[o]=t.h[o]}return i},__class__:ceramic_ConvertMap};var ceramic_ConvertTexture=function(){};t["ceramic.ConvertTexture"]=ceramic_ConvertTexture,ceramic_ConvertTexture.__name__="ceramic.ConvertTexture",ceramic_ConvertTexture.__interfaces__=[ceramic_ConvertField],ceramic_ConvertTexture.prototype={basicToField:function(e,n,t,i,s){null!=i?t.ensureImage(i,null,null,(function(e){s(null!=e?e.get_texture():null)})):s(null)},fieldToBasic:function(e,n,t){return null==t||null==t.asset?null:t.asset.name},__class__:ceramic_ConvertTexture};var ceramic_Csv=function(){};t["ceramic.Csv"]=ceramic_Csv,ceramic_Csv.__name__="ceramic.Csv",ceramic_Csv.parse=function(e){for(var n="",t=0,i="",s=(e=StringTools.trim(e)).length,r=!1,l="",a=[];t<s;)if(i=e.charAt(t),r)'"'==i?'""'==i+e.charAt(t+1)?(l+='"',t+=2):(r=!1,++t):(l+=i,++t);else{if("\n"==i){++t;break}""==l&&'"'==i?(r=!0,++t):""==n?(","==i||";"==i?(n=i,a.push(StringTools.replace(l,"\r","")),l=""):l+=i,++t):i==n?(a.push(StringTools.replace(l,"\r","")),l="",++t):(l+=i,++t)}""!=l&&a.push(StringTools.replace(l,"\r","")),r=!1,l="";for(var o={},h=!1,c=[],u=0,_="",d=-1;t<s;)i=e.charAt(t),r?'"'==i?'""'==i+e.charAt(t+1)?(l+='"',t+=2):(r=!1,++t):(l+=i,++t):"\n"==i?(null!=(_=a[u++])?(o[_]=StringTools.replace(l,"\r",""),h=!0):-1==d&&(d=c.length),l="",c.push(o),h=!1,u=0,o={},++t):""==l&&'"'==i?(r=!0,++t):i==n?(null!=(_=a[u++])?(o[_]=StringTools.replace(l,"\r",""),h=!0):-1==d&&(d=c.length),l="",++t):(l+=i,++t);return null!=(_=a[u++])?(o[_]=StringTools.replace(l,"\r",""),h=!0):-1==d&&(ceramic_Csv.warning(o),d=c.length),l="",h&&c.push(o),d>=0&&ceramic_Csv.warning("Malformed CSV: too many columns at row #"+d),c},ceramic_Csv.stringify=function(e,n){if(null==n){n=[];for(var t=Object.create(null),i=0;i<e.length;){var s=e[i];++i;for(var r=0,l=Reflect.fields(s);r<l.length;){var a=l[r];++r,Object.prototype.hasOwnProperty.call(t,a)||(n.push(a),t[a]=!0)}}}var o="",h=0;for(i=0;i<n.length;){a=n[i];if(++i,h++>0&&(o+=","),0!=a.length){o+='"';for(r=0,l=a.length;r<l;){var c=r++;o+='"'==(f=a.charAt(c))?'""':Std.string(f)}o+='"'}}for(i=0;i<e.length;){s=e[i];++i,o+="\n",h=0;for(r=0;r<n.length;){a=n[r];++r,h++>0&&(o+=",");var u=Reflect.field(s,a),_=null!=u?Std.string(u):"";if(0!=_.length){o+='"';l=0;for(var d=_.length;l<d;){var f;c=l++;o+='"'==(f=_.charAt(c))?'""':Std.string(f)}o+='"'}}}return o},ceramic_Csv.warning=function(e){ceramic_App.app.logger.warning(e,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Csv.hx",lineNumber:238,className:"ceramic.Csv",methodName:"warning"})};var ceramic_CustomAssetKind=function(e,n,t,i,s){this.kind=e,this.add=n,this.extensions=t,this.dir=i,this.types=s};t["ceramic.CustomAssetKind"]=ceramic_CustomAssetKind,ceramic_CustomAssetKind.__name__="ceramic.CustomAssetKind",ceramic_CustomAssetKind.prototype={__class__:ceramic_CustomAssetKind};var ceramic_DatabaseAsset=function(e,n,t){this.unobservedDatabase=null,this.databaseAutoruns=null,ceramic_Asset.call(this,"database",e,n,t)};t["ceramic.DatabaseAsset"]=ceramic_DatabaseAsset,ceramic_DatabaseAsset.__name__="ceramic.DatabaseAsset",ceramic_DatabaseAsset.__super__=ceramic_Asset,ceramic_DatabaseAsset.prototype=$extend(ceramic_Asset.prototype,{get_database:function(){var e=this.unobservedDatabase;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.databaseAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.databaseAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_database:function(e){var n=this.unobservedDatabase;if(this.unobservedDatabase=e,tracker_Utils.equalAny(n,e))return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitDatabaseChange(e,n);var t=this.databaseAutoruns;if(null!=t){this.databaseAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateDatabase:function(){var e=this.unobservedDatabase;this.emitDatabaseChange(e,e);var n=this.databaseAutoruns;if(null!=n){this.databaseAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitDatabaseChange:function(e,n){var t=0;if(null!=this.__cbOnDatabaseChange&&(t+=this.__cbOnDatabaseChange.length),null!=this.__cbOnceDatabaseChange&&(t+=this.__cbOnceDatabaseChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnDatabaseChange)for(var l=0,a=this.__cbOnDatabaseChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnDatabaseChange[o],++r):--t}if(null!=this.__cbOnceDatabaseChange){var h=null,c=null;for(l=0,a=this.__cbOnceDatabaseChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceDatabaseChange[o],this.__cbOnceDatabaseChange[o]=null;var u=this.__cbOnceOwnerUnbindDatabaseChange[o];this.__cbOnceOwnerUnbindDatabaseChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindDatabaseChange[o]),c.push(this.__cbOnceDatabaseChange[o])}this.__cbOnceOwnerUnbindDatabaseChange=h,this.__cbOnceDatabaseChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onDatabaseChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event databaseChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDatabaseChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindDatabaseChange&&(this.__cbOnOwnerUnbindDatabaseChange=[]),this.__cbOnOwnerUnbindDatabaseChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindDatabaseChange&&(this.__cbOnOwnerUnbindDatabaseChange=[]),this.__cbOnOwnerUnbindDatabaseChange.push(null);null==this.__cbOnDatabaseChange&&(this.__cbOnDatabaseChange=[]),this.__cbOnDatabaseChange.push(n)},onceDatabaseChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event databaseChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDatabaseChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindDatabaseChange&&(this.__cbOnceOwnerUnbindDatabaseChange=[]),this.__cbOnceOwnerUnbindDatabaseChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindDatabaseChange&&(this.__cbOnceOwnerUnbindDatabaseChange=[]),this.__cbOnceOwnerUnbindDatabaseChange.push(null);null==this.__cbOnceDatabaseChange&&(this.__cbOnceDatabaseChange=[]),this.__cbOnceDatabaseChange.push(n)},offDatabaseChange:function(e){if(null!=e){var n;null!=this.__cbOnDatabaseChange&&-1!=(n=this.__cbOnDatabaseChange.indexOf(e))&&(this.__cbOnDatabaseChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDatabaseChange[n])&&r(),this.__cbOnOwnerUnbindDatabaseChange.splice(n,1)),null!=this.__cbOnceDatabaseChange&&-1!=(n=this.__cbOnceDatabaseChange.indexOf(e))&&(this.__cbOnceDatabaseChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDatabaseChange[n])&&r(),this.__cbOnceOwnerUnbindDatabaseChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDatabaseChange){for(var t=0,i=this.__cbOnOwnerUnbindDatabaseChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindDatabaseChange[s])&&r()}this.__cbOnOwnerUnbindDatabaseChange=null}if(null!=this.__cbOnceOwnerUnbindDatabaseChange){for(t=0,i=this.__cbOnceOwnerUnbindDatabaseChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindDatabaseChange[s])&&r()}this.__cbOnceOwnerUnbindDatabaseChange=null}this.__cbOnDatabaseChange=null,this.__cbOnceDatabaseChange=null}},listensDatabaseChange:function(){return null!=this.__cbOnDatabaseChange&&this.__cbOnDatabaseChange.length>0||null!=this.__cbOnceDatabaseChange&&this.__cbOnceDatabaseChange.length>0},load:function(){var e=this;if(this.set_status(o.LOADING),null==this.path)return ceramic_App.app.logger.warning("Cannot load database asset if path is undefined.",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/DatabaseAsset.hx",lineNumber:21,className:"ceramic.DatabaseAsset",methodName:"load"}),this.set_status(o.BROKEN),void this.emitComplete(!1);var n={};null!=this.owner&&(n.immediate=this.owner.immediate,n.loadMethod=this.owner.loadMethod);var t=this.path,i=ceramic_Assets.realAssetPath(t,this.runtimeAssets),s=ceramic_Assets.getReloadCount(i);s>0&&(i+="?hot="+s,t+="?hot="+s),ceramic_App.app.logger.info("Load database "+t,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/DatabaseAsset.hx",lineNumber:42,className:"ceramic.DatabaseAsset",methodName:"load"}),ceramic_App.app.backend.texts.load(i,n,(function(n){if(null!=n){try{e.set_database(ceramic_Csv.parse(n))}catch(n){return e.set_status(o.BROKEN),ceramic_App.app.logger.error("Failed to parse database at path: "+e.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/DatabaseAsset.hx",lineNumber:50,className:"ceramic.DatabaseAsset",methodName:"load"}),void e.emitComplete(!1)}e.set_status(o.READY),e.emitComplete(!0)}else e.set_status(o.BROKEN),ceramic_App.app.logger.error("Failed to load database at path: "+e.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/DatabaseAsset.hx",lineNumber:59,className:"ceramic.DatabaseAsset",methodName:"load"}),e.emitComplete(!1)}))},assetFilesDidChange:function(e,n){var t=-1;Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]);var i=-1;Object.prototype.hasOwnProperty.call(e.h,this.path)&&(i=e.h[this.path]),i>t&&(ceramic_App.app.logger.info("Reload database (file has changed)",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/DatabaseAsset.hx",lineNumber:82,className:"ceramic.DatabaseAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Asset.prototype.destroy.call(this),this.set_database(null))},unbindEvents:function(){ceramic_Asset.prototype.unbindEvents.call(this),this.offDatabaseChange()},__class__:ceramic_DatabaseAsset,__properties__:$extend(ceramic_Asset.prototype.__properties__,{set_database:"set_database",get_database:"get_database"})});var _=i["ceramic.Easing"]={__ename__:"ceramic.Easing",__constructs__:null,NONE:{_hx_name:"NONE",_hx_index:0,__enum__:"ceramic.Easing",toString:$estr},LINEAR:{_hx_name:"LINEAR",_hx_index:1,__enum__:"ceramic.Easing",toString:$estr},BACK_EASE_IN:{_hx_name:"BACK_EASE_IN",_hx_index:2,__enum__:"ceramic.Easing",toString:$estr},BACK_EASE_IN_OUT:{_hx_name:"BACK_EASE_IN_OUT",_hx_index:3,__enum__:"ceramic.Easing",toString:$estr},BACK_EASE_OUT:{_hx_name:"BACK_EASE_OUT",_hx_index:4,__enum__:"ceramic.Easing",toString:$estr},QUAD_EASE_IN:{_hx_name:"QUAD_EASE_IN",_hx_index:5,__enum__:"ceramic.Easing",toString:$estr},QUAD_EASE_IN_OUT:{_hx_name:"QUAD_EASE_IN_OUT",_hx_index:6,__enum__:"ceramic.Easing",toString:$estr},QUAD_EASE_OUT:{_hx_name:"QUAD_EASE_OUT",_hx_index:7,__enum__:"ceramic.Easing",toString:$estr},CUBIC_EASE_IN:{_hx_name:"CUBIC_EASE_IN",_hx_index:8,__enum__:"ceramic.Easing",toString:$estr},CUBIC_EASE_IN_OUT:{_hx_name:"CUBIC_EASE_IN_OUT",_hx_index:9,__enum__:"ceramic.Easing",toString:$estr},CUBIC_EASE_OUT:{_hx_name:"CUBIC_EASE_OUT",_hx_index:10,__enum__:"ceramic.Easing",toString:$estr},QUART_EASE_IN:{_hx_name:"QUART_EASE_IN",_hx_index:11,__enum__:"ceramic.Easing",toString:$estr},QUART_EASE_IN_OUT:{_hx_name:"QUART_EASE_IN_OUT",_hx_index:12,__enum__:"ceramic.Easing",toString:$estr},QUART_EASE_OUT:{_hx_name:"QUART_EASE_OUT",_hx_index:13,__enum__:"ceramic.Easing",toString:$estr},QUINT_EASE_IN:{_hx_name:"QUINT_EASE_IN",_hx_index:14,__enum__:"ceramic.Easing",toString:$estr},QUINT_EASE_IN_OUT:{_hx_name:"QUINT_EASE_IN_OUT",_hx_index:15,__enum__:"ceramic.Easing",toString:$estr},QUINT_EASE_OUT:{_hx_name:"QUINT_EASE_OUT",_hx_index:16,__enum__:"ceramic.Easing",toString:$estr},BOUNCE_EASE_IN:{_hx_name:"BOUNCE_EASE_IN",_hx_index:17,__enum__:"ceramic.Easing",toString:$estr},BOUNCE_EASE_IN_OUT:{_hx_name:"BOUNCE_EASE_IN_OUT",_hx_index:18,__enum__:"ceramic.Easing",toString:$estr},BOUNCE_EASE_OUT:{_hx_name:"BOUNCE_EASE_OUT",_hx_index:19,__enum__:"ceramic.Easing",toString:$estr},ELASTIC_EASE_IN:{_hx_name:"ELASTIC_EASE_IN",_hx_index:20,__enum__:"ceramic.Easing",toString:$estr},ELASTIC_EASE_IN_OUT:{_hx_name:"ELASTIC_EASE_IN_OUT",_hx_index:21,__enum__:"ceramic.Easing",toString:$estr},ELASTIC_EASE_OUT:{_hx_name:"ELASTIC_EASE_OUT",_hx_index:22,__enum__:"ceramic.Easing",toString:$estr},EXPO_EASE_IN:{_hx_name:"EXPO_EASE_IN",_hx_index:23,__enum__:"ceramic.Easing",toString:$estr},EXPO_EASE_IN_OUT:{_hx_name:"EXPO_EASE_IN_OUT",_hx_index:24,__enum__:"ceramic.Easing",toString:$estr},EXPO_EASE_OUT:{_hx_name:"EXPO_EASE_OUT",_hx_index:25,__enum__:"ceramic.Easing",toString:$estr},SINE_EASE_IN:{_hx_name:"SINE_EASE_IN",_hx_index:26,__enum__:"ceramic.Easing",toString:$estr},SINE_EASE_IN_OUT:{_hx_name:"SINE_EASE_IN_OUT",_hx_index:27,__enum__:"ceramic.Easing",toString:$estr},SINE_EASE_OUT:{_hx_name:"SINE_EASE_OUT",_hx_index:28,__enum__:"ceramic.Easing",toString:$estr},BEZIER:(n=function(e,n,t,i){return{_hx_index:29,x1:e,y1:n,x2:t,y2:i,__enum__:"ceramic.Easing",toString:$estr}},n._hx_name="BEZIER",n.__params__=["x1","y1","x2","y2"],n),CUSTOM:(n=function(e){return{_hx_index:30,easing:e,__enum__:"ceramic.Easing",toString:$estr}},n._hx_name="CUSTOM",n.__params__=["easing"],n)};_.__constructs__=[_.NONE,_.LINEAR,_.BACK_EASE_IN,_.BACK_EASE_IN_OUT,_.BACK_EASE_OUT,_.QUAD_EASE_IN,_.QUAD_EASE_IN_OUT,_.QUAD_EASE_OUT,_.CUBIC_EASE_IN,_.CUBIC_EASE_IN_OUT,_.CUBIC_EASE_OUT,_.QUART_EASE_IN,_.QUART_EASE_IN_OUT,_.QUART_EASE_OUT,_.QUINT_EASE_IN,_.QUINT_EASE_IN_OUT,_.QUINT_EASE_OUT,_.BOUNCE_EASE_IN,_.BOUNCE_EASE_IN_OUT,_.BOUNCE_EASE_OUT,_.ELASTIC_EASE_IN,_.ELASTIC_EASE_IN_OUT,_.ELASTIC_EASE_OUT,_.EXPO_EASE_IN,_.EXPO_EASE_IN_OUT,_.EXPO_EASE_OUT,_.SINE_EASE_IN,_.SINE_EASE_IN_OUT,_.SINE_EASE_OUT,_.BEZIER,_.CUSTOM];var ceramic_EasingUtils=function(){};t["ceramic.EasingUtils"]=ceramic_EasingUtils,ceramic_EasingUtils.__name__="ceramic.EasingUtils",ceramic_EasingUtils.easingFromString=function(e){return Type.createEnum(_,e,ceramic_EasingUtils._emptyArray)},ceramic_EasingUtils.easingToString=function(e){return i[e.__enum__].__constructs__[e._hx_index]._hx_name};var ceramic_Extensions=function(){};t["ceramic.Extensions"]=ceramic_Extensions,ceramic_Extensions.__name__="ceramic.Extensions",ceramic_Extensions.unsafeGet=function(e,n){return e[n]},ceramic_Extensions.unsafeSet=function(e,n,t){e[n]=t},ceramic_Extensions.setArrayLength=function(e,n){if(e.length!=n)if(e.length>n)e.splice(n,e.length-n);else for(var t=e;t.length<n;)t.push(null)},ceramic_Extensions.randomElement=function(e){return e[Math.floor(.99999*Math.random()*e.length)]},ceramic_Extensions.randomElementExcept=function(e,n,t){if(null==t&&(t=!1),t){var i=null;do{i=e[Math.floor(.99999*Math.random()*e.length)]}while(i==n);return i}for(var s=[],r=0;r<e.length;){var l=e[r];++r,s.push(l)}ceramic_Extensions.shuffle(s);for(r=0;r<s.length;){l=s[r];if(++r,l!=n)return l}return null},ceramic_Extensions.randomElementMatchingValidator=function(e,n){for(var t=[],i=0;i<e.length;){var s=e[i];++i,t.push(s)}ceramic_Extensions.shuffle(t);for(i=0;i<t.length;){s=t[i];if(++i,n(s))return s}return null},ceramic_Extensions.shuffle=function(e){if(null!=e)for(var n=0,t=e.length;n<t;){var i=n++,s=Math.floor((e.length-1+1)*Math.random()),r=e[i],l=e[s];e[i]=l,e[s]=r}},ceramic_Extensions.swapElements=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i},ceramic_Extensions.removeNullElements=function(e){for(var n=0,t=0,i=e.length;n<i;){do{if(null!=e[n])break;++n,++t}while(n<i);if(0!=t&&n<i)e[n-t]=e[n];++n}var s=i-t;if(e.length!=s)if(e.length>s)e.splice(s,e.length-s);else for(var r=e;r.length<s;)r.push(null)},ceramic_Extensions.setProperty=function(e,n,t){Reflect.setProperty(e,n,t)},ceramic_Extensions.getProperty=function(e,n){return Reflect.getProperty(e,n)};var ceramic_FieldInfo=function(){};t["ceramic.FieldInfo"]=ceramic_FieldInfo,ceramic_FieldInfo.__name__="ceramic.FieldInfo",ceramic_FieldInfo.types=function(e,n){null==n&&(n=!0);var i=ceramic_FieldInfo.fieldInfoMap.h[e];if(null==i){i=new haxe_ds_StringMap,ceramic_FieldInfo.fieldInfoMap.h[e]=i;for(var s=t[e];null!=s;){var r=Reflect.field(s,"_fieldInfo");if(!1,null!=r)for(var l=r,a=l,o=Reflect.fields(l),h=0;h<o.length;){var c=o[h++],u=c,_=a[c];Object.prototype.hasOwnProperty.call(i.h,u)||(i.h[u]=_.type)}if(!n)break;s=s.__super__}}return i},ceramic_FieldInfo.typeOf=function(e,n){return ceramic_FieldInfo.types(e).h[n]};var ceramic_FieldMeta=function(){};t["ceramic.FieldMeta"]=ceramic_FieldMeta,ceramic_FieldMeta.__name__="ceramic.FieldMeta",ceramic_FieldMeta._hasMeta=function(e,n,t,i,s){var r=ceramic_FieldMeta._getMeta(e,n,t,s);return null!=r&&Object.prototype.hasOwnProperty.call(r.h,i)},ceramic_FieldMeta._getMeta=function(e,n,t,i){var s=null,r=i?ceramic_FieldMeta.metaMapRecursive:ceramic_FieldMeta.metaMap;if(Object.prototype.hasOwnProperty.call(r.h,n))s=r.h[n];else{for(s=new haxe_ds_StringMap;null!=e;){var l=haxe_rtti_Meta.getFields(e);if(null!=l)for(var a=0,o=Reflect.fields(l);a<o.length;){var h=o[a];++a;var c=s.h[h];null==c&&(c=new haxe_ds_StringMap,s.h[h]=c);var u=Reflect.field(l,h);if(null!=u)for(var _=0,d=Reflect.fields(u);_<d.length;){var f=d[_];++_,Object.prototype.hasOwnProperty.call(c.h,f)||(c.h[f]=Reflect.field(u,f))}}if(!i)break;e=e.__super__}r.h[n]=s}return Object.prototype.hasOwnProperty.call(s.h,t)?s.h[t]:null};var ceramic_Files=function(){};t["ceramic.Files"]=ceramic_Files,ceramic_Files.__name__="ceramic.Files",ceramic_Files.haveSameContent=function(e,n){return ceramic_App.app.logger.warning("haveSameContent() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:41,className:"ceramic.Files",methodName:"haveSameContent"}),!1},ceramic_Files.haveSameLastModified=function(e,n){return ceramic_App.app.logger.warning("haveSameLastModified() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:78,className:"ceramic.Files",methodName:"haveSameLastModified"}),!1},ceramic_Files.setToSameLastModified=function(e,n){ceramic_App.app.logger.warning("setToSameLastModified() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:103,className:"ceramic.Files",methodName:"setToSameLastModified"})},ceramic_Files.getFlatDirectory=function(e,n,t,i){return null==i&&(i=!0),null==t&&(t=!1),null==n&&(n=!0),[]},ceramic_Files.getLastModified=function(e){return-1},ceramic_Files.removeEmptyDirectories=function(e,n){null==n&&(n=!0),ceramic_App.app.logger.warning("removeEmptyDirectories() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:234,className:"ceramic.Files",methodName:"removeEmptyDirectories"})},ceramic_Files.isEmptyDirectory=function(e,n){return null==n&&(n=!0),ceramic_App.app.logger.warning("isEmptyDirectory() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:255,className:"ceramic.Files",methodName:"isEmptyDirectory"}),!1},ceramic_Files.deleteRecursive=function(e){ceramic_App.app.logger.warning("deleteRecursive() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:299,className:"ceramic.Files",methodName:"deleteRecursive"})},ceramic_Files.getRelativePath=function(e,n){for(var t=HxOverrides.substr(ceramic_Path.normalize(n),1,null).split("/"),i=HxOverrides.substr(ceramic_Path.normalize(e),1,null).split("/"),s=Math.min(t.length,i.length),r=s,l=0,a=s;l<a;){if(t[h=l++]!=i[h]){r=h;break}}var o=[];for(l=r,a=t.length;l<a;){var h=l++;o.push("..")}var c=(o=o.concat(i.slice(r))).join("/");return StringTools.endsWith(e,"/")&&!StringTools.endsWith(c,"/")&&(c+="/"),StringTools.startsWith(c,".")||(c="./"+c),c},ceramic_Files.copyFileWithIntermediateDirs=function(e,n){ceramic_App.app.logger.warning("copyFileWithIntermediateDirs() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:355,className:"ceramic.Files",methodName:"copyFileWithIntermediateDirs"})},ceramic_Files.copyDirectory=function(e,n,t){null==t&&(t=!1),ceramic_App.app.logger.warning("copyDirectory() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:389,className:"ceramic.Files",methodName:"copyDirectory"})},ceramic_Files.deleteFile=function(e){ceramic_App.app.logger.warning("deleteFile() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:415,className:"ceramic.Files",methodName:"deleteFile"})},ceramic_Files.getContent=function(e){return ceramic_App.app.logger.warning("getContent() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:441,className:"ceramic.Files",methodName:"getContent"}),null},ceramic_Files.getBytes=function(e){return ceramic_App.app.logger.warning("getBytes() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:469,className:"ceramic.Files",methodName:"getBytes"}),null},ceramic_Files.saveContent=function(e,n){ceramic_App.app.logger.warning("saveContent() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:495,className:"ceramic.Files",methodName:"saveContent"})},ceramic_Files.saveBytes=function(e,n){ceramic_App.app.logger.warning("saveBytes() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:521,className:"ceramic.Files",methodName:"saveBytes"})},ceramic_Files.createDirectory=function(e){ceramic_App.app.logger.warning("createDirectory() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:546,className:"ceramic.Files",methodName:"createDirectory"})},ceramic_Files.exists=function(e){return ceramic_App.app.logger.warning("exists() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:598,className:"ceramic.Files",methodName:"exists"}),!1},ceramic_Files.isDirectory=function(e){return ceramic_App.app.logger.warning("isDirectory() is not supported on this target",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Files.hx",lineNumber:631,className:"ceramic.Files",methodName:"isDirectory"}),!1};var ceramic_Filter=function(){this.explicitRenderPendingResultCallbacks=null,this.explicitRenderState=0,this.neverEmpty=!1,this.density=-1,this.unobservedRenderTexture=null,this.renderTextureAutoruns=null,this.textureTile=null,this.textureTilePacker=null,this.explicitRender=!1,this.autoRender=!0,this.antialiasing=0,this.stencil=!0,this.depthBuffer=!0,this.textureFilter=m.LINEAR,this.enabled=!0,this.hitVisual=null,this.destroyMeshOnRemove=!0,this.neverEmptyQuad=null,this.meshDirty=!1,this.mesh=null,this.textureId=null,this.observedDirty=!1,ceramic_Layer.call(this),this.flags&=-17,this.content=new ceramic_Quad,this.content.flags|=16,this.content.color=16777215,this.add(this.content),this.set_hitVisual(this),ceramic_App.app.screen.onTexturesDensityChange(this,$bind(this,this.handleTexturesDensityChange))};t["ceramic.Filter"]=ceramic_Filter,ceramic_Filter.__name__="ceramic.Filter",ceramic_Filter.__interfaces__=[tracker_Observable],ceramic_Filter.__super__=ceramic_Layer,ceramic_Filter.prototype=$extend(ceramic_Layer.prototype,{emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var l=0,a=this.__cbOnObservedDirty.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnObservedDirty[o],++r):--t}if(null!=this.__cbOnceObservedDirty){var h=null,c=null;for(l=0,a=this.__cbOnceObservedDirty.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceObservedDirty[o],this.__cbOnceObservedDirty[o]=null;var u=this.__cbOnceOwnerUnbindObservedDirty[o];this.__cbOnceOwnerUnbindObservedDirty[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindObservedDirty[o]),c.push(this.__cbOnceObservedDirty[o])}this.__cbOnceOwnerUnbindObservedDirty=h,this.__cbOnceObservedDirty=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(n)},onceObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(n)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[s])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[s])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&this.__cbOnObservedDirty.length>0||null!=this.__cbOnceObservedDirty&&this.__cbOnceObservedDirty.length>0},set_textureId:function(e){return this.textureId=e,null!=this.get_renderTexture()&&(this.get_renderTexture().id=e),e},set_mesh:function(e){if(this.mesh!=e){if(null!=this.mesh)if(this.destroyMeshOnRemove){var n=this.mesh;this.mesh=null,n.destroy()}else this.remove(this.mesh);this.mesh=e,null!=this.mesh&&this.add(this.mesh),this.meshDirty=!0,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0}return e},set_hitVisual:function(e){return this.hitVisual==e||(null!=this.hitVisual&&ceramic_App.app.screen.removeHitVisual(this.hitVisual),this.hitVisual=e,null!=this.hitVisual&&ceramic_App.app.screen.addHitVisual(this.hitVisual)),e},set_enabled:function(e){if(this.enabled==e)return e;this.enabled=e;var n=!e;return this.flags=n?16|this.flags:-17&this.flags,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,e},set_textureFilter:function(e){return this.textureFilter==e||(this.textureFilter=e,null!=this.get_renderTexture()&&this.get_renderTexture().set_filter(e)),e},set_depthBuffer:function(e){return this.depthBuffer==e||(this.depthBuffer=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_stencil:function(e){return this.stencil==e||(this.stencil=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_antialiasing:function(e){return this.antialiasing==e||(this.antialiasing=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_autoRender:function(e){return this.autoRender==e||(this.autoRender=e,null!=this.get_renderTexture()&&(this.get_renderTexture().autoRender=e)),e},set_explicitRender:function(e){return this.explicitRender==e||(this.explicitRender=e,this.content.set_active(!e)),e},set_textureTilePacker:function(e){return this.textureTilePacker==e||(null!=this.textureTile&&null!=this.textureTilePacker&&(this.textureTilePacker.releaseTile(this.textureTile),this.textureTile=null,this.set_tile(null),this.set_tile(null),this.content.set_renderTarget(null)),this.textureTilePacker=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},get_renderTexture:function(){var e=this.unobservedRenderTexture;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.renderTextureAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.renderTextureAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_renderTexture:function(e){var n=this.unobservedRenderTexture;if(this.unobservedRenderTexture=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitRenderTextureChange(e,n);var t=this.renderTextureAutoruns;if(null!=t){this.renderTextureAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateRenderTexture:function(){var e=this.unobservedRenderTexture;this.emitRenderTextureChange(e,e);var n=this.renderTextureAutoruns;if(null!=n){this.renderTextureAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitRenderTextureChange:function(e,n){var t=0;if(null!=this.__cbOnRenderTextureChange&&(t+=this.__cbOnRenderTextureChange.length),null!=this.__cbOnceRenderTextureChange&&(t+=this.__cbOnceRenderTextureChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnRenderTextureChange)for(var l=0,a=this.__cbOnRenderTextureChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnRenderTextureChange[o],++r):--t}if(null!=this.__cbOnceRenderTextureChange){var h=null,c=null;for(l=0,a=this.__cbOnceRenderTextureChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceRenderTextureChange[o],this.__cbOnceRenderTextureChange[o]=null;var u=this.__cbOnceOwnerUnbindRenderTextureChange[o];this.__cbOnceOwnerUnbindRenderTextureChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindRenderTextureChange[o]),c.push(this.__cbOnceRenderTextureChange[o])}this.__cbOnceOwnerUnbindRenderTextureChange=h,this.__cbOnceRenderTextureChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onRenderTextureChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event renderTextureChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offRenderTextureChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindRenderTextureChange&&(this.__cbOnOwnerUnbindRenderTextureChange=[]),this.__cbOnOwnerUnbindRenderTextureChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindRenderTextureChange&&(this.__cbOnOwnerUnbindRenderTextureChange=[]),this.__cbOnOwnerUnbindRenderTextureChange.push(null);null==this.__cbOnRenderTextureChange&&(this.__cbOnRenderTextureChange=[]),this.__cbOnRenderTextureChange.push(n)},onceRenderTextureChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event renderTextureChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offRenderTextureChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindRenderTextureChange&&(this.__cbOnceOwnerUnbindRenderTextureChange=[]),this.__cbOnceOwnerUnbindRenderTextureChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindRenderTextureChange&&(this.__cbOnceOwnerUnbindRenderTextureChange=[]),this.__cbOnceOwnerUnbindRenderTextureChange.push(null);null==this.__cbOnceRenderTextureChange&&(this.__cbOnceRenderTextureChange=[]),this.__cbOnceRenderTextureChange.push(n)},offRenderTextureChange:function(e){if(null!=e){var n;null!=this.__cbOnRenderTextureChange&&-1!=(n=this.__cbOnRenderTextureChange.indexOf(e))&&(this.__cbOnRenderTextureChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindRenderTextureChange[n])&&r(),this.__cbOnOwnerUnbindRenderTextureChange.splice(n,1)),null!=this.__cbOnceRenderTextureChange&&-1!=(n=this.__cbOnceRenderTextureChange.indexOf(e))&&(this.__cbOnceRenderTextureChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindRenderTextureChange[n])&&r(),this.__cbOnceOwnerUnbindRenderTextureChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindRenderTextureChange){for(var t=0,i=this.__cbOnOwnerUnbindRenderTextureChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindRenderTextureChange[s])&&r()}this.__cbOnOwnerUnbindRenderTextureChange=null}if(null!=this.__cbOnceOwnerUnbindRenderTextureChange){for(t=0,i=this.__cbOnceOwnerUnbindRenderTextureChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindRenderTextureChange[s])&&r()}this.__cbOnceOwnerUnbindRenderTextureChange=null}this.__cbOnRenderTextureChange=null,this.__cbOnceRenderTextureChange=null}},listensRenderTextureChange:function(){return null!=this.__cbOnRenderTextureChange&&this.__cbOnRenderTextureChange.length>0||null!=this.__cbOnceRenderTextureChange&&this.__cbOnceRenderTextureChange.length>0},set_density:function(e){return this.density==e||(this.density=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_neverEmpty:function(e){if(this.neverEmpty==e)return e;var n;(this.neverEmpty=e,e)?null==this.neverEmptyQuad&&(this.neverEmptyQuad=new ceramic_Quad,(n=this.neverEmptyQuad).set_width(1),n.set_height(1),(n=this.neverEmptyQuad).set_x(-999999999),n.set_y(-999999999),this.content.add(this.neverEmptyQuad)):null!=this.neverEmptyQuad&&(this.neverEmptyQuad.destroy(),this.neverEmptyQuad=null);return e},handleTexturesDensityChange:function(e,n){e!=n&&-1==this.density&&(this.updateRenderTextureAndContent(Math.ceil(this.get_width()),Math.ceil(this.get_height()),e,this.depthBuffer,this.stencil,this.antialiasing),this.contentDirty=!1)},updateRenderTextureAndContent:function(e,n,t,i,s,r){var l=null!=this.mesh?this.mesh.texture:this._texture;if(this.enabled?(this.meshDirty||null==this.get_renderTexture()||(null==this.textureTilePacker||!this.textureTilePacker.managesTexture(this.get_renderTexture()))&&(this.get_renderTexture().width!=e||this.get_renderTexture().height!=n||-1!=t&&this.get_renderTexture().density!=t||this.get_renderTexture().depth!=i||this.get_renderTexture().stencil!=s||this.get_renderTexture().antialiasing!=r)||null!=this.textureTilePacker&&!this.textureTilePacker.managesTexture(this.get_renderTexture())||null!=this.textureTile&&(this.textureTile.frameWidth!=e||this.textureTile.frameHeight!=n))&&(null==this.get_renderTexture()||null!=this.textureTilePacker&&this.textureTilePacker.managesTexture(this.get_renderTexture())||(l=null,this.get_renderTexture().destroy(),this.set_renderTexture(null)),null!=this.textureTile&&null!=this.textureTilePacker&&(this.textureTilePacker.releaseTile(this.textureTile),this.textureTile=null),e>0&&n>0&&(null!=this.textureTilePacker?(this.set_renderTexture(this.textureTilePacker.texture),this.textureTile=this.textureTilePacker.allocTile(e,n),this.set_tile(this.textureTile)):(this.set_renderTexture(new ceramic_RenderTexture(e,n,t,i,s,r)),this.get_renderTexture().id=this.textureId,this.get_renderTexture().set_filter(this.textureFilter),this.get_renderTexture().autoRender=this.autoRender,this.set_tile(null),l=this.get_renderTexture()))):null==this.get_renderTexture()||null!=this.textureTilePacker&&this.textureTilePacker.managesTexture(this.get_renderTexture())||(this.set_tile(null),l=null,this.get_renderTexture().destroy(),this.set_renderTexture(null)),null!=this.mesh){(a=this.mesh).texture!=l&&(null!=a.texture&&(a.texture.offDestroy($bind(a,a.textureDestroyed)),null!=a.texture.asset&&a.texture.asset.release()),a.texture=l,null!=a.texture&&(a.texture.onDestroy(a,$bind(a,a.textureDestroyed)),null!=a.texture.asset&&a.texture.asset.retain()));null!=this._texture&&this._set_texture(null)}else this._texture!=l&&this._set_texture(l);if(this.meshDirty=!1,(a=this.content).set_width(e),a.set_height(n),this.content.set_renderTarget(this.get_renderTexture()),null!=this.textureTile){var a=this.content,o=this.textureTile.frameY;a.set_x(this.textureTile.frameX),a.set_y(o)}else{(a=this.content).set_x(0),a.set_y(0)}this.content.contentDirty&&this.content.computeContent()},render:function(e){var n=this;if(this.explicitRender)if(1!=this.explicitRenderState)if(2!=this.explicitRenderState)if(this.explicitRenderState=1,this.contentDirty&&this.computeContent(),null!=this.get_renderTexture())this.content.set_active(!0),ceramic_App.app.onceUpdate(null,(function(t){if(n._lifecycleState<0)e=null;else if(n.explicitRenderState=2,n.contentDirty&&n.computeContent(),null!=n.get_renderTexture())n.get_renderTexture().renderDirty=!0,ceramic_App.app.onceFinishDraw(null,(function(){if(n._lifecycleState<0)e=null;else{n.content.set_active(!1),n.explicitRenderState=0;var t=n.explicitRenderPendingResultCallbacks;if(n.explicitRenderPendingResultCallbacks=null,null!=e&&(e(),e=null),null!=t)for(var i=0,s=t.length;i<s;){var r=i++,l=t[r];t[r]=null,l(),l=null}}}));else{n.content.set_active(!1),n.explicitRenderState=0;var i=n.explicitRenderPendingResultCallbacks;if(n.explicitRenderPendingResultCallbacks=null,null!=e&&(e(),e=null),null!=i)for(var s=0,r=i.length;s<r;){var l=s++,a=i[l];i[l]=null,a(),a=null}}}));else{this.explicitRenderState=0;var t=this.explicitRenderPendingResultCallbacks;if(this.explicitRenderPendingResultCallbacks=null,null!=e&&(e(),e=null),null!=t)for(var i=0,s=t.length;i<s;){var r=i++,l=t[r];t[r]=null,l(),l=null}}else null!=e&&(null==this.explicitRenderPendingResultCallbacks&&(this.explicitRenderPendingResultCallbacks=[]),this.explicitRenderPendingResultCallbacks.push((function(){n.render(e),e=null})));else null!=e&&(null==this.explicitRenderPendingResultCallbacks&&(this.explicitRenderPendingResultCallbacks=[]),this.explicitRenderPendingResultCallbacks.push(e),e=null);else ceramic_App.app.logger.warning("Explicit render is disabled on this filter. Ignoring render() call.",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Filter.hx",lineNumber:363,className:"ceramic.Filter",methodName:"render"})},visualInContentHits:function(e,n,t){var i=ceramic_Screen.matchedHitVisual;if(ceramic_Screen.matchedHitVisual=null,this.hitVisual._hits(n,t,!1)){ceramic_Screen.matchedHitVisual=i,e.matrixDirty&&e.computeMatrix(),(u=ceramic_Filter._matrix).a=e.matA,u.b=e.matB,u.c=e.matC,u.d=e.matD,u.tx=e.matTX,u.ty=e.matTY,u.changedDirty=!0;var s=this.hitVisual;do{s.matrixDirty&&s.computeMatrix();var r=ceramic_Filter._matrix.a*s.matA+ceramic_Filter._matrix.b*s.matC;ceramic_Filter._matrix.b=ceramic_Filter._matrix.a*s.matB+ceramic_Filter._matrix.b*s.matD,ceramic_Filter._matrix.a=r;var l=ceramic_Filter._matrix.c*s.matA+ceramic_Filter._matrix.d*s.matC;ceramic_Filter._matrix.d=ceramic_Filter._matrix.c*s.matB+ceramic_Filter._matrix.d*s.matD,ceramic_Filter._matrix.c=l;var a=ceramic_Filter._matrix.tx*s.matA+ceramic_Filter._matrix.ty*s.matC+s.matTX;if(ceramic_Filter._matrix.ty=ceramic_Filter._matrix.tx*s.matB+ceramic_Filter._matrix.ty*s.matD+s.matTY,ceramic_Filter._matrix.tx=a,null!=s.computedRenderTarget){var o=!1,h=s.parent;if(null!=h)do{if(null!=h.asQuad&&h instanceof ceramic_Filter){var c=h;if(c.get_renderTexture()==s.computedRenderTarget){s=c.hitVisual,o=!0;break}}h=h.parent}while(null!=h);if(!o)return!1}else s=null}while(null!=s);var u,_=(u=ceramic_Filter._matrix).a*u.d-u.b*u.c;if(0==_)u.a=u.b=u.c=u.d=0,u.tx=-u.tx,u.ty=-u.ty;else{_=1/_;r=u.d*_;u.d=u.a*_,u.a=r,u.b*=-_,u.c*=-_;a=-u.a*u.tx-u.c*u.ty;u.ty=-u.b*u.tx-u.d*u.ty,u.tx=a}return u.changedDirty=!0,e.hitTest(n,t,ceramic_Filter._matrix)}return ceramic_Screen.matchedHitVisual=i,!1},set_width:function(e){return this.get_width()==e?e:(this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,ceramic_Layer.prototype.set_width.call(this,e))},set_height:function(e){return this.get_height()==e?e:(this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,ceramic_Layer.prototype.set_height.call(this,e))},computeContent:function(){this.updateRenderTextureAndContent(Math.ceil(this.get_width()),Math.ceil(this.get_height()),this.density,this.depthBuffer,this.stencil,this.antialiasing),this.contentDirty=!1},destroy:function(){if(!(this._lifecycleState<=-2)){this._lifecycleState=-2,this.set_hitVisual(null);if(null!=this._texture&&this._set_texture(null),null==this.get_renderTexture()||null!=this.textureTilePacker&&this.textureTilePacker.managesTexture(this.get_renderTexture())||(this.get_renderTexture().destroy(),this.set_renderTexture(null)),this.set_textureTilePacker(null),this.set_renderTexture(null),null!=this.mesh){var e=this.mesh;this.set_mesh(null),e.destroy()}this.set_neverEmpty(!1),this.explicitRenderPendingResultCallbacks=null,this.content=null,this._lifecycleState=-1,ceramic_Layer.prototype.destroy.call(this)}},unbindEvents:function(){ceramic_Layer.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offRenderTextureChange()},__class__:ceramic_Filter,__properties__:$extend(ceramic_Layer.prototype.__properties__,{set_neverEmpty:"set_neverEmpty",set_density:"set_density",set_renderTexture:"set_renderTexture",get_renderTexture:"get_renderTexture",set_textureTilePacker:"set_textureTilePacker",set_explicitRender:"set_explicitRender",set_autoRender:"set_autoRender",set_antialiasing:"set_antialiasing",set_stencil:"set_stencil",set_depthBuffer:"set_depthBuffer",set_textureFilter:"set_textureFilter",set_enabled:"set_enabled",set_hitVisual:"set_hitVisual",set_mesh:"set_mesh",set_textureId:"set_textureId"})});var ceramic_FontAsset=function(e,n,t){this.unobservedFont=null,this.fontAutoruns=null,this.pages=null,this.fontData=null,ceramic_Asset.call(this,"font",e,n,t),this.set_handleTexturesDensityChange(!0),this.assets=new ceramic_Assets};t["ceramic.FontAsset"]=ceramic_FontAsset,ceramic_FontAsset.__name__="ceramic.FontAsset",ceramic_FontAsset.__super__=ceramic_Asset,ceramic_FontAsset.prototype=$extend(ceramic_Asset.prototype,{emitReplaceFont:function(e,n){var t=0;if(null!=this.__cbOnReplaceFont&&(t+=this.__cbOnReplaceFont.length),null!=this.__cbOnceReplaceFont&&(t+=this.__cbOnceReplaceFont.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnReplaceFont)for(var l=0,a=this.__cbOnReplaceFont.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnReplaceFont[o],++r):--t}if(null!=this.__cbOnceReplaceFont){var h=null,c=null;for(l=0,a=this.__cbOnceReplaceFont.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceReplaceFont[o],this.__cbOnceReplaceFont[o]=null;var u=this.__cbOnceOwnerUnbindReplaceFont[o];this.__cbOnceOwnerUnbindReplaceFont[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindReplaceFont[o]),c.push(this.__cbOnceReplaceFont[o])}this.__cbOnceOwnerUnbindReplaceFont=h,this.__cbOnceReplaceFont=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onReplaceFont:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event replaceFont because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReplaceFont(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindReplaceFont&&(this.__cbOnOwnerUnbindReplaceFont=[]),this.__cbOnOwnerUnbindReplaceFont.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindReplaceFont&&(this.__cbOnOwnerUnbindReplaceFont=[]),this.__cbOnOwnerUnbindReplaceFont.push(null);null==this.__cbOnReplaceFont&&(this.__cbOnReplaceFont=[]),this.__cbOnReplaceFont.push(n)},onceReplaceFont:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event replaceFont because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReplaceFont(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindReplaceFont&&(this.__cbOnceOwnerUnbindReplaceFont=[]),this.__cbOnceOwnerUnbindReplaceFont.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindReplaceFont&&(this.__cbOnceOwnerUnbindReplaceFont=[]),this.__cbOnceOwnerUnbindReplaceFont.push(null);null==this.__cbOnceReplaceFont&&(this.__cbOnceReplaceFont=[]),this.__cbOnceReplaceFont.push(n)},offReplaceFont:function(e){if(null!=e){var n;null!=this.__cbOnReplaceFont&&-1!=(n=this.__cbOnReplaceFont.indexOf(e))&&(this.__cbOnReplaceFont.splice(n,1),null!=(r=this.__cbOnOwnerUnbindReplaceFont[n])&&r(),this.__cbOnOwnerUnbindReplaceFont.splice(n,1)),null!=this.__cbOnceReplaceFont&&-1!=(n=this.__cbOnceReplaceFont.indexOf(e))&&(this.__cbOnceReplaceFont.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindReplaceFont[n])&&r(),this.__cbOnceOwnerUnbindReplaceFont.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReplaceFont){for(var t=0,i=this.__cbOnOwnerUnbindReplaceFont.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindReplaceFont[s])&&r()}this.__cbOnOwnerUnbindReplaceFont=null}if(null!=this.__cbOnceOwnerUnbindReplaceFont){for(t=0,i=this.__cbOnceOwnerUnbindReplaceFont.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindReplaceFont[s])&&r()}this.__cbOnceOwnerUnbindReplaceFont=null}this.__cbOnReplaceFont=null,this.__cbOnceReplaceFont=null}},listensReplaceFont:function(){return null!=this.__cbOnReplaceFont&&this.__cbOnReplaceFont.length>0||null!=this.__cbOnceReplaceFont&&this.__cbOnceReplaceFont.length>0},get_font:function(){var e=this.unobservedFont;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.fontAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.fontAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_font:function(e){var n=this.unobservedFont;if(this.unobservedFont=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFontChange(e,n);var t=this.fontAutoruns;if(null!=t){this.fontAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateFont:function(){var e=this.unobservedFont;this.emitFontChange(e,e);var n=this.fontAutoruns;if(null!=n){this.fontAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitFontChange:function(e,n){var t=0;if(null!=this.__cbOnFontChange&&(t+=this.__cbOnFontChange.length),null!=this.__cbOnceFontChange&&(t+=this.__cbOnceFontChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnFontChange)for(var l=0,a=this.__cbOnFontChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnFontChange[o],++r):--t}if(null!=this.__cbOnceFontChange){var h=null,c=null;for(l=0,a=this.__cbOnceFontChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceFontChange[o],this.__cbOnceFontChange[o]=null;var u=this.__cbOnceOwnerUnbindFontChange[o];this.__cbOnceOwnerUnbindFontChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindFontChange[o]),c.push(this.__cbOnceFontChange[o])}this.__cbOnceOwnerUnbindFontChange=h,this.__cbOnceFontChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onFontChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event fontChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFontChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFontChange&&(this.__cbOnOwnerUnbindFontChange=[]),this.__cbOnOwnerUnbindFontChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFontChange&&(this.__cbOnOwnerUnbindFontChange=[]),this.__cbOnOwnerUnbindFontChange.push(null);null==this.__cbOnFontChange&&(this.__cbOnFontChange=[]),this.__cbOnFontChange.push(n)},onceFontChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event fontChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFontChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFontChange&&(this.__cbOnceOwnerUnbindFontChange=[]),this.__cbOnceOwnerUnbindFontChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFontChange&&(this.__cbOnceOwnerUnbindFontChange=[]),this.__cbOnceOwnerUnbindFontChange.push(null);null==this.__cbOnceFontChange&&(this.__cbOnceFontChange=[]),this.__cbOnceFontChange.push(n)},offFontChange:function(e){if(null!=e){var n;null!=this.__cbOnFontChange&&-1!=(n=this.__cbOnFontChange.indexOf(e))&&(this.__cbOnFontChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFontChange[n])&&r(),this.__cbOnOwnerUnbindFontChange.splice(n,1)),null!=this.__cbOnceFontChange&&-1!=(n=this.__cbOnceFontChange.indexOf(e))&&(this.__cbOnceFontChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFontChange[n])&&r(),this.__cbOnceOwnerUnbindFontChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFontChange){for(var t=0,i=this.__cbOnOwnerUnbindFontChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindFontChange[s])&&r()}this.__cbOnOwnerUnbindFontChange=null}if(null!=this.__cbOnceOwnerUnbindFontChange){for(t=0,i=this.__cbOnceOwnerUnbindFontChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindFontChange[s])&&r()}this.__cbOnceOwnerUnbindFontChange=null}this.__cbOnFontChange=null,this.__cbOnceFontChange=null}},listensFontChange:function(){return null!=this.__cbOnFontChange&&this.__cbOnFontChange.length>0||null!=this.__cbOnceFontChange&&this.__cbOnceFontChange.length>0},load:function(){var e=this;null!=this.owner&&(this.assets.inheritRuntimeAssetsFromAssets(this.owner),this.assets.loadMethod=this.owner.loadMethod,this.assets.scheduleMethod=this.owner.scheduleMethod,this.assets.delayBetweenXAssets=this.owner.delayBetweenXAssets);for(var n=[],t=this.assets.iterator();t.hasNext();){var i=t.next();n.push(i)}if(this.set_status(o.LOADING),null==this.path)return ceramic_App.app.logger.warning("Cannot load font asset if path is undefined.",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:50,className:"ceramic.FontAsset",methodName:"load"}),this.set_status(o.BROKEN),void this.emitComplete(!1);ceramic_App.app.logger.info("Load font "+this.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:56,className:"ceramic.FontAsset",methodName:"load"}),this.assets.runtimeAssets=this.runtimeAssets,(t=new ceramic_TextAsset(this.name)).set_handleTexturesDensityChange(!1),t.set_path(this.path),this.assets.addAsset(t),this.assets.onceComplete(this,(function(i){var s=t.get_text(),r=ceramic_Path.directory(e.path);if(""==r&&(r="."),null!=s)try{e.fontData=ceramic_BitmapFontParser.parse(s),e.fontData.path=r;for(var l=new haxe_ds_StringMap,a=[],h=0,c=e.fontData.pages;h<c.length;){var u=c[h];++h;var _=u.file;""!=r&&(_=ceramic_Path.join([r,_]));var d=ceramic_Assets.decodePath(_),f=new ceramic_ImageAsset(d.name);f.set_handleTexturesDensityChange(!1),f.set_path(d.path),e.assets.addAsset(f),a.push(f)}e.assets.onceComplete(e,(function(t){if(t){for(var i=0;i<a.length;){var s=a[i];++i;var r=s.path,h=s.get_texture();l.h[r]=h}var c=e.get_font(),u=new ceramic_BitmapFont(e.fontData,l);if(u.id="font:"+e.path,u.asset=e,e.set_font(u),null!=c){e.emitReplaceFont(e.get_font(),c),c==ceramic_App.app.defaultFont&&(ceramic_App.app.defaultFont=e.get_font());i=0;for(var _=[].concat(ceramic_App.app.visuals);i<_.length;){var d=_[i];if(++i,d._lifecycleState>=0&&d instanceof ceramic_Text){var f=d;f.font==c&&f.set_font(e.get_font())}}c.asset=null,c.destroy()}for(i=0;i<n.length;){s=n[i];if(++i,s instanceof ceramic_ImageAsset){var p=s;-1==a.indexOf(p)&&s.destroy()}else s.destroy()}e.set_status(o.READY),e.emitComplete(!0),e.handleTexturesDensityChange&&e.checkTexturesDensity()}else e.set_status(o.BROKEN),ceramic_App.app.logger.error("Failed to load textures for font at path: "+e.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:171,className:"ceramic.FontAsset",methodName:"load"}),e.emitComplete(!1)})),e.assets.load(null,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:177,className:"ceramic.FontAsset",methodName:"load"})}catch(h){e.set_status(o.BROKEN),ceramic_App.app.logger.error("Failed to decode font data at path: "+e.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:181,className:"ceramic.FontAsset",methodName:"load"}),e.emitComplete(!1)}else e.set_status(o.BROKEN),ceramic_App.app.logger.error("Failed to load font data at path: "+e.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:187,className:"ceramic.FontAsset",methodName:"load"}),e.emitComplete(!1)})),this.assets.load(null,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:192,className:"ceramic.FontAsset",methodName:"load"})},texturesDensityDidChange:function(e,n){this.get_status()==o.READY&&this.checkTexturesDensity()},checkTexturesDensity:function(){if(null!=this.owner&&this.owner.reloadOnTextureDensityChange){var e=this.path;this.computePath(),e!=this.path&&(ceramic_App.app.logger.info("Reload font ("+e+" -> "+this.path+")",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:216,className:"ceramic.FontAsset",methodName:"checkTexturesDensity"}),this.load())}},assetFilesDidChange:function(e,n){var t=-1;Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]);var i=-1;Object.prototype.hasOwnProperty.call(e.h,this.path)&&(i=e.h[this.path]),i>t&&(ceramic_App.app.logger.info("Reload font (file has changed)",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FontAsset.hx",lineNumber:237,className:"ceramic.FontAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){if(!(this._lifecycleState<=-2)&&(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Asset.prototype.destroy.call(this),null!=this.get_font()&&(this.get_font().destroy(),this.set_font(null)),null!=this.pages)){for(var e=this.pages.h,n=Object.keys(e),t=n.length,i=0;i<t;){var s=n[i++];this.pages.h[s].destroy()}this.pages=null}},unbindEvents:function(){ceramic_Asset.prototype.unbindEvents.call(this),this.offReplaceFont(),this.offFontChange()},__class__:ceramic_FontAsset,__properties__:$extend(ceramic_Asset.prototype.__properties__,{set_font:"set_font",get_font:"get_font"})});var ceramic_Value=function(e){null!=e&&(this.value=e)};t["ceramic.Value"]=ceramic_Value,ceramic_Value.__name__="ceramic.Value",ceramic_Value.prototype={__class__:ceramic_Value};var ceramic_Fragment=function(e,n){null==n&&(n=!1),this.fragmentComponents=null,this.timeline=null,this.pendingLoads=0,this.autoUpdateTimeline=!0,this.resizable=!1,this.fragmentData=null,this.fps=30,this.assets=null,this.editedItems=!1,ceramic_Layer.call(this),this.editedItems=n,this.assets=e,this.entities=[],this.items=[]};t["ceramic.Fragment"]=ceramic_Fragment,ceramic_Fragment.__name__="ceramic.Fragment",ceramic_Fragment.cacheData=function(e){ceramic_Fragment.cachedFragmentData.h[e.id]=e},ceramic_Fragment.getData=function(e){return ceramic_Fragment.cachedFragmentData.h[e]},ceramic_Fragment.__super__=ceramic_Layer,ceramic_Fragment.prototype=$extend(ceramic_Layer.prototype,{emitFloatAChange:function(e,n){var t=0;if(null!=this.__cbOnFloatAChange&&(t+=this.__cbOnFloatAChange.length),null!=this.__cbOnceFloatAChange&&(t+=this.__cbOnceFloatAChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnFloatAChange)for(var l=0,a=this.__cbOnFloatAChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnFloatAChange[o],++r):--t}if(null!=this.__cbOnceFloatAChange){var h=null,c=null;for(l=0,a=this.__cbOnceFloatAChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceFloatAChange[o],this.__cbOnceFloatAChange[o]=null;var u=this.__cbOnceOwnerUnbindFloatAChange[o];this.__cbOnceOwnerUnbindFloatAChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindFloatAChange[o]),c.push(this.__cbOnceFloatAChange[o])}this.__cbOnceOwnerUnbindFloatAChange=h,this.__cbOnceFloatAChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onFloatAChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event floatAChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFloatAChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFloatAChange&&(this.__cbOnOwnerUnbindFloatAChange=[]),this.__cbOnOwnerUnbindFloatAChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFloatAChange&&(this.__cbOnOwnerUnbindFloatAChange=[]),this.__cbOnOwnerUnbindFloatAChange.push(null);null==this.__cbOnFloatAChange&&(this.__cbOnFloatAChange=[]),this.__cbOnFloatAChange.push(n)},onceFloatAChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event floatAChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFloatAChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFloatAChange&&(this.__cbOnceOwnerUnbindFloatAChange=[]),this.__cbOnceOwnerUnbindFloatAChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFloatAChange&&(this.__cbOnceOwnerUnbindFloatAChange=[]),this.__cbOnceOwnerUnbindFloatAChange.push(null);null==this.__cbOnceFloatAChange&&(this.__cbOnceFloatAChange=[]),this.__cbOnceFloatAChange.push(n)},offFloatAChange:function(e){if(null!=e){var n;null!=this.__cbOnFloatAChange&&-1!=(n=this.__cbOnFloatAChange.indexOf(e))&&(this.__cbOnFloatAChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFloatAChange[n])&&r(),this.__cbOnOwnerUnbindFloatAChange.splice(n,1)),null!=this.__cbOnceFloatAChange&&-1!=(n=this.__cbOnceFloatAChange.indexOf(e))&&(this.__cbOnceFloatAChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFloatAChange[n])&&r(),this.__cbOnceOwnerUnbindFloatAChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFloatAChange){for(var t=0,i=this.__cbOnOwnerUnbindFloatAChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindFloatAChange[s])&&r()}this.__cbOnOwnerUnbindFloatAChange=null}if(null!=this.__cbOnceOwnerUnbindFloatAChange){for(t=0,i=this.__cbOnceOwnerUnbindFloatAChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindFloatAChange[s])&&r()}this.__cbOnceOwnerUnbindFloatAChange=null}this.__cbOnFloatAChange=null,this.__cbOnceFloatAChange=null}},listensFloatAChange:function(){return null!=this.__cbOnFloatAChange&&this.__cbOnFloatAChange.length>0||null!=this.__cbOnceFloatAChange&&this.__cbOnceFloatAChange.length>0},emitFloatBChange:function(e,n){var t=0;if(null!=this.__cbOnFloatBChange&&(t+=this.__cbOnFloatBChange.length),null!=this.__cbOnceFloatBChange&&(t+=this.__cbOnceFloatBChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnFloatBChange)for(var l=0,a=this.__cbOnFloatBChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnFloatBChange[o],++r):--t}if(null!=this.__cbOnceFloatBChange){var h=null,c=null;for(l=0,a=this.__cbOnceFloatBChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceFloatBChange[o],this.__cbOnceFloatBChange[o]=null;var u=this.__cbOnceOwnerUnbindFloatBChange[o];this.__cbOnceOwnerUnbindFloatBChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindFloatBChange[o]),c.push(this.__cbOnceFloatBChange[o])}this.__cbOnceOwnerUnbindFloatBChange=h,this.__cbOnceFloatBChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onFloatBChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event floatBChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFloatBChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFloatBChange&&(this.__cbOnOwnerUnbindFloatBChange=[]),this.__cbOnOwnerUnbindFloatBChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFloatBChange&&(this.__cbOnOwnerUnbindFloatBChange=[]),this.__cbOnOwnerUnbindFloatBChange.push(null);null==this.__cbOnFloatBChange&&(this.__cbOnFloatBChange=[]),this.__cbOnFloatBChange.push(n)},onceFloatBChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event floatBChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFloatBChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFloatBChange&&(this.__cbOnceOwnerUnbindFloatBChange=[]),this.__cbOnceOwnerUnbindFloatBChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFloatBChange&&(this.__cbOnceOwnerUnbindFloatBChange=[]),this.__cbOnceOwnerUnbindFloatBChange.push(null);null==this.__cbOnceFloatBChange&&(this.__cbOnceFloatBChange=[]),this.__cbOnceFloatBChange.push(n)},offFloatBChange:function(e){if(null!=e){var n;null!=this.__cbOnFloatBChange&&-1!=(n=this.__cbOnFloatBChange.indexOf(e))&&(this.__cbOnFloatBChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFloatBChange[n])&&r(),this.__cbOnOwnerUnbindFloatBChange.splice(n,1)),null!=this.__cbOnceFloatBChange&&-1!=(n=this.__cbOnceFloatBChange.indexOf(e))&&(this.__cbOnceFloatBChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFloatBChange[n])&&r(),this.__cbOnceOwnerUnbindFloatBChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFloatBChange){for(var t=0,i=this.__cbOnOwnerUnbindFloatBChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindFloatBChange[s])&&r()}this.__cbOnOwnerUnbindFloatBChange=null}if(null!=this.__cbOnceOwnerUnbindFloatBChange){for(t=0,i=this.__cbOnceOwnerUnbindFloatBChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindFloatBChange[s])&&r()}this.__cbOnceOwnerUnbindFloatBChange=null}this.__cbOnFloatBChange=null,this.__cbOnceFloatBChange=null}},listensFloatBChange:function(){return null!=this.__cbOnFloatBChange&&this.__cbOnFloatBChange.length>0||null!=this.__cbOnceFloatBChange&&this.__cbOnceFloatBChange.length>0},emitFloatCChange:function(e,n){var t=0;if(null!=this.__cbOnFloatCChange&&(t+=this.__cbOnFloatCChange.length),null!=this.__cbOnceFloatCChange&&(t+=this.__cbOnceFloatCChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnFloatCChange)for(var l=0,a=this.__cbOnFloatCChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnFloatCChange[o],++r):--t}if(null!=this.__cbOnceFloatCChange){var h=null,c=null;for(l=0,a=this.__cbOnceFloatCChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceFloatCChange[o],this.__cbOnceFloatCChange[o]=null;var u=this.__cbOnceOwnerUnbindFloatCChange[o];this.__cbOnceOwnerUnbindFloatCChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindFloatCChange[o]),c.push(this.__cbOnceFloatCChange[o])}this.__cbOnceOwnerUnbindFloatCChange=h,this.__cbOnceFloatCChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onFloatCChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event floatCChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFloatCChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFloatCChange&&(this.__cbOnOwnerUnbindFloatCChange=[]),this.__cbOnOwnerUnbindFloatCChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFloatCChange&&(this.__cbOnOwnerUnbindFloatCChange=[]),this.__cbOnOwnerUnbindFloatCChange.push(null);null==this.__cbOnFloatCChange&&(this.__cbOnFloatCChange=[]),this.__cbOnFloatCChange.push(n)},onceFloatCChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event floatCChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFloatCChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFloatCChange&&(this.__cbOnceOwnerUnbindFloatCChange=[]),this.__cbOnceOwnerUnbindFloatCChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFloatCChange&&(this.__cbOnceOwnerUnbindFloatCChange=[]),this.__cbOnceOwnerUnbindFloatCChange.push(null);null==this.__cbOnceFloatCChange&&(this.__cbOnceFloatCChange=[]),this.__cbOnceFloatCChange.push(n)},offFloatCChange:function(e){if(null!=e){var n;null!=this.__cbOnFloatCChange&&-1!=(n=this.__cbOnFloatCChange.indexOf(e))&&(this.__cbOnFloatCChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFloatCChange[n])&&r(),this.__cbOnOwnerUnbindFloatCChange.splice(n,1)),null!=this.__cbOnceFloatCChange&&-1!=(n=this.__cbOnceFloatCChange.indexOf(e))&&(this.__cbOnceFloatCChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFloatCChange[n])&&r(),this.__cbOnceOwnerUnbindFloatCChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFloatCChange){for(var t=0,i=this.__cbOnOwnerUnbindFloatCChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindFloatCChange[s])&&r()}this.__cbOnOwnerUnbindFloatCChange=null}if(null!=this.__cbOnceOwnerUnbindFloatCChange){for(t=0,i=this.__cbOnceOwnerUnbindFloatCChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindFloatCChange[s])&&r()}this.__cbOnceOwnerUnbindFloatCChange=null}this.__cbOnFloatCChange=null,this.__cbOnceFloatCChange=null}},listensFloatCChange:function(){return null!=this.__cbOnFloatCChange&&this.__cbOnFloatCChange.length>0||null!=this.__cbOnceFloatCChange&&this.__cbOnceFloatCChange.length>0},emitFloatDChange:function(e,n){var t=0;if(null!=this.__cbOnFloatDChange&&(t+=this.__cbOnFloatDChange.length),null!=this.__cbOnceFloatDChange&&(t+=this.__cbOnceFloatDChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnFloatDChange)for(var l=0,a=this.__cbOnFloatDChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnFloatDChange[o],++r):--t}if(null!=this.__cbOnceFloatDChange){var h=null,c=null;for(l=0,a=this.__cbOnceFloatDChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceFloatDChange[o],this.__cbOnceFloatDChange[o]=null;var u=this.__cbOnceOwnerUnbindFloatDChange[o];this.__cbOnceOwnerUnbindFloatDChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindFloatDChange[o]),c.push(this.__cbOnceFloatDChange[o])}this.__cbOnceOwnerUnbindFloatDChange=h,this.__cbOnceFloatDChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onFloatDChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event floatDChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFloatDChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFloatDChange&&(this.__cbOnOwnerUnbindFloatDChange=[]),this.__cbOnOwnerUnbindFloatDChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFloatDChange&&(this.__cbOnOwnerUnbindFloatDChange=[]),this.__cbOnOwnerUnbindFloatDChange.push(null);null==this.__cbOnFloatDChange&&(this.__cbOnFloatDChange=[]),this.__cbOnFloatDChange.push(n)},onceFloatDChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event floatDChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFloatDChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFloatDChange&&(this.__cbOnceOwnerUnbindFloatDChange=[]),this.__cbOnceOwnerUnbindFloatDChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFloatDChange&&(this.__cbOnceOwnerUnbindFloatDChange=[]),this.__cbOnceOwnerUnbindFloatDChange.push(null);null==this.__cbOnceFloatDChange&&(this.__cbOnceFloatDChange=[]),this.__cbOnceFloatDChange.push(n)},offFloatDChange:function(e){if(null!=e){var n;null!=this.__cbOnFloatDChange&&-1!=(n=this.__cbOnFloatDChange.indexOf(e))&&(this.__cbOnFloatDChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFloatDChange[n])&&r(),this.__cbOnOwnerUnbindFloatDChange.splice(n,1)),null!=this.__cbOnceFloatDChange&&-1!=(n=this.__cbOnceFloatDChange.indexOf(e))&&(this.__cbOnceFloatDChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFloatDChange[n])&&r(),this.__cbOnceOwnerUnbindFloatDChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFloatDChange){for(var t=0,i=this.__cbOnOwnerUnbindFloatDChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindFloatDChange[s])&&r()}this.__cbOnOwnerUnbindFloatDChange=null}if(null!=this.__cbOnceOwnerUnbindFloatDChange){for(t=0,i=this.__cbOnceOwnerUnbindFloatDChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindFloatDChange[s])&&r()}this.__cbOnceOwnerUnbindFloatDChange=null}this.__cbOnFloatDChange=null,this.__cbOnceFloatDChange=null}},listensFloatDChange:function(){return null!=this.__cbOnFloatDChange&&this.__cbOnFloatDChange.length>0||null!=this.__cbOnceFloatDChange&&this.__cbOnceFloatDChange.length>0},emitLocation:function(e){var n=0;if(null!=this.__cbOnLocation&&(n+=this.__cbOnLocation.length),null!=this.__cbOnceLocation&&(n+=this.__cbOnceLocation.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnLocation)for(var r=0,l=this.__cbOnLocation.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnLocation[a],++s):--n}if(null!=this.__cbOnceLocation){var o=null,h=null;for(r=0,l=this.__cbOnceLocation.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceLocation[a],this.__cbOnceLocation[a]=null;var c=this.__cbOnceOwnerUnbindLocation[a];this.__cbOnceOwnerUnbindLocation[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindLocation[a]),h.push(this.__cbOnceLocation[a])}this.__cbOnceOwnerUnbindLocation=o,this.__cbOnceLocation=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onLocation:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event location because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offLocation(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindLocation&&(this.__cbOnOwnerUnbindLocation=[]),this.__cbOnOwnerUnbindLocation.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindLocation&&(this.__cbOnOwnerUnbindLocation=[]),this.__cbOnOwnerUnbindLocation.push(null);null==this.__cbOnLocation&&(this.__cbOnLocation=[]),this.__cbOnLocation.push(n)},onceLocation:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event location because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offLocation(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindLocation&&(this.__cbOnceOwnerUnbindLocation=[]),this.__cbOnceOwnerUnbindLocation.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindLocation&&(this.__cbOnceOwnerUnbindLocation=[]),this.__cbOnceOwnerUnbindLocation.push(null);null==this.__cbOnceLocation&&(this.__cbOnceLocation=[]),this.__cbOnceLocation.push(n)},offLocation:function(e){if(null!=e){var n;null!=this.__cbOnLocation&&-1!=(n=this.__cbOnLocation.indexOf(e))&&(this.__cbOnLocation.splice(n,1),null!=(r=this.__cbOnOwnerUnbindLocation[n])&&r(),this.__cbOnOwnerUnbindLocation.splice(n,1)),null!=this.__cbOnceLocation&&-1!=(n=this.__cbOnceLocation.indexOf(e))&&(this.__cbOnceLocation.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindLocation[n])&&r(),this.__cbOnceOwnerUnbindLocation.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindLocation){for(var t=0,i=this.__cbOnOwnerUnbindLocation.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindLocation[s])&&r()}this.__cbOnOwnerUnbindLocation=null}if(null!=this.__cbOnceOwnerUnbindLocation){for(t=0,i=this.__cbOnceOwnerUnbindLocation.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindLocation[s])&&r()}this.__cbOnceOwnerUnbindLocation=null}this.__cbOnLocation=null,this.__cbOnceLocation=null}},listensLocation:function(){return null!=this.__cbOnLocation&&this.__cbOnLocation.length>0||null!=this.__cbOnceLocation&&this.__cbOnceLocation.length>0},set_autoUpdateTimeline:function(e){return this.autoUpdateTimeline!=e&&(this.autoUpdateTimeline=e,null!=this.timeline&&this.timeline.set_autoUpdate(e)),e},emitReady:function(){var e=0;if(null!=this.__cbOnReady&&(e+=this.__cbOnReady.length),null!=this.__cbOnceReady&&(e+=this.__cbOnceReady.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnReady)for(var s=0,r=this.__cbOnReady.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnReady[l],++i):--e}if(null!=this.__cbOnceReady){var a=null,o=null;for(s=0,r=this.__cbOnceReady.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceReady[l],this.__cbOnceReady[l]=null;var h=this.__cbOnceOwnerUnbindReady[l];this.__cbOnceOwnerUnbindReady[l]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],o=[],[]),a.push(this.__cbOnceOwnerUnbindReady[l]),o.push(this.__cbOnceReady[l])}this.__cbOnceOwnerUnbindReady=a,this.__cbOnceReady=o}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onReady:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event ready because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReady(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindReady&&(this.__cbOnOwnerUnbindReady=[]),this.__cbOnOwnerUnbindReady.push(null);null==this.__cbOnReady&&(this.__cbOnReady=[]),this.__cbOnReady.push(n)},onceReady:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event ready because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReady(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindReady&&(this.__cbOnceOwnerUnbindReady=[]),this.__cbOnceOwnerUnbindReady.push(null);null==this.__cbOnceReady&&(this.__cbOnceReady=[]),this.__cbOnceReady.push(n)},offReady:function(e){if(null!=e){var n;null!=this.__cbOnReady&&-1!=(n=this.__cbOnReady.indexOf(e))&&(this.__cbOnReady.splice(n,1),null!=(r=this.__cbOnOwnerUnbindReady[n])&&r(),this.__cbOnOwnerUnbindReady.splice(n,1)),null!=this.__cbOnceReady&&-1!=(n=this.__cbOnceReady.indexOf(e))&&(this.__cbOnceReady.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindReady[n])&&r(),this.__cbOnceOwnerUnbindReady.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReady){for(var t=0,i=this.__cbOnOwnerUnbindReady.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindReady[s])&&r()}this.__cbOnOwnerUnbindReady=null}if(null!=this.__cbOnceOwnerUnbindReady){for(t=0,i=this.__cbOnceOwnerUnbindReady.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindReady[s])&&r()}this.__cbOnceOwnerUnbindReady=null}this.__cbOnReady=null,this.__cbOnceReady=null}},listensReady:function(){return null!=this.__cbOnReady&&this.__cbOnReady.length>0||null!=this.__cbOnceReady&&this.__cbOnceReady.length>0},set_fragmentData:function(e){var n=this;this.pendingLoads++,this.fragmentData=e;var t=Object.create(null);if(null!=e){if(this.set_width(e.width),this.set_height(e.height),null!=e.color?this.color=e.color:this.color=0,null!=e.transparent){var i=e.transparent;this.flags=i?16|this.flags:-17&this.flags}else this.flags|=16;if(null!=e.items)for(var s=0,r=e.items;s<r.length;){var l=r[s];++s,this.putItem(l),t[l.id]=!0}}if(null==e||Object.prototype.hasOwnProperty.call(e,"items")){var a=null;for(s=0,r=this.entities;s<r.length;){var o=r[s];++s,Object.prototype.hasOwnProperty.call(t,o.id)||(null==a&&(a=[]),a.push(o.id))}if(null!=a)for(s=0;s<a.length;){var h=a[s];++s,this.removeItem(h)}}null!=e&&(this.pendingLoads++,ceramic_App.app.converters.h["ceramic.ReadOnlyMap<String,ceramic.Component>"].basicToField(this,"components",this.assets,e.components,(function(e){n._lifecycleState<0||(n.pendingLoads--,n.onceReady(n,(function(){n.set_fragmentComponents(e)})),0==n.pendingLoads&&n.emitReady())})));null!=e&&null!=e.fps&&this.set_fps(e.fps);var c=null;if(null!=e&&null!=e.tracks){for(s=0,r=e.tracks;s<r.length;){var u=r[s];++s,null==c&&(c=new haxe_ds_StringMap),c.h[u.entity+"#"+u.field]=!0,this.putTrack(null,u)}if(null!=this.timeline&&this.timeline.tracks.length>0)for(s=0,r=[].concat(this.timeline.tracks);s<r.length;){var _=r[s];if(++s,null==c||!Object.prototype.hasOwnProperty.call(c.h,_.id)){var d=_.id.split("#");2==d.length?this.removeTrack(d[0],d[1]):ceramic_App.app.logger.warning("Cannot remove track with unhandled id: "+_.id,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:227,className:"ceramic.Fragment",methodName:"set_fragmentData"})}}}var f=null;if(null!=e&&null!=e.labels){var p=e.labels;for(s=0,r=Reflect.fields(p);s<r.length;){var b=r[s];++s,null==f&&(f=new haxe_ds_StringMap),f.h[b]=!0;var y=p[b];this.putLabel(y,b)}if(null!=this.timeline&&null!=this.timeline.labels)for(s=0,r=[].concat(this.timeline.labels);s<r.length;){var g=r[s];++s,null!=f&&Object.prototype.hasOwnProperty.call(f.h,g)||this.timeline.removeLabel(g)}}return this.pendingLoads--,0==this.pendingLoads&&this.emitReady(),e},set_fps:function(e){if(this.fps!=e&&(this.fps=e,null!=this.timeline&&(this.timeline.fps=e),null!=this.tracks))for(var n=0,t=this.tracks;n<t.length;){var i=t[n];++n,this.putTrack(null,i)}return e},putItem:function(e){var n=this.get(e.id),s=!1;if(null!=n){s=n instanceof ceramic_Visual;var r=js_Boot.getClass(n);e.entity!=r.__name__&&(this.removeItem(e.id),n=null)}else this.items.push(e);var l=e.entity,a=t[l],o=null!=n?n:null,h="ceramic.Fragment"==e.entity;if(null==o){var c=[];h&&(c.push(this.assets),c.push(!1)),o=Type.createInstance(a,c)}if(null==o)throw haxe_Exception.thrown("Failed to create instance of "+e.entity);(o.id=e.id,h)&&o.set_depthRange(1);if(null==o.get_data().name&&null!=e.name&&(o.get_data().name=e.name),null!=e.data&&null!=o.get_data())for(var u=0,_=Reflect.fields(e.data);u<_.length;){var d=_[u];++u,o.get_data()[d]=Reflect.field(e.data,d)}if(null!=e.props){var f=Reflect.fields(e.props);haxe_ds_ArraySort.sort(f,(function(e,n){return 0}));for(u=0;u<f.length;){var p=f[u];++u;var b=ceramic_FieldInfo.typeOf(e.entity,p),y=Reflect.field(e.props,p);if(null!=(C=null!=b?ceramic_App.app.converters.h[b]:null))this.putItemField(h,e,o,p,y,C);else{if(!Object.prototype.hasOwnProperty.call(ceramic_Fragment.basicTypes.h,b)){var g=i[b];if(null!=g){_=0;for(var O=g.__constructs__,x=new Array(O.length),v=0,m=O.length;v<m;){var w=v++;x[w]=O[w]._hx_name}for(var U=x;_<U.length;){l=U[_];if(++_,l.toLowerCase()==y.toLowerCase()){y=Type.createEnum(g,l);break}}}}Reflect.setProperty(o,p,y)}}var C;b=ceramic_FieldInfo.typeOf(e.entity,"components"),y=e.components;null!=(C=null!=b?ceramic_App.app.converters.h[b]:null)?this.putItemField(h,e,o,"components",y,C):ceramic_App.app.logger.warning("No converter found for field: components (type: "+b+")",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:378,className:"ceramic.Fragment",methodName:"putItem"})}return null==n&&("ceramic.Assets"==ceramic_FieldInfo.typeOf(e.entity,"assets")&&Reflect.setProperty(o,"assets",this.assets),this.entities.push(o)),o instanceof ceramic_Visual&&!s&&this.add(o),null==n&&this.putTracksForItem(e.id),o},putItemField:function(e,n,t,i,s,r){var l=this;this.pendingLoads++,r.basicToField(t,i,this.assets,s,(function(n){if(l.pendingLoads--,!(l._lifecycleState<0)){if(t._lifecycleState>=0)if(e&&"fragmentData"==i){var s=t;l.pendingLoads++,s.onceReady(l,(function(){l.pendingLoads--,l._lifecycleState<0||0==l.pendingLoads&&l.emitReady()})),s.set_fragmentData(n)}else"components"!=i?Reflect.setProperty(t,i,n):l.onceReady(l,(function(){var e=null;if(null!=n&&null!=(e=n))for(var i=e.h,s=Object.keys(i),r=s.length,l=0;l<r;){var a=s[l++],o=e.h[a];null!=o&&t.component(a,o)}}));0==l.pendingLoads&&l.emitReady()}}))},get:function(e){for(var n=0,t=this.entities;n<t.length;){var i=t[n];if(++n,i.id==e)return i}return null},getItemInstanceByName:function(e){for(var n=0,t=this.entities;n<t.length;){var i=t[n];if(++n,i.get_data().name==e)return i}return null},getItem:function(e){for(var n=0,t=this.items;n<t.length;){var i=t[n];if(++n,i.id==e)return i}return null},getItemByName:function(e){for(var n=0,t=this.items;n<t.length;){var i=t[n];if(++n,i.name==e)return i}return null},typeOfItem:function(e){var n=this.getItem(e);return null!=n?n.entity:(ceramic_App.app.logger.warning("Failed to resolve entity type for item "+e,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:546,className:"ceramic.Fragment",methodName:"typeOfItem"}),null)},removeItem:function(e){for(var n=0,t=this.entities;n<t.length;){var i=t[n];if(++n,i.id==e){HxOverrides.remove(this.entities,i),i.destroy();break}}for(n=0,t=this.items;n<t.length;){var s=t[n];if(++n,s.id==e){HxOverrides.remove(this.items,s);break}}},removeAllItems:function(){for(var e=0,n=[].concat(this.entities);e<n.length;){var t=n[e];++e,HxOverrides.remove(this.entities,t),t.destroy()}for(e=0,n=[].concat(this.items);e<n.length;){var i=n[e];++e,HxOverrides.remove(this.items,i)}},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Layer.prototype.destroy.call(this),null!=this.timeline&&(this.timeline.destroy(),this.timeline=null),this.removeAllItems())},set_components:function(e){if(this._components==e)return e;if(null!=this._components){s=this._components.h;for(var n=(r=Object.keys(s)).length,t=0;t<n;){var i=r[t++];null!=e&&Object.prototype.hasOwnProperty.call(e.h,i)||null!=this.fragmentComponents&&Object.prototype.hasOwnProperty.call(this.fragmentComponents.h,i)||this.removeComponent(i)}}if(null!=e){var s,r;for(s=e.h,n=(r=Object.keys(s)).length,t=0;t<n;){i=r[t++];var l=e.h[i];if(null!=this._components){var a=this._components.h[i];null!=a?a!=l&&(this.removeComponent(i),this.component(i,l)):this.component(i,l)}else this.component(i,l)}}return this._components=e,e},set_fragmentComponents:function(e){if(this.fragmentComponents==e)return e;if(null!=this.fragmentComponents){s=this.fragmentComponents.h;for(var n=(r=Object.keys(s)).length,t=0;t<n;){var i=r[t++];null!=e&&Object.prototype.hasOwnProperty.call(e.h,i)||this.removeComponent(i)}}if(null!=e){var s,r;for(s=e.h,n=(r=Object.keys(s)).length,t=0;t<n;){i=r[t++];var l=e.h[i];if(null!=this.fragmentComponents){var a=this.fragmentComponents.h[i];null!=a?a!=l&&(this.removeComponent(i),this.component(i,l)):this.component(i,l)}else this.component(i,l)}}return this.fragmentComponents=e,e},isManagedComponent:function(){},putTrack:function(e,n){var t=null;if(null==(x=this.getTrack(n.entity,n.field)))null==this.tracks&&(this.tracks=[]),this.tracks.push(n);else{t=new haxe_ds_IntMap;for(var i=0,s=x.keyframes;i<s.length;){var r=s[i];++i,t.h[r.index]=!0}var l=this.tracks.indexOf(x);this.tracks[l]=n}var a=n.entity,o=this.get(a);if(null!=n.keyframes&&n.keyframes.length>0){this.createTimelineIfNeeded();var h=n.field,c=a+"#"+h,u=n.options;if(null==e&&(e=this.typeOfItem(n.entity)),null==e)return void ceramic_App.app.logger.warning("Cannot update timeline track "+c+": failed to resolve entity type",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:764,className:"ceramic.Fragment",methodName:"putTrack"});var _=ceramic_FieldInfo.types(e),d=null!=_?_.h[h]:null;if(null==d)return void ceramic_App.app.logger.warning("Cannot update timeline track "+c+": failed to resolve info for "+h+" of entity type "+e,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:770,className:"ceramic.Fragment",methodName:"putTrack"});var f=this.timeline.get(c);if(null==f){if(null==o)return void ceramic_App.app.logger.warning("Failed to create timeline track "+c+" because there is no entity with id "+n.entity,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:778,className:"ceramic.Fragment",methodName:"putTrack"});if(ceramic_Fragment._trackResult.value=null,ceramic_App.app.timelines.emitCreateTrack(d,u,ceramic_Fragment._trackResult),null==(f=ceramic_Fragment._trackResult.value))return void ceramic_App.app.logger.warning("Failed to create timeline track "+c+" for "+h+" of entity type "+e,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:786,className:"ceramic.Fragment",methodName:"putTrack"});o.onDestroy(f,(function(e){f.destroy()})),f.id=c,ceramic_App.app.timelines.emitBindTrack(d,u,f,o,h),this.timeline.add(f)}if(f.loop=n.loop,ceramic_Fragment._usedKeyframes.length>0){for(i=0,s=ceramic_Fragment._usedKeyframes.length;i<s;){var p=i++;ceramic_Fragment._usedKeyframes[p]=null}if(0!=(C=ceramic_Fragment._usedKeyframes).length)if(C.length>0)C.splice(0,C.length);else for(var b=C;b.length<0;)b.push(null)}var y=-1,g=!0;for(i=0,s=n.keyframes;i<s.length;){r=s[i];++i;var O=r.index;O<y&&(g=!1),y=O;var x=f.findKeyframeAtIndex(O);if(ceramic_Fragment._keyframeResult.value=null,ceramic_App.app.timelines.emitCreateKeyframe(d,u,r.value,O,ceramic_EasingUtils.easingFromString(r.easing),x,ceramic_Fragment._keyframeResult),null==(U=ceramic_Fragment._keyframeResult.value))return void ceramic_App.app.logger.warning("Failed to create or update keyframe #"+Std.string($bind(this,this.frame))+" of track "+c+" for field "+h+" of entity type "+e,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:843,className:"ceramic.Fragment",methodName:"putTrack"});ceramic_Fragment._usedKeyframes.push(U),null!=x?x!=U&&(f.remove(x),f.add(U)):f.add(U)}var v=null,m=f.keyframes;if(g){var w=0;for(i=0,s=m.length;i<s;){var U=m[p=i++];ceramic_Fragment._usedKeyframes[w]==U?++w:(null==v&&(v=[]),v.push(U))}}else{ceramic_App.app.logger.warning("Input keyframe array should be sorted by time in ascending order!",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Fragment.hx",lineNumber:873,className:"ceramic.Fragment",methodName:"putTrack"});for(i=0,s=m.length;i<s;){U=m[p=i++];-1==ceramic_Fragment._usedKeyframes.indexOf(U)&&(null==v&&(v=[]),v.push(U))}}if(null!=v){for(i=0;i<v.length;){U=v[i];++i,f.remove(U)}v=null}if(ceramic_Fragment._usedKeyframes.length>0){for(i=0,s=ceramic_Fragment._usedKeyframes.length;i<s;){p=i++;ceramic_Fragment._usedKeyframes[p]=null}var C;if(0!=(C=ceramic_Fragment._usedKeyframes).length)if(C.length>0)C.splice(0,C.length);else for(b=C;b.length<0;)b.push(null)}f.apply()}},putTracksForItem:function(e){if(null!=this.tracks)for(var n=0,t=this.tracks.length;n<t;){var i=n++,s=this.tracks[i];s.entity==e&&this.putTrack(null,s)}},getTrack:function(e,n){if(null!=this.tracks)for(var t=0,i=this.tracks;t<i.length;){var s=i[t];if(++t,s.entity==e&&s.field==n)return s}return null},removeTrack:function(e,n){if(null!=this.tracks){for(var t=-1,i=0,s=this.tracks.length;i<s;){var r=i++,l=this.tracks[r];if(l.entity==e&&l.field==n){t=r;break}}if(-1!=t&&(this.tracks.splice(t,1),null!=this.timeline)){var a=e+"#"+n,o=this.timeline.get(a);null!=o&&(this.timeline.remove(o),o.destroy())}}},createTimelineIfNeeded:function(){null==this.timeline&&(this.timeline=new ceramic_Timeline,this.timeline.fps=this.fps,this.timeline.set_autoUpdate(this.autoUpdateTimeline))},putLabel:function(e,n){this.createTimelineIfNeeded(),this.timeline.setLabel(e,n)},indexOfLabel:function(e){return null!=this.timeline?this.timeline.indexOfLabel(e):-1},labelAtIndex:function(e){return null!=this.timeline?this.timeline.labelAtIndex(e):null},removeLabel:function(e){null!=this.timeline&&this.timeline.removeLabel(e)},removeLabelAtIndex:function(e){null!=this.timeline&&this.timeline.removeLabelAtIndex(e)},get_paused:function(){return null!=this.timeline&&this.timeline.paused},set_paused:function(e){return(null!=this.timeline&&this.timeline.paused)!=e&&(this.createTimelineIfNeeded(),this.timeline.set_paused(e)),e},unbindEvents:function(){ceramic_Layer.prototype.unbindEvents.call(this),this.offFloatAChange(),this.offFloatBChange(),this.offFloatCChange(),this.offFloatDChange(),this.offLocation(),this.offReady()},__class__:ceramic_Fragment,__properties__:$extend(ceramic_Layer.prototype.__properties__,{set_paused:"set_paused",get_paused:"get_paused",set_fragmentComponents:"set_fragmentComponents",set_autoUpdateTimeline:"set_autoUpdateTimeline",set_fragmentData:"set_fragmentData",set_fps:"set_fps"})});var ceramic_FragmentsAsset=function(e,n,t){this.unobservedFragments=null,this.fragmentsAutoruns=null,ceramic_Asset.call(this,"fragments",e,n,t)};t["ceramic.FragmentsAsset"]=ceramic_FragmentsAsset,ceramic_FragmentsAsset.__name__="ceramic.FragmentsAsset",ceramic_FragmentsAsset.__super__=ceramic_Asset,ceramic_FragmentsAsset.prototype=$extend(ceramic_Asset.prototype,{get_fragments:function(){var e=this.unobservedFragments;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.fragmentsAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.fragmentsAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_fragments:function(e){var n=this.unobservedFragments;if(this.unobservedFragments=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFragmentsChange(e,n);var t=this.fragmentsAutoruns;if(null!=t){this.fragmentsAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateFragments:function(){var e=this.unobservedFragments;this.emitFragmentsChange(e,e);var n=this.fragmentsAutoruns;if(null!=n){this.fragmentsAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitFragmentsChange:function(e,n){var t=0;if(null!=this.__cbOnFragmentsChange&&(t+=this.__cbOnFragmentsChange.length),null!=this.__cbOnceFragmentsChange&&(t+=this.__cbOnceFragmentsChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnFragmentsChange)for(var l=0,a=this.__cbOnFragmentsChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnFragmentsChange[o],++r):--t}if(null!=this.__cbOnceFragmentsChange){var h=null,c=null;for(l=0,a=this.__cbOnceFragmentsChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceFragmentsChange[o],this.__cbOnceFragmentsChange[o]=null;var u=this.__cbOnceOwnerUnbindFragmentsChange[o];this.__cbOnceOwnerUnbindFragmentsChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindFragmentsChange[o]),c.push(this.__cbOnceFragmentsChange[o])}this.__cbOnceOwnerUnbindFragmentsChange=h,this.__cbOnceFragmentsChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onFragmentsChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event fragmentsChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFragmentsChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFragmentsChange&&(this.__cbOnOwnerUnbindFragmentsChange=[]),this.__cbOnOwnerUnbindFragmentsChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFragmentsChange&&(this.__cbOnOwnerUnbindFragmentsChange=[]),this.__cbOnOwnerUnbindFragmentsChange.push(null);null==this.__cbOnFragmentsChange&&(this.__cbOnFragmentsChange=[]),this.__cbOnFragmentsChange.push(n)},onceFragmentsChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event fragmentsChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFragmentsChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFragmentsChange&&(this.__cbOnceOwnerUnbindFragmentsChange=[]),this.__cbOnceOwnerUnbindFragmentsChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFragmentsChange&&(this.__cbOnceOwnerUnbindFragmentsChange=[]),this.__cbOnceOwnerUnbindFragmentsChange.push(null);null==this.__cbOnceFragmentsChange&&(this.__cbOnceFragmentsChange=[]),this.__cbOnceFragmentsChange.push(n)},offFragmentsChange:function(e){if(null!=e){var n;null!=this.__cbOnFragmentsChange&&-1!=(n=this.__cbOnFragmentsChange.indexOf(e))&&(this.__cbOnFragmentsChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFragmentsChange[n])&&r(),this.__cbOnOwnerUnbindFragmentsChange.splice(n,1)),null!=this.__cbOnceFragmentsChange&&-1!=(n=this.__cbOnceFragmentsChange.indexOf(e))&&(this.__cbOnceFragmentsChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFragmentsChange[n])&&r(),this.__cbOnceOwnerUnbindFragmentsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFragmentsChange){for(var t=0,i=this.__cbOnOwnerUnbindFragmentsChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindFragmentsChange[s])&&r()}this.__cbOnOwnerUnbindFragmentsChange=null}if(null!=this.__cbOnceOwnerUnbindFragmentsChange){for(t=0,i=this.__cbOnceOwnerUnbindFragmentsChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindFragmentsChange[s])&&r()}this.__cbOnceOwnerUnbindFragmentsChange=null}this.__cbOnFragmentsChange=null,this.__cbOnceFragmentsChange=null}},listensFragmentsChange:function(){return null!=this.__cbOnFragmentsChange&&this.__cbOnFragmentsChange.length>0||null!=this.__cbOnceFragmentsChange&&this.__cbOnceFragmentsChange.length>0},load:function(){var e=this;if(this.set_status(o.LOADING),null==this.path)return ceramic_App.app.logger.warning("Cannot load fragments asset if path is undefined.",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:22,className:"ceramic.FragmentsAsset",methodName:"load"}),this.set_status(o.BROKEN),void this.emitComplete(!1);var n=this.path,t=ceramic_Assets.realAssetPath(n,this.runtimeAssets),i=ceramic_Assets.getReloadCount(t);i>0&&(t+="?hot="+i,n+="?hot="+i);var s={};null!=this.owner&&(s.immediate=this.owner.immediate,s.loadMethod=this.owner.loadMethod),ceramic_App.app.logger.info("Load fragments "+n,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:43,className:"ceramic.FragmentsAsset",methodName:"load"}),ceramic_App.app.backend.texts.load(t,s,(function(n){if(null!=n){try{e.set_fragments(JSON.parse(n))}catch(n){return e.set_status(o.BROKEN),ceramic_App.app.logger.error("Failed to parse fragments at path: "+e.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:51,className:"ceramic.FragmentsAsset",methodName:"load"}),void e.emitComplete(!1)}e.set_status(o.READY),e.emitComplete(!0)}else e.set_status(o.BROKEN),ceramic_App.app.logger.error("Failed to load fragments at path: "+e.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:60,className:"ceramic.FragmentsAsset",methodName:"load"}),e.emitComplete(!1)}))},assetFilesDidChange:function(e,n){var t=-1;Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]);var i=-1;Object.prototype.hasOwnProperty.call(e.h,this.path)&&(i=e.h[this.path]),i>t&&(ceramic_App.app.logger.info("Reload fragments (file has changed)",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/FragmentsAsset.hx",lineNumber:83,className:"ceramic.FragmentsAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Asset.prototype.destroy.call(this),this.set_fragments(null))},unbindEvents:function(){ceramic_Asset.prototype.unbindEvents.call(this),this.offFragmentsChange()},__class__:ceramic_FragmentsAsset,__properties__:$extend(ceramic_Asset.prototype.__properties__,{set_fragments:"set_fragments",get_fragments:"get_fragments"})});var d={toString:function(e){switch(e){case 0:return"LEFT_X";case 1:return"LEFT_Y";case 2:return"RIGHT_X";case 3:return"RIGHT_Y";case 4:return"LEFT_TRIGGER";case 5:return"RIGHT_TRIGGER";default:return""+e}}},f={toString:function(e){switch(e){case 0:return"A";case 1:return"B";case 2:return"X";case 3:return"Y";case 4:return"L1";case 5:return"R1";case 6:return"L2";case 7:return"R2";case 8:return"SELECT";case 9:return"START";case 10:return"L3";case 11:return"R3";case 12:return"DPAD_UP";case 13:return"DPAD_DOWN";case 14:return"DPAD_LEFT";case 15:return"DPAD_RIGHT";default:return""+e}}},ceramic_GeometryUtils=function(){};t["ceramic.GeometryUtils"]=ceramic_GeometryUtils,ceramic_GeometryUtils.__name__="ceramic.GeometryUtils",ceramic_GeometryUtils.pointInTriangle=function(e,n,t,i,s,r,l,a){var o=(e-s)*(i-r)-(t-s)*(n-r),h=(e-l)*(r-a)-(s-l)*(n-a),c=(e-t)*(a-i)-(l-t)*(n-i);return!((o<0||h<0||c<0)&&(o>0||h>0||c>0))},ceramic_GeometryUtils.pointInRectangle=function(e,n,t,i,s,r){return!(e<t)&&(!(n<i)&&(!(e>=t+s)&&!(n>=i+r)))},ceramic_GeometryUtils.pointInCircle=function(e,n,t,i,s){return(e-t)*(e-t)+(n-i)*(n-i)<=s*s},ceramic_GeometryUtils.distance=function(e,n,t,i){var s=t-e,r=i-n;return Math.sqrt(s*s+r*r)},ceramic_GeometryUtils.squareDistance=function(e,n,t,i){var s=t-e,r=i-n;return s*s+r*r},ceramic_GeometryUtils.angleTo=function(e,n,t,i){var s=57.29577951308232*Math.atan2(i-n,t-e)+90;return s<0?s+=360:s>=360&&(s-=360),s},ceramic_GeometryUtils.angleDelta=function(e,n){for(var t=e;t<0;)t+=360;for(;t>=360;)t-=360;e=t;for(t=n;t<0;)t+=360;for(;t>=360;)t-=360;var i=(n=t)-e;return i>180?n-=360:i<-180&&(n+=360),n-e},ceramic_GeometryUtils.clampDegrees=function(e){for(;e<0;)e+=360;for(;e>=360;)e-=360;return e},ceramic_GeometryUtils.angleDirection=function(e,n){var t=.017453292519943295*(e-90);return n.x=Math.cos(t),n.y=Math.sin(t),n};var ceramic_GlyphQuad=function(){this.glyphAdvance=-1,this.glyphY=-1,this.glyphX=-1,this.code=-1,this.line=-1,this.posInLine=-1,this.index=-1,this.glyph=null,this.char=null,ceramic_Quad.call(this)};t["ceramic.GlyphQuad"]=ceramic_GlyphQuad,ceramic_GlyphQuad.__name__="ceramic.GlyphQuad",ceramic_GlyphQuad.__super__=ceramic_Quad,ceramic_GlyphQuad.prototype=$extend(ceramic_Quad.prototype,{emitClear:function(e){var n=0;if(null!=this.__cbOnClear&&(n+=this.__cbOnClear.length),null!=this.__cbOnceClear&&(n+=this.__cbOnceClear.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnClear)for(var r=0,l=this.__cbOnClear.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnClear[a],++s):--n}if(null!=this.__cbOnceClear){var o=null,h=null;for(r=0,l=this.__cbOnceClear.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceClear[a],this.__cbOnceClear[a]=null;var c=this.__cbOnceOwnerUnbindClear[a];this.__cbOnceOwnerUnbindClear[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindClear[a]),h.push(this.__cbOnceClear[a])}this.__cbOnceOwnerUnbindClear=o,this.__cbOnceClear=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onClear:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event clear because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offClear(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindClear&&(this.__cbOnOwnerUnbindClear=[]),this.__cbOnOwnerUnbindClear.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindClear&&(this.__cbOnOwnerUnbindClear=[]),this.__cbOnOwnerUnbindClear.push(null);null==this.__cbOnClear&&(this.__cbOnClear=[]),this.__cbOnClear.push(n)},onceClear:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event clear because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offClear(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindClear&&(this.__cbOnceOwnerUnbindClear=[]),this.__cbOnceOwnerUnbindClear.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindClear&&(this.__cbOnceOwnerUnbindClear=[]),this.__cbOnceOwnerUnbindClear.push(null);null==this.__cbOnceClear&&(this.__cbOnceClear=[]),this.__cbOnceClear.push(n)},offClear:function(e){if(null!=e){var n;null!=this.__cbOnClear&&-1!=(n=this.__cbOnClear.indexOf(e))&&(this.__cbOnClear.splice(n,1),null!=(r=this.__cbOnOwnerUnbindClear[n])&&r(),this.__cbOnOwnerUnbindClear.splice(n,1)),null!=this.__cbOnceClear&&-1!=(n=this.__cbOnceClear.indexOf(e))&&(this.__cbOnceClear.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindClear[n])&&r(),this.__cbOnceOwnerUnbindClear.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindClear){for(var t=0,i=this.__cbOnOwnerUnbindClear.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindClear[s])&&r()}this.__cbOnOwnerUnbindClear=null}if(null!=this.__cbOnceOwnerUnbindClear){for(t=0,i=this.__cbOnceOwnerUnbindClear.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindClear[s])&&r()}this.__cbOnceOwnerUnbindClear=null}this.__cbOnClear=null,this.__cbOnceClear=null}},listensClear:function(){return null!=this.__cbOnClear&&this.__cbOnClear.length>0||null!=this.__cbOnceClear&&this.__cbOnceClear.length>0},toString:function(){return"GlyphQuad(c="+this.char+",i="+this.index+",l="+this.line+",x="+this.glyphX+",y="+this.glyphY+")"},clear:function(){this.emitClear(this),ceramic_Quad.prototype.clear.call(this)},unbindEvents:function(){ceramic_Quad.prototype.unbindEvents.call(this),this.offClear()},__class__:ceramic_GlyphQuad});var ceramic_Group=function(e){this.items=[],ceramic_Entity.call(this),null!=e&&(this.id=e),ceramic_App.app.groups.push(this)};t["ceramic.Group"]=ceramic_Group,ceramic_Group.__name__="ceramic.Group",ceramic_Group.__super__=ceramic_Entity,ceramic_Group.prototype=$extend(ceramic_Entity.prototype,{add:function(e){var n=this.items;-1!=n.indexOf(e)?ceramic_App.app.logger.warning("Cannot add item "+Std.string(e)+" to group, already inside group",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Group.hx",lineNumber:42,className:"ceramic.Group",methodName:"add"}):(n.push(e),e.onDestroy(this,$bind(this,this.itemDestroyed)))},remove:function(e){var n=this.items,t=n.indexOf(e);-1!=t?(n.splice(t,1),e.offDestroy($bind(this,this.itemDestroyed))):ceramic_App.app.logger.warning("Cannot remove item "+Std.string(e)+" from group, index is -1",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Group.hx",lineNumber:61,className:"ceramic.Group",methodName:"remove"})},contains:function(e){return-1!=this.items.indexOf(e)},itemDestroyed:function(e){this.remove(e)},clear:function(){var e=this.items;if(e.length>0){for(var n=e.length,t=ceramic_ArrayPool.pool(n),i=t.get(),s=0,r=n;s<r;){var l=s++;i.vector[l]=e[l]}for(s=0,r=n;s<r;){l=s++;var a=i.vector[l];a.offDestroy($bind(this,this.itemDestroyed)),a.destroy()}if(0!=e.length)if(e.length>0)e.splice(0,e.length);else for(var o=e;o.length<0;)o.push(null);t.release(i)}},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),HxOverrides.remove(ceramic_App.app.groups,this),this.clear())},__class__:ceramic_Group});var ceramic_HashedString=function(){};t["ceramic.HashedString"]=ceramic_HashedString,ceramic_HashedString.__name__="ceramic.HashedString",ceramic_HashedString.encode=function(e){return haxe_crypto_Md5.encode(e)+""+e.length+";"+e},ceramic_HashedString.append=function(e,n){return e+ceramic_HashedString.encode(n)},ceramic_HashedString.decode=function(e){ceramic_HashedString._lastDecodeIncomplete=!1;for(var n=0,t=e.length,i=null;n<t;){for(var s=e.substring(n,n+32),r=n+=32;r<t&&59!=HxOverrides.cca(e,r);)++r;var l=Std.parseInt(e.substring(n,r));if(null==l||l<=0){ceramic_App.app.logger.warning("Failed to parse all encoded string: invalid section length",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/HashedString.hx",lineNumber:63,className:"ceramic.HashedString",methodName:"decode"}),ceramic_HashedString._lastDecodeIncomplete=!0;break}n=r+1;var a=e.substring(n,n+l);if(null==a){ceramic_App.app.logger.warning("Failed to parse all encoded string: null section",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/HashedString.hx",lineNumber:72,className:"ceramic.HashedString",methodName:"decode"}),ceramic_HashedString._lastDecodeIncomplete=!0;break}if(haxe_crypto_Md5.encode(a)!=s){ceramic_App.app.logger.warning("Failed to parse all encoded string: section hash mismatch",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/HashedString.hx",lineNumber:77,className:"ceramic.HashedString",methodName:"decode"}),ceramic_HashedString._lastDecodeIncomplete=!0;break}n+=l,null==i&&(i=new StringBuf),i.b+=null==a?"null":""+a}return null!=i?i.b:(ceramic_App.app.logger.error("Invalid encoded string",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/HashedString.hx",lineNumber:95,className:"ceramic.HashedString",methodName:"decode"}),ceramic_HashedString._lastDecodeIncomplete=!0,null)},ceramic_HashedString.prototype={isLastDecodeIncomplete:function(){return ceramic_HashedString._lastDecodeIncomplete},__class__:ceramic_HashedString};var ceramic_ImageAsset=function(e,n,t){this.reloadBecauseOfDensityChange=!1,this.defaultImageOptions=null,this.unobservedTexture=null,this.textureAutoruns=null,ceramic_Asset.call(this,"image",e,n,t),this.set_handleTexturesDensityChange(!0)};t["ceramic.ImageAsset"]=ceramic_ImageAsset,ceramic_ImageAsset.__name__="ceramic.ImageAsset",ceramic_ImageAsset.__super__=ceramic_Asset,ceramic_ImageAsset.prototype=$extend(ceramic_Asset.prototype,{emitReplaceTexture:function(e,n){var t=0;if(null!=this.__cbOnReplaceTexture&&(t+=this.__cbOnReplaceTexture.length),null!=this.__cbOnceReplaceTexture&&(t+=this.__cbOnceReplaceTexture.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnReplaceTexture)for(var l=0,a=this.__cbOnReplaceTexture.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnReplaceTexture[o],++r):--t}if(null!=this.__cbOnceReplaceTexture){var h=null,c=null;for(l=0,a=this.__cbOnceReplaceTexture.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceReplaceTexture[o],this.__cbOnceReplaceTexture[o]=null;var u=this.__cbOnceOwnerUnbindReplaceTexture[o];this.__cbOnceOwnerUnbindReplaceTexture[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindReplaceTexture[o]),c.push(this.__cbOnceReplaceTexture[o])}this.__cbOnceOwnerUnbindReplaceTexture=h,this.__cbOnceReplaceTexture=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onReplaceTexture:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event replaceTexture because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReplaceTexture(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindReplaceTexture&&(this.__cbOnOwnerUnbindReplaceTexture=[]),this.__cbOnOwnerUnbindReplaceTexture.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindReplaceTexture&&(this.__cbOnOwnerUnbindReplaceTexture=[]),this.__cbOnOwnerUnbindReplaceTexture.push(null);null==this.__cbOnReplaceTexture&&(this.__cbOnReplaceTexture=[]),this.__cbOnReplaceTexture.push(n)},onceReplaceTexture:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event replaceTexture because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReplaceTexture(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindReplaceTexture&&(this.__cbOnceOwnerUnbindReplaceTexture=[]),this.__cbOnceOwnerUnbindReplaceTexture.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindReplaceTexture&&(this.__cbOnceOwnerUnbindReplaceTexture=[]),this.__cbOnceOwnerUnbindReplaceTexture.push(null);null==this.__cbOnceReplaceTexture&&(this.__cbOnceReplaceTexture=[]),this.__cbOnceReplaceTexture.push(n)},offReplaceTexture:function(e){if(null!=e){var n;null!=this.__cbOnReplaceTexture&&-1!=(n=this.__cbOnReplaceTexture.indexOf(e))&&(this.__cbOnReplaceTexture.splice(n,1),null!=(r=this.__cbOnOwnerUnbindReplaceTexture[n])&&r(),this.__cbOnOwnerUnbindReplaceTexture.splice(n,1)),null!=this.__cbOnceReplaceTexture&&-1!=(n=this.__cbOnceReplaceTexture.indexOf(e))&&(this.__cbOnceReplaceTexture.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindReplaceTexture[n])&&r(),this.__cbOnceOwnerUnbindReplaceTexture.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReplaceTexture){for(var t=0,i=this.__cbOnOwnerUnbindReplaceTexture.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindReplaceTexture[s])&&r()}this.__cbOnOwnerUnbindReplaceTexture=null}if(null!=this.__cbOnceOwnerUnbindReplaceTexture){for(t=0,i=this.__cbOnceOwnerUnbindReplaceTexture.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindReplaceTexture[s])&&r()}this.__cbOnceOwnerUnbindReplaceTexture=null}this.__cbOnReplaceTexture=null,this.__cbOnceReplaceTexture=null}},listensReplaceTexture:function(){return null!=this.__cbOnReplaceTexture&&this.__cbOnReplaceTexture.length>0||null!=this.__cbOnceReplaceTexture&&this.__cbOnceReplaceTexture.length>0},get_texture:function(){var e=this.unobservedTexture;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.textureAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.textureAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_texture:function(e){var n=this.unobservedTexture;if(this.unobservedTexture=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTextureChange(e,n);var t=this.textureAutoruns;if(null!=t){this.textureAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateTexture:function(){var e=this.unobservedTexture;this.emitTextureChange(e,e);var n=this.textureAutoruns;if(null!=n){this.textureAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitTextureChange:function(e,n){var t=0;if(null!=this.__cbOnTextureChange&&(t+=this.__cbOnTextureChange.length),null!=this.__cbOnceTextureChange&&(t+=this.__cbOnceTextureChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnTextureChange)for(var l=0,a=this.__cbOnTextureChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnTextureChange[o],++r):--t}if(null!=this.__cbOnceTextureChange){var h=null,c=null;for(l=0,a=this.__cbOnceTextureChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceTextureChange[o],this.__cbOnceTextureChange[o]=null;var u=this.__cbOnceOwnerUnbindTextureChange[o];this.__cbOnceOwnerUnbindTextureChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindTextureChange[o]),c.push(this.__cbOnceTextureChange[o])}this.__cbOnceOwnerUnbindTextureChange=h,this.__cbOnceTextureChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onTextureChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event textureChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTextureChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTextureChange&&(this.__cbOnOwnerUnbindTextureChange=[]),this.__cbOnOwnerUnbindTextureChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTextureChange&&(this.__cbOnOwnerUnbindTextureChange=[]),this.__cbOnOwnerUnbindTextureChange.push(null);null==this.__cbOnTextureChange&&(this.__cbOnTextureChange=[]),this.__cbOnTextureChange.push(n)},onceTextureChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event textureChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTextureChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTextureChange&&(this.__cbOnceOwnerUnbindTextureChange=[]),this.__cbOnceOwnerUnbindTextureChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTextureChange&&(this.__cbOnceOwnerUnbindTextureChange=[]),this.__cbOnceOwnerUnbindTextureChange.push(null);null==this.__cbOnceTextureChange&&(this.__cbOnceTextureChange=[]),this.__cbOnceTextureChange.push(n)},offTextureChange:function(e){if(null!=e){var n;null!=this.__cbOnTextureChange&&-1!=(n=this.__cbOnTextureChange.indexOf(e))&&(this.__cbOnTextureChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTextureChange[n])&&r(),this.__cbOnOwnerUnbindTextureChange.splice(n,1)),null!=this.__cbOnceTextureChange&&-1!=(n=this.__cbOnceTextureChange.indexOf(e))&&(this.__cbOnceTextureChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTextureChange[n])&&r(),this.__cbOnceOwnerUnbindTextureChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTextureChange){for(var t=0,i=this.__cbOnOwnerUnbindTextureChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTextureChange[s])&&r()}this.__cbOnOwnerUnbindTextureChange=null}if(null!=this.__cbOnceOwnerUnbindTextureChange){for(t=0,i=this.__cbOnceOwnerUnbindTextureChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTextureChange[s])&&r()}this.__cbOnceOwnerUnbindTextureChange=null}this.__cbOnTextureChange=null,this.__cbOnceTextureChange=null}},listensTextureChange:function(){return null!=this.__cbOnTextureChange&&this.__cbOnTextureChange.length>0||null!=this.__cbOnceTextureChange&&this.__cbOnceTextureChange.length>0},load:function(){var e=this;this.set_status(o.LOADING);var n=this.reloadBecauseOfDensityChange;if(this.reloadBecauseOfDensityChange=!1,null==this.path)return ceramic_App.app.logger.warning("Cannot load image asset if path is undefined.",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:57,className:"ceramic.ImageAsset",methodName:"load"}),this.set_status(o.BROKEN),void this.emitComplete(!1);var t={};if(null!=this.owner&&(t.immediate=this.owner.immediate,t.loadMethod=this.owner.loadMethod),null!=this.defaultImageOptions)for(var i=0,s=Reflect.fields(this.defaultImageOptions);i<s.length;){var r=s[i];++i,t[r]=Reflect.field(this.defaultImageOptions,r)}if(null!=this.options)for(i=0,s=Reflect.fields(this.options);i<s.length;){r=s[i];++i,t[r]=Reflect.field(this.options,r)}this.loadTexture(this.path,t,(function(t,i){if(null!=t){var s=e.get_texture();if(t.id="texture:"+i,e.set_texture(t),e.get_texture().asset=e,null!=s){e.get_texture().set_filter(s.filter),e.emitReplaceTexture(e.get_texture(),s);for(var r=0,l=[].concat(ceramic_App.app.visuals);r<l.length;){var a=l[r];if(++r,a._lifecycleState>=0)if(null!=a.asQuad){var h=a.asQuad;if(h._texture==s){var c=h.frameX,u=h.frameY,_=h.frameWidth,d=h.frameHeight,f=e.get_texture();h._texture!=f&&h._set_texture(f),(n||0!=c||0!=u||_!=s.width||d!=s.height)&&(h.frameX=c,h.frameY=u,h.frameWidth!=_&&(h.frameWidth=_,-1!=_&&h.set_width(_)),h.frameHeight!=d&&(h.frameHeight=d,-1!=d&&h.set_height(d)))}}else if(null!=a.asMesh){var p=a.asMesh;if(p.texture==s){var b=e.get_texture();p.texture!=b&&(null!=p.texture&&(p.texture.offDestroy($bind(p,p.textureDestroyed)),null!=p.texture.asset&&p.texture.asset.release()),p.texture=b,null!=p.texture&&(p.texture.onDestroy(p,$bind(p,p.textureDestroyed)),null!=p.texture.asset&&p.texture.asset.retain()))}}}s.asset=null,s.destroy()}e.set_status(o.READY),e.emitComplete(!0),e.handleTexturesDensityChange&&e.checkTexturesDensity()}else ceramic_App.app.logger.warning("Failed to decode texture",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:155,className:"ceramic.ImageAsset",methodName:"load"}),e.set_status(o.BROKEN),e.emitComplete(!1)}))},loadTexture:function(e,n,t){var i=this,s=e,r=ceramic_Assets.realAssetPath(s,this.runtimeAssets),l=ceramic_Assets.getReloadCount(r);l>0&&(r+="?hot="+l,s+="?hot="+l),ceramic_App.app.logger.info("Load image "+s+" (density="+this.density+")",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:175,className:"ceramic.ImageAsset",methodName:"loadTexture"}),ceramic_App.app.backend.textures.load(r,n,(function(n){if(null!=n){var r=new ceramic_Texture(n,i.density);t(r,s)}else i.set_status(o.BROKEN),ceramic_App.app.logger.error("Failed to load texture at path: "+e,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:241,className:"ceramic.ImageAsset",methodName:"loadTexture"}),i.emitComplete(!1)}))},texturesDensityDidChange:function(e,n){this.get_status()==o.READY&&this.checkTexturesDensity()},checkTexturesDensity:function(){if(null!=this.owner&&this.owner.reloadOnTextureDensityChange){var e=this.path;this.computePath(),e!=this.path&&(ceramic_App.app.logger.info("Reload texture ("+e+" -> "+this.path+")",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:273,className:"ceramic.ImageAsset",methodName:"checkTexturesDensity"}),this.reloadBecauseOfDensityChange=!0,this.load())}},assetFilesDidChange:function(e,n){var t=-1;Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]);var i=-1;Object.prototype.hasOwnProperty.call(e.h,this.path)&&(i=e.h[this.path]),i>t&&(ceramic_App.app.logger.info("Reload texture (file has changed)",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ImageAsset.hx",lineNumber:295,className:"ceramic.ImageAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Asset.prototype.destroy.call(this),null!=this.get_texture()&&(this.get_texture().destroy(),this.set_texture(null)))},unbindEvents:function(){ceramic_Asset.prototype.unbindEvents.call(this),this.offReplaceTexture(),this.offTextureChange()},__class__:ceramic_ImageAsset,__properties__:$extend(ceramic_Asset.prototype.__properties__,{set_texture:"set_texture",get_texture:"get_texture"})});var ceramic_Immediate=function(){this.immediateCallbacksLen=0,this.immediateCallbacksCapacity=0,this.immediateCallbacks=[]};t["ceramic.Immediate"]=ceramic_Immediate,ceramic_Immediate.__name__="ceramic.Immediate",ceramic_Immediate.prototype={push:function(e){if(null==e)throw haxe_Exception.thrown("Immediate callback should not be null!");this.immediateCallbacksLen<this.immediateCallbacksCapacity?(this.immediateCallbacks[this.immediateCallbacksLen]=e,this.immediateCallbacksLen++):(this.immediateCallbacks[this.immediateCallbacksLen++]=e,this.immediateCallbacksCapacity++)},flush:function(){for(var e=!1;this.immediateCallbacksLen>0;){e=!0;var n=ceramic_ArrayPool.pool(this.immediateCallbacksLen),t=n.get(),i=this.immediateCallbacksLen;this.immediateCallbacksLen=0;for(var s=0,r=i;s<r;){var l=s++;t.vector[l]=this.immediateCallbacks[l],this.immediateCallbacks[l]=null}for(var a=0,o=i;a<o;){var h=a++;(0,t.vector[h])()}n.release(t)}return e},__class__:ceramic_Immediate};var ceramic_InitSettings=function(e){this.settings=e};t["ceramic.InitSettings"]=ceramic_InitSettings,ceramic_InitSettings.__name__="ceramic.InitSettings",ceramic_InitSettings.prototype={get_targetWidth:function(){return this.settings.get_targetWidth()},set_targetWidth:function(e){return this.settings.set_targetWidth(e)},get_targetHeight:function(){return this.settings.get_targetHeight()},set_targetHeight:function(e){return this.settings.set_targetHeight(e)},targetSize:function(e,n){this.settings.set_targetWidth(e),this.settings.set_targetHeight(n)},get_windowWidth:function(){return this.settings.get_windowWidth()},set_windowWidth:function(e){return this.settings.set_windowWidth(e)},get_windowHeight:function(){return this.settings.get_windowHeight()},set_windowHeight:function(e){return this.settings.set_windowHeight(e)},windowSize:function(e,n){this.settings.set_windowWidth(e),this.settings.set_windowHeight(n)},get_targetDensity:function(){return this.settings.get_targetDensity()},set_targetDensity:function(e){return this.settings.set_targetDensity(e)},get_background:function(){return this.settings.get_background()},set_background:function(e){return this.settings.set_background(e)},get_scaling:function(){return this.settings.get_scaling()},set_scaling:function(e){return this.settings.set_scaling(e)},get_title:function(){return this.settings.get_title()},set_title:function(e){return this.settings.set_title(e)},get_fullscreen:function(){return this.settings.get_fullscreen()},set_fullscreen:function(e){return this.settings.set_fullscreen(e)},get_targetFps:function(){return this.settings.get_targetFps()},set_targetFps:function(e){return this.settings.set_targetFps(e)},get_maxDelta:function(){return this.settings.get_maxDelta()},set_maxDelta:function(e){return this.settings.set_maxDelta(e)},get_overrideDelta:function(){return this.settings.get_overrideDelta()},set_overrideDelta:function(e){return this.settings.set_overrideDelta(e)},get_preventDefaultMouseWheel:function(){return this.settings.get_preventDefaultMouseWheel()},set_preventDefaultMouseWheel:function(e){return this.settings.set_preventDefaultMouseWheel(e)},get_preventDefaultTouches:function(){return this.settings.get_preventDefaultTouches()},set_preventDefaultTouches:function(e){return this.settings.set_preventDefaultTouches(e)},get_orientation:function(){return this.settings.orientation},set_orientation:function(e){return this.settings.orientation=e},get_antialiasing:function(){return this.settings.antialiasing},set_antialiasing:function(e){return this.settings.antialiasing=e},get_collections:function(){return this.settings.collections},set_collections:function(e){return this.settings.collections=e},get_appInfo:function(){return this.settings.appInfo},set_appInfo:function(e){return this.settings.appInfo=e},get_resizable:function(){return this.settings.resizable},set_resizable:function(e){return this.settings.resizable=e},get_assetsPath:function(){return this.settings.assetsPath},set_assetsPath:function(e){return this.settings.assetsPath=e},get_backend:function(){return this.settings.backend},set_backend:function(e){return this.settings.backend=e},get_defaultFont:function(){return this.settings.defaultFont},set_defaultFont:function(e){return this.settings.defaultFont=e},get_defaultShader:function(){return this.settings.defaultShader},set_defaultShader:function(e){return this.settings.defaultShader=e},__class__:ceramic_InitSettings,__properties__:{set_defaultShader:"set_defaultShader",get_defaultShader:"get_defaultShader",set_defaultFont:"set_defaultFont",get_defaultFont:"get_defaultFont",set_backend:"set_backend",get_backend:"get_backend",set_assetsPath:"set_assetsPath",get_assetsPath:"get_assetsPath",set_resizable:"set_resizable",get_resizable:"get_resizable",set_appInfo:"set_appInfo",get_appInfo:"get_appInfo",set_collections:"set_collections",get_collections:"get_collections",set_antialiasing:"set_antialiasing",get_antialiasing:"get_antialiasing",set_orientation:"set_orientation",get_orientation:"get_orientation",set_preventDefaultTouches:"set_preventDefaultTouches",get_preventDefaultTouches:"get_preventDefaultTouches",set_preventDefaultMouseWheel:"set_preventDefaultMouseWheel",get_preventDefaultMouseWheel:"get_preventDefaultMouseWheel",set_overrideDelta:"set_overrideDelta",get_overrideDelta:"get_overrideDelta",set_maxDelta:"set_maxDelta",get_maxDelta:"get_maxDelta",set_targetFps:"set_targetFps",get_targetFps:"get_targetFps",set_fullscreen:"set_fullscreen",get_fullscreen:"get_fullscreen",set_title:"set_title",get_title:"get_title",set_scaling:"set_scaling",get_scaling:"get_scaling",set_background:"set_background",get_background:"get_background",set_targetDensity:"set_targetDensity",get_targetDensity:"get_targetDensity",set_windowHeight:"set_windowHeight",get_windowHeight:"get_windowHeight",set_windowWidth:"set_windowWidth",get_windowWidth:"get_windowWidth",set_targetHeight:"set_targetHeight",get_targetHeight:"get_targetHeight",set_targetWidth:"set_targetWidth",get_targetWidth:"get_targetWidth"}};var ceramic_Input=function(){this.activeGamepads=[],this.gamepadNames=new ceramic_IntMap,this.gamepadGyroKeys=[],this.gamepadGyroDeltas=new ceramic_IntMap,this.gamepadAxisValues=new ceramic_IntFloatMap(16,.5,!1),this.pressedGamepadButtons=new ceramic_IntIntMap(16,.5,!1),this.pressedKeyCodes=new ceramic_IntIntMap(16,.5,!1),this.pressedScanCodes=new ceramic_IntIntMap(16,.5,!1),ceramic_Entity.call(this)};t["ceramic.Input"]=ceramic_Input,ceramic_Input.__name__="ceramic.Input",ceramic_Input.__super__=ceramic_Entity,ceramic_Input.prototype=$extend(ceramic_Entity.prototype,{emitKeyDown:function(e){this.willEmitKeyDown(e);var n=0;if(null!=this.__cbOnKeyDown&&(n+=this.__cbOnKeyDown.length),null!=this.__cbOnceKeyDown&&(n+=this.__cbOnceKeyDown.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnKeyDown)for(var r=0,l=this.__cbOnKeyDown.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnKeyDown[a],++s):--n}if(null!=this.__cbOnceKeyDown){var o=null,h=null;for(r=0,l=this.__cbOnceKeyDown.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceKeyDown[a],this.__cbOnceKeyDown[a]=null;var c=this.__cbOnceOwnerUnbindKeyDown[a];this.__cbOnceOwnerUnbindKeyDown[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindKeyDown[a]),h.push(this.__cbOnceKeyDown[a])}this.__cbOnceOwnerUnbindKeyDown=o,this.__cbOnceKeyDown=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onKeyDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event keyDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offKeyDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindKeyDown&&(this.__cbOnOwnerUnbindKeyDown=[]),this.__cbOnOwnerUnbindKeyDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindKeyDown&&(this.__cbOnOwnerUnbindKeyDown=[]),this.__cbOnOwnerUnbindKeyDown.push(null);null==this.__cbOnKeyDown&&(this.__cbOnKeyDown=[]),this.__cbOnKeyDown.push(n)},onceKeyDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event keyDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offKeyDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindKeyDown&&(this.__cbOnceOwnerUnbindKeyDown=[]),this.__cbOnceOwnerUnbindKeyDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindKeyDown&&(this.__cbOnceOwnerUnbindKeyDown=[]),this.__cbOnceOwnerUnbindKeyDown.push(null);null==this.__cbOnceKeyDown&&(this.__cbOnceKeyDown=[]),this.__cbOnceKeyDown.push(n)},offKeyDown:function(e){if(null!=e){var n;null!=this.__cbOnKeyDown&&-1!=(n=this.__cbOnKeyDown.indexOf(e))&&(this.__cbOnKeyDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindKeyDown[n])&&r(),this.__cbOnOwnerUnbindKeyDown.splice(n,1)),null!=this.__cbOnceKeyDown&&-1!=(n=this.__cbOnceKeyDown.indexOf(e))&&(this.__cbOnceKeyDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindKeyDown[n])&&r(),this.__cbOnceOwnerUnbindKeyDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindKeyDown){for(var t=0,i=this.__cbOnOwnerUnbindKeyDown.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindKeyDown[s])&&r()}this.__cbOnOwnerUnbindKeyDown=null}if(null!=this.__cbOnceOwnerUnbindKeyDown){for(t=0,i=this.__cbOnceOwnerUnbindKeyDown.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindKeyDown[s])&&r()}this.__cbOnceOwnerUnbindKeyDown=null}this.__cbOnKeyDown=null,this.__cbOnceKeyDown=null}},listensKeyDown:function(){return null!=this.__cbOnKeyDown&&this.__cbOnKeyDown.length>0||null!=this.__cbOnceKeyDown&&this.__cbOnceKeyDown.length>0},emitKeyUp:function(e){this.willEmitKeyUp(e);var n=0;if(null!=this.__cbOnKeyUp&&(n+=this.__cbOnKeyUp.length),null!=this.__cbOnceKeyUp&&(n+=this.__cbOnceKeyUp.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnKeyUp)for(var r=0,l=this.__cbOnKeyUp.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnKeyUp[a],++s):--n}if(null!=this.__cbOnceKeyUp){var o=null,h=null;for(r=0,l=this.__cbOnceKeyUp.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceKeyUp[a],this.__cbOnceKeyUp[a]=null;var c=this.__cbOnceOwnerUnbindKeyUp[a];this.__cbOnceOwnerUnbindKeyUp[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindKeyUp[a]),h.push(this.__cbOnceKeyUp[a])}this.__cbOnceOwnerUnbindKeyUp=o,this.__cbOnceKeyUp=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onKeyUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event keyUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offKeyUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindKeyUp&&(this.__cbOnOwnerUnbindKeyUp=[]),this.__cbOnOwnerUnbindKeyUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindKeyUp&&(this.__cbOnOwnerUnbindKeyUp=[]),this.__cbOnOwnerUnbindKeyUp.push(null);null==this.__cbOnKeyUp&&(this.__cbOnKeyUp=[]),this.__cbOnKeyUp.push(n)},onceKeyUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event keyUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offKeyUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindKeyUp&&(this.__cbOnceOwnerUnbindKeyUp=[]),this.__cbOnceOwnerUnbindKeyUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindKeyUp&&(this.__cbOnceOwnerUnbindKeyUp=[]),this.__cbOnceOwnerUnbindKeyUp.push(null);null==this.__cbOnceKeyUp&&(this.__cbOnceKeyUp=[]),this.__cbOnceKeyUp.push(n)},offKeyUp:function(e){if(null!=e){var n;null!=this.__cbOnKeyUp&&-1!=(n=this.__cbOnKeyUp.indexOf(e))&&(this.__cbOnKeyUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindKeyUp[n])&&r(),this.__cbOnOwnerUnbindKeyUp.splice(n,1)),null!=this.__cbOnceKeyUp&&-1!=(n=this.__cbOnceKeyUp.indexOf(e))&&(this.__cbOnceKeyUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindKeyUp[n])&&r(),this.__cbOnceOwnerUnbindKeyUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindKeyUp){for(var t=0,i=this.__cbOnOwnerUnbindKeyUp.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindKeyUp[s])&&r()}this.__cbOnOwnerUnbindKeyUp=null}if(null!=this.__cbOnceOwnerUnbindKeyUp){for(t=0,i=this.__cbOnceOwnerUnbindKeyUp.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindKeyUp[s])&&r()}this.__cbOnceOwnerUnbindKeyUp=null}this.__cbOnKeyUp=null,this.__cbOnceKeyUp=null}},listensKeyUp:function(){return null!=this.__cbOnKeyUp&&this.__cbOnKeyUp.length>0||null!=this.__cbOnceKeyUp&&this.__cbOnceKeyUp.length>0},emitGamepadAxis:function(e,n,t){var i=32*e+n;this.gamepadAxisValues.set(i,t);var s=0;if(null!=this.__cbOnGamepadAxis&&(s+=this.__cbOnGamepadAxis.length),null!=this.__cbOnceGamepadAxis&&(s+=this.__cbOnceGamepadAxis.length),s>0){var r=ceramic_ArrayPool.pool(s),l=r.get(),a=0;if(null!=this.__cbOnGamepadAxis)for(var o=0,h=this.__cbOnGamepadAxis.length;o<h;){var c=o++;!0?(l.vector[a]=this.__cbOnGamepadAxis[c],++a):--s}if(null!=this.__cbOnceGamepadAxis){var u=null,_=null;for(o=0,h=this.__cbOnceGamepadAxis.length;o<h;){c=o++;if(!0){l.vector[a]=this.__cbOnceGamepadAxis[c],this.__cbOnceGamepadAxis[c]=null;var d=this.__cbOnceOwnerUnbindGamepadAxis[c];this.__cbOnceOwnerUnbindGamepadAxis[c]=null,null!=d&&d(),++a}else--s,null==u&&(u=[],_=[],[]),u.push(this.__cbOnceOwnerUnbindGamepadAxis[c]),_.push(this.__cbOnceGamepadAxis[c])}this.__cbOnceOwnerUnbindGamepadAxis=u,this.__cbOnceGamepadAxis=_}for(o=0,h=s;o<h;){a=o++;(0,l.vector[a])(e,n,t)}r.release(l),l=null}},onGamepadAxis:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadAxis because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadAxis(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadAxis&&(this.__cbOnOwnerUnbindGamepadAxis=[]),this.__cbOnOwnerUnbindGamepadAxis.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadAxis&&(this.__cbOnOwnerUnbindGamepadAxis=[]),this.__cbOnOwnerUnbindGamepadAxis.push(null);null==this.__cbOnGamepadAxis&&(this.__cbOnGamepadAxis=[]),this.__cbOnGamepadAxis.push(n)},onceGamepadAxis:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadAxis because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadAxis(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadAxis&&(this.__cbOnceOwnerUnbindGamepadAxis=[]),this.__cbOnceOwnerUnbindGamepadAxis.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadAxis&&(this.__cbOnceOwnerUnbindGamepadAxis=[]),this.__cbOnceOwnerUnbindGamepadAxis.push(null);null==this.__cbOnceGamepadAxis&&(this.__cbOnceGamepadAxis=[]),this.__cbOnceGamepadAxis.push(n)},offGamepadAxis:function(e){if(null!=e){var n;null!=this.__cbOnGamepadAxis&&-1!=(n=this.__cbOnGamepadAxis.indexOf(e))&&(this.__cbOnGamepadAxis.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadAxis[n])&&r(),this.__cbOnOwnerUnbindGamepadAxis.splice(n,1)),null!=this.__cbOnceGamepadAxis&&-1!=(n=this.__cbOnceGamepadAxis.indexOf(e))&&(this.__cbOnceGamepadAxis.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadAxis[n])&&r(),this.__cbOnceOwnerUnbindGamepadAxis.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadAxis){for(var t=0,i=this.__cbOnOwnerUnbindGamepadAxis.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindGamepadAxis[s])&&r()}this.__cbOnOwnerUnbindGamepadAxis=null}if(null!=this.__cbOnceOwnerUnbindGamepadAxis){for(t=0,i=this.__cbOnceOwnerUnbindGamepadAxis.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadAxis[s])&&r()}this.__cbOnceOwnerUnbindGamepadAxis=null}this.__cbOnGamepadAxis=null,this.__cbOnceGamepadAxis=null}},listensGamepadAxis:function(){return null!=this.__cbOnGamepadAxis&&this.__cbOnGamepadAxis.length>0||null!=this.__cbOnceGamepadAxis&&this.__cbOnceGamepadAxis.length>0},emitGamepadDown:function(e,n){this.willEmitGamepadDown(e,n);var t=0;if(null!=this.__cbOnGamepadDown&&(t+=this.__cbOnGamepadDown.length),null!=this.__cbOnceGamepadDown&&(t+=this.__cbOnceGamepadDown.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnGamepadDown)for(var l=0,a=this.__cbOnGamepadDown.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnGamepadDown[o],++r):--t}if(null!=this.__cbOnceGamepadDown){var h=null,c=null;for(l=0,a=this.__cbOnceGamepadDown.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceGamepadDown[o],this.__cbOnceGamepadDown[o]=null;var u=this.__cbOnceOwnerUnbindGamepadDown[o];this.__cbOnceOwnerUnbindGamepadDown[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindGamepadDown[o]),c.push(this.__cbOnceGamepadDown[o])}this.__cbOnceOwnerUnbindGamepadDown=h,this.__cbOnceGamepadDown=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onGamepadDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadDown&&(this.__cbOnOwnerUnbindGamepadDown=[]),this.__cbOnOwnerUnbindGamepadDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadDown&&(this.__cbOnOwnerUnbindGamepadDown=[]),this.__cbOnOwnerUnbindGamepadDown.push(null);null==this.__cbOnGamepadDown&&(this.__cbOnGamepadDown=[]),this.__cbOnGamepadDown.push(n)},onceGamepadDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadDown&&(this.__cbOnceOwnerUnbindGamepadDown=[]),this.__cbOnceOwnerUnbindGamepadDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadDown&&(this.__cbOnceOwnerUnbindGamepadDown=[]),this.__cbOnceOwnerUnbindGamepadDown.push(null);null==this.__cbOnceGamepadDown&&(this.__cbOnceGamepadDown=[]),this.__cbOnceGamepadDown.push(n)},offGamepadDown:function(e){if(null!=e){var n;null!=this.__cbOnGamepadDown&&-1!=(n=this.__cbOnGamepadDown.indexOf(e))&&(this.__cbOnGamepadDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadDown[n])&&r(),this.__cbOnOwnerUnbindGamepadDown.splice(n,1)),null!=this.__cbOnceGamepadDown&&-1!=(n=this.__cbOnceGamepadDown.indexOf(e))&&(this.__cbOnceGamepadDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadDown[n])&&r(),this.__cbOnceOwnerUnbindGamepadDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadDown){for(var t=0,i=this.__cbOnOwnerUnbindGamepadDown.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindGamepadDown[s])&&r()}this.__cbOnOwnerUnbindGamepadDown=null}if(null!=this.__cbOnceOwnerUnbindGamepadDown){for(t=0,i=this.__cbOnceOwnerUnbindGamepadDown.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadDown[s])&&r()}this.__cbOnceOwnerUnbindGamepadDown=null}this.__cbOnGamepadDown=null,this.__cbOnceGamepadDown=null}},listensGamepadDown:function(){return null!=this.__cbOnGamepadDown&&this.__cbOnGamepadDown.length>0||null!=this.__cbOnceGamepadDown&&this.__cbOnceGamepadDown.length>0},emitGamepadUp:function(e,n){this.willEmitGamepadUp(e,n);var t=0;if(null!=this.__cbOnGamepadUp&&(t+=this.__cbOnGamepadUp.length),null!=this.__cbOnceGamepadUp&&(t+=this.__cbOnceGamepadUp.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnGamepadUp)for(var l=0,a=this.__cbOnGamepadUp.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnGamepadUp[o],++r):--t}if(null!=this.__cbOnceGamepadUp){var h=null,c=null;for(l=0,a=this.__cbOnceGamepadUp.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceGamepadUp[o],this.__cbOnceGamepadUp[o]=null;var u=this.__cbOnceOwnerUnbindGamepadUp[o];this.__cbOnceOwnerUnbindGamepadUp[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindGamepadUp[o]),c.push(this.__cbOnceGamepadUp[o])}this.__cbOnceOwnerUnbindGamepadUp=h,this.__cbOnceGamepadUp=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onGamepadUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadUp&&(this.__cbOnOwnerUnbindGamepadUp=[]),this.__cbOnOwnerUnbindGamepadUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadUp&&(this.__cbOnOwnerUnbindGamepadUp=[]),this.__cbOnOwnerUnbindGamepadUp.push(null);null==this.__cbOnGamepadUp&&(this.__cbOnGamepadUp=[]),this.__cbOnGamepadUp.push(n)},onceGamepadUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadUp&&(this.__cbOnceOwnerUnbindGamepadUp=[]),this.__cbOnceOwnerUnbindGamepadUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadUp&&(this.__cbOnceOwnerUnbindGamepadUp=[]),this.__cbOnceOwnerUnbindGamepadUp.push(null);null==this.__cbOnceGamepadUp&&(this.__cbOnceGamepadUp=[]),this.__cbOnceGamepadUp.push(n)},offGamepadUp:function(e){if(null!=e){var n;null!=this.__cbOnGamepadUp&&-1!=(n=this.__cbOnGamepadUp.indexOf(e))&&(this.__cbOnGamepadUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadUp[n])&&r(),this.__cbOnOwnerUnbindGamepadUp.splice(n,1)),null!=this.__cbOnceGamepadUp&&-1!=(n=this.__cbOnceGamepadUp.indexOf(e))&&(this.__cbOnceGamepadUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadUp[n])&&r(),this.__cbOnceOwnerUnbindGamepadUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadUp){for(var t=0,i=this.__cbOnOwnerUnbindGamepadUp.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindGamepadUp[s])&&r()}this.__cbOnOwnerUnbindGamepadUp=null}if(null!=this.__cbOnceOwnerUnbindGamepadUp){for(t=0,i=this.__cbOnceOwnerUnbindGamepadUp.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadUp[s])&&r()}this.__cbOnceOwnerUnbindGamepadUp=null}this.__cbOnGamepadUp=null,this.__cbOnceGamepadUp=null}},listensGamepadUp:function(){return null!=this.__cbOnGamepadUp&&this.__cbOnGamepadUp.length>0||null!=this.__cbOnceGamepadUp&&this.__cbOnceGamepadUp.length>0},emitGamepadGyro:function(e,n,t,i){this.willEmitGamepadGyro(e,n,t,i);var s=0;if(null!=this.__cbOnGamepadGyro&&(s+=this.__cbOnGamepadGyro.length),null!=this.__cbOnceGamepadGyro&&(s+=this.__cbOnceGamepadGyro.length),s>0){var r=ceramic_ArrayPool.pool(s),l=r.get(),a=0;if(null!=this.__cbOnGamepadGyro)for(var o=0,h=this.__cbOnGamepadGyro.length;o<h;){var c=o++;!0?(l.vector[a]=this.__cbOnGamepadGyro[c],++a):--s}if(null!=this.__cbOnceGamepadGyro){var u=null,_=null;for(o=0,h=this.__cbOnceGamepadGyro.length;o<h;){c=o++;if(!0){l.vector[a]=this.__cbOnceGamepadGyro[c],this.__cbOnceGamepadGyro[c]=null;var d=this.__cbOnceOwnerUnbindGamepadGyro[c];this.__cbOnceOwnerUnbindGamepadGyro[c]=null,null!=d&&d(),++a}else--s,null==u&&(u=[],_=[],[]),u.push(this.__cbOnceOwnerUnbindGamepadGyro[c]),_.push(this.__cbOnceGamepadGyro[c])}this.__cbOnceOwnerUnbindGamepadGyro=u,this.__cbOnceGamepadGyro=_}for(o=0,h=s;o<h;){a=o++;(0,l.vector[a])(e,n,t,i)}r.release(l),l=null}},onGamepadGyro:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadGyro because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadGyro(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadGyro&&(this.__cbOnOwnerUnbindGamepadGyro=[]),this.__cbOnOwnerUnbindGamepadGyro.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadGyro&&(this.__cbOnOwnerUnbindGamepadGyro=[]),this.__cbOnOwnerUnbindGamepadGyro.push(null);null==this.__cbOnGamepadGyro&&(this.__cbOnGamepadGyro=[]),this.__cbOnGamepadGyro.push(n)},onceGamepadGyro:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadGyro because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadGyro(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadGyro&&(this.__cbOnceOwnerUnbindGamepadGyro=[]),this.__cbOnceOwnerUnbindGamepadGyro.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadGyro&&(this.__cbOnceOwnerUnbindGamepadGyro=[]),this.__cbOnceOwnerUnbindGamepadGyro.push(null);null==this.__cbOnceGamepadGyro&&(this.__cbOnceGamepadGyro=[]),this.__cbOnceGamepadGyro.push(n)},offGamepadGyro:function(e){if(null!=e){var n;null!=this.__cbOnGamepadGyro&&-1!=(n=this.__cbOnGamepadGyro.indexOf(e))&&(this.__cbOnGamepadGyro.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadGyro[n])&&r(),this.__cbOnOwnerUnbindGamepadGyro.splice(n,1)),null!=this.__cbOnceGamepadGyro&&-1!=(n=this.__cbOnceGamepadGyro.indexOf(e))&&(this.__cbOnceGamepadGyro.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadGyro[n])&&r(),this.__cbOnceOwnerUnbindGamepadGyro.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadGyro){for(var t=0,i=this.__cbOnOwnerUnbindGamepadGyro.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindGamepadGyro[s])&&r()}this.__cbOnOwnerUnbindGamepadGyro=null}if(null!=this.__cbOnceOwnerUnbindGamepadGyro){for(t=0,i=this.__cbOnceOwnerUnbindGamepadGyro.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadGyro[s])&&r()}this.__cbOnceOwnerUnbindGamepadGyro=null}this.__cbOnGamepadGyro=null,this.__cbOnceGamepadGyro=null}},listensGamepadGyro:function(){return null!=this.__cbOnGamepadGyro&&this.__cbOnGamepadGyro.length>0||null!=this.__cbOnceGamepadGyro&&this.__cbOnceGamepadGyro.length>0},emitGamepadEnable:function(e,n){this.willEmitGamepadEnable(e,n);var t=0;if(null!=this.__cbOnGamepadEnable&&(t+=this.__cbOnGamepadEnable.length),null!=this.__cbOnceGamepadEnable&&(t+=this.__cbOnceGamepadEnable.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnGamepadEnable)for(var l=0,a=this.__cbOnGamepadEnable.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnGamepadEnable[o],++r):--t}if(null!=this.__cbOnceGamepadEnable){var h=null,c=null;for(l=0,a=this.__cbOnceGamepadEnable.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceGamepadEnable[o],this.__cbOnceGamepadEnable[o]=null;var u=this.__cbOnceOwnerUnbindGamepadEnable[o];this.__cbOnceOwnerUnbindGamepadEnable[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindGamepadEnable[o]),c.push(this.__cbOnceGamepadEnable[o])}this.__cbOnceOwnerUnbindGamepadEnable=h,this.__cbOnceGamepadEnable=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onGamepadEnable:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadEnable because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadEnable(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadEnable&&(this.__cbOnOwnerUnbindGamepadEnable=[]),this.__cbOnOwnerUnbindGamepadEnable.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadEnable&&(this.__cbOnOwnerUnbindGamepadEnable=[]),this.__cbOnOwnerUnbindGamepadEnable.push(null);null==this.__cbOnGamepadEnable&&(this.__cbOnGamepadEnable=[]),this.__cbOnGamepadEnable.push(n)},onceGamepadEnable:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadEnable because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadEnable(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadEnable&&(this.__cbOnceOwnerUnbindGamepadEnable=[]),this.__cbOnceOwnerUnbindGamepadEnable.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadEnable&&(this.__cbOnceOwnerUnbindGamepadEnable=[]),this.__cbOnceOwnerUnbindGamepadEnable.push(null);null==this.__cbOnceGamepadEnable&&(this.__cbOnceGamepadEnable=[]),this.__cbOnceGamepadEnable.push(n)},offGamepadEnable:function(e){if(null!=e){var n;null!=this.__cbOnGamepadEnable&&-1!=(n=this.__cbOnGamepadEnable.indexOf(e))&&(this.__cbOnGamepadEnable.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadEnable[n])&&r(),this.__cbOnOwnerUnbindGamepadEnable.splice(n,1)),null!=this.__cbOnceGamepadEnable&&-1!=(n=this.__cbOnceGamepadEnable.indexOf(e))&&(this.__cbOnceGamepadEnable.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadEnable[n])&&r(),this.__cbOnceOwnerUnbindGamepadEnable.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadEnable){for(var t=0,i=this.__cbOnOwnerUnbindGamepadEnable.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindGamepadEnable[s])&&r()}this.__cbOnOwnerUnbindGamepadEnable=null}if(null!=this.__cbOnceOwnerUnbindGamepadEnable){for(t=0,i=this.__cbOnceOwnerUnbindGamepadEnable.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadEnable[s])&&r()}this.__cbOnceOwnerUnbindGamepadEnable=null}this.__cbOnGamepadEnable=null,this.__cbOnceGamepadEnable=null}},listensGamepadEnable:function(){return null!=this.__cbOnGamepadEnable&&this.__cbOnGamepadEnable.length>0||null!=this.__cbOnceGamepadEnable&&this.__cbOnceGamepadEnable.length>0},emitGamepadDisable:function(e){this.willEmitGamepadDisable(e);var n=0;if(null!=this.__cbOnGamepadDisable&&(n+=this.__cbOnGamepadDisable.length),null!=this.__cbOnceGamepadDisable&&(n+=this.__cbOnceGamepadDisable.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnGamepadDisable)for(var r=0,l=this.__cbOnGamepadDisable.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnGamepadDisable[a],++s):--n}if(null!=this.__cbOnceGamepadDisable){var o=null,h=null;for(r=0,l=this.__cbOnceGamepadDisable.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceGamepadDisable[a],this.__cbOnceGamepadDisable[a]=null;var c=this.__cbOnceOwnerUnbindGamepadDisable[a];this.__cbOnceOwnerUnbindGamepadDisable[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindGamepadDisable[a]),h.push(this.__cbOnceGamepadDisable[a])}this.__cbOnceOwnerUnbindGamepadDisable=o,this.__cbOnceGamepadDisable=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onGamepadDisable:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadDisable because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadDisable(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGamepadDisable&&(this.__cbOnOwnerUnbindGamepadDisable=[]),this.__cbOnOwnerUnbindGamepadDisable.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGamepadDisable&&(this.__cbOnOwnerUnbindGamepadDisable=[]),this.__cbOnOwnerUnbindGamepadDisable.push(null);null==this.__cbOnGamepadDisable&&(this.__cbOnGamepadDisable=[]),this.__cbOnGamepadDisable.push(n)},onceGamepadDisable:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event gamepadDisable because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGamepadDisable(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGamepadDisable&&(this.__cbOnceOwnerUnbindGamepadDisable=[]),this.__cbOnceOwnerUnbindGamepadDisable.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGamepadDisable&&(this.__cbOnceOwnerUnbindGamepadDisable=[]),this.__cbOnceOwnerUnbindGamepadDisable.push(null);null==this.__cbOnceGamepadDisable&&(this.__cbOnceGamepadDisable=[]),this.__cbOnceGamepadDisable.push(n)},offGamepadDisable:function(e){if(null!=e){var n;null!=this.__cbOnGamepadDisable&&-1!=(n=this.__cbOnGamepadDisable.indexOf(e))&&(this.__cbOnGamepadDisable.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGamepadDisable[n])&&r(),this.__cbOnOwnerUnbindGamepadDisable.splice(n,1)),null!=this.__cbOnceGamepadDisable&&-1!=(n=this.__cbOnceGamepadDisable.indexOf(e))&&(this.__cbOnceGamepadDisable.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGamepadDisable[n])&&r(),this.__cbOnceOwnerUnbindGamepadDisable.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGamepadDisable){for(var t=0,i=this.__cbOnOwnerUnbindGamepadDisable.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindGamepadDisable[s])&&r()}this.__cbOnOwnerUnbindGamepadDisable=null}if(null!=this.__cbOnceOwnerUnbindGamepadDisable){for(t=0,i=this.__cbOnceOwnerUnbindGamepadDisable.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindGamepadDisable[s])&&r()}this.__cbOnceOwnerUnbindGamepadDisable=null}this.__cbOnGamepadDisable=null,this.__cbOnceGamepadDisable=null}},listensGamepadDisable:function(){return null!=this.__cbOnGamepadDisable&&this.__cbOnGamepadDisable.length>0||null!=this.__cbOnceGamepadDisable&&this.__cbOnceGamepadDisable.length>0},resetDeltas:function(){for(;this.gamepadGyroKeys.length>0;){var e=this.gamepadGyroKeys.pop(),n=this.gamepadGyroDeltas.get(e);null!=n&&(n[0]=0,n[1]=0,n[2]=0)}},willEmitKeyDown:function(e){var n,t=this,i=null!=(n=this.pressedScanCodes.intMap.h[0|e.scanCode])?n:0,s=null!=(n=this.pressedKeyCodes.intMap.h[0|e.keyCode])?n:0;-1==i&&(i=0,s=0),this.pressedScanCodes.set(e.scanCode,i+1),this.pressedKeyCodes.set(e.keyCode,s+1),0==i&&ceramic_App.app.beginUpdateCallbacks.push((function(){var n;1==(null!=(n=t.pressedScanCodes.intMap.h[0|e.scanCode])?n:0)&&t.pressedScanCodes.set(e.scanCode,2),1==(null!=(n=t.pressedKeyCodes.intMap.h[0|e.keyCode])?n:0)&&t.pressedKeyCodes.set(e.keyCode,2)}))},willEmitKeyUp:function(e){var n=this,t=this.pressedScanCodes.intMap.h[0|e.scanCode];0!=(null!=t?t:0)&&(this.pressedScanCodes.set(e.scanCode,-1),this.pressedKeyCodes.set(e.keyCode,-1),ceramic_App.app.beginUpdateCallbacks.push((function(){var t;-1==(null!=(t=n.pressedScanCodes.intMap.h[0|e.scanCode])?t:0)&&n.pressedScanCodes.set(e.scanCode,0),-1==(null!=(t=n.pressedKeyCodes.intMap.h[0|e.keyCode])?t:0)&&n.pressedKeyCodes.set(e.keyCode,0)})))},_keyPressed:function(e){var n=this.pressedKeyCodes.intMap.h[0|e];return(null!=n?n:0)>0},_keyJustPressed:function(e){var n=this.pressedKeyCodes.intMap.h[0|e];return 1==(null!=n?n:0)},_keyJustReleased:function(e){var n=this.pressedKeyCodes.intMap.h[0|e];return-1==(null!=n?n:0)},_scanPressed:function(e){var n=this.pressedScanCodes.intMap.h[0|e];return(null!=n?n:0)>0},_scanJustPressed:function(e){var n=this.pressedScanCodes.intMap.h[0|e];return 1==(null!=n?n:0)},_scanJustReleased:function(e){var n=this.pressedScanCodes.intMap.h[0|e];return-1==(null!=n?n:0)},willEmitGamepadEnable:function(e,n){for(var t=32*e,i=0;i<32;){var s=t+i++;this.pressedGamepadButtons.set(s,0),this.gamepadAxisValues.set(s,0)}-1==this.activeGamepads.indexOf(e)&&this.activeGamepads.push(e),this.gamepadNames.set(e,n)},willEmitGamepadDisable:function(e){for(var n=32*e,t=0;t<32;){var i=t++,s=n+i,r=this.pressedGamepadButtons.intMap.h[0|s];(null!=r?r:0)>0&&this.emitGamepadUp(e,i);var l=this.gamepadAxisValues.intMap.h[0|s],a=null!=l?l:0;0!=a&&this.emitGamepadAxis(e,i,a)}var o=this.activeGamepads.indexOf(e);-1!=o&&this.activeGamepads.splice(o,1),this.gamepadNames.remove(e)},willEmitGamepadDown:function(e,n){var t=this,i=32*e+n,s=this.pressedGamepadButtons.intMap.h[0|i],r=null!=s?s:0;-1==r&&(r=0),this.pressedGamepadButtons.set(i,r+1),0==r&&ceramic_App.app.beginUpdateCallbacks.push((function(){var e=t.pressedGamepadButtons.intMap.h[0|i];1==(null!=e?e:0)&&t.pressedGamepadButtons.set(i,2)}))},willEmitGamepadUp:function(e,n){var t=this,i=32*e+n;this.pressedGamepadButtons.set(i,-1),ceramic_App.app.beginUpdateCallbacks.push((function(){var e=t.pressedGamepadButtons.intMap.h[0|i];-1==(null!=e?e:0)&&t.pressedGamepadButtons.set(i,0)}))},willEmitGamepadGyro:function(e,n,t,i){var s=e,r=this.gamepadGyroDeltas.get(s);null==r&&(r=[0,0,0],this.gamepadGyroDeltas.set(s,r)),-1==this.gamepadGyroKeys.indexOf(s)&&this.gamepadGyroKeys.push(s),r[0]+=n,r[1]+=t,r[2]+=i},_gamepadPressed:function(e,n){var t=32*e+n,i=this.pressedGamepadButtons.intMap.h[0|t];return(null!=i?i:0)>0},_gamepadJustPressed:function(e,n){var t=32*e+n,i=this.pressedGamepadButtons.intMap.h[0|t];return 1==(null!=i?i:0)},_gamepadJustReleased:function(e,n){var t=32*e+n,i=this.pressedGamepadButtons.intMap.h[0|t];return-1==(null!=i?i:0)},willEmitGamepadAxis:function(e,n,t){var i=32*e+n;this.gamepadAxisValues.set(i,t)},gamepadAxisValue:function(e,n){var t=32*e+n,i=this.gamepadAxisValues.intMap.h[0|t];return null!=i?i:0},gamepadGyroDeltaX:function(e){var n=e,t=this.gamepadGyroDeltas.get(n);return null!=t?t[0]:0},gamepadGyroDeltaY:function(e){var n=e,t=this.gamepadGyroDeltas.get(n);return null!=t?t[1]:0},gamepadGyroDeltaZ:function(e){var n=e,t=this.gamepadGyroDeltas.get(n);return null!=t?t[2]:0},startGamepadRumble:function(e,n,t,i){ceramic_App.app.backend.input.startGamepadRumble(e,t,i,n)},stopGamepadRumble:function(e){ceramic_App.app.backend.input.stopGamepadRumble(e)},gamepadName:function(e){return this.gamepadNames.get(e)},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offKeyDown(),this.offKeyUp(),this.offGamepadAxis(),this.offGamepadDown(),this.offGamepadUp(),this.offGamepadGyro(),this.offGamepadEnable(),this.offGamepadDisable()},__class__:ceramic_Input});var p={__properties__:{get_iterableKeys:"get_iterableKeys",get_size:"get_size"},get_size:function(e){return e.size},get_iterableKeys:function(e){return e.iterableKeys},_asIntBoolMap:function(e){return e},_new:function(e,n,t){return null==t&&(t=!1),null==n&&(n=.5),null==e&&(e=16),new ceramic_IntIntMap(e,n,t)},exists:function(e,n){return e.intMap.h.hasOwnProperty(0|n)},existsInline:function(e,n){return e.intMap.h.hasOwnProperty(0|n)},get:function(e,n){var t=e.intMap.h[0|n];return 0!=(null!=t?t:0)},getInline:function(e,n){var t=e.intMap.h[0|n];return 0!=(null!=t?t:0)},set:function(e,n,t){e.set(n,t?1:0)},remove:function(e,n){return 0!=e.remove(n)},clear:function(e){e.clear()},copy:function(e){var n=new ceramic_IntIntMap;return n.intMap=e.intMap.copy(),n.size=e.size,n.iterableKeys=null!=e.iterableKeys?e.iterableKeys.slice():null,n.iterableKeysUsed=null!=e.iterableKeysUsed?p.copy(e.iterableKeysUsed):null,n},iterator:function(e){return new ceramic_IntBoolMapIterator(e)},keys:function(e){return new ceramic_IntBoolMapKeyIterator(e)},keyValueIterator:function(e){return new ceramic_IntBoolMapKeyValueIterator(e)}},ceramic_IntBoolMapIterator=function(e){this.intBoolMap=e,this.i=0;var n=this.intBoolMap.iterableKeys;this.len=null!=n?n.length:-1};t["ceramic.IntBoolMapIterator"]=ceramic_IntBoolMapIterator,ceramic_IntBoolMapIterator.__name__="ceramic.IntBoolMapIterator",ceramic_IntBoolMapIterator.prototype={hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,n=this.intBoolMap.iterableKeys[e],t=this.intBoolMap.intMap.h[0|n];return 0!=(null!=t?t:0)},__class__:ceramic_IntBoolMapIterator};var ceramic_IntBoolMapKeyIterator=function(e){this.i=0,this.iterableKeys=e.iterableKeys,this.len=null!=this.iterableKeys?this.iterableKeys.length:-1};t["ceramic.IntBoolMapKeyIterator"]=ceramic_IntBoolMapKeyIterator,ceramic_IntBoolMapKeyIterator.__name__="ceramic.IntBoolMapKeyIterator",ceramic_IntBoolMapKeyIterator.prototype={hasNext:function(){return this.i<this.len},next:function(){var e=this.i++;return this.iterableKeys[e]},__class__:ceramic_IntBoolMapKeyIterator};var ceramic_IntBoolMapKeyValueIterator=function(e){this.intBoolMap=e,this.i=0;var n=this.intBoolMap.iterableKeys;this.len=null!=n?n.length:-1};t["ceramic.IntBoolMapKeyValueIterator"]=ceramic_IntBoolMapKeyValueIterator,ceramic_IntBoolMapKeyValueIterator.__name__="ceramic.IntBoolMapKeyValueIterator",ceramic_IntBoolMapKeyValueIterator.prototype={hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,n=this.intBoolMap.iterableKeys[e],t=this.intBoolMap.intMap.h[0|n];return{key:n,value:0!=(null!=t?t:0)}},__class__:ceramic_IntBoolMapKeyValueIterator};var ceramic_IntFloatMap=function(e,n,t){null==t&&(t=!1),null==n&&(n=.5),null==e&&(e=16),this.size=0,this.iterableKeysUsed=null,this.iterableKeys=null,this.intMap=new haxe_ds_IntMap,t&&(this.iterableKeys=[],this.iterableKeysUsed=new ceramic_IntIntMap(16,.5,!1))};t["ceramic.IntFloatMap"]=ceramic_IntFloatMap,ceramic_IntFloatMap.__name__="ceramic.IntFloatMap",ceramic_IntFloatMap.prototype={clear:function(){this.intMap.h={},this.size=0,null!=this.iterableKeys&&(this.iterableKeys=[],this.iterableKeysUsed=new ceramic_IntIntMap(16,.5,!1))},exists:function(e){return this.intMap.h.hasOwnProperty(0|e)},set:function(e,n){var t;if(null!=this.iterableKeys){var i=this.iterableKeysUsed.intMap.h[0|e];t=0==(null!=i?i:0)}else t=!1;t&&(this.iterableKeysUsed.set(e,1),this.iterableKeys.push(e));var s=0|e;return this.intMap.h.hasOwnProperty(s)||this.size++,this.intMap.h[s]=n,n},get:function(e){var n=this.intMap.h[0|e];return null!=n?n:0},remove:function(e){var n,t=0|e,i=0;if(null!=this.iterableKeys){var s=this.iterableKeysUsed.intMap.h[0|e];n=0!=(null!=s?s:0)}else n=!1;return n&&(this.iterableKeysUsed.set(e,0),this.iterableKeys.splice(this.iterableKeys.indexOf(e),1)),this.intMap.h.hasOwnProperty(t)&&(i=this.intMap.h[t],this.size--),this.intMap.remove(t),i},getInline:function(e){var n=this.intMap.h[0|e];return null!=n?n:0},existsInline:function(e){return this.intMap.h.hasOwnProperty(0|e)},copy:function(){var e=new ceramic_IntFloatMap;return e.intMap=this.intMap.copy(),e.size=this.size,e.iterableKeys=null!=this.iterableKeys?this.iterableKeys.slice():null,e.iterableKeysUsed=null!=this.iterableKeysUsed?p.copy(this.iterableKeysUsed):null,e},iterator:function(){return new ceramic_IntFloatMapIterator(this)},keys:function(){return new ceramic_IntFloatMapKeyIterator(this)},keyValueIterator:function(){return new ceramic_IntFloatMapKeyValueIterator(this)},__class__:ceramic_IntFloatMap};var ceramic_IntFloatMapIterator=function(e){this.intFloatMap=e,this.i=0;var n=this.intFloatMap.iterableKeys;this.len=null!=n?n.length:-1};t["ceramic.IntFloatMapIterator"]=ceramic_IntFloatMapIterator,ceramic_IntFloatMapIterator.__name__="ceramic.IntFloatMapIterator",ceramic_IntFloatMapIterator.prototype={hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,n=this.intFloatMap.iterableKeys[e],t=this.intFloatMap.intMap.h[0|n];return null!=t?t:0},__class__:ceramic_IntFloatMapIterator};var ceramic_IntFloatMapKeyIterator=function(e){this.i=0,this.iterableKeys=e.iterableKeys,this.len=null!=this.iterableKeys?this.iterableKeys.length:-1};t["ceramic.IntFloatMapKeyIterator"]=ceramic_IntFloatMapKeyIterator,ceramic_IntFloatMapKeyIterator.__name__="ceramic.IntFloatMapKeyIterator",ceramic_IntFloatMapKeyIterator.prototype={hasNext:function(){return this.i<this.len},next:function(){var e=this.i++;return this.iterableKeys[e]},__class__:ceramic_IntFloatMapKeyIterator};var ceramic_IntFloatMapKeyValueIterator=function(e){this.intFloatMap=e,this.i=0;var n=this.intFloatMap.iterableKeys;this.len=null!=n?n.length:-1};t["ceramic.IntFloatMapKeyValueIterator"]=ceramic_IntFloatMapKeyValueIterator,ceramic_IntFloatMapKeyValueIterator.__name__="ceramic.IntFloatMapKeyValueIterator",ceramic_IntFloatMapKeyValueIterator.prototype={hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,n=this.intFloatMap.iterableKeys[e],t=this.intFloatMap.intMap.h[0|n];return{key:n,value:null!=t?t:0}},__class__:ceramic_IntFloatMapKeyValueIterator};var ceramic_IntIntMapIterator=function(e){this.intIntMap=e,this.i=0;var n=this.intIntMap.iterableKeys;this.len=null!=n?n.length:-1};t["ceramic.IntIntMapIterator"]=ceramic_IntIntMapIterator,ceramic_IntIntMapIterator.__name__="ceramic.IntIntMapIterator",ceramic_IntIntMapIterator.prototype={hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,n=this.intIntMap.iterableKeys[e],t=this.intIntMap.intMap.h[0|n];return null!=t?t:0},__class__:ceramic_IntIntMapIterator};var ceramic_IntIntMapKeyIterator=function(e){this.i=0,this.iterableKeys=e.iterableKeys,this.len=null!=this.iterableKeys?this.iterableKeys.length:-1};t["ceramic.IntIntMapKeyIterator"]=ceramic_IntIntMapKeyIterator,ceramic_IntIntMapKeyIterator.__name__="ceramic.IntIntMapKeyIterator",ceramic_IntIntMapKeyIterator.prototype={hasNext:function(){return this.i<this.len},next:function(){var e=this.i++;return this.iterableKeys[e]},__class__:ceramic_IntIntMapKeyIterator};var ceramic_IntIntMapKeyValueIterator=function(e){this.intIntMap=e,this.i=0;var n=this.intIntMap.iterableKeys;this.len=null!=n?n.length:-1};t["ceramic.IntIntMapKeyValueIterator"]=ceramic_IntIntMapKeyValueIterator,ceramic_IntIntMapKeyValueIterator.__name__="ceramic.IntIntMapKeyValueIterator",ceramic_IntIntMapKeyValueIterator.prototype={hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,n=this.intIntMap.iterableKeys[e],t=this.intIntMap.intMap.h[0|n];return{key:n,value:null!=t?t:0}},__class__:ceramic_IntIntMapKeyValueIterator};var ceramic_IntMap=function(e,n,t){null==t&&(t=!1),null==n&&(n=.5),null==e&&(e=16),this.iterableKeys=null,this.nextFreeIndex=0,this.initialSize=e,this.initialFillFactor=n,this._keys=new ceramic_IntIntMap(e,n),this.values=new Array(e),t&&(this.iterableKeys=[])};t["ceramic.IntMap"]=ceramic_IntMap,ceramic_IntMap.__name__="ceramic.IntMap",ceramic_IntMap.prototype={get:function(e){var n=this._keys.intMap.h[0|e],t=null!=n?n:0;return t>=2?this.values[t-2]:ceramic_IntMap.RET_NULL},getInline:function(e){var n=this._keys.intMap.h[0|e],t=null!=n?n:0;return t>=2?this.values[t-2]:ceramic_IntMap.RET_NULL},exists:function(e){return this._keys.intMap.h.hasOwnProperty(0|e)},existsInline:function(e){return this._keys.intMap.h.hasOwnProperty(0|e)},set:function(e,n){var t=this._keys.intMap.h[0|e],i=null!=t?t:0;if(i>=2)i-=2,null!=n?this.values[i]=n:(this.values[i]=null,this.nextFreeIndex>i&&(this.nextFreeIndex=i),this._keys.set(e,1));else if(null==n)1!=i&&(this._keys.set(e,1),null!=this.iterableKeys&&this.iterableKeys.push(e));else{var s=this.values.length;this.nextFreeIndex>=s&&this.resizeValues(2*this.values.length),this.values[this.nextFreeIndex]=n,this._keys.set(e,this.nextFreeIndex+2),1!=i&&null!=this.iterableKeys&&this.iterableKeys.push(e);do{this.nextFreeIndex++}while(this.nextFreeIndex<s&&null!=this.values[this.nextFreeIndex])}},remove:function(e){var n=this._keys.intMap.h[0|e],t=null!=n?n:0;0!=t&&(1!=t&&(t-=2,this.values[t]=null,this.nextFreeIndex>t&&(this.nextFreeIndex=t)),this._keys.remove(e),null!=this.iterableKeys&&this.iterableKeys.splice(this.iterableKeys.indexOf(e),1))},copy:function(){var e=new ceramic_IntMap;e.initialSize=this.initialSize,e.initialFillFactor=this.initialFillFactor;var n=this._keys,t=new ceramic_IntIntMap;t.intMap=n.intMap.copy(),t.size=n.size,t.iterableKeys=null!=n.iterableKeys?n.iterableKeys.slice():null,t.iterableKeysUsed=null!=n.iterableKeysUsed?p.copy(n.iterableKeysUsed):null,e._keys=t,e.nextFreeIndex=this.nextFreeIndex,e.iterableKeys=null!=this.iterableKeys?this.iterableKeys.slice():null;var i=this.values,s=new Array(i.length);return B.blit(i,0,s,0,i.length),e.values=s,e},clear:function(){if(this._keys=new ceramic_IntIntMap(this.initialSize,this.initialFillFactor),this.values=new Array(this.initialSize),this.nextFreeIndex=0,null!=this.iterableKeys){var e=this.iterableKeys;if(0!=e.length)if(e.length>0)e.splice(0,e.length);else for(var n=e;n.length<0;)n.push(null)}},iterator:function(){return new ceramic_IntMapIterator(this)},keys:function(){return new ceramic_IntMapKeyIterator(this)},keyValueIterator:function(){return new ceramic_IntMapKeyValueIterator(this)},resizeValues:function(e){var n=this.values;this.values=new Array(e);for(var t=0,i=n.length;t<i;){var s=t++;this.values[s]=n[s]}},__class__:ceramic_IntMap};var ceramic_IntMapIterator=function(e){this.intMap=e,this.i=0;var n=this.intMap.iterableKeys;this.len=null!=n?n.length:-1};t["ceramic.IntMapIterator"]=ceramic_IntMapIterator,ceramic_IntMapIterator.__name__="ceramic.IntMapIterator",ceramic_IntMapIterator.prototype={hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,n=this.intMap.iterableKeys[e];return this.intMap.get(n)},__class__:ceramic_IntMapIterator};var ceramic_IntMapKeyIterator=function(e){this.i=0,this.iterableKeys=e.iterableKeys,this.len=null!=this.iterableKeys?this.iterableKeys.length:-1};t["ceramic.IntMapKeyIterator"]=ceramic_IntMapKeyIterator,ceramic_IntMapKeyIterator.__name__="ceramic.IntMapKeyIterator",ceramic_IntMapKeyIterator.prototype={hasNext:function(){return this.i<this.len},next:function(){var e=this.i++;return this.iterableKeys[e]},__class__:ceramic_IntMapKeyIterator};var ceramic_IntMapKeyValueIterator=function(e){this.intMap=e,this.i=0;var n=this.intMap.iterableKeys;this.len=null!=n?n.length:-1};t["ceramic.IntMapKeyValueIterator"]=ceramic_IntMapKeyValueIterator,ceramic_IntMapKeyValueIterator.__name__="ceramic.IntMapKeyValueIterator",ceramic_IntMapKeyValueIterator.prototype={hasNext:function(){return this.i<this.len},next:function(){var e=this.i++,n=this.intMap.iterableKeys[e];return{key:n,value:this.intMap.get(n)}},__class__:ceramic_IntMapKeyValueIterator};var ceramic_Key=function(e,n){this.keyCode=e,this.scanCode=n};t["ceramic.Key"]=ceramic_Key,ceramic_Key.__name__="ceramic.Key",ceramic_Key.prototype={get_keyCodeName:function(){return b.$name(this.keyCode)},get_scanCodeName:function(){return g.$name(this.scanCode)},toString:function(){return"Key("+this.keyCode+" "+b.$name(this.keyCode)+" / "+this.scanCode+" "+g.$name(this.scanCode)+")"},__class__:ceramic_Key,__properties__:{get_scanCodeName:"get_scanCodeName",get_keyCodeName:"get_keyCodeName"}};var b={$name:function(e){if(0!=(e&g.MASK))return g.$name(e&~g.MASK);switch(e){case 8:return g.$name(42);case 9:return g.$name(43);case 13:return g.$name(40);case 27:return g.$name(41);case 32:return g.$name(44);case 97:return g.$name(4);case 98:return g.$name(5);case 99:return g.$name(6);case 100:return g.$name(7);case 101:return g.$name(8);case 102:return g.$name(9);case 103:return g.$name(10);case 104:return g.$name(11);case 105:return g.$name(12);case 106:return g.$name(13);case 107:return g.$name(14);case 108:return g.$name(15);case 109:return g.$name(16);case 110:return g.$name(17);case 111:return g.$name(18);case 112:return g.$name(19);case 113:return g.$name(20);case 114:return g.$name(21);case 115:return g.$name(22);case 116:return g.$name(23);case 117:return g.$name(24);case 118:return g.$name(25);case 119:return g.$name(26);case 120:return g.$name(27);case 121:return g.$name(28);case 122:return g.$name(29);case 127:return g.$name(76);default:return String.fromCodePoint(e)}},toString:function(e){return"KeyCode("+e+" "+b.$name(e)+")"}},polyline_MiterUtils=function(){this.tmpY=0,this.tmpX=0,this.outY=0,this.outX=0,this.bY=0,this.bX=0,this.aY=0,this.aX=0,this.miterY=0,this.miterX=0,this.tangentY=0,this.tangentX=0};t["polyline.MiterUtils"]=polyline_MiterUtils,polyline_MiterUtils.__name__="polyline.MiterUtils",polyline_MiterUtils.prototype={computeMiter:function(e){return this.tangentX=this.aX+this.bX,this.tangentY=this.aY+this.bY,this.miterX=-this.tangentY,this.miterY=this.tangentX,this.tmpX=-this.aY,this.tmpY=this.aX,e/(this.miterX*this.tmpX+this.miterY*this.tmpY)},normal:function(e,n){this.outX=-n,this.outY=e},direction:function(){this.outX=this.aX-this.bX,this.outY=this.aY-this.bY;var e=this.outX*this.outX+this.outY*this.outY;e>0&&(e=1/Math.sqrt(e),this.outX*=e,this.outY*=e)},__class__:polyline_MiterUtils};var polyline_Stroke=function(){this._points=null,this._started=!1,this._lastFlip=-1,this._normalY=0,this._normalX=0,this._hasNormal=!1,this.capEndY=0,this.capEndX=0,this.miterY=0,this.miterX=0,this.tangentY=0,this.tangentX=0,this.lineBY=0,this.lineBX=0,this.lineAY=0,this.lineAX=0,this.tmpY=0,this.tmpX=0,this.canLoop=!1,this.cap=q.BUTT,this.join=Z.MITER,this.thickness=1,this.miterLimit=10};t["polyline.Stroke"]=polyline_Stroke,polyline_Stroke.__name__="polyline.Stroke",polyline_Stroke.prototype={build:function(e,n,t){if(n.length>0&&n.splice(0,n.length),t.length>0&&t.splice(0,t.length),0!=e.length){var i=e.length;this._lastFlip=-1,this._started=!1,this._hasNormal=!1;var s=2,r=0,l=!1,a=0,o=0,h=0,c=0,u=-9999999999,_=-9999999999,d=0;for(this._points=e;s<i;){if(l||(a=e[s-2],o=e[s-1],h=e[s],c=e[s+1]),u=-9999999999,_=-9999999999,l=!1,d=this.mapThickness(h,c,s,e),s<i-2)if(u=e[s+2],_=e[s+3],h==u&&c==_)l=!0;else{var f=a-h,p=o-c,b=((u-h)*f+(_-c)*p)/(f*f+p*p),y=u-(h+b*f),g=_-(c+b*p);if(Math.sqrt(y*y+g*g)<d){for(var O=Math.atan2(o-c,a-h)-Math.atan2(_-c,u-h);O<0;)O+=6.28318530718;for(;O>6.28318530718;)O-=6.28318530718;(O<1.57079632679||O>4.71238898038)&&(u=-9999999999,_=-9999999999)}}if(!l){var x=a,v=o,m=h,w=c,U=.5*d,C=0,T=this.cap==q.SQUARE,D=this.join==Z.BEVEL;polyline_Stroke.miterUtils.aX=m,polyline_Stroke.miterUtils.aY=w,polyline_Stroke.miterUtils.bX=x,polyline_Stroke.miterUtils.bY=v;var E=polyline_Stroke.miterUtils;E.outX=E.aX-E.bX,E.outY=E.aY-E.bY;var A=E.outX*E.outX+E.outY*E.outY;if(A>0&&(A=1/Math.sqrt(A),E.outX*=A,E.outY*=A),this.lineAX=polyline_Stroke.miterUtils.outX,this.lineAY=polyline_Stroke.miterUtils.outY,!this._hasNormal){var S=polyline_Stroke.miterUtils;S.outX=-this.lineAY,S.outY=this.lineAX,this._normalX=polyline_Stroke.miterUtils.outX,this._normalY=polyline_Stroke.miterUtils.outY,this._hasNormal=!0}if(!this._started){this._started=!0;var M=.5*this.mapThickness(this._points[0],this._points[1],0,this._points);T&&(this.capEndX=x+this.lineAX*-M,this.capEndY=v+this.lineAY*-M,x=this.capEndX,v=this.capEndY);var P=this._normalX,F=this._normalY;this.tmpX=x+P*-M,this.tmpY=v+F*-M,n.push(this.tmpX),n.push(this.tmpY),this.tmpX=x+P*M,this.tmpY=v+F*M,n.push(this.tmpX),n.push(this.tmpY)}if(t.push(r),t.push(r+1),t.push(r+2),-9999999999==u){var k=polyline_Stroke.miterUtils;k.outX=-this.lineAY,k.outY=this.lineAX,this._normalX=polyline_Stroke.miterUtils.outX,this._normalY=polyline_Stroke.miterUtils.outY,this._hasNormal=!0,T&&(this.capEndX=m+this.lineAX*U,this.capEndY=w+this.lineAY*U,m=this.capEndX,w=this.capEndY);var R=this._normalX,I=this._normalY;this.tmpX=m+R*-U,this.tmpY=w+I*-U,n.push(this.tmpX),n.push(this.tmpY),this.tmpX=m+R*U,this.tmpY=w+I*U,n.push(this.tmpX),n.push(this.tmpY),1==this._lastFlip?(t.push(r),t.push(r+2),t.push(r+3)):(t.push(r+2),t.push(r+1),t.push(r+3)),C+=4}else{polyline_Stroke.miterUtils.aX=u,polyline_Stroke.miterUtils.aY=_,polyline_Stroke.miterUtils.bX=m,polyline_Stroke.miterUtils.bY=w;var N=polyline_Stroke.miterUtils;N.outX=N.aX-N.bX,N.outY=N.aY-N.bY;var L=N.outX*N.outX+N.outY*N.outY;L>0&&(L=1/Math.sqrt(L),N.outX*=L,N.outY*=L),this.lineBX=polyline_Stroke.miterUtils.outX,this.lineBY=polyline_Stroke.miterUtils.outY,polyline_Stroke.miterUtils.tangentX=this.tangentX,polyline_Stroke.miterUtils.tangentY=this.tangentY,polyline_Stroke.miterUtils.miterX=this.miterX,polyline_Stroke.miterUtils.miterY=this.miterY,polyline_Stroke.miterUtils.aX=this.lineAX,polyline_Stroke.miterUtils.aY=this.lineAY,polyline_Stroke.miterUtils.bX=this.lineBX,polyline_Stroke.miterUtils.bY=this.lineBY;var B=polyline_Stroke.miterUtils;B.tangentX=B.aX+B.bX,B.tangentY=B.aY+B.bY,B.miterX=-B.tangentY,B.miterY=B.tangentX,B.tmpX=-B.aY,B.tmpY=B.aX;var G=U/(B.miterX*B.tmpX+B.miterY*B.tmpY);this.tangentX=polyline_Stroke.miterUtils.tangentX,this.tangentY=polyline_Stroke.miterUtils.tangentY,this.miterX=polyline_Stroke.miterUtils.miterX,this.miterY=polyline_Stroke.miterUtils.miterY;var W=this.tangentX*this._normalX+this.tangentY*this._normalY<0?-1:1,K=D;if(!K&&this.join==Z.MITER)G/U>this.miterLimit&&(K=!0);if(K){this.tmpX=m+this._normalX*-U*W,this.tmpY=w+this._normalY*-U*W,n.push(this.tmpX),n.push(this.tmpY),this.tmpX=m+this.miterX*G*W,this.tmpY=w+this.miterY*G*W,n.push(this.tmpX),n.push(this.tmpY),this._lastFlip!=-W?(t.push(r),t.push(r+2),t.push(r+3)):(t.push(r+2),t.push(r+1),t.push(r+3)),t.push(r+2),t.push(r+3),t.push(r+4);var Y=polyline_Stroke.miterUtils;Y.outX=-this.lineBY,Y.outY=this.lineBX,this.tmpX=polyline_Stroke.miterUtils.outX,this.tmpY=polyline_Stroke.miterUtils.outY,this._normalX=this.tmpX,this._normalY=this.tmpY,this.tmpX=m+this.tmpX*-U*W,this.tmpY=w+this.tmpY*-U*W,n.push(this.tmpX),n.push(this.tmpY),C+=3}else{var H=this.miterX,X=this.miterY;this.tmpX=m+H*-G,this.tmpY=w+X*-G,n.push(this.tmpX),n.push(this.tmpY),this.tmpX=m+H*G,this.tmpY=w+X*G,n.push(this.tmpX),n.push(this.tmpY),1==this._lastFlip?(t.push(r),t.push(r+2),t.push(r+3)):(t.push(r+2),t.push(r+1),t.push(r+3)),W=-1,this._normalX=this.miterX,this._normalY=this.miterY,C+=2}this._lastFlip=W}r+=C}-9999999999==u&&(this._lastFlip=-1,this._started=!1,this._hasNormal=!1,l=!1),s+=2}if(this._points=null,this.canLoop&&this.cap==q.BUTT&&e[0]==e[e.length-2]&&e[1]==e[e.length-1]&&e.length>6){var V=.5*(n[n.length-2]+n[2]),z=.5*(n[n.length-1]+n[3]);n[n.length-2]=V,n[2]=V,n[n.length-1]=z,n[3]=z,V=.5*(n[n.length-4]+n[0]),z=.5*(n[n.length-3]+n[1]),n[n.length-4]=V,n[0]=V,n[n.length-3]=z,n[1]=z}}},mapThickness:function(e,n,t,i){return this.thickness},_seg:function(e,n,t,i,s,r,l,a,o,h){var c=0,u=this.cap==q.SQUARE,_=this.join==Z.BEVEL;(polyline_Stroke.miterUtils.aX=r,polyline_Stroke.miterUtils.aY=l,polyline_Stroke.miterUtils.bX=i,polyline_Stroke.miterUtils.bY=s,(x=polyline_Stroke.miterUtils).outX=x.aX-x.bX,x.outY=x.aY-x.bY,(b=x.outX*x.outX+x.outY*x.outY)>0&&(b=1/Math.sqrt(b),x.outX*=b,x.outY*=b),this.lineAX=polyline_Stroke.miterUtils.outX,this.lineAY=polyline_Stroke.miterUtils.outY,this._hasNormal)||((x=polyline_Stroke.miterUtils).outX=-this.lineAY,x.outY=this.lineAX,this._normalX=polyline_Stroke.miterUtils.outX,this._normalY=polyline_Stroke.miterUtils.outY,this._hasNormal=!0);if(!this._started){this._started=!0;var d=.5*this.mapThickness(this._points[0],this._points[1],0,this._points);u&&(this.capEndX=i+this.lineAX*-d,this.capEndY=s+this.lineAY*-d,i=this.capEndX,s=this.capEndY);var f=this._normalX,p=this._normalY;this.tmpX=i+f*-d,this.tmpY=s+p*-d,e.push(this.tmpX),e.push(this.tmpY),this.tmpX=i+f*d,this.tmpY=s+p*d,e.push(this.tmpX),e.push(this.tmpY)}if(n.push(t),n.push(t+1),n.push(t+2),-9999999999==a){(x=polyline_Stroke.miterUtils).outX=-this.lineAY,x.outY=this.lineAX,this._normalX=polyline_Stroke.miterUtils.outX,this._normalY=polyline_Stroke.miterUtils.outY,this._hasNormal=!0,u&&(this.capEndX=r+this.lineAX*h,this.capEndY=l+this.lineAY*h,r=this.capEndX,l=this.capEndY);f=this._normalX,p=this._normalY;this.tmpX=r+f*-h,this.tmpY=l+p*-h,e.push(this.tmpX),e.push(this.tmpY),this.tmpX=r+f*h,this.tmpY=l+p*h,e.push(this.tmpX),e.push(this.tmpY),1==this._lastFlip?(n.push(t),n.push(t+2),n.push(t+3)):(n.push(t+2),n.push(t+1),n.push(t+3)),c+=4}else{var b;polyline_Stroke.miterUtils.aX=a,polyline_Stroke.miterUtils.aY=o,polyline_Stroke.miterUtils.bX=r,polyline_Stroke.miterUtils.bY=l,(x=polyline_Stroke.miterUtils).outX=x.aX-x.bX,x.outY=x.aY-x.bY,(b=x.outX*x.outX+x.outY*x.outY)>0&&(b=1/Math.sqrt(b),x.outX*=b,x.outY*=b),this.lineBX=polyline_Stroke.miterUtils.outX,this.lineBY=polyline_Stroke.miterUtils.outY,polyline_Stroke.miterUtils.tangentX=this.tangentX,polyline_Stroke.miterUtils.tangentY=this.tangentY,polyline_Stroke.miterUtils.miterX=this.miterX,polyline_Stroke.miterUtils.miterY=this.miterY,polyline_Stroke.miterUtils.aX=this.lineAX,polyline_Stroke.miterUtils.aY=this.lineAY,polyline_Stroke.miterUtils.bX=this.lineBX,polyline_Stroke.miterUtils.bY=this.lineBY,(x=polyline_Stroke.miterUtils).tangentX=x.aX+x.bX,x.tangentY=x.aY+x.bY,x.miterX=-x.tangentY,x.miterY=x.tangentX,x.tmpX=-x.aY,x.tmpY=x.aX;var y=h/(x.miterX*x.tmpX+x.miterY*x.tmpY);this.tangentX=polyline_Stroke.miterUtils.tangentX,this.tangentY=polyline_Stroke.miterUtils.tangentY,this.miterX=polyline_Stroke.miterUtils.miterX,this.miterY=polyline_Stroke.miterUtils.miterY;var g=this.tangentX*this._normalX+this.tangentY*this._normalY<0?-1:1,O=_;if(!O&&this.join==Z.MITER)y/h>this.miterLimit&&(O=!0);if(O){var x;this.tmpX=r+this._normalX*-h*g,this.tmpY=l+this._normalY*-h*g,e.push(this.tmpX),e.push(this.tmpY),this.tmpX=r+this.miterX*y*g,this.tmpY=l+this.miterY*y*g,e.push(this.tmpX),e.push(this.tmpY),this._lastFlip!=-g?(n.push(t),n.push(t+2),n.push(t+3)):(n.push(t+2),n.push(t+1),n.push(t+3)),n.push(t+2),n.push(t+3),n.push(t+4),(x=polyline_Stroke.miterUtils).outX=-this.lineBY,x.outY=this.lineBX,this.tmpX=polyline_Stroke.miterUtils.outX,this.tmpY=polyline_Stroke.miterUtils.outY,this._normalX=this.tmpX,this._normalY=this.tmpY,this.tmpX=r+this.tmpX*-h*g,this.tmpY=l+this.tmpY*-h*g,e.push(this.tmpX),e.push(this.tmpY),c+=3}else{f=this.miterX,p=this.miterY;this.tmpX=r+f*-y,this.tmpY=l+p*-y,e.push(this.tmpX),e.push(this.tmpY),this.tmpX=r+f*y,this.tmpY=l+p*y,e.push(this.tmpX),e.push(this.tmpY),1==this._lastFlip?(n.push(t),n.push(t+2),n.push(t+3)):(n.push(t+2),n.push(t+1),n.push(t+3)),g=-1,this._normalX=this.miterX,this._normalY=this.miterY,c+=2}this._lastFlip=g}return c},extrusions:function(e,n,t,i,s,r){this.tmpX=n+i*-r,this.tmpY=t+s*-r,e.push(this.tmpX),e.push(this.tmpY),this.tmpX=n+i*r,this.tmpY=t+s*r,e.push(this.tmpX),e.push(this.tmpY)},pointsAngle:function(e,n,t,i,s,r){for(var l=Math.atan2(r-n,s-e)-Math.atan2(i-n,t-e);l<0;)l+=6.28318530718;for(;l>6.28318530718;)l-=6.28318530718;return l},distanceToLine:function(e,n,t,i,s,r){var l=s-t,a=r-i,o=((e-t)*l+(n-i)*a)/(l*l+a*a),h=e-(t+o*l),c=n-(i+o*a);return Math.sqrt(h*h+c*c)},__class__:polyline_Stroke};var ceramic_Line=function(){this.autoComputeSize=!0,this.loop=!1,this.cap=q.BUTT,this.join=Z.BEVEL,this.thickness=1,this.miterLimit=10,this.points=null,ceramic_Mesh.call(this)};t["ceramic.Line"]=ceramic_Line,ceramic_Line.__name__="ceramic.Line",ceramic_Line.__super__=ceramic_Mesh,ceramic_Line.prototype=$extend(ceramic_Mesh.prototype,{set_points:function(e){return this.points=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,e},set_miterLimit:function(e){return this.miterLimit==e||(this.miterLimit=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_thickness:function(e){return this.thickness==e||(this.thickness=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_join:function(e){return this.join==e||(this.join=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_cap:function(e){return this.cap==e||(this.cap=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_loop:function(e){return this.loop==e||(this.loop=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_autoComputeSize:function(e){return this.autoComputeSize==e||(this.autoComputeSize=e,e&&this.computeSize()),e},computeContent:function(){null!=this.points&&this.points.length>=4&&(ceramic_Line._stroke.miterLimit=this.miterLimit,ceramic_Line._stroke.thickness=this.thickness,ceramic_Line._stroke.join=this.join,ceramic_Line._stroke.cap=this.cap,ceramic_Line._stroke.canLoop=this.loop,null==this.vertices&&(this.vertices=[]),null==this.indices&&(this.indices=[]),ceramic_Line._stroke.build(this.points,this.vertices,this.indices)),this.autoComputeSize&&this.computeSize(),this.contentDirty=!1},computeSize:function(){if(null!=this.points&&this.points.length>=2){for(var e=0,n=0,t=0,i=this.points.length-1;t<i;){var s=this.points[t];s>e&&(e=s),++t;var r=this.points[t];r>n&&(n=r),++t}this.set_width(e),this.set_height(n)}else this.set_width(0),this.set_height(0)},__class__:ceramic_Line,__properties__:$extend(ceramic_Mesh.prototype.__properties__,{set_autoComputeSize:"set_autoComputeSize",set_loop:"set_loop",set_cap:"set_cap",set_join:"set_join",set_thickness:"set_thickness",set_miterLimit:"set_miterLimit",set_points:"set_points"})});var ceramic_Logger=function(){this.indentPrefix="",ceramic_Entity.call(this),ceramic_Logger.didInitOnce||(ceramic_Logger.didInitOnce=!0)};t["ceramic.Logger"]=ceramic_Logger,ceramic_Logger.__name__="ceramic.Logger",ceramic_Logger.__super__=ceramic_Entity,ceramic_Logger.prototype=$extend(ceramic_Entity.prototype,{emitInfo:function(e,n){var t=0;if(null!=this.__cbOnInfo&&(t+=this.__cbOnInfo.length),null!=this.__cbOnceInfo&&(t+=this.__cbOnceInfo.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnInfo)for(var l=0,a=this.__cbOnInfo.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnInfo[o],++r):--t}if(null!=this.__cbOnceInfo){var h=null,c=null;for(l=0,a=this.__cbOnceInfo.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceInfo[o],this.__cbOnceInfo[o]=null;var u=this.__cbOnceOwnerUnbindInfo[o];this.__cbOnceOwnerUnbindInfo[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindInfo[o]),c.push(this.__cbOnceInfo[o])}this.__cbOnceOwnerUnbindInfo=h,this.__cbOnceInfo=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onInfo:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event info because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offInfo(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindInfo&&(this.__cbOnOwnerUnbindInfo=[]),this.__cbOnOwnerUnbindInfo.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindInfo&&(this.__cbOnOwnerUnbindInfo=[]),this.__cbOnOwnerUnbindInfo.push(null);null==this.__cbOnInfo&&(this.__cbOnInfo=[]),this.__cbOnInfo.push(n)},onceInfo:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event info because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offInfo(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindInfo&&(this.__cbOnceOwnerUnbindInfo=[]),this.__cbOnceOwnerUnbindInfo.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindInfo&&(this.__cbOnceOwnerUnbindInfo=[]),this.__cbOnceOwnerUnbindInfo.push(null);null==this.__cbOnceInfo&&(this.__cbOnceInfo=[]),this.__cbOnceInfo.push(n)},offInfo:function(e){if(null!=e){var n;null!=this.__cbOnInfo&&-1!=(n=this.__cbOnInfo.indexOf(e))&&(this.__cbOnInfo.splice(n,1),null!=(r=this.__cbOnOwnerUnbindInfo[n])&&r(),this.__cbOnOwnerUnbindInfo.splice(n,1)),null!=this.__cbOnceInfo&&-1!=(n=this.__cbOnceInfo.indexOf(e))&&(this.__cbOnceInfo.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindInfo[n])&&r(),this.__cbOnceOwnerUnbindInfo.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindInfo){for(var t=0,i=this.__cbOnOwnerUnbindInfo.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindInfo[s])&&r()}this.__cbOnOwnerUnbindInfo=null}if(null!=this.__cbOnceOwnerUnbindInfo){for(t=0,i=this.__cbOnceOwnerUnbindInfo.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindInfo[s])&&r()}this.__cbOnceOwnerUnbindInfo=null}this.__cbOnInfo=null,this.__cbOnceInfo=null}},listensInfo:function(){return null!=this.__cbOnInfo&&this.__cbOnInfo.length>0||null!=this.__cbOnceInfo&&this.__cbOnceInfo.length>0},emitDebug:function(e,n){var t=0;if(null!=this.__cbOnDebug&&(t+=this.__cbOnDebug.length),null!=this.__cbOnceDebug&&(t+=this.__cbOnceDebug.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnDebug)for(var l=0,a=this.__cbOnDebug.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnDebug[o],++r):--t}if(null!=this.__cbOnceDebug){var h=null,c=null;for(l=0,a=this.__cbOnceDebug.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceDebug[o],this.__cbOnceDebug[o]=null;var u=this.__cbOnceOwnerUnbindDebug[o];this.__cbOnceOwnerUnbindDebug[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindDebug[o]),c.push(this.__cbOnceDebug[o])}this.__cbOnceOwnerUnbindDebug=h,this.__cbOnceDebug=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onDebug:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event debug because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDebug(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindDebug&&(this.__cbOnOwnerUnbindDebug=[]),this.__cbOnOwnerUnbindDebug.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindDebug&&(this.__cbOnOwnerUnbindDebug=[]),this.__cbOnOwnerUnbindDebug.push(null);null==this.__cbOnDebug&&(this.__cbOnDebug=[]),this.__cbOnDebug.push(n)},onceDebug:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event debug because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDebug(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindDebug&&(this.__cbOnceOwnerUnbindDebug=[]),this.__cbOnceOwnerUnbindDebug.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindDebug&&(this.__cbOnceOwnerUnbindDebug=[]),this.__cbOnceOwnerUnbindDebug.push(null);null==this.__cbOnceDebug&&(this.__cbOnceDebug=[]),this.__cbOnceDebug.push(n)},offDebug:function(e){if(null!=e){var n;null!=this.__cbOnDebug&&-1!=(n=this.__cbOnDebug.indexOf(e))&&(this.__cbOnDebug.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDebug[n])&&r(),this.__cbOnOwnerUnbindDebug.splice(n,1)),null!=this.__cbOnceDebug&&-1!=(n=this.__cbOnceDebug.indexOf(e))&&(this.__cbOnceDebug.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDebug[n])&&r(),this.__cbOnceOwnerUnbindDebug.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDebug){for(var t=0,i=this.__cbOnOwnerUnbindDebug.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindDebug[s])&&r()}this.__cbOnOwnerUnbindDebug=null}if(null!=this.__cbOnceOwnerUnbindDebug){for(t=0,i=this.__cbOnceOwnerUnbindDebug.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindDebug[s])&&r()}this.__cbOnceOwnerUnbindDebug=null}this.__cbOnDebug=null,this.__cbOnceDebug=null}},listensDebug:function(){return null!=this.__cbOnDebug&&this.__cbOnDebug.length>0||null!=this.__cbOnceDebug&&this.__cbOnceDebug.length>0},emitSuccess:function(e,n){var t=0;if(null!=this.__cbOnSuccess&&(t+=this.__cbOnSuccess.length),null!=this.__cbOnceSuccess&&(t+=this.__cbOnceSuccess.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnSuccess)for(var l=0,a=this.__cbOnSuccess.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnSuccess[o],++r):--t}if(null!=this.__cbOnceSuccess){var h=null,c=null;for(l=0,a=this.__cbOnceSuccess.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceSuccess[o],this.__cbOnceSuccess[o]=null;var u=this.__cbOnceOwnerUnbindSuccess[o];this.__cbOnceOwnerUnbindSuccess[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindSuccess[o]),c.push(this.__cbOnceSuccess[o])}this.__cbOnceOwnerUnbindSuccess=h,this.__cbOnceSuccess=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onSuccess:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event success because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offSuccess(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindSuccess&&(this.__cbOnOwnerUnbindSuccess=[]),this.__cbOnOwnerUnbindSuccess.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindSuccess&&(this.__cbOnOwnerUnbindSuccess=[]),this.__cbOnOwnerUnbindSuccess.push(null);null==this.__cbOnSuccess&&(this.__cbOnSuccess=[]),this.__cbOnSuccess.push(n)},onceSuccess:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event success because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offSuccess(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindSuccess&&(this.__cbOnceOwnerUnbindSuccess=[]),this.__cbOnceOwnerUnbindSuccess.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindSuccess&&(this.__cbOnceOwnerUnbindSuccess=[]),this.__cbOnceOwnerUnbindSuccess.push(null);null==this.__cbOnceSuccess&&(this.__cbOnceSuccess=[]),this.__cbOnceSuccess.push(n)},offSuccess:function(e){if(null!=e){var n;null!=this.__cbOnSuccess&&-1!=(n=this.__cbOnSuccess.indexOf(e))&&(this.__cbOnSuccess.splice(n,1),null!=(r=this.__cbOnOwnerUnbindSuccess[n])&&r(),this.__cbOnOwnerUnbindSuccess.splice(n,1)),null!=this.__cbOnceSuccess&&-1!=(n=this.__cbOnceSuccess.indexOf(e))&&(this.__cbOnceSuccess.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindSuccess[n])&&r(),this.__cbOnceOwnerUnbindSuccess.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSuccess){for(var t=0,i=this.__cbOnOwnerUnbindSuccess.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindSuccess[s])&&r()}this.__cbOnOwnerUnbindSuccess=null}if(null!=this.__cbOnceOwnerUnbindSuccess){for(t=0,i=this.__cbOnceOwnerUnbindSuccess.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindSuccess[s])&&r()}this.__cbOnceOwnerUnbindSuccess=null}this.__cbOnSuccess=null,this.__cbOnceSuccess=null}},listensSuccess:function(){return null!=this.__cbOnSuccess&&this.__cbOnSuccess.length>0||null!=this.__cbOnceSuccess&&this.__cbOnceSuccess.length>0},emitWarning:function(e,n){var t=0;if(null!=this.__cbOnWarning&&(t+=this.__cbOnWarning.length),null!=this.__cbOnceWarning&&(t+=this.__cbOnceWarning.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnWarning)for(var l=0,a=this.__cbOnWarning.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnWarning[o],++r):--t}if(null!=this.__cbOnceWarning){var h=null,c=null;for(l=0,a=this.__cbOnceWarning.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceWarning[o],this.__cbOnceWarning[o]=null;var u=this.__cbOnceOwnerUnbindWarning[o];this.__cbOnceOwnerUnbindWarning[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindWarning[o]),c.push(this.__cbOnceWarning[o])}this.__cbOnceOwnerUnbindWarning=h,this.__cbOnceWarning=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onWarning:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event warning because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offWarning(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindWarning&&(this.__cbOnOwnerUnbindWarning=[]),this.__cbOnOwnerUnbindWarning.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindWarning&&(this.__cbOnOwnerUnbindWarning=[]),this.__cbOnOwnerUnbindWarning.push(null);null==this.__cbOnWarning&&(this.__cbOnWarning=[]),this.__cbOnWarning.push(n)},onceWarning:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event warning because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offWarning(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindWarning&&(this.__cbOnceOwnerUnbindWarning=[]),this.__cbOnceOwnerUnbindWarning.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindWarning&&(this.__cbOnceOwnerUnbindWarning=[]),this.__cbOnceOwnerUnbindWarning.push(null);null==this.__cbOnceWarning&&(this.__cbOnceWarning=[]),this.__cbOnceWarning.push(n)},offWarning:function(e){if(null!=e){var n;null!=this.__cbOnWarning&&-1!=(n=this.__cbOnWarning.indexOf(e))&&(this.__cbOnWarning.splice(n,1),null!=(r=this.__cbOnOwnerUnbindWarning[n])&&r(),this.__cbOnOwnerUnbindWarning.splice(n,1)),null!=this.__cbOnceWarning&&-1!=(n=this.__cbOnceWarning.indexOf(e))&&(this.__cbOnceWarning.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindWarning[n])&&r(),this.__cbOnceOwnerUnbindWarning.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWarning){for(var t=0,i=this.__cbOnOwnerUnbindWarning.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindWarning[s])&&r()}this.__cbOnOwnerUnbindWarning=null}if(null!=this.__cbOnceOwnerUnbindWarning){for(t=0,i=this.__cbOnceOwnerUnbindWarning.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindWarning[s])&&r()}this.__cbOnceOwnerUnbindWarning=null}this.__cbOnWarning=null,this.__cbOnceWarning=null}},listensWarning:function(){return null!=this.__cbOnWarning&&this.__cbOnWarning.length>0||null!=this.__cbOnceWarning&&this.__cbOnceWarning.length>0},emitError:function(e,n){var t=0;if(null!=this.__cbOnError&&(t+=this.__cbOnError.length),null!=this.__cbOnceError&&(t+=this.__cbOnceError.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnError)for(var l=0,a=this.__cbOnError.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnError[o],++r):--t}if(null!=this.__cbOnceError){var h=null,c=null;for(l=0,a=this.__cbOnceError.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceError[o],this.__cbOnceError[o]=null;var u=this.__cbOnceOwnerUnbindError[o];this.__cbOnceOwnerUnbindError[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindError[o]),c.push(this.__cbOnceError[o])}this.__cbOnceOwnerUnbindError=h,this.__cbOnceError=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onError:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event error because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offError(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindError&&(this.__cbOnOwnerUnbindError=[]),this.__cbOnOwnerUnbindError.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindError&&(this.__cbOnOwnerUnbindError=[]),this.__cbOnOwnerUnbindError.push(null);null==this.__cbOnError&&(this.__cbOnError=[]),this.__cbOnError.push(n)},onceError:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event error because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offError(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindError&&(this.__cbOnceOwnerUnbindError=[]),this.__cbOnceOwnerUnbindError.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindError&&(this.__cbOnceOwnerUnbindError=[]),this.__cbOnceOwnerUnbindError.push(null);null==this.__cbOnceError&&(this.__cbOnceError=[]),this.__cbOnceError.push(n)},offError:function(e){if(null!=e){var n;null!=this.__cbOnError&&-1!=(n=this.__cbOnError.indexOf(e))&&(this.__cbOnError.splice(n,1),null!=(r=this.__cbOnOwnerUnbindError[n])&&r(),this.__cbOnOwnerUnbindError.splice(n,1)),null!=this.__cbOnceError&&-1!=(n=this.__cbOnceError.indexOf(e))&&(this.__cbOnceError.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindError[n])&&r(),this.__cbOnceOwnerUnbindError.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindError){for(var t=0,i=this.__cbOnOwnerUnbindError.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindError[s])&&r()}this.__cbOnOwnerUnbindError=null}if(null!=this.__cbOnceOwnerUnbindError){for(t=0,i=this.__cbOnceOwnerUnbindError.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindError[s])&&r()}this.__cbOnceOwnerUnbindError=null}this.__cbOnError=null,this.__cbOnceError=null}},listensError:function(){return null!=this.__cbOnError&&this.__cbOnError.length>0||null!=this.__cbOnceError&&this.__cbOnceError.length>0},debug:function(e,n){this.emitDebug(e,n),haxe_Log.trace(this.prefixLines("[debug] ",e),n)},info:function(e,n){this.emitInfo(e,n),haxe_Log.trace(this.prefixLines("[info] ",e),n)},success:function(e,n){this.emitSuccess(e,n),haxe_Log.trace(this.prefixLines("[success] ",e),n)},warning:function(e,n){this.emitWarning(e,n),ceramic_Logger._hasElectronRunner?haxe_Log.trace(this.prefixLines("[warning] ",e),n):console.warn(e)},error:function(e,n){this.emitError(e,n),ceramic_Logger._hasElectronRunner?haxe_Log.trace(this.prefixLines("[error] ",e),n):console.error(e)},pushIndent:function(){this.indentPrefix+="    "},popIndent:function(){this.indentPrefix=this.indentPrefix.substring(0,this.indentPrefix.length-4)},prefixLines:function(e,n){for(var t=[],i=0,s=Std.string(n).split("\n");i<s.length;){var r=s[i];++i,t.push(e+this.indentPrefix+r)}return t.join("\n")},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offInfo(),this.offDebug(),this.offSuccess(),this.offWarning(),this.offError()},__class__:ceramic_Logger});var ceramic_MeshExtensions=function(){};t["ceramic.MeshExtensions"]=ceramic_MeshExtensions,ceramic_MeshExtensions.__name__="ceramic.MeshExtensions",ceramic_MeshExtensions.createQuad=function(e,n,t,i){null==i&&(i=-1),i<2&&(i=2+e.customFloatAttributesSize);var s=e.uvs;if(s[7]=1,s[0]=0,s[1]=0,s[2]=1,s[3]=0,s[4]=1,s[5]=1,s[6]=0,s.length>8&&8!=s.length)if(s.length>8)s.splice(8,s.length-8);else for(var r=s;r.length<8;)r.push(null);var l=e.indices;if(l[5]=3,l[0]=0,l[1]=1,l[2]=2,l[3]=0,l[4]=2,l.length>6&&6!=l.length)if(l.length>6)l.splice(6,l.length-6);else for(r=l;r.length<6;)r.push(null);var a=e.vertices;a[4*i]=0;var o=0;a[o]=0,a[++o]=0,++o;for(var h=2,c=i;h<c;){h++;a[o]=0,++o}a[o]=n,a[++o]=0,++o;for(h=2,c=i;h<c;){h++;a[o]=0,++o}a[o]=n,a[++o]=t,++o;for(h=2,c=i;h<c;){h++;a[o]=0,++o}a[o]=0,a[++o]=t,++o;for(h=2,c=i;h<c;){h++;a[o]=0,++o}if(a.length>o&&a.length!=o)if(a.length>o)a.splice(o,a.length-o);else for(r=a;r.length<o;)r.push(null);e.set_width(n),e.set_height(t)},ceramic_MeshExtensions.setDarkColor=function(e,n){for(var t=e.vertices,i=6*Math.floor(t.length/6),s=0,r=(n>>16&255)/255,l=(n>>8&255)/255,a=(255&n)/255;s<i;)t[s+=2]=r,t[++s]=l,t[++s]=a,t[++s]=1,++s},ceramic_MeshExtensions.setDarkAlphaColor=function(e,n){for(var t=e.vertices,i=6*Math.floor(t.length/6),s=0,r=(n>>16&255)/255,l=(n>>8&255)/255,a=(255&n)/255,o=(n>>24&255)/255;s<i;)t[s+=2]=r,t[++s]=l,t[++s]=a,t[++s]=o,++s},ceramic_MeshExtensions.createArc=function(e,n,t,i,s,r){var l,a,o=Math.ceil(s*t/360),h=e.vertices,c=e.indices;if(0!=h.length)if(h.length>0)h.splice(0,h.length);else for(var u=h;u.length<0;)u.push(null);if(0!=c.length)if(c.length>0)c.splice(0,c.length);else for(u=c;u.length<0;)u.push(null);var _,d,f=1.5*Math.PI,p=.017453292519943295*t/o;switch(r._hx_index){case 0:_=-i;break;case 1:_=0;break;case 2:_=.5*-i}switch(r._hx_index){case 0:d=0;break;case 1:d=i;break;case 2:d=.5*i}e.set_width(2*n),e.set_height(2*n);for(var b=0,y=o+1;b<y;){var g=b++,O=Math.cos(f+p*g),x=Math.sin(f+p*g);if(l=(n+_)*O,a=(n+_)*x,h.push(n+l),h.push(n+a),l=(n+d)*O,a=(n+d)*x,h.push(n+l),h.push(n+a),g>0){var v=2*(g-1);c.push(v),c.push(v+1),c.push(v+2),c.push(v+1),c.push(v+2),c.push(v+3)}}},ceramic_MeshExtensions.createVerticesGrid=function(e,n,t,i,s,r,l,a,o){null==a&&(a=0),null==l&&(l=0),null==r&&(r=0),e.vertices=ceramic_MeshUtils.createVerticesGrid(e.vertices,n,t,i,s,r,l,a,o)},ceramic_MeshExtensions.createIndicesGrid=function(e,n,t,i,s,r){null==r&&(r=!1),null==s&&(s=!1),null==i&&(i=!1),e.indices=ceramic_MeshUtils.createIndicesGrid(e.indices,n,t,i,s,r)},ceramic_MeshExtensions.createUVsGrid=function(e,n,t,i,s){null==s&&(s=0),null==i&&(i=0),e.uvs=ceramic_MeshUtils.createUVsGrid(e.uvs,n,t,i,s)};var ceramic_MeshUtils=function(){};t["ceramic.MeshUtils"]=ceramic_MeshUtils,ceramic_MeshUtils.__name__="ceramic.MeshUtils",ceramic_MeshUtils.createVerticesGrid=function(e,n,t,i,s,r,l,a,o){null==a&&(a=0),null==l&&(l=0),null==r&&(r=0);var h=(n+1)*(t+1);if(null==e&&(e=[]),e.length>2*h){var c=2*h;if(e.length!=c)if(e.length>c)e.splice(c,e.length-c);else for(var u=e;u.length<c;)u.push(null)}var _=i/n,d=s/t,f=0,p=0;if(a>0&&null==o)if(0==r&&0==l)for(var b=0,y=t+1;b<y;)for(var g=b++,O=0,x=n+1;O<x;){var v=(T=O++)*_,m=g*d;e[f++]=v,e[f++]=m;for(var w=0,U=a;w<U;){w++;e[f++]=0}}else for(b=0,y=t+1;b<y;){var C=(g=b++)%2;for(O=0,x=n+1;O<x;){v=(T=O++)*_,m=g*d;e[f++]=v+r*C,e[f++]=m+l*(T%2);for(w=0,U=a;w<U;){w++;e[f++]=0}}}else if(0==r&&0==l)for(b=0,y=t+1;b<y;)for(g=b++,O=0,x=n+1;O<x;){v=(T=O++)*_,m=g*d;e[f++]=v,e[f++]=m;for(w=0,U=a;w<U;){w++;e[f++]=o[p++]}}else for(b=0,y=t+1;b<y;)for(C=(g=b++)%2,O=0,x=n+1;O<x;){var T;v=(T=O++)*_,m=g*d;e[f++]=v+r*C,e[f++]=m+l*(T%2);for(w=0,U=a;w<U;){w++;e[f++]=o[p++]}}return e},ceramic_MeshUtils.createIndicesGrid=function(e,n,t,i,s,r){null==r&&(r=!1),null==s&&(s=!1),null==i&&(i=!1);var l=n*t*2;if(null==e&&(e=[]),e.length>3*l){var a=3*l;if(e.length!=a)if(e.length>a)e.splice(a,e.length-a);else for(var o=e;o.length<a;)o.push(null)}for(var h=0,c=r?-1:1,u=0,_=t;u<_;)for(var d=u++,f=d%2==1?-1:1,p=0,b=n;p<b;){var y=p++,g=d*(n+1)+y,O=g+1,x=g+(n+1),v=x+1,m=c;i&&y%2==1&&(m*=-1),1==(m*=f)?(e[h++]=g,e[h++]=O,e[h++]=x,e[h++]=O,e[h++]=v,e[h++]=x):(e[h++]=g,e[h++]=v,e[h++]=x,e[h++]=g,e[h++]=O,e[h++]=v)}return e},ceramic_MeshUtils.createUVsGrid=function(e,n,t,i,s){null==s&&(s=0),null==i&&(i=0);var r=(n+1)*(t+1);if(null==e&&(e=[]),e.length>2*r){var l=2*r;if(e.length!=l)if(e.length>l)e.splice(l,e.length-l);else for(var a=e;a.length<l;)a.push(null)}for(var o=0,h=0,c=t+1;h<c;)for(var u=h++,_=0,d=n+1;_<d;){var f=(_+++i)/n,p=(u+s)/t;e[o++]=f,e[o++]=p}return e};var ceramic_Path=function(e){switch(e){case".":case"..":return this.dir=e,void(this.file="")}var n=e.lastIndexOf("/"),t=e.lastIndexOf("\\");n<t?(this.dir=HxOverrides.substr(e,0,t),e=HxOverrides.substr(e,t+1,null),this.backslash=!0):t<n?(this.dir=HxOverrides.substr(e,0,n),e=HxOverrides.substr(e,n+1,null)):this.dir=null;var i=e.lastIndexOf(".");-1!=i?(this.ext=HxOverrides.substr(e,i+1,null),this.file=HxOverrides.substr(e,0,i)):(this.ext=null,this.file=e)};t["ceramic.Path"]=ceramic_Path,ceramic_Path.__name__="ceramic.Path",ceramic_Path.withoutExtension=function(e){var n=new ceramic_Path(e);return n.ext=null,n.toString()},ceramic_Path.withoutDirectory=function(e){var n=new ceramic_Path(e);return n.dir=null,n.toString()},ceramic_Path.directory=function(e){var n=new ceramic_Path(e);return null==n.dir?"":n.dir},ceramic_Path.extension=function(e){var n=new ceramic_Path(e);return null==n.ext?"":n.ext},ceramic_Path.withExtension=function(e,n){var t=new ceramic_Path(e);return t.ext=n,t.toString()},ceramic_Path.join=function(e){for(var n=[],t=0,i=e;t<i.length;){var s=i[t];++t,null!=s&&""!=s&&n.push(s)}if(0==(e=n).length)return"";var r=e[0];for(n=1,t=e.length;n<t;){var l=n++;r=ceramic_Path.addTrailingSlash(r),r+=e[l]}return ceramic_Path.normalize(r)},ceramic_Path.normalize=function(e){var n="/";if((e=e.split("\\").join(n))==n)return n;for(var t=[],i=0,s=e.split(n);i<s.length;){var r=s[i];++i,".."==r&&t.length>0&&".."!=t[t.length-1]?t.pop():"."!=r&&t.push(r)}for(var l=t.join(n),a=-1;-1!=(a=l.indexOf("//"));)l=l.substring(0,a)+l.substring(a+1);var o="",h=!1,c=!1;for(i=0,s=l.length;i<s;){var u=i++,_=l.charCodeAt(u);switch(_){case 47:if(h){var d=_;h=!1,c&&(o+="/",c=!1),o+=String.fromCodePoint(d)}else c=!0;break;case 58:o+=":",h=!0;break;default:var f=_;h=!1,c&&(o+="/",c=!1),o+=String.fromCodePoint(f)}}return o},ceramic_Path.addTrailingSlash=function(e){if(0==e.length)return"/";var n=e.lastIndexOf("/"),t=e.lastIndexOf("\\");return n<t?t!=e.length-1?e+"\\":e:n!=e.length-1?e+"/":e},ceramic_Path.removeTrailingSlashes=function(e){e:for(;;){var n=HxOverrides.cca(e,e.length-1);if(null==n)break;switch(n){case 47:case 92:e=HxOverrides.substr(e,0,-1);break;default:break e}}return e},ceramic_Path.isAbsolute=function(e){return!!StringTools.startsWith(e,"/")||(":"==e.charAt(1)||!!StringTools.startsWith(e,"\\\\"))},ceramic_Path.prototype={toString:function(){return(null==this.dir?"":this.dir+(this.backslash?"\\":"/"))+this.file+(null==this.ext?"":"."+this.ext)},__class__:ceramic_Path};var ceramic_PersistentData=function(e){this.id=e;var n=ceramic_App.app.backend.io.readString("persistent_"+e);if(null!=n)try{var t=new haxe_Unserializer(n);this.internalData=t.unserialize()}catch(n){ceramic_App.app.logger.warning("Failed to read persistent data with id "+e,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/PersistentData.hx",lineNumber:22,className:"ceramic.PersistentData",methodName:"new"})}null==this.internalData&&(this.internalData={})};t["ceramic.PersistentData"]=ceramic_PersistentData,ceramic_PersistentData.__name__="ceramic.PersistentData",ceramic_PersistentData.prototype={get:function(e){return this.internalData[e]},set:function(e,n){this.internalData[e]=n},remove:function(e){Reflect.deleteField(this.internalData,e)},clear:function(){for(var e=0,n=Reflect.fields(this.internalData);e<n.length;){var t=n[e];++e,Reflect.deleteField(this.internalData,t)}},exists:function(e){return Object.prototype.hasOwnProperty.call(this.internalData,e)},keys:function(){return Reflect.fields(this.internalData)},save:function(){var e=new haxe_Serializer;e.serialize(this.internalData);var n=e.toString();ceramic_App.app.backend.io.saveString("persistent_"+this.id,n)},__class__:ceramic_PersistentData};var ceramic_Pixels=function(){};t["ceramic.Pixels"]=ceramic_Pixels,ceramic_Pixels.__name__="ceramic.Pixels",ceramic_Pixels.copy=function(e,n,t,i,s,r,l,a,o,h,c,u,_,d){null==d&&(d=!0),null==_&&(_=!0),null==u&&(u=!0),null==c&&(c=!0);for(var f=s+l,p=r+a,b=s,y=r,g=o,O=h;y<p;){for(var x=y*n,v=O*i;b<f;){var m=4*(x+b),w=4*(v+g);c&&(t[w]=e[m]),++m,++w,u&&(t[w]=e[m]),++m,++w,_&&(t[w]=e[m]),++m,++w,d&&(t[w]=e[m]),++m,++w,++b,++g}++y,++O,b=s,g=o}},ceramic_Pixels.create=function(e,n,t){for(var i=new Uint8Array(e*n*4),s=0,r=e*n;s<r;){var l=4*s++;i[l]=t>>16&255,i[++l]=t>>8&255,i[++l]=255&t,i[++l]=t>>24&255}return i},ceramic_Pixels.fromBytes=function(e){return new Uint8Array(e.b.bufferValue)},ceramic_Pixels.get=function(e,n,t,i){var s=4*(i*n+t),r=e[s],l=e[s+1],a=e[s+2],o=0;o&=65535,o|=(r>255?255:r<0?0:r)<<16,o&=16711935,o|=(l>255?255:l<0?0:l)<<8,o&=16776960,o|=a>255?255:a<0?0:a;var h=e[s+3];null==h&&(h=255);var c=(0|o)-16777216;return c&=16777215,c|=(h>255?255:h<0?0:h)<<24},ceramic_Pixels.set=function(e,n,t,i,s){var r=4*(i*n+t);e[r]=s>>16&255,e[r+1]=s>>8&255,e[r+2]=255&s,e[r+3]=s>>24&255},ceramic_Pixels.setRectangle=function(e,n,t,i,s,r,l){for(var a=0,o=s;a<o;)for(var h=a++,c=0,u=r;c<u;){var _=4*((i+c++)*n+(t+h));e[_]=l>>16&255,e[_+1]=l>>8&255,e[_+2]=255&l,e[_+3]=l>>24&255}},ceramic_Pixels._pixelsToPng=function(e,n,t,i,s){ceramic_App.app.backend.textures.pixelsToPng(e,n,t,i,s)},ceramic_Pixels.rgbaPixelsToRgbPixels=function(e,n,t,i){var s=e*n*3;null==i?i=new Uint8Array(s):i.length!=s&&(ceramic_App.app.logger.warning("Not reusing outPixels because its length ("+i.length+") does not match the required one: "+s+". Creating a new buffer.",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Pixels.hx",lineNumber:240,className:"ceramic.Pixels",methodName:"rgbaPixelsToRgbPixels"}),i=new Uint8Array(s));for(var r=0,l=e*n;r<l;){var a=r++,o=3*a,h=4*a;i[o]=t[h],++h,i[++o]=t[h],++h,i[++o]=t[h]}return i},ceramic_Pixels.rgbPixelsToRgbaPixels=function(e,n,t,i,s){null==t&&(t=255);var r=e*n*4;null==s?s=new Uint8Array(r):s.length!=r&&(ceramic_App.app.logger.warning("Not reusing outPixels because its length ("+s.length+") does not match the required one: "+r+". Creating a new buffer.",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Pixels.hx",lineNumber:275,className:"ceramic.Pixels",methodName:"rgbPixelsToRgbaPixels"}),s=new Uint8Array(r));for(var l=0,a=e*n;l<a;){var o=l++,h=3*o,c=4*o;s[c]=i[h],++h,s[++c]=i[h],++h,s[++c]=i[h],s[++c]=t}return s},ceramic_Pixels.mixPixelsBuffers=function(e,n,t){null==n&&(n=1);var i=e.length,s=e[0].length;null==t&&(t=new Uint8Array(s));for(var r=0,l=[],a=1,o=0,h=Math.ceil(.5*i);o<h;)l[o]=a,r+=a,a*=n,++o;for(o=i-1,a=1;o>=h;)l[o]=a,r+=a,a*=n,--o;for(var c=0,u=s;c<u;){o=c++;for(var _=0,d=0,f=i;d<f;){var p=d++;_+=e[p][o]*l[p]}t[o]=Math.round(_/r)}return t},ceramic_Pixels.flipY=function(e,n){for(var t=e.length/(4*n)|0,i=0,s=0,r=0,l=0,a=0,o=0,h=0,c=.5*t|0;h<c;)for(var u=h++,_=0,d=n;_<d;){var f=_++;s=4*((t-1-u)*n+f),r=e[i=4*(u*n+f)],l=e[i+1],a=e[i+2],o=e[i+3],e[i]=e[s],e[i+1]=e[s+1],e[i+2]=e[s+2],e[i+3]=e[s+3],e[s]=r,e[s+1]=l,e[s+2]=a,e[s+3]=o}},ceramic_Pixels.flipX=function(e,n){for(var t=.5*n|0,i=0,s=0,r=0,l=0,a=0,o=0,h=0,c=e.length/(4*n)|0;h<c;)for(var u=h++,_=0,d=t;_<d;){var f=_++;s=4*(u*n+n-1-f),r=e[i=4*(u*n+f)],l=e[i+1],a=e[i+2],o=e[i+3],e[i]=e[s],e[i+1]=e[s+1],e[i+2]=e[s+2],e[i+3]=e[s+3],e[s]=r,e[s+1]=l,e[s+2]=a,e[s+3]=o}};var ceramic_PlatformSpecific=function(){};t["ceramic.PlatformSpecific"]=ceramic_PlatformSpecific,ceramic_PlatformSpecific.__name__="ceramic.PlatformSpecific",ceramic_PlatformSpecific.postAppInit=function(){},ceramic_PlatformSpecific.readStringFromAsset=function(e){return null},ceramic_PlatformSpecific.readBytesFromAsset=function(e){return null},ceramic_PlatformSpecific.getAssetsPath=function(){return null},ceramic_PlatformSpecific.getRtti=function(e){return haxe_rtti_Rtti.getRtti(e)},ceramic_PlatformSpecific.nodeRequire=function(e){return null},ceramic_PlatformSpecific.quit=function(){clay_Clay.app.shutdown()};var y={toString:function(e){switch(e){case-1:return"ERROR";case 0:return"NONE";case 1:return"LOADING";case 2:return"SUCCESS"}}},ceramic_PremultiplyAlpha=function(){};t["ceramic.PremultiplyAlpha"]=ceramic_PremultiplyAlpha,ceramic_PremultiplyAlpha.__name__="ceramic.PremultiplyAlpha",ceramic_PremultiplyAlpha.premultiplyAlpha=function(e){for(var n=e.length,t=0;t<n;){var i=e[t],s=e[t+1],r=e[t+2],l=e[t+3]/255;e[t]=i*l|0,e[t+1]=s*l|0,e[t+2]=r*l|0,t+=4}},ceramic_PremultiplyAlpha.reversePremultiplyAlpha=function(e){for(var n=e.length,t=0;t<n;){var i=e[t],s=e[t+1],r=e[t+2],l=e[t+3]/255;l>0&&(e[t]=i/l|0,e[t+1]=s/l|0,e[t+2]=r/l|0),t+=4}};var ceramic_Texture=function(e,n){null==n&&(n=-1),this.asset=null,this.wrapT=0,this.wrapS=0,this.filter=m.LINEAR,this.asRenderTexture=null,this.isRenderTexture=!1,this.index=ceramic_Texture._nextIndex++,ceramic_Entity.call(this),-1==n&&(n=ceramic_App.app.screen.get_texturesDensity()),this.backendItem=e,this.set_density(n)};t["ceramic.Texture"]=ceramic_Texture,ceramic_Texture.__name__="ceramic.Texture",ceramic_Texture.fromPixels=function(e,n,t,i){null==i&&(i=1);var s=ceramic_App.app.backend.textures.createTexture(Math.round(e*i),Math.round(n*i),t);return new ceramic_Texture(s,i)},ceramic_Texture.fromBytes=function(e,n,t,i){null==n&&(n=1),ceramic_App.app.backend.textures.loadFromBytes(e,ceramic_Utils.imageTypeFromBytes(e),t,(function(e){i(new ceramic_Texture(e,n))}))},ceramic_Texture.__super__=ceramic_Entity,ceramic_Texture.prototype=$extend(ceramic_Entity.prototype,{get_textureId:function(){return this.backendItem.textureId},get_nativeWidth:function(){return this.backendItem.width},get_nativeHeight:function(){return this.backendItem.height},get_nativeWidthActual:function(){return this.backendItem.widthActual},get_nativeHeightActual:function(){return this.backendItem.heightActual},set_density:function(e){return this.density==e||(this.density=e,this.width=this.backendItem.width/e,this.height=this.backendItem.height/e),e},set_filter:function(e){if(this.filter==e)return e;this.filter=e;ceramic_App.app.backend.textures;var n=this.backendItem;switch(e._hx_index){case 0:n.set_filterMin(9729),n.set_filterMag(9729);break;case 1:n.set_filterMin(9728),n.set_filterMag(9728)}return e},set_wrapS:function(e){if(this.wrapS==e)return e;this.wrapS=e;ceramic_App.app.backend.textures;var n=this.backendItem;switch(e){case 0:n.set_wrapS(33071);break;case 1:n.set_wrapS(10497);break;case 2:n.set_wrapS(33648)}return e},set_wrapT:function(e){if(this.wrapT==e)return e;this.wrapT=e;ceramic_App.app.backend.textures;var n=this.backendItem;switch(e){case 0:n.set_wrapT(33071);break;case 1:n.set_wrapT(10497);break;case 2:n.set_wrapT(33648)}return e},setWrap:function(e,n){this.set_wrapS(e),null!=n&&this.set_wrapT(n)},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),null!=this.asset&&this.asset.destroy(),ceramic_App.app.backend.textures.destroyTexture(this.backendItem),this.backendItem=null)},fetchPixels:function(e){return ceramic_App.app.backend.textures.fetchTexturePixels(this.backendItem,e)},submitPixels:function(e){ceramic_App.app.backend.textures.submitTexturePixels(this.backendItem,e)},_toPng:function(e,n,t){null==n&&(n=!0),ceramic_App.app.backend.textures.textureToPng(this.backendItem,n,e,t)},toString:function(){if(null!=this.id){var e=this.id;return StringTools.startsWith(e,"texture:")&&(e=HxOverrides.substr(e,8,null)),"Texture("+e+" "+this.width+" "+this.height+" "+this.density+" #"+this.index+")"}return"Texture("+this.width+" "+this.height+" "+this.density+" #"+this.index+")"},__class__:ceramic_Texture,__properties__:$extend(ceramic_Entity.prototype.__properties__,{set_wrapT:"set_wrapT",set_wrapS:"set_wrapS",set_filter:"set_filter",set_density:"set_density",get_nativeHeightActual:"get_nativeHeightActual",get_nativeWidthActual:"get_nativeWidthActual",get_nativeHeight:"get_nativeHeight",get_nativeWidth:"get_nativeWidth",get_textureId:"get_textureId"})});var ceramic_RenderTexture=function(e,n,t,i,s,r){null==r&&(r=0),null==s&&(s=!0),null==i&&(i=!0),null==t&&(t=-1),this._initialClearQuad=null,this._renderedOnce=!1,this._usedInRendering=!1,this.priority=0,this.dependingTextures=null,this.antialiasing=0,this.stencil=!0,this.depth=!0,this.renderDirty=!1,this.clearOnRender=!0,this.autoRender=!0,-1==t&&(t=ceramic_App.app.screen.get_texturesDensity()),this.depth=i,this.stencil=s,this.antialiasing=r;var l=ceramic_App.app.backend.textures,a=Math.round(e*t),o=Math.round(n*t),h="render:"+l.nextRenderIndex++,c=clay_Clay.app.runtime.webglVersion,u=new clay_graphics_RenderTexture;u.id=h,u.width=a,u.height=o,u.depth=i,u.stencil=s,u.antialiasing=c>=2?r:0,u.init(),l.loadedTexturesRetainCount.h[h]=1;var _=u;ceramic_Texture.call(this,_,t),this.isRenderTexture=!0,this.asRenderTexture=this,ceramic_App.app.renderTextures.push(this),this._initialClearQuad=new ceramic_Quad,(l=this._initialClearQuad).set_x(0),l.set_y(0),(l=this._initialClearQuad).set_width(0),l.set_height(0),(l=this._initialClearQuad).flags&=-17,this._initialClearQuad.set_renderTarget(this),this.renderDirty=!0};t["ceramic.RenderTexture"]=ceramic_RenderTexture,ceramic_RenderTexture.__name__="ceramic.RenderTexture",ceramic_RenderTexture.__super__=ceramic_Texture,ceramic_RenderTexture.prototype=$extend(ceramic_Texture.prototype,{set__renderedOnce:function(e){return this._renderedOnce=e,e&&null!=this._initialClearQuad&&(this._initialClearQuad.destroy(),this._initialClearQuad=null),e},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Texture.prototype.destroy.call(this),null!=this._initialClearQuad&&(this._initialClearQuad.destroy(),this._initialClearQuad=null),HxOverrides.remove(ceramic_App.app.renderTextures,this))},stamp:function(e,n){this._stamp(e,n)},_stamp:function(e,n){var t=this,i=e.parent,s=e.renderTarget,r=e.visible;null!=i&&i.remove(e),e.set_renderTarget(this),e.set_visible(!0),ceramic_App.app.oncePreUpdate(this,(function(l){t.renderDirty=!0,ceramic_App.app.onceFinishDraw(t,(function(){e.set_visible(r),e.set_renderTarget(s),null!=i&&(i.add(e),i=null),e=null,s=null,n(),n=null}))}))},clear:function(e,n,t,i,s,r,l){(null==r&&(r=-1),null==s&&(s=-1),null==i&&(i=-1),null==t&&(t=-1),null==n&&(n=0),null==e&&(e=16777215),null==ceramic_RenderTexture._clearQuad)&&(ceramic_RenderTexture._clearQuad=new ceramic_Quad,ceramic_RenderTexture._clearQuad.set_active(!1),ceramic_RenderTexture._clearQuad.set_blending(4),(a=ceramic_RenderTexture._clearQuad).set_anchorX(0),a.set_anchorY(0));if(ceramic_RenderTexture._clearQuad.color=e,ceramic_RenderTexture._clearQuad.set_alpha(n),ceramic_RenderTexture._clearQuad.set_depth(-1),-1!=t&&-1!=i&&-1!=s&&-1!=r){(a=ceramic_RenderTexture._clearQuad).set_width(s),a.set_height(r),(a=ceramic_RenderTexture._clearQuad).set_x(t),a.set_y(i)}else{var a=ceramic_RenderTexture._clearQuad,o=this.height;a.set_width(this.width),a.set_height(o),(a=ceramic_RenderTexture._clearQuad).set_x(0),a.set_y(0)}this.stamp(ceramic_RenderTexture._clearQuad,l)},dependsOnTexture:function(e){if(null!=this.dependingTextures){var n=this.dependingTextures.intMap.h[0|e.index];return(null!=n?n:0)>0}return!1},dependsOnTextureCount:function(e){if(null!=this.dependingTextures){var n=this.dependingTextures.intMap.h[0|e.index];return null!=n?n:0}return 0},incrementDependingTextureCount:function(e){null==this.dependingTextures&&(this.dependingTextures=new ceramic_IntIntMap);var n=this.dependingTextures.intMap.h[0|e.index],t=null!=n?n:0;this.dependingTextures.set(e.index,t+1)},resetDependingTextureCounts:function(){null!=this.dependingTextures&&this.dependingTextures.clear()},toString:function(){if(null!=this.id){var e=this.id;return StringTools.startsWith(e,"texture:")&&(e=HxOverrides.substr(e,8,null)),"RenderTexture("+e+" "+this.width+" "+this.height+" "+this.density+" #"+this.index+"/"+this.priority+")"}return"RenderTexture("+this.width+" "+this.height+" "+this.density+" #"+this.index+"/"+this.priority+")"},__class__:ceramic_RenderTexture,__properties__:$extend(ceramic_Texture.prototype.__properties__,{set__renderedOnce:"set__renderedOnce"})});var ceramic_Renderer=function(){this.usedRenderTarget=null,this.activeShaderCanBatchMultipleTextures=!1,this.maxUsableTexturesInBatch=-1,this.usedTextures=0,this.usedTextureIndexes=[],this.z=0,this.stateDirty=!0,this.mesh=null,this.quad=null,this.defaultWhiteTexture=null,this.defaultTexturedShader=null,this.texHeightActual=0,this.texWidthActual=0,this.texHeight=0,this.texWidth=0,this.activeTextureSlot=0,this.lastClipIsRegular=!1,this.lastClip=null,this.lastComputedBlending=1,this.lastRenderTarget=null,this.lastShader=null,this.lastTextureId=null,this.lastTexture=null,this.stencilClip=!1,this.customFloatAttributesSize=0,this.activeShader=null,this.drawCalls=0,ceramic_Entity.call(this)};t["ceramic.Renderer"]=ceramic_Renderer,ceramic_Renderer.__name__="ceramic.Renderer",ceramic_Renderer.__super__=ceramic_Entity,ceramic_Renderer.prototype=$extend(ceramic_Entity.prototype,{render:function(e,n){var t=ceramic_App.app.backend.draw;for(this.backendTextures=ceramic_App.app.backend.textures,this.backendShaders=ceramic_App.app.backend.shaders,this.defaultTexturedShader=ceramic_App.app.defaultTexturedShader.backendItem,this.defaultWhiteTexture=ceramic_App.app.defaultWhiteTexture,this.maxUsableTexturesInBatch=0|Math.min(this.backendTextures.maxTexturesByBatch(),this.backendShaders.maxIfStatementsByFragmentShader());this.usedTextureIndexes.length<this.maxUsableTexturesInBatch;)this.usedTextureIndexes.push(0);this.usedRenderTarget=null,this.drawCalls=0,backend_Draw._activeTextureSlot=0,backend_Draw._buffersIndex=-1,t.prepareNextBuffers(),this.quad=null,this.mesh=null,this.lastTexture=null,this.lastTextureId=null,this.lastShader=null,this.lastRenderTarget=null,this.lastComputedBlending=1,this.lastClip=null,this.usedTextures=0,this.texWidth=0,this.texHeight=0,this.texWidthActual=0,this.texHeightActual=0,this.stencilClip=!1,this.z=0,this.stateDirty=!0;ceramic_App.app.defaultTexturedShader.backendItem;for(var i=0,s=(c=ceramic_App.app.renderTextures).length;i<s;){(u=c[i++])._usedInRendering=!1,u.autoRender&&(u.renderDirty=!0)}if(clay_opengl_web_GL.gl.enableVertexAttribArray(0),clay_opengl_web_GL.gl.enableVertexAttribArray(1),clay_opengl_web_GL.gl.enableVertexAttribArray(2),this.usedTextures=this.maxUsableTexturesInBatch,this.unbindUsedTextures(t),backend_Draw._activeTextureSlot=0,0!=clay_opengl_GLGraphics._activeTextureSlot){for(clay_opengl_GLGraphics._activeTextureSlot=0;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984)}this.activeTextureSlot=0,t.setRenderTarget(null,!0);var r=ceramic_App.app.settings.get_background();if(clay_opengl_web_GL.gl.clearColor((r>>16&255)/255,(r>>8&255)/255,(255&r)/255,1),clay_Clay.app.config.render.depth>0?(clay_opengl_web_GL.gl.clear(16640),clay_opengl_web_GL.gl.clearDepth(1)):clay_opengl_web_GL.gl.clear(16384),null!=backend_Draw._currentRenderTarget&&(backend_Draw._didUpdateCurrentRenderTarget=!0),clay_opengl_web_GL.gl.enable(3042),this.activeShader=null,this.lastShader=null,this.useShader(t,null),clay_opengl_web_GL.gl.blendFuncSeparate(1,771,1,771),this.lastComputedBlending=1,clay_opengl_web_GL.gl.stencilFunc(519,1,255),clay_opengl_web_GL.gl.stencilMask(255),clay_opengl_web_GL.gl.colorMask(!0,!0,!0,!0),clay_opengl_web_GL.gl.disable(2960),null!=n){for(i=0,s=n.length;i<s;){var l=n[i++],a=l.asQuad,o=l.asMesh;if(l.computedVisible&&(null==l.computedRenderTarget||l.computedRenderTarget.renderDirty)){var h=l.computedClip;h!=this.lastClip&&(this.flush(t),this.unbindUsedTextures(t),this.stateDirty=!0,null!=this.lastClip&&(this.lastClipIsRegular?clay_opengl_web_GL.gl.disable(3089):(this.lastRenderTarget=this.lastClip.computedRenderTarget,this.useRenderTarget(t,this.lastRenderTarget),clay_opengl_web_GL.gl.stencilFunc(519,1,255),clay_opengl_web_GL.gl.stencilMask(255),clay_opengl_web_GL.gl.colorMask(!0,!0,!0,!0),clay_opengl_web_GL.gl.disable(2960))),this.lastClip=h,null!=this.lastClip&&(this.lastRenderTarget=this.lastClip.computedRenderTarget,this.useRenderTarget(t,this.lastRenderTarget),null!=this.lastClip.asQuad&&this.lastClip.asQuad.isRegular()?(this.lastClipIsRegular=!0,this.scissorWithQuad(t,this.lastClip.asQuad)):(this.lastClipIsRegular=!1,backend_Draw._drawingInStencilBuffer=!0,clay_opengl_web_GL.gl.stencilMask(255),clay_opengl_web_GL.gl.clearStencil(255),clay_opengl_web_GL.gl.clear(1024),clay_opengl_web_GL.gl.enable(2960),clay_opengl_web_GL.gl.stencilOp(7680,7680,7681),clay_opengl_web_GL.gl.stencilFunc(519,1,255),clay_opengl_web_GL.gl.stencilMask(255),clay_opengl_web_GL.gl.colorMask(!1,!1,!1,!1),null!=this.lastClip.asQuad?(a=this.lastClip.asQuad,this.stencilClip=!0,this.drawQuad(t,a),this.stencilClip=!1,a=l.asQuad):null!=this.lastClip.asMesh&&(o=this.lastClip.asMesh,this.stencilClip=!0,this.drawMesh(t,o),this.stencilClip=!1,o=l.asMesh),this.flush(t),this.unbindUsedTextures(t),this.stateDirty=!0,backend_Draw._drawingInStencilBuffer=!1,clay_opengl_web_GL.gl.stencilFunc(514,1,255),clay_opengl_web_GL.gl.stencilMask(0),clay_opengl_web_GL.gl.colorMask(!0,!0,!0,!0),clay_opengl_web_GL.gl.enable(2960)))),null!=a&&16!=(16&a.flags)?this.drawQuad(t,a):null!=o&&this.drawMesh(t,o)}}this.flush(t),this.unbindUsedTextures(t),this.stateDirty=!0}var c;for(i=0,s=(c=ceramic_App.app.renderTextures).length;i<s;){var u;(u=c[i++]).renderDirty=!1}if(backend_Draw._activeTextureSlot=0,0!=clay_opengl_GLGraphics._activeTextureSlot){for(clay_opengl_GLGraphics._activeTextureSlot=0;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984)}this.activeTextureSlot=0,t.setRenderTarget(null,!0),clay_opengl_web_GL.gl.enable(3042),this.activeShader=null,this.lastShader=null,this.useShader(t,null),this.lastClipIsRegular&&clay_opengl_web_GL.gl.disable(3089),clay_opengl_web_GL.gl.blendFuncSeparate(1,771,1,771)},drawQuad:function(e,n){var t=this;if(this.stencilClip)this.unbindUsedTextures(e),this.useFirstTextureInBatch(e,null),clay_opengl_web_GL.gl.blendFuncSeparate(1,771,1,771),this.lastComputedBlending=1,this.lastRenderTarget=n.computedRenderTarget,this.useRenderTarget(e,this.lastRenderTarget),this.lastShader=null,this.useShader(e,null),this.stateDirty=!1;else{var i=null;if(!this.stateDirty){var s=this.computeQuadBlending(n);this.stateDirty=!this.isSameShader(n.shader,this.lastShader)||s!=this.lastComputedBlending||n.computedRenderTarget!=this.lastRenderTarget,this.stateDirty||n._texture!=this.lastTexture&&(null!=n._texture&&null!=this.lastTexture?n._texture.backendItem.textureId!=this.lastTextureId&&(this.canUseTextureInSameBatch(e,n._texture)?i=n._texture:this.stateDirty=!0):this.canUseTextureInSameBatch(e,n._texture)?i=null!=n._texture?n._texture:this.defaultWhiteTexture:this.stateDirty=!0)}this.stateDirty?(t.flush(e),t.unbindUsedTextures(e),t.lastTexture=n._texture,t.useFirstTextureInBatch(e,t.lastTexture),n.computedRenderTarget!=t.lastRenderTarget&&(t.lastRenderTarget=n.computedRenderTarget,t.useRenderTarget(e,t.lastRenderTarget),null!=t.lastClip&&t.lastClipIsRegular&&t.scissorWithQuad(e,t.lastClip.asQuad)),t.lastShader=n.shader,t.useShader(e,null!=t.lastShader?t.lastShader.backendItem:null),t.lastComputedBlending=t.computeQuadBlending(n),t.useBlending(e,t.lastComputedBlending),t.stateDirty=!1):null!=i&&this.useTextureInSameBatch(e,i)}(backend_Draw._numPos+4>backend_Draw._maxVerts||backend_Draw._numIndices+6>16384)&&(t.flush(e),t.unbindUsedTextures(e),t.lastTexture=n._texture,t.useFirstTextureInBatch(e,t.lastTexture),n.computedRenderTarget!=t.lastRenderTarget&&(t.lastRenderTarget=n.computedRenderTarget,t.useRenderTarget(e,t.lastRenderTarget),null!=t.lastClip&&t.lastClipIsRegular&&t.scissorWithQuad(e,t.lastClip.asQuad)),t.lastShader=n.shader,t.useShader(e,null!=t.lastShader?t.lastShader.backendItem:null),t.lastComputedBlending=t.computeQuadBlending(n),t.useBlending(e,t.lastComputedBlending),t.stateDirty=!1);var r,l,a,o,h=n.get_width(),c=n.get_height(),u=n.matA,_=n.matB,d=n.matC,f=n.matD,p=n.matTX,b=n.matTY,y=this.z,g=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1;if(0==this.customFloatAttributesSize)if(-1!=g){var O=backend_Draw._numPos,x=p+u*h+d*c,v=b+_*h+f*c;backend_Draw._posList[backend_Draw._posIndex]=x,backend_Draw._posList[backend_Draw._posIndex+1]=v,backend_Draw._posList[backend_Draw._posIndex+2]=y,backend_Draw._posList[backend_Draw._posIndex+3]=g,backend_Draw._posIndex+=4,backend_Draw._numPos++,backend_Draw._posList[backend_Draw._posIndex]=p+d*c,backend_Draw._posList[backend_Draw._posIndex+1]=b+f*c,backend_Draw._posList[backend_Draw._posIndex+2]=y,backend_Draw._posList[backend_Draw._posIndex+3]=g,backend_Draw._posIndex+=4,backend_Draw._numPos++,backend_Draw._posList[backend_Draw._posIndex]=p,backend_Draw._posList[backend_Draw._posIndex+1]=b,backend_Draw._posList[backend_Draw._posIndex+2]=y,backend_Draw._posList[backend_Draw._posIndex+3]=g,backend_Draw._posIndex+=4,backend_Draw._numPos++,backend_Draw._posList[backend_Draw._posIndex]=p+u*h,backend_Draw._posList[backend_Draw._posIndex+1]=b+_*h,backend_Draw._posList[backend_Draw._posIndex+2]=y,backend_Draw._posList[backend_Draw._posIndex+3]=g,backend_Draw._posIndex+=4,backend_Draw._numPos++,backend_Draw._indiceList[backend_Draw._numIndices]=O,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=O+1,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=O+2,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=O,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=O+2,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=O+3,backend_Draw._numIndices++}else{O=backend_Draw._numPos,x=p+u*h+d*c,v=b+_*h+f*c;backend_Draw._posList[backend_Draw._posIndex]=x,backend_Draw._posList[backend_Draw._posIndex+1]=v,backend_Draw._posList[backend_Draw._posIndex+2]=y,backend_Draw._posIndex+=3,backend_Draw._numPos++,backend_Draw._posList[backend_Draw._posIndex]=p+d*c,backend_Draw._posList[backend_Draw._posIndex+1]=b+f*c,backend_Draw._posList[backend_Draw._posIndex+2]=y,backend_Draw._posIndex+=3,backend_Draw._numPos++,backend_Draw._posList[backend_Draw._posIndex]=p,backend_Draw._posList[backend_Draw._posIndex+1]=b,backend_Draw._posList[backend_Draw._posIndex+2]=y,backend_Draw._posIndex+=3,backend_Draw._numPos++,backend_Draw._posList[backend_Draw._posIndex]=p+u*h,backend_Draw._posList[backend_Draw._posIndex+1]=b+_*h,backend_Draw._posList[backend_Draw._posIndex+2]=y,backend_Draw._posIndex+=3,backend_Draw._numPos++,backend_Draw._indiceList[backend_Draw._numIndices]=O,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=O+1,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=O+2,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=O,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=O+2,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=O+3,backend_Draw._numIndices++}else if(-1!=g){O=backend_Draw._numPos,x=p+u*h+d*c,v=b+_*h+f*c;backend_Draw._posList[backend_Draw._posIndex]=x,backend_Draw._posList[backend_Draw._posIndex+1]=v,backend_Draw._posList[backend_Draw._posIndex+2]=y,backend_Draw._posList[backend_Draw._posIndex+3]=g,backend_Draw._posIndex+=4,backend_Draw._numPos++;for(var m=0,w=t.customFloatAttributesSize;m<w;){var U=m++;backend_Draw._posList[backend_Draw._posIndex+U]=0}backend_Draw._posIndex+=backend_Draw._floatAttributesSize,backend_Draw._posList[backend_Draw._posIndex]=p+d*c,backend_Draw._posList[backend_Draw._posIndex+1]=b+f*c,backend_Draw._posList[backend_Draw._posIndex+2]=y,backend_Draw._posList[backend_Draw._posIndex+3]=g,backend_Draw._posIndex+=4,backend_Draw._numPos++;for(m=0,w=t.customFloatAttributesSize;m<w;){U=m++;backend_Draw._posList[backend_Draw._posIndex+U]=0}backend_Draw._posIndex+=backend_Draw._floatAttributesSize,backend_Draw._posList[backend_Draw._posIndex]=p,backend_Draw._posList[backend_Draw._posIndex+1]=b,backend_Draw._posList[backend_Draw._posIndex+2]=y,backend_Draw._posList[backend_Draw._posIndex+3]=g,backend_Draw._posIndex+=4,backend_Draw._numPos++;for(m=0,w=t.customFloatAttributesSize;m<w;){U=m++;backend_Draw._posList[backend_Draw._posIndex+U]=0}backend_Draw._posIndex+=backend_Draw._floatAttributesSize,backend_Draw._posList[backend_Draw._posIndex]=p+u*h,backend_Draw._posList[backend_Draw._posIndex+1]=b+_*h,backend_Draw._posList[backend_Draw._posIndex+2]=y,backend_Draw._posList[backend_Draw._posIndex+3]=g,backend_Draw._posIndex+=4,backend_Draw._numPos++;for(m=0,w=t.customFloatAttributesSize;m<w;){U=m++;backend_Draw._posList[backend_Draw._posIndex+U]=0}backend_Draw._posIndex+=backend_Draw._floatAttributesSize,backend_Draw._indiceList[backend_Draw._numIndices]=O,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=O+1,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=O+2,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=O,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=O+2,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=O+3,backend_Draw._numIndices++}else{O=backend_Draw._numPos,x=p+u*h+d*c,v=b+_*h+f*c;backend_Draw._posList[backend_Draw._posIndex]=x,backend_Draw._posList[backend_Draw._posIndex+1]=v,backend_Draw._posList[backend_Draw._posIndex+2]=y,backend_Draw._posIndex+=3,backend_Draw._numPos++;for(m=0,w=t.customFloatAttributesSize;m<w;){U=m++;backend_Draw._posList[backend_Draw._posIndex+U]=0}backend_Draw._posIndex+=backend_Draw._floatAttributesSize,backend_Draw._posList[backend_Draw._posIndex]=p+d*c,backend_Draw._posList[backend_Draw._posIndex+1]=b+f*c,backend_Draw._posList[backend_Draw._posIndex+2]=y,backend_Draw._posIndex+=3,backend_Draw._numPos++;for(m=0,w=t.customFloatAttributesSize;m<w;){U=m++;backend_Draw._posList[backend_Draw._posIndex+U]=0}backend_Draw._posIndex+=backend_Draw._floatAttributesSize,backend_Draw._posList[backend_Draw._posIndex]=p,backend_Draw._posList[backend_Draw._posIndex+1]=b,backend_Draw._posList[backend_Draw._posIndex+2]=y,backend_Draw._posIndex+=3,backend_Draw._numPos++;for(m=0,w=t.customFloatAttributesSize;m<w;){U=m++;backend_Draw._posList[backend_Draw._posIndex+U]=0}backend_Draw._posIndex+=backend_Draw._floatAttributesSize,backend_Draw._posList[backend_Draw._posIndex]=p+u*h,backend_Draw._posList[backend_Draw._posIndex+1]=b+_*h,backend_Draw._posList[backend_Draw._posIndex+2]=y,backend_Draw._posIndex+=3,backend_Draw._numPos++;for(m=0,w=t.customFloatAttributesSize;m<w;){U=m++;backend_Draw._posList[backend_Draw._posIndex+U]=0}backend_Draw._posIndex+=backend_Draw._floatAttributesSize,backend_Draw._indiceList[backend_Draw._numIndices]=O,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=O+1,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=O+2,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=O,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=O+2,backend_Draw._numIndices++,backend_Draw._indiceList[backend_Draw._numIndices]=O+3,backend_Draw._numIndices++}this.stencilClip?(o=1,r=1,l=0,a=0):3==this.lastComputedBlending?(o=n.computedAlpha,r=(n.color>>16&255)/255,l=(n.color>>8&255)/255,a=(255&n.color)/255,2==n.blending&&2!=this.lastComputedBlending&&(o=0)):(o=n.computedAlpha,r=(n.color>>16&255)/255*o,l=(n.color>>8&255)/255*o,a=(255&n.color)/255*o,2==n.blending&&2!=this.lastComputedBlending&&(o=0));for(var C=0;C<4;)backend_Draw._colorList[backend_Draw._colorIndex]=r,backend_Draw._colorList[backend_Draw._colorIndex+1]=l,backend_Draw._colorList[backend_Draw._colorIndex+2]=a,backend_Draw._colorList[backend_Draw._colorIndex+3]=o,backend_Draw._colorIndex+=4,backend_Draw._numColors++,++C;var T=0,D=0,E=0,A=0;if(null!=n._texture){var S=this.texWidthActual,M=this.texHeightActual,P=n._texture.density;T=n.frameX*P/S,D=n.frameY*P/M,32==(32&n.flags)?(E=n.frameHeight*P/S,A=n.frameWidth*P/M,backend_Draw._uvList[backend_Draw._uvIndex]=T+E,backend_Draw._uvList[backend_Draw._uvIndex+1]=D,backend_Draw._uvIndex+=2,backend_Draw._numUVs++,backend_Draw._uvList[backend_Draw._uvIndex]=T+E,backend_Draw._uvList[backend_Draw._uvIndex+1]=D+A,backend_Draw._uvIndex+=2,backend_Draw._numUVs++,backend_Draw._uvList[backend_Draw._uvIndex]=T,backend_Draw._uvList[backend_Draw._uvIndex+1]=D+A,backend_Draw._uvIndex+=2,backend_Draw._numUVs++,backend_Draw._uvList[backend_Draw._uvIndex]=T,backend_Draw._uvList[backend_Draw._uvIndex+1]=D,backend_Draw._uvIndex+=2,backend_Draw._numUVs++):(E=n.frameWidth*P/S,A=n.frameHeight*P/M,backend_Draw._uvList[backend_Draw._uvIndex]=T+E,backend_Draw._uvList[backend_Draw._uvIndex+1]=D+A,backend_Draw._uvIndex+=2,backend_Draw._numUVs++,backend_Draw._uvList[backend_Draw._uvIndex]=T,backend_Draw._uvList[backend_Draw._uvIndex+1]=D+A,backend_Draw._uvIndex+=2,backend_Draw._numUVs++,backend_Draw._uvList[backend_Draw._uvIndex]=T,backend_Draw._uvList[backend_Draw._uvIndex+1]=D,backend_Draw._uvIndex+=2,backend_Draw._numUVs++,backend_Draw._uvList[backend_Draw._uvIndex]=T+E,backend_Draw._uvList[backend_Draw._uvIndex+1]=D,backend_Draw._uvIndex+=2,backend_Draw._numUVs++)}else backend_Draw._uvList[backend_Draw._uvIndex]=0,backend_Draw._uvList[backend_Draw._uvIndex+1]=0,backend_Draw._uvIndex+=2,backend_Draw._numUVs++,backend_Draw._uvList[backend_Draw._uvIndex]=0,backend_Draw._uvList[backend_Draw._uvIndex+1]=0,backend_Draw._uvIndex+=2,backend_Draw._numUVs++,backend_Draw._uvList[backend_Draw._uvIndex]=0,backend_Draw._uvList[backend_Draw._uvIndex+1]=0,backend_Draw._uvIndex+=2,backend_Draw._numUVs++,backend_Draw._uvList[backend_Draw._uvIndex]=0,backend_Draw._uvList[backend_Draw._uvIndex+1]=0,backend_Draw._uvIndex+=2,backend_Draw._numUVs++;this.z=y+.001},drawMesh:function(e,n){var t=this;if(this.stencilClip)this.unbindUsedTextures(e),this.useFirstTextureInBatch(e,null),clay_opengl_web_GL.gl.blendFuncSeparate(1,771,1,771),this.lastComputedBlending=1,this.lastRenderTarget=n.computedRenderTarget,this.useRenderTarget(e,this.lastRenderTarget),this.lastShader=null,this.useShader(e,null),this.stateDirty=!1;else{var i=null;if(!this.stateDirty){var s=this.computeMeshBlending(n);this.stateDirty=!this.isSameShader(n.shader,this.lastShader)||s!=this.lastComputedBlending||n.computedRenderTarget!=this.lastRenderTarget,this.stateDirty||n.texture!=this.lastTexture&&(null!=n.texture&&null!=this.lastTexture?n.texture.backendItem.textureId!=this.lastTextureId&&(this.canUseTextureInSameBatch(e,n.texture)?i=n.texture:this.stateDirty=!0):this.canUseTextureInSameBatch(e,n.texture)?i=null!=n.texture?n.texture:this.defaultWhiteTexture:this.stateDirty=!0)}this.stateDirty?(t.flush(e),t.unbindUsedTextures(e),t.lastTexture=n.texture,t.useFirstTextureInBatch(e,t.lastTexture),n.computedRenderTarget!=t.lastRenderTarget&&(t.lastRenderTarget=n.computedRenderTarget,t.useRenderTarget(e,t.lastRenderTarget),null!=t.lastClip&&t.lastClipIsRegular&&t.scissorWithQuad(e,t.lastClip.asQuad)),t.lastShader=n.shader,t.useShader(e,null!=t.lastShader?t.lastShader.backendItem:null),t.lastComputedBlending=t.computeMeshBlending(n),t.useBlending(e,t.lastComputedBlending),t.stateDirty=!1):null!=i&&this.useTextureInSameBatch(e,i)}var r=n.matA,l=n.matB,a=n.matC,o=n.matD,h=n.matTX,c=n.matTY,u=this.z,_=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,d=n.colors,f=n.floatColors,p=this.stencilClip||0==n.colorMapping,b=!this.stencilClip&&1==n.colorMapping,y=n.uvs,g=n.vertices,O=n.indices,x=O.length,v=this.customFloatAttributesSize,m=n.customFloatAttributesSize,w=0,U=null!=n.texture&&n.texture.isRenderTexture,C=x;(backend_Draw._numPos+x>backend_Draw._maxVerts||backend_Draw._numIndices+x>16384)&&(t.flush(e),t.unbindUsedTextures(e),t.lastTexture=n.texture,t.useFirstTextureInBatch(e,t.lastTexture),n.computedRenderTarget!=t.lastRenderTarget&&(t.lastRenderTarget=n.computedRenderTarget,t.useRenderTarget(e,t.lastRenderTarget),null!=t.lastClip&&t.lastClipIsRegular&&t.scissorWithQuad(e,t.lastClip.asQuad)),t.lastShader=n.shader,t.useShader(e,null!=t.lastShader?t.lastShader.backendItem:null),t.lastComputedBlending=t.computeMeshBlending(n),t.useBlending(e,t.lastComputedBlending),t.stateDirty=!1,_=this.activeShaderCanBatchMultipleTextures?this.activeTextureSlot:-1,(x>backend_Draw._maxVerts-backend_Draw._numPos||x>16384-backend_Draw._numIndices)&&(C=3*((C=0|Math.min(backend_Draw._maxVerts-backend_Draw._numPos,16384-backend_Draw._numIndices))/3|0)));var T=n.texture,D=0,E=0;for(null!=T&&(D=this.texWidth/this.texWidthActual,E=this.texHeight/this.texHeightActual);;){var A=0,S=0,M=0,P=0;if(p)if(t.stencilClip)A=1,S=1,M=0,P=0;else if(null!=f)A=n.computedAlpha*f[3],S=f[0],M=f[1],P=f[2],2==n.blending&&2!=t.lastComputedBlending&&(A=0);else if(3==t.lastComputedBlending){var F=d[0];A=n.computedAlpha*((F>>24&255)/255),S=(F>>16&255)/255,M=(F>>8&255)/255,P=(255&F)/255,2==n.blending&&2!=t.lastComputedBlending&&(A=0)}else{var k=d[0];S=(k>>16&255)/255*(A=n.computedAlpha*((k>>24&255)/255)),M=(k>>8&255)/255*A,P=(255&k)/255*A,2==n.blending&&2!=t.lastComputedBlending&&(A=0)}for(var R=w,I=backend_Draw._numPos;R<C;){var N=O[R],L=2*N,B=N*(2+m),G=g[B++],W=g[B++];if(backend_Draw._indiceList[backend_Draw._numIndices]=I,backend_Draw._numIndices++,++I,-1!=_?(backend_Draw._posList[backend_Draw._posIndex]=h+r*G+a*W,backend_Draw._posList[backend_Draw._posIndex+1]=c+l*G+o*W,backend_Draw._posList[backend_Draw._posIndex+2]=u,backend_Draw._posList[backend_Draw._posIndex+3]=_,backend_Draw._posIndex+=4,backend_Draw._numPos++):(backend_Draw._posList[backend_Draw._posIndex]=h+r*G+a*W,backend_Draw._posList[backend_Draw._posIndex+1]=c+l*G+o*W,backend_Draw._posList[backend_Draw._posIndex+2]=u,backend_Draw._posIndex+=3,backend_Draw._numPos++),!p)if(null!=f){var K=4*(b?R:N);U||3==t.lastComputedBlending?(A=n.computedAlpha*f[K+3],S=f[K],M=f[K+1],P=f[K+2],2==n.blending&&2!=t.lastComputedBlending&&(A=0)):(A=n.computedAlpha*f[K+3],S=f[K]*A,M=f[K+1]*A,P=f[K+2]*A,2==n.blending&&2!=t.lastComputedBlending&&(A=0))}else{var Y=b?d[R]:d[N];U||3==t.lastComputedBlending?(A=n.computedAlpha*((Y>>24&255)/255),S=(Y>>16&255)/255,M=(Y>>8&255)/255,P=(255&Y)/255,2==n.blending&&2!=t.lastComputedBlending&&(A=0)):(S=(Y>>16&255)/255*(A=n.computedAlpha*((Y>>24&255)/255)),M=(Y>>8&255)/255*A,P=(255&Y)/255*A,2==n.blending&&2!=t.lastComputedBlending&&(A=0))}if(backend_Draw._colorList[backend_Draw._colorIndex]=S,backend_Draw._colorList[backend_Draw._colorIndex+1]=M,backend_Draw._colorList[backend_Draw._colorIndex+2]=P,backend_Draw._colorList[backend_Draw._colorIndex+3]=A,backend_Draw._colorIndex+=4,backend_Draw._numColors++,null!=T){var H=y[L]*D,X=y[L+1]*E;backend_Draw._uvList[backend_Draw._uvIndex]=H,backend_Draw._uvList[backend_Draw._uvIndex+1]=X,backend_Draw._uvIndex+=2,backend_Draw._numUVs++}else backend_Draw._uvList[backend_Draw._uvIndex]=0,backend_Draw._uvList[backend_Draw._uvIndex+1]=0,backend_Draw._uvIndex+=2,backend_Draw._numUVs++;if(0!=v){for(var V=0,z=v;V<z;){var j=V++;backend_Draw._posList[backend_Draw._posIndex+j]=j<m?g[B++]:0}backend_Draw._posIndex+=backend_Draw._floatAttributesSize}++R}if(C==x)break;t.flush(e),t.unbindUsedTextures(e),t.lastTexture=n.texture,t.useFirstTextureInBatch(e,t.lastTexture),n.computedRenderTarget!=t.lastRenderTarget&&(t.lastRenderTarget=n.computedRenderTarget,t.useRenderTarget(e,t.lastRenderTarget),null!=t.lastClip&&t.lastClipIsRegular&&t.scissorWithQuad(e,t.lastClip.asQuad)),t.lastShader=n.shader,t.useShader(e,null!=t.lastShader?t.lastShader.backendItem:null),t.lastComputedBlending=t.computeMeshBlending(n),t.useBlending(e,t.lastComputedBlending),t.stateDirty=!1,_=t.activeShaderCanBatchMultipleTextures?t.activeTextureSlot:-1,(C=3*((C=(w=C)+(0|Math.min(backend_Draw._maxVerts-backend_Draw._numPos,16384-backend_Draw._numIndices)))/3|0))>x&&(C=x)}this.z=u+.001},flush:function(e){if(backend_Draw._numPos<=0)return!1;var n=backend_Draw._batchMultiTexture,t=new Float32Array(backend_Draw._posList.buffer,0,4*backend_Draw._posIndex/4|0),i=new Float32Array(backend_Draw._uvList.buffer,0,4*backend_Draw._uvIndex/4|0),s=new Float32Array(backend_Draw._colorList.buffer,0,4*backend_Draw._colorIndex/4|0),r=new Uint16Array(backend_Draw._indiceList.buffer,0,2*backend_Draw._numIndices/2|0),l=clay_opengl_web_GL.gl.createBuffer(),a=clay_opengl_web_GL.gl.createBuffer(),o=clay_opengl_web_GL.gl.createBuffer(),h=clay_opengl_web_GL.gl.createBuffer();clay_opengl_web_GL.gl.enableVertexAttribArray(0),clay_opengl_web_GL.gl.enableVertexAttribArray(1),clay_opengl_web_GL.gl.enableVertexAttribArray(2),clay_opengl_web_GL.gl.bindBuffer(34962,l),clay_opengl_web_GL.gl.vertexAttribPointer(0,3,5126,!1,4*backend_Draw._posSize,0),clay_opengl_web_GL.gl.bufferData(34962,t,35040),clay_opengl_web_GL.gl.bindBuffer(34962,o),clay_opengl_web_GL.gl.vertexAttribPointer(1,2,5126,!1,0,0),clay_opengl_web_GL.gl.bufferData(34962,i,35040),clay_opengl_web_GL.gl.bindBuffer(34962,a),clay_opengl_web_GL.gl.vertexAttribPointer(2,4,5126,!1,0,0),clay_opengl_web_GL.gl.bufferData(34962,s,35040);var c=3,u=3,_=0;if(n){var d=clay_opengl_web_GL.gl.createBuffer();backend_Draw._customGLBuffers[_++]=d,clay_opengl_web_GL.gl.enableVertexAttribArray(u),clay_opengl_web_GL.gl.bindBuffer(34962,d),clay_opengl_web_GL.gl.vertexAttribPointer(u,1,5126,!1,4*backend_Draw._posSize,4*c),clay_opengl_web_GL.gl.bufferData(34962,t,35040),++u,++c}if(null!=backend_Draw._activeShader&&null!=backend_Draw._activeShader.customAttributes){var f=backend_Draw._activeShader.customAttributes,p=_,b=p+f.length;_+=f.length;for(var y=p,g=b;y<g;){var O=f[(x=y++)-p];d=clay_opengl_web_GL.gl.createBuffer();backend_Draw._customGLBuffers[x]=d,clay_opengl_web_GL.gl.enableVertexAttribArray(u),clay_opengl_web_GL.gl.bindBuffer(34962,d),clay_opengl_web_GL.gl.vertexAttribPointer(u,O.size,5126,!1,4*backend_Draw._posSize,4*c),clay_opengl_web_GL.gl.bufferData(34962,t,35040),++u,c+=O.size}}if(clay_opengl_web_GL.gl.bindBuffer(34963,h),clay_opengl_web_GL.gl.bufferData(34963,r,35040),clay_opengl_web_GL.gl.drawElements(backend_Draw._primitiveType,backend_Draw._numIndices,5123,0),clay_opengl_web_GL.gl.deleteBuffer(l),clay_opengl_web_GL.gl.deleteBuffer(a),clay_opengl_web_GL.gl.deleteBuffer(o),_>0)for(u=3,y=0,g=_;y<g;){var x=y++;d=backend_Draw._customGLBuffers[x];clay_opengl_web_GL.gl.deleteBuffer(d),clay_opengl_web_GL.gl.disableVertexAttribArray(u),++u}return clay_opengl_web_GL.gl.bindBuffer(34963,null),clay_opengl_web_GL.gl.deleteBuffer(h),null!=backend_Draw._currentRenderTarget&&(backend_Draw._didUpdateCurrentRenderTarget=!0),t=null,i=null,s=null,r=null,backend_Draw._numIndices=0,backend_Draw._numPos=0,backend_Draw._numUVs=0,backend_Draw._numColors=0,backend_Draw._posIndex=0,backend_Draw._uvIndex=0,backend_Draw._colorIndex=0,e.prepareNextBuffers(),this.drawCalls++,!0},computeQuadBlending:function(e){var n=e.blending;return 0!=n&&2!=n||(n=null!=e.computedRenderTarget?5:1),n},computeMeshBlending:function(e){var n=e.blending;return 0!=n&&2!=n||(n=null!=e.computedRenderTarget?5:1),n},isSameShader:function(e,n){return(null!=e?e.backendItem:this.defaultTexturedShader)==(null!=n?n.backendItem:this.defaultTexturedShader)},useShader:function(e,n){null==n&&(n=this.defaultTexturedShader),this.activeShader=n,backend_Draw._activeShader=n,n.uniforms.setMatrix4("projectionMatrix",backend_Draw._projectionMatrix),n.uniforms.setMatrix4("modelViewMatrix",backend_Draw._modelViewMatrix);var t=ceramic_App.app.backend.shaders,i=0;if(null!=(l=backend_Draw._activeShader.customAttributes))for(var s=0,r=l.length;s<r;){i+=l[s++].size}backend_Draw._floatAttributesSize=i,backend_Draw._batchMultiTexture=t.canBatchWithMultipleTextures(backend_Draw._activeShader),backend_Draw._vertexSize=3+backend_Draw._floatAttributesSize+(backend_Draw._batchMultiTexture?1:0),backend_Draw._posSize=backend_Draw._vertexSize,backend_Draw._vertexSize<4&&(backend_Draw._vertexSize=4),backend_Draw._maxVerts=0|Math.floor(65536/backend_Draw._vertexSize),n.activate(),0==backend_Draw._numPos&&(backend_Draw._numIndices=0,backend_Draw._numPos=0,backend_Draw._numUVs=0,backend_Draw._numColors=0,backend_Draw._posIndex=0,backend_Draw._uvIndex=0,backend_Draw._colorIndex=0),this.activeShaderCanBatchMultipleTextures=this.backendShaders.canBatchWithMultipleTextures(n);var l;this.backendShaders,i=0;if(null!=(l=n.customAttributes))for(s=0,r=l.length;s<r;){i+=l[s++].size}this.customFloatAttributesSize=i},useBlending:function(e,n){switch(n){case 0:throw haxe_Exception.thrown("Cannot apply AUTO blending. Needs to be computed to an actual blending function.");case 1:clay_opengl_web_GL.gl.blendFuncSeparate(1,771,1,771);break;case 2:clay_opengl_web_GL.gl.blendFuncSeparate(1,1,1,1);break;case 3:clay_opengl_web_GL.gl.blendFuncSeparate(770,771,1,771);break;case 4:clay_opengl_web_GL.gl.blendFuncSeparate(1,770,1,770);break;case 5:clay_opengl_web_GL.gl.blendFuncSeparate(1,771,773,1);break;case 6:clay_opengl_web_GL.gl.blendFuncSeparate(770,771,773,1)}},scissorWithQuad:function(e,n){e.enableScissor(n.matTX,n.matTY,n.matA*n.get_width(),n.matD*n.get_height())},isNotRenderedRenderTexture:function(e){var n=e.asRenderTexture;return!(null==n||n._renderedOnce||!n.renderDirty)&&!n._usedInRendering},useRenderTarget:function(e,n){this.usedRenderTarget=n,null!=n?(n._usedInRendering=!0,n.set__renderedOnce(!0),e.setRenderTarget(n)):e.setRenderTarget(null)},useFirstTextureInBatch:function(e,n){null==n&&(n=this.defaultWhiteTexture),this.usedTextures=1;var t=n.backendItem.index;if(this.usedTextureIndexes[0]=t,backend_Draw._activeTextureSlot=0,0!=clay_opengl_GLGraphics._activeTextureSlot){for(clay_opengl_GLGraphics._activeTextureSlot=0;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984)}this.activeTextureSlot=0,this.useTexture(e,n,!1)},useTexture:function(e,n,t){if(null!=n){if(this.lastTexture=n,this.lastTextureId=n.backendItem.textureId,this.texWidth=n.backendItem.width,this.texHeight=n.backendItem.height,this.texWidthActual=n.backendItem.widthActual,this.texHeightActual=n.backendItem.heightActual,!t){var i=n.backendItem.textureId;clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]!=i&&(clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]=i,clay_opengl_web_GL.gl.bindTexture(3553,i))}}else{this.lastTexture=null,this.lastTextureId=null;i=ceramic_App.app.defaultWhiteTexture.backendItem.textureId;clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]!=i&&(clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]=i,clay_opengl_web_GL.gl.bindTexture(3553,i))}},canUseTextureInSameBatch:function(e,n){var t=!1;if(null==n&&(n=this.defaultWhiteTexture),this.usedTextures>0)if(this.activeShaderCanBatchMultipleTextures){for(var i=n.backendItem.index,s=0,r=this.usedTextures;s<r;){var l=s++;if(i==this.usedTextureIndexes[l]){t=!0;break}}!t&&this.usedTextures<this.maxUsableTexturesInBatch&&(t=!0)}else this.lastTexture==n&&(t=!0);return t},useTextureInSameBatch:function(e,n){var t=!1;if(null==n&&(n=this.defaultWhiteTexture),this.activeShaderCanBatchMultipleTextures){for(var i=n.backendItem.index,s=0,r=this.usedTextures;s<r;){var l=s++;if(i==this.usedTextureIndexes[l]){if(backend_Draw._activeTextureSlot=l,clay_opengl_GLGraphics._activeTextureSlot!=l){for(clay_opengl_GLGraphics._activeTextureSlot=l;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984+l)}this.activeTextureSlot=l,this.useTexture(e,n,!0),t=!0;break}}if(!t&&this.usedTextures<this.maxUsableTexturesInBatch){l=this.usedTextures++;if(this.usedTextureIndexes[l]=i,backend_Draw._activeTextureSlot=l,clay_opengl_GLGraphics._activeTextureSlot!=l){for(clay_opengl_GLGraphics._activeTextureSlot=l;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984+l)}this.activeTextureSlot=l,this.useTexture(e,n,!1)}}},unbindUsedTextures:function(e){for(;this.usedTextures>0;){this.usedTextures--;var n=this.usedTextures;if(backend_Draw._activeTextureSlot=n,clay_opengl_GLGraphics._activeTextureSlot!=n){for(clay_opengl_GLGraphics._activeTextureSlot=n;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984+n)}var t=ceramic_App.app.defaultWhiteTexture.backendItem.textureId;clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]!=t&&(clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]=t,clay_opengl_web_GL.gl.bindTexture(3553,t))}if(backend_Draw._activeTextureSlot=0,0!=clay_opengl_GLGraphics._activeTextureSlot){for(clay_opengl_GLGraphics._activeTextureSlot=0;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984)}this.activeTextureSlot=0,this.useTexture(e,null,!1)},__class__:ceramic_Renderer});var ceramic_ReusableArray=function(e){this._poolIndex=-1,this.set_length(e)};t["ceramic.ReusableArray"]=ceramic_ReusableArray,ceramic_ReusableArray.__name__="ceramic.ReusableArray",ceramic_ReusableArray.prototype={set_length:function(e){if(null==this.vector)return this.vector=new Array(e),this.length=e,e;if(e==this.length)return e;if(e>this.vector.length){for(var n=new Array(e),t=0,i=this.length;t<i;){n[s=t++]=this.vector[s],this.vector[s]=null}this.vector=n;for(t=this.length,i=e;t<i;){var s=t++;this.vector[s]=null}}else for(t=e,i=this.length;t<i;){s=t++;this.vector[s]=null}return this.length=e,e},get:function(e){return this.vector[e]},set:function(e,n){this.vector[e]=n},__class__:ceramic_ReusableArray,__properties__:{set_length:"set_length"}};var ceramic_Runner=function(){};t["ceramic.Runner"]=ceramic_Runner,ceramic_Runner.__name__="ceramic.Runner",ceramic_Runner.currentIsMainThread=function(){return!0},ceramic_Runner.init=function(){},ceramic_Runner.tick=function(){},ceramic_Runner.isEmulatingBackgroundWithMain=function(){return!0},ceramic_Runner.runInMain=function(e){ceramic_App.app._onceImmediate(e)},ceramic_Runner.runInBackground=function(e){ceramic_App.app._onceImmediate(e)};var ceramic_RuntimeAssets=function(e,n){this.path=null,this.cachedLists=null,this.cachedNames=new haxe_ds_StringMap,this.assetDirsByBaseName=null,this.assetsByBaseName=null,this.allAssetDirs=null,this.allAssets=null,this.allAssets=e,this.path=n,this.initData()};t["ceramic.RuntimeAssets"]=ceramic_RuntimeAssets,ceramic_RuntimeAssets.__name__="ceramic.RuntimeAssets",ceramic_RuntimeAssets.fromPath=function(e){return null},ceramic_RuntimeAssets.toAssetConstName=function(e){for(var n="",t=e.length,i=0,s=!1;i<t;){var r=e.charAt(i);if("/"==r)n+="__",s=!1;else if("."==r)n+="_",s=!1;else if(ceramic_RuntimeAssets.isAsciiChar(r)){var l=r.toUpperCase(),a=r==l;s&&a&&(n+="_",s=!1),n+=null==l?"null":""+l,s=!a}else n+="_",s=!1;++i}var o=n;return StringTools.endsWith(o,"_")&&(o=HxOverrides.substr(o,0,o.length-1)),o},ceramic_RuntimeAssets.isAsciiChar=function(e){var n=HxOverrides.cca(e,0);return n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122},ceramic_RuntimeAssets.prototype={reset:function(e,n){this.allAssets=e,this.path=n,this.allAssetDirs=null,this.assetsByBaseName=null,this.assetDirsByBaseName=null,this.cachedNames=new haxe_ds_StringMap,this.cachedLists=null,this.initData()},getNames:function(n,t,i){null==i&&(i=!1);var s=n+"|"+(null!=t?t.join(","):"")+(i?"|1":"|0"),r=this.cachedNames.h[s];if(null!=r)return r;var l,a=[];switch(null==t&&(t=[]),n){case"atlas":l=["atlas"];break;case"database":l=["csv"];break;case"font":l=["fnt"];break;case"fragments":l=["fragments"];break;case"image":l=["png","jpg","jpeg"];break;case"shader":l=["frag","vert"];break;case"sound":ceramic_App.app.backend.info;if(null!=backend_Info._soundExtensions)l=[].concat(backend_Info._soundExtensions);else{backend_Info._soundExtensions=[];var o=new Audio,h=null!=e.navigator?e.navigator.userAgent:"",c=backend_Info.RE_OPERA.match(h)&&parseInt(backend_Info.RE_OPERA.matched(0).split("/")[1],10)<33,u=-1!=h.indexOf("Safari")&&-1==h.indexOf("Chrome"),_=backend_Info.RE_SAFARI_VERSION.match(h),d=(u&&_&&parseInt(backend_Info.RE_SAFARI_VERSION.matched(1),10),o.canPlayType('audio/ogg; codecs="vorbis"'));null!=d&&"no"!=d&&""!=d&&backend_Info._soundExtensions.push("ogg");var f=o.canPlayType("audio/mpeg;"),p=o.canPlayType("audio/mp3;");!c&&(null!=f&&"no"!=f&&""!=f||null!=p&&"no"!=p&&""!=p)&&backend_Info._soundExtensions.push("mp3");var b=o.canPlayType("audio/x-flac;"),y=o.canPlayType("audio/flac;");(null!=b&&"no"!=b&&""!=b||null!=y&&"no"!=y&&""!=y)&&backend_Info._soundExtensions.push("flac");var g=o.canPlayType('audio/wav; codecs="1"'),O=o.canPlayType("audio/wav;");(null!=g&&"no"!=g&&""!=g||null!=O&&"no"!=O&&""!=O)&&backend_Info._soundExtensions.push("wav"),l=[].concat(backend_Info._soundExtensions)}break;case"text":l=["txt","json","fnt","atlas"];break;default:l=[]}if(0==(t=t.concat(l)).length)return a;for(var x=Object.create(null),v=i?this.allAssetDirs:this.allAssets,m=0;m<t.length;){var w=t[m];++m;for(var U=0;U<v.length;){var C=v[U];++U;var T=C.toLowerCase(),D=T.lastIndexOf("."),E=null,A=null,S=null;if(-1!=D&&(E=HxOverrides.substr(T,D+1,null))==w){var M=HxOverrides.substr(C,0,D).lastIndexOf("@");-1==M&&(M=D),A=HxOverrides.substr(C,0,Math.min(M,D)),null==(S=ceramic_RuntimeAssets.toAssetConstName(A))||Object.prototype.hasOwnProperty.call(x,S)||null==E||(x[S]=A)}}}for(var P=i?this.assetDirsByBaseName:this.assetsByBaseName,F=x,k=Object.keys(F),R=k.length,I=0;I<R;){x[S=k[I++]];var N=[],L=P.h[x[S]];for(m=0;m<L.length;){var B=L[m];++m;for(U=0;U<t.length;){w=t[U];if(++U,StringTools.endsWith(B,"."+w)){N.push(B);break}}}var G={name:x[S],constName:S,paths:N};a.push(G)}return this.cachedNames.h[s]=a,a},getLists:function(){if(null!=this.cachedLists)return this.cachedLists;for(var e={all:[],allDirs:[],allByName:new haxe_ds_StringMap,allDirsByName:new haxe_ds_StringMap},n=0,t=this.allAssets;n<t.length;){var i=t[n];++n,e.all.push(i)}for(n=0,t=this.allAssetDirs;n<t.length;){i=t[n];++n,e.allDirs.push(i)}o=this.assetsByBaseName.h;for(var s=(h=Object.keys(o)).length,r=0;r<s;){var l=h[r++],a=[].concat(this.assetsByBaseName.h[l]);e.allByName.h[l]=a}var o,h;for(o=this.assetDirsByBaseName.h,s=(h=Object.keys(o)).length,r=0;r<s;){l=h[r++],a=[].concat(this.assetDirsByBaseName.h[l]);e.allDirsByName.h[l]=a}return this.cachedLists=e,e},getEncodableLists:function(){for(var e=this.getLists(),n={},t=(s=e.allByName.h,(r=Object.keys(s)).length),i=0;i<t;){n[a=r[i++]]=e.allByName.h[a]}var s,r,l={};for(s=e.allDirsByName.h,t=(r=Object.keys(s)).length,i=0;i<t;){var a;l[a=r[i++]]=e.allDirsByName.h[a]}return{all:e.all,allDirs:e.allDirs,allByName:n,allDirsByName:l}},initData:function(){for(var e=Object.create(null),n=0,t=this.allAssets;n<t.length;){var i=t[n];++n,e[i]=!0}var s=Object.create(null);this.allAssetDirs=[];for(n=0,t=this.allAssets;n<t.length;){i=t[n];++n;var r=i.lastIndexOf("/");if(-1!=r)for(var l=HxOverrides.substr(i,0,r);!Object.prototype.hasOwnProperty.call(s,l)&&(this.allAssetDirs.push(l),s[l]=!0,-1!=(r=l.lastIndexOf("/")));)l=HxOverrides.substr(l,0,r)}if(null==this.assetsByBaseName){this.assetsByBaseName=new haxe_ds_StringMap;for(n=0,t=this.allAssets;n<t.length;){var a=t[n];++n;var o=a.lastIndexOf(".");-1==(c=HxOverrides.substr(a,0,o).lastIndexOf("@"))&&(c=o);var h=HxOverrides.substr(a,0,Math.min(c,o));Object.prototype.hasOwnProperty.call(this.assetsByBaseName.h,h)||(this.assetsByBaseName.h[h]=[]),this.assetsByBaseName.h[h].push(a)}}if(null==this.assetDirsByBaseName){this.assetDirsByBaseName=new haxe_ds_StringMap;for(n=0,t=this.allAssetDirs;n<t.length;){a=t[n];++n;var c;o=a.lastIndexOf(".");-1==(c=HxOverrides.substr(a,0,o).lastIndexOf("@"))&&(c=o);h=HxOverrides.substr(a,0,Math.min(c,o));Object.prototype.hasOwnProperty.call(this.assetDirsByBaseName.h,h)||(this.assetDirsByBaseName.h[h]=[]),this.assetDirsByBaseName.h[h].push(a)}}},__class__:ceramic_RuntimeAssets};var g={$name:function(e){var n=null;return e>=0&&e<g.scanCodeNames.length&&(n=g.scanCodeNames[e]),null!=n?n:""},toString:function(e){return"ScanCode("+e+" "+g.$name(e)+")"}},O={toString:function(e){switch(e){case 0:return"NONE";case 1:return"PRELOAD";case 2:return"LOAD";case 3:return"CREATE";case 4:return"FADE_IN";case 5:return"READY";case 6:return"FADE_OUT";case 7:return"DISABLED";default:return"_"}}},ceramic_System=function(){this.lateUpdateOrder=0,this.earlyUpdateOrder=0,this.autoUpdate=!0,this.name=null,ceramic_Entity.call(this),ceramic_App.app.systems.addSystem(this)};t["ceramic.System"]=ceramic_System,ceramic_System.__name__="ceramic.System",ceramic_System.__super__=ceramic_Entity,ceramic_System.prototype=$extend(ceramic_Entity.prototype,{emitBeginEarlyUpdate:function(e){var n=0;if(null!=this.__cbOnBeginEarlyUpdate&&(n+=this.__cbOnBeginEarlyUpdate.length),null!=this.__cbOnceBeginEarlyUpdate&&(n+=this.__cbOnceBeginEarlyUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnBeginEarlyUpdate)for(var r=0,l=this.__cbOnBeginEarlyUpdate.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnBeginEarlyUpdate[a],++s):--n}if(null!=this.__cbOnceBeginEarlyUpdate){var o=null,h=null;for(r=0,l=this.__cbOnceBeginEarlyUpdate.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceBeginEarlyUpdate[a],this.__cbOnceBeginEarlyUpdate[a]=null;var c=this.__cbOnceOwnerUnbindBeginEarlyUpdate[a];this.__cbOnceOwnerUnbindBeginEarlyUpdate[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindBeginEarlyUpdate[a]),h.push(this.__cbOnceBeginEarlyUpdate[a])}this.__cbOnceOwnerUnbindBeginEarlyUpdate=o,this.__cbOnceBeginEarlyUpdate=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onBeginEarlyUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginEarlyUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginEarlyUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBeginEarlyUpdate&&(this.__cbOnOwnerUnbindBeginEarlyUpdate=[]),this.__cbOnOwnerUnbindBeginEarlyUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBeginEarlyUpdate&&(this.__cbOnOwnerUnbindBeginEarlyUpdate=[]),this.__cbOnOwnerUnbindBeginEarlyUpdate.push(null);null==this.__cbOnBeginEarlyUpdate&&(this.__cbOnBeginEarlyUpdate=[]),this.__cbOnBeginEarlyUpdate.push(n)},onceBeginEarlyUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginEarlyUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginEarlyUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBeginEarlyUpdate&&(this.__cbOnceOwnerUnbindBeginEarlyUpdate=[]),this.__cbOnceOwnerUnbindBeginEarlyUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBeginEarlyUpdate&&(this.__cbOnceOwnerUnbindBeginEarlyUpdate=[]),this.__cbOnceOwnerUnbindBeginEarlyUpdate.push(null);null==this.__cbOnceBeginEarlyUpdate&&(this.__cbOnceBeginEarlyUpdate=[]),this.__cbOnceBeginEarlyUpdate.push(n)},offBeginEarlyUpdate:function(e){if(null!=e){var n;null!=this.__cbOnBeginEarlyUpdate&&-1!=(n=this.__cbOnBeginEarlyUpdate.indexOf(e))&&(this.__cbOnBeginEarlyUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBeginEarlyUpdate[n])&&r(),this.__cbOnOwnerUnbindBeginEarlyUpdate.splice(n,1)),null!=this.__cbOnceBeginEarlyUpdate&&-1!=(n=this.__cbOnceBeginEarlyUpdate.indexOf(e))&&(this.__cbOnceBeginEarlyUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBeginEarlyUpdate[n])&&r(),this.__cbOnceOwnerUnbindBeginEarlyUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginEarlyUpdate){for(var t=0,i=this.__cbOnOwnerUnbindBeginEarlyUpdate.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindBeginEarlyUpdate[s])&&r()}this.__cbOnOwnerUnbindBeginEarlyUpdate=null}if(null!=this.__cbOnceOwnerUnbindBeginEarlyUpdate){for(t=0,i=this.__cbOnceOwnerUnbindBeginEarlyUpdate.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindBeginEarlyUpdate[s])&&r()}this.__cbOnceOwnerUnbindBeginEarlyUpdate=null}this.__cbOnBeginEarlyUpdate=null,this.__cbOnceBeginEarlyUpdate=null}},listensBeginEarlyUpdate:function(){return null!=this.__cbOnBeginEarlyUpdate&&this.__cbOnBeginEarlyUpdate.length>0||null!=this.__cbOnceBeginEarlyUpdate&&this.__cbOnceBeginEarlyUpdate.length>0},emitEndEarlyUpdate:function(e){var n=0;if(null!=this.__cbOnEndEarlyUpdate&&(n+=this.__cbOnEndEarlyUpdate.length),null!=this.__cbOnceEndEarlyUpdate&&(n+=this.__cbOnceEndEarlyUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnEndEarlyUpdate)for(var r=0,l=this.__cbOnEndEarlyUpdate.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnEndEarlyUpdate[a],++s):--n}if(null!=this.__cbOnceEndEarlyUpdate){var o=null,h=null;for(r=0,l=this.__cbOnceEndEarlyUpdate.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceEndEarlyUpdate[a],this.__cbOnceEndEarlyUpdate[a]=null;var c=this.__cbOnceOwnerUnbindEndEarlyUpdate[a];this.__cbOnceOwnerUnbindEndEarlyUpdate[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindEndEarlyUpdate[a]),h.push(this.__cbOnceEndEarlyUpdate[a])}this.__cbOnceOwnerUnbindEndEarlyUpdate=o,this.__cbOnceEndEarlyUpdate=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onEndEarlyUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event endEarlyUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offEndEarlyUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindEndEarlyUpdate&&(this.__cbOnOwnerUnbindEndEarlyUpdate=[]),this.__cbOnOwnerUnbindEndEarlyUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindEndEarlyUpdate&&(this.__cbOnOwnerUnbindEndEarlyUpdate=[]),this.__cbOnOwnerUnbindEndEarlyUpdate.push(null);null==this.__cbOnEndEarlyUpdate&&(this.__cbOnEndEarlyUpdate=[]),this.__cbOnEndEarlyUpdate.push(n)},onceEndEarlyUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event endEarlyUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offEndEarlyUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindEndEarlyUpdate&&(this.__cbOnceOwnerUnbindEndEarlyUpdate=[]),this.__cbOnceOwnerUnbindEndEarlyUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindEndEarlyUpdate&&(this.__cbOnceOwnerUnbindEndEarlyUpdate=[]),this.__cbOnceOwnerUnbindEndEarlyUpdate.push(null);null==this.__cbOnceEndEarlyUpdate&&(this.__cbOnceEndEarlyUpdate=[]),this.__cbOnceEndEarlyUpdate.push(n)},offEndEarlyUpdate:function(e){if(null!=e){var n;null!=this.__cbOnEndEarlyUpdate&&-1!=(n=this.__cbOnEndEarlyUpdate.indexOf(e))&&(this.__cbOnEndEarlyUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindEndEarlyUpdate[n])&&r(),this.__cbOnOwnerUnbindEndEarlyUpdate.splice(n,1)),null!=this.__cbOnceEndEarlyUpdate&&-1!=(n=this.__cbOnceEndEarlyUpdate.indexOf(e))&&(this.__cbOnceEndEarlyUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindEndEarlyUpdate[n])&&r(),this.__cbOnceOwnerUnbindEndEarlyUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEndEarlyUpdate){for(var t=0,i=this.__cbOnOwnerUnbindEndEarlyUpdate.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindEndEarlyUpdate[s])&&r()}this.__cbOnOwnerUnbindEndEarlyUpdate=null}if(null!=this.__cbOnceOwnerUnbindEndEarlyUpdate){for(t=0,i=this.__cbOnceOwnerUnbindEndEarlyUpdate.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindEndEarlyUpdate[s])&&r()}this.__cbOnceOwnerUnbindEndEarlyUpdate=null}this.__cbOnEndEarlyUpdate=null,this.__cbOnceEndEarlyUpdate=null}},listensEndEarlyUpdate:function(){return null!=this.__cbOnEndEarlyUpdate&&this.__cbOnEndEarlyUpdate.length>0||null!=this.__cbOnceEndEarlyUpdate&&this.__cbOnceEndEarlyUpdate.length>0},emitBeginLateUpdate:function(e){var n=0;if(null!=this.__cbOnBeginLateUpdate&&(n+=this.__cbOnBeginLateUpdate.length),null!=this.__cbOnceBeginLateUpdate&&(n+=this.__cbOnceBeginLateUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnBeginLateUpdate)for(var r=0,l=this.__cbOnBeginLateUpdate.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnBeginLateUpdate[a],++s):--n}if(null!=this.__cbOnceBeginLateUpdate){var o=null,h=null;for(r=0,l=this.__cbOnceBeginLateUpdate.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceBeginLateUpdate[a],this.__cbOnceBeginLateUpdate[a]=null;var c=this.__cbOnceOwnerUnbindBeginLateUpdate[a];this.__cbOnceOwnerUnbindBeginLateUpdate[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindBeginLateUpdate[a]),h.push(this.__cbOnceBeginLateUpdate[a])}this.__cbOnceOwnerUnbindBeginLateUpdate=o,this.__cbOnceBeginLateUpdate=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onBeginLateUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginLateUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginLateUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBeginLateUpdate&&(this.__cbOnOwnerUnbindBeginLateUpdate=[]),this.__cbOnOwnerUnbindBeginLateUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBeginLateUpdate&&(this.__cbOnOwnerUnbindBeginLateUpdate=[]),this.__cbOnOwnerUnbindBeginLateUpdate.push(null);null==this.__cbOnBeginLateUpdate&&(this.__cbOnBeginLateUpdate=[]),this.__cbOnBeginLateUpdate.push(n)},onceBeginLateUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event beginLateUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBeginLateUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBeginLateUpdate&&(this.__cbOnceOwnerUnbindBeginLateUpdate=[]),this.__cbOnceOwnerUnbindBeginLateUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBeginLateUpdate&&(this.__cbOnceOwnerUnbindBeginLateUpdate=[]),this.__cbOnceOwnerUnbindBeginLateUpdate.push(null);null==this.__cbOnceBeginLateUpdate&&(this.__cbOnceBeginLateUpdate=[]),this.__cbOnceBeginLateUpdate.push(n)},offBeginLateUpdate:function(e){if(null!=e){var n;null!=this.__cbOnBeginLateUpdate&&-1!=(n=this.__cbOnBeginLateUpdate.indexOf(e))&&(this.__cbOnBeginLateUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBeginLateUpdate[n])&&r(),this.__cbOnOwnerUnbindBeginLateUpdate.splice(n,1)),null!=this.__cbOnceBeginLateUpdate&&-1!=(n=this.__cbOnceBeginLateUpdate.indexOf(e))&&(this.__cbOnceBeginLateUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBeginLateUpdate[n])&&r(),this.__cbOnceOwnerUnbindBeginLateUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBeginLateUpdate){for(var t=0,i=this.__cbOnOwnerUnbindBeginLateUpdate.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindBeginLateUpdate[s])&&r()}this.__cbOnOwnerUnbindBeginLateUpdate=null}if(null!=this.__cbOnceOwnerUnbindBeginLateUpdate){for(t=0,i=this.__cbOnceOwnerUnbindBeginLateUpdate.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindBeginLateUpdate[s])&&r()}this.__cbOnceOwnerUnbindBeginLateUpdate=null}this.__cbOnBeginLateUpdate=null,this.__cbOnceBeginLateUpdate=null}},listensBeginLateUpdate:function(){return null!=this.__cbOnBeginLateUpdate&&this.__cbOnBeginLateUpdate.length>0||null!=this.__cbOnceBeginLateUpdate&&this.__cbOnceBeginLateUpdate.length>0},emitEndLateUpdate:function(e){var n=0;if(null!=this.__cbOnEndLateUpdate&&(n+=this.__cbOnEndLateUpdate.length),null!=this.__cbOnceEndLateUpdate&&(n+=this.__cbOnceEndLateUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnEndLateUpdate)for(var r=0,l=this.__cbOnEndLateUpdate.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnEndLateUpdate[a],++s):--n}if(null!=this.__cbOnceEndLateUpdate){var o=null,h=null;for(r=0,l=this.__cbOnceEndLateUpdate.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceEndLateUpdate[a],this.__cbOnceEndLateUpdate[a]=null;var c=this.__cbOnceOwnerUnbindEndLateUpdate[a];this.__cbOnceOwnerUnbindEndLateUpdate[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindEndLateUpdate[a]),h.push(this.__cbOnceEndLateUpdate[a])}this.__cbOnceOwnerUnbindEndLateUpdate=o,this.__cbOnceEndLateUpdate=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onEndLateUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event endLateUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offEndLateUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindEndLateUpdate&&(this.__cbOnOwnerUnbindEndLateUpdate=[]),this.__cbOnOwnerUnbindEndLateUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindEndLateUpdate&&(this.__cbOnOwnerUnbindEndLateUpdate=[]),this.__cbOnOwnerUnbindEndLateUpdate.push(null);null==this.__cbOnEndLateUpdate&&(this.__cbOnEndLateUpdate=[]),this.__cbOnEndLateUpdate.push(n)},onceEndLateUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event endLateUpdate because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offEndLateUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindEndLateUpdate&&(this.__cbOnceOwnerUnbindEndLateUpdate=[]),this.__cbOnceOwnerUnbindEndLateUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindEndLateUpdate&&(this.__cbOnceOwnerUnbindEndLateUpdate=[]),this.__cbOnceOwnerUnbindEndLateUpdate.push(null);null==this.__cbOnceEndLateUpdate&&(this.__cbOnceEndLateUpdate=[]),this.__cbOnceEndLateUpdate.push(n)},offEndLateUpdate:function(e){if(null!=e){var n;null!=this.__cbOnEndLateUpdate&&-1!=(n=this.__cbOnEndLateUpdate.indexOf(e))&&(this.__cbOnEndLateUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindEndLateUpdate[n])&&r(),this.__cbOnOwnerUnbindEndLateUpdate.splice(n,1)),null!=this.__cbOnceEndLateUpdate&&-1!=(n=this.__cbOnceEndLateUpdate.indexOf(e))&&(this.__cbOnceEndLateUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindEndLateUpdate[n])&&r(),this.__cbOnceOwnerUnbindEndLateUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEndLateUpdate){for(var t=0,i=this.__cbOnOwnerUnbindEndLateUpdate.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindEndLateUpdate[s])&&r()}this.__cbOnOwnerUnbindEndLateUpdate=null}if(null!=this.__cbOnceOwnerUnbindEndLateUpdate){for(t=0,i=this.__cbOnceOwnerUnbindEndLateUpdate.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindEndLateUpdate[s])&&r()}this.__cbOnceOwnerUnbindEndLateUpdate=null}this.__cbOnEndLateUpdate=null,this.__cbOnceEndLateUpdate=null}},listensEndLateUpdate:function(){return null!=this.__cbOnEndLateUpdate&&this.__cbOnEndLateUpdate.length>0||null!=this.__cbOnceEndLateUpdate&&this.__cbOnceEndLateUpdate.length>0},set_earlyUpdateOrder:function(e){return this.earlyUpdateOrder!=e&&(this.earlyUpdateOrder=e,ceramic_App.app.systems.earlyUpdateOrderDirty=!0),e},set_lateUpdateOrder:function(e){return this.lateUpdateOrder!=e&&(this.lateUpdateOrder=e,ceramic_App.app.systems.lateUpdateOrderDirty=!0),e},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),ceramic_App.app.systems.removeSystem(this))},earlyUpdate:function(e){},lateUpdate:function(e){},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offBeginEarlyUpdate(),this.offEndEarlyUpdate(),this.offBeginLateUpdate(),this.offEndLateUpdate()},__class__:ceramic_System,__properties__:$extend(ceramic_Entity.prototype.__properties__,{set_lateUpdateOrder:"set_lateUpdateOrder",set_earlyUpdateOrder:"set_earlyUpdateOrder"})});var ceramic_SceneSystem=function(){this.rootScenes=new haxe_ds_StringMap,this.filter=null,this.autoScaleFilter=!0,this.autoDestroyFilter=!0,this.main=null,this.fadeOutWhenNextMainCanFadeIn=!0,this.bindMainToScreenSize=!0,this.keepAssetsForNextMain=!1,this._updatingScenes=[],this.all=[],ceramic_System.call(this),this.set_lateUpdateOrder(5e3)};t["ceramic.SceneSystem"]=ceramic_SceneSystem,ceramic_SceneSystem.__name__="ceramic.SceneSystem",ceramic_SceneSystem.__properties__={set_shared:"set_shared",get_shared:"get_shared"},ceramic_SceneSystem.get_shared=function(){return ceramic_SceneSystem.lazyShared&&(ceramic_SceneSystem.lazyShared=!1,ceramic_SceneSystem.shared=new ceramic_SceneSystem),ceramic_SceneSystem.shared},ceramic_SceneSystem.set_shared=function(e){return ceramic_SceneSystem.shared=e},ceramic_SceneSystem.__super__=ceramic_System,ceramic_SceneSystem.prototype=$extend(ceramic_System.prototype,{set_filter:function(e){if(this.filter!=e){var n=this.filter;if(null!=n){for(var t=u=this.rootScenes.h,i=(_=Object.keys(u)).length,s=0;s<i;){(d=t[_[s++]]).parent==n.content&&(n.content.remove(d),d.set_scaleX(1),d.set_scaleY(1))}if(null!=n.content.children){for(var r=null,l=0,a=n.content.children.length;l<a;){var o=l++,h=n.content.children[o];if(h instanceof ceramic_Scene)(c=h).isRootScene&&(null==r&&(r=[]),r.push(c))}if(null!=r)for(l=0,a=r.length;l<a;){var c=r[o=l++];n.content.remove(c),c.set_active(!1)}}this.autoDestroyFilter?n.destroy():(n.set_scaleX(1),n.set_scaleY(1))}if(this.filter=e,null!=e){this.autoScaleFilter&&this.scaleFilter();var u,_;for(t=u=this.rootScenes.h,i=(_=Object.keys(u)).length,s=0;s<i;){var d;(d=t[_[s++]]).parent!=e.content&&e.content.add(d)}}}return e},scaleFilter:function(){var e=this.filter,n=ceramic_App.app.screen.width/this.filter.get_width(),t=ceramic_App.app.screen.height/this.filter.get_height();e.set_scaleX(n),e.set_scaleY(t);e=this.filter.content,n=this.filter.get_width()/ceramic_App.app.screen.width,t=this.filter.get_height()/ceramic_App.app.screen.height;e.set_scaleX(n),e.set_scaleY(t)},set_main:function(e){return this.main!=e&&(this.main=e,this.set("main",e,this.bindMainToScreenSize,this.keepAssetsForNextMain)),e},set:function(e,n,t,i){null==i&&(i=!1),null==t&&(t=!0);var s=this,r=this.rootScenes.h[e],l=null;if(null!=n&&n.isRootScene)for(var a=this.rootScenes.h,o=a,h=Object.keys(a),c=h.length,u=0;u<c;){var _=h[u++],d=_;if(o[_]==n){l=d;break}}if(null!=l){if(l==e)return;var f=this.rootScenes;Object.prototype.hasOwnProperty.call(f.h,l)&&delete f.h[l]}if(n!=r)if(null==n){f=this.rootScenes;if(Object.prototype.hasOwnProperty.call(f.h,e)&&delete f.h[e],"main"==e&&this.set_main(null),r._lifecycleState>=0)switch(r.get_status()){case 0:case 1:case 2:case 3:case 4:r.scheduleOnceReady(r,$bind(r,r.destroy));break;case 5:r.fadeOut($bind(r,r.destroy));break;case 6:case 7:r.destroy()}}else{if(n._lifecycleState<0)throw haxe_Exception.thrown("Cannot assign a destroyed scene as root scene!");var p=null;if(null==l?(n.isRootScene=!0,this.rootScenes.h[e]=n,"main"==e&&this.set_main(n),n.onDestroy(this,(function(t){var i=null;if(null!=n&&n.isRootScene)for(var r=s.rootScenes.h,l=r,a=Object.keys(r),o=a.length,h=0;h<o;){var c=a[h++],u=c;if(l[c]==t){i=u;break}}if(null!=i){var _=s.rootScenes;Object.prototype.hasOwnProperty.call(_.h,e)&&delete _.h[e],"main"==i&&s.main==t&&s.set_main(null)}})),n.onReplace(this,(function(e){var t=null;if(null!=n&&n.isRootScene)for(var i=s.rootScenes.h,r=i,l=Object.keys(i),a=l.length,o=0;o<a;){var h=l[o++],c=h;if(r[h]==n){t=c;break}}null!=t&&s.set(t,e)}))):("main"==l&&this.set_main(null),this.rootScenes.h[e]=n,"main"==e&&this.set_main(n)),null!=r){i&&(p=r._assets);var fadeOutDone=function(){i&&(r._assets=null),r.destroy(),r=null};if(this.fadeOutWhenNextMainCanFadeIn){var b=null;switch(n.get_status()){case 0:case 1:case 2:case 3:b=function(e,t){switch(e){case 0:case 1:case 2:case 3:break;case 4:case 5:case 6:case 7:switch(n.offStatusChange(b),r.get_status()){case 5:r.fadeOut(fadeOutDone);break;case 0:case 1:case 2:case 3:case 4:case 6:case 7:fadeOutDone()}}},n.onStatusChange(r,b);break;case 4:case 5:case 6:case 7:switch(r.get_status()){case 5:r.fadeOut(fadeOutDone);break;case 0:case 1:case 2:case 3:case 4:case 6:case 7:fadeOutDone()}}}else switch(r.get_status()){case 5:r.fadeOut(fadeOutDone);break;case 0:case 1:case 2:case 3:case 4:case 6:case 7:fadeOutDone()}}null==l&&(n._assets=p,t&&n.bindToScreenSize(),null!=this.filter&&this.filter.content.add(n),n._boot())}},get:function(e){return this.rootScenes.h[e]},setCurrentScene:function(e,n){null==n&&(n=!1),this.keepAssetsForNextMain=n,this.set_main(e)},lateUpdate:function(e){for(var n=this.all.length,t=0,i=n;t<i;){var s=t++;this._updatingScenes[s]=this.all[s]}for(t=0,i=n;t<i;){s=t++;var r=this._updatingScenes[s];if((1!=(1&r.flags)||r.autoUpdateWhenInactive)&&(!(r._lifecycleState<0)&&(0==r.get_status()&&null!=r.parent&&r._boot(),!r.paused&&r.autoUpdate)))switch(r.get_status()){case 4:case 5:case 6:r.update(e)}}for(t=0,i=n;t<i;){s=t++;this._updatingScenes[s]=null}this.autoScaleFilter&&null!=this.filter&&this.scaleFilter()},__class__:ceramic_SceneSystem,__properties__:$extend(ceramic_System.prototype.__properties__,{set_filter:"set_filter",set_main:"set_main"})});var ceramic_Screen=function(){this.hitVisuals=[],this.matchedOverListeners=new haxe_ds_IntMap,this.matchedDownListeners=new haxe_ds_IntMap,this.visualsListenPointerOver=!1,this.maxTouchIndex=-1,this.prevMouseY=0,this.prevMouseX=0,this.prevTouchPositions=new ceramic_IntFloatMap(16,.5,!1),this.pressedTouches=new ceramic_IntIntMap(16,.5,!1),this.pressedMouseButtons=new ceramic_IntIntMap(16,.5,!1),this._numPointerDown=0,this.resizing=!1,this.reverseMatrix=new ceramic_Transform,this.matrix=new ceramic_Transform,this.unobservedTexturesDensity=1,this.texturesDensityAutoruns=null,this.unobservedFocusedVisual=null,this.focusedVisualAutoruns=null,this.touches=new ceramic_IntMap(8,.5,!1),this.mouseWheelDeltaY=0,this.mouseWheelDeltaX=0,this.mouseDeltaY=0,this.mouseDeltaX=0,this.mouseY=0,this.mouseX=0,this.pointerDeltaY=0,this.pointerDeltaX=0,this.pointerY=0,this.pointerX=0,this.offsetY=0,this.offsetX=0,this.actualHeight=0,this.actualWidth=0,this.height=0,this.width=0,this.density=1,this.observedDirty=!1,ceramic_Entity.call(this)};t["ceramic.Screen"]=ceramic_Screen,ceramic_Screen.__name__="ceramic.Screen",ceramic_Screen.__interfaces__=[tracker_Observable],ceramic_Screen.__super__=ceramic_Entity,ceramic_Screen.prototype=$extend(ceramic_Entity.prototype,{emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var l=0,a=this.__cbOnObservedDirty.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnObservedDirty[o],++r):--t}if(null!=this.__cbOnceObservedDirty){var h=null,c=null;for(l=0,a=this.__cbOnceObservedDirty.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceObservedDirty[o],this.__cbOnceObservedDirty[o]=null;var u=this.__cbOnceOwnerUnbindObservedDirty[o];this.__cbOnceOwnerUnbindObservedDirty[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindObservedDirty[o]),c.push(this.__cbOnceObservedDirty[o])}this.__cbOnceOwnerUnbindObservedDirty=h,this.__cbOnceObservedDirty=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(n)},onceObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(n)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[s])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[s])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&this.__cbOnObservedDirty.length>0||null!=this.__cbOnceObservedDirty&&this.__cbOnceObservedDirty.length>0},get_nativeWidth:function(){return clay_Clay.app.screenWidth},get_nativeHeight:function(){return clay_Clay.app.screenHeight},get_nativeDensity:function(){return clay_Clay.app.screenDensity},get_focusedVisual:function(){var e=this.unobservedFocusedVisual;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.focusedVisualAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.focusedVisualAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_focusedVisual:function(e){var n=this.unobservedFocusedVisual;if(this.set_unobservedFocusedVisual(e),n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFocusedVisualChange(e,n);var t=this.focusedVisualAutoruns;if(null!=t){this.focusedVisualAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateFocusedVisual:function(){var e=this.unobservedFocusedVisual;this.emitFocusedVisualChange(e,e);var n=this.focusedVisualAutoruns;if(null!=n){this.focusedVisualAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitFocusedVisualChange:function(e,n){var t=0;if(null!=this.__cbOnFocusedVisualChange&&(t+=this.__cbOnFocusedVisualChange.length),null!=this.__cbOnceFocusedVisualChange&&(t+=this.__cbOnceFocusedVisualChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnFocusedVisualChange)for(var l=0,a=this.__cbOnFocusedVisualChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnFocusedVisualChange[o],++r):--t}if(null!=this.__cbOnceFocusedVisualChange){var h=null,c=null;for(l=0,a=this.__cbOnceFocusedVisualChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceFocusedVisualChange[o],this.__cbOnceFocusedVisualChange[o]=null;var u=this.__cbOnceOwnerUnbindFocusedVisualChange[o];this.__cbOnceOwnerUnbindFocusedVisualChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindFocusedVisualChange[o]),c.push(this.__cbOnceFocusedVisualChange[o])}this.__cbOnceOwnerUnbindFocusedVisualChange=h,this.__cbOnceFocusedVisualChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onFocusedVisualChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event focusedVisualChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFocusedVisualChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFocusedVisualChange&&(this.__cbOnOwnerUnbindFocusedVisualChange=[]),this.__cbOnOwnerUnbindFocusedVisualChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFocusedVisualChange&&(this.__cbOnOwnerUnbindFocusedVisualChange=[]),this.__cbOnOwnerUnbindFocusedVisualChange.push(null);null==this.__cbOnFocusedVisualChange&&(this.__cbOnFocusedVisualChange=[]),this.__cbOnFocusedVisualChange.push(n)},onceFocusedVisualChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event focusedVisualChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFocusedVisualChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFocusedVisualChange&&(this.__cbOnceOwnerUnbindFocusedVisualChange=[]),this.__cbOnceOwnerUnbindFocusedVisualChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFocusedVisualChange&&(this.__cbOnceOwnerUnbindFocusedVisualChange=[]),this.__cbOnceOwnerUnbindFocusedVisualChange.push(null);null==this.__cbOnceFocusedVisualChange&&(this.__cbOnceFocusedVisualChange=[]),this.__cbOnceFocusedVisualChange.push(n)},offFocusedVisualChange:function(e){if(null!=e){var n;null!=this.__cbOnFocusedVisualChange&&-1!=(n=this.__cbOnFocusedVisualChange.indexOf(e))&&(this.__cbOnFocusedVisualChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFocusedVisualChange[n])&&r(),this.__cbOnOwnerUnbindFocusedVisualChange.splice(n,1)),null!=this.__cbOnceFocusedVisualChange&&-1!=(n=this.__cbOnceFocusedVisualChange.indexOf(e))&&(this.__cbOnceFocusedVisualChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFocusedVisualChange[n])&&r(),this.__cbOnceOwnerUnbindFocusedVisualChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocusedVisualChange){for(var t=0,i=this.__cbOnOwnerUnbindFocusedVisualChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindFocusedVisualChange[s])&&r()}this.__cbOnOwnerUnbindFocusedVisualChange=null}if(null!=this.__cbOnceOwnerUnbindFocusedVisualChange){for(t=0,i=this.__cbOnceOwnerUnbindFocusedVisualChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindFocusedVisualChange[s])&&r()}this.__cbOnceOwnerUnbindFocusedVisualChange=null}this.__cbOnFocusedVisualChange=null,this.__cbOnceFocusedVisualChange=null}},listensFocusedVisualChange:function(){return null!=this.__cbOnFocusedVisualChange&&this.__cbOnFocusedVisualChange.length>0||null!=this.__cbOnceFocusedVisualChange&&this.__cbOnceFocusedVisualChange.length>0},set_unobservedFocusedVisual:function(e){if(this.unobservedFocusedVisual==e)return e;var n=this.unobservedFocusedVisual;return this.unobservedFocusedVisual=e,null!=n&&(this.emitBlur(n),n.emitBlur()),null!=e&&(this.emitFocus(e),e.emitFocus()),e},get_texturesDensity:function(){var e=this.unobservedTexturesDensity;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.texturesDensityAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.texturesDensityAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_texturesDensity:function(e){var n=this.unobservedTexturesDensity;if(this.unobservedTexturesDensity=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTexturesDensityChange(e,n);var t=this.texturesDensityAutoruns;if(null!=t){this.texturesDensityAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateTexturesDensity:function(){var e=this.unobservedTexturesDensity;this.emitTexturesDensityChange(e,e);var n=this.texturesDensityAutoruns;if(null!=n){this.texturesDensityAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitTexturesDensityChange:function(e,n){var t=0;if(null!=this.__cbOnTexturesDensityChange&&(t+=this.__cbOnTexturesDensityChange.length),null!=this.__cbOnceTexturesDensityChange&&(t+=this.__cbOnceTexturesDensityChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnTexturesDensityChange)for(var l=0,a=this.__cbOnTexturesDensityChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnTexturesDensityChange[o],++r):--t}if(null!=this.__cbOnceTexturesDensityChange){var h=null,c=null;for(l=0,a=this.__cbOnceTexturesDensityChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceTexturesDensityChange[o],this.__cbOnceTexturesDensityChange[o]=null;var u=this.__cbOnceOwnerUnbindTexturesDensityChange[o];this.__cbOnceOwnerUnbindTexturesDensityChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindTexturesDensityChange[o]),c.push(this.__cbOnceTexturesDensityChange[o])}this.__cbOnceOwnerUnbindTexturesDensityChange=h,this.__cbOnceTexturesDensityChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onTexturesDensityChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event texturesDensityChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTexturesDensityChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTexturesDensityChange&&(this.__cbOnOwnerUnbindTexturesDensityChange=[]),this.__cbOnOwnerUnbindTexturesDensityChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTexturesDensityChange&&(this.__cbOnOwnerUnbindTexturesDensityChange=[]),this.__cbOnOwnerUnbindTexturesDensityChange.push(null);null==this.__cbOnTexturesDensityChange&&(this.__cbOnTexturesDensityChange=[]),this.__cbOnTexturesDensityChange.push(n)},onceTexturesDensityChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event texturesDensityChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTexturesDensityChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTexturesDensityChange&&(this.__cbOnceOwnerUnbindTexturesDensityChange=[]),this.__cbOnceOwnerUnbindTexturesDensityChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTexturesDensityChange&&(this.__cbOnceOwnerUnbindTexturesDensityChange=[]),this.__cbOnceOwnerUnbindTexturesDensityChange.push(null);null==this.__cbOnceTexturesDensityChange&&(this.__cbOnceTexturesDensityChange=[]),this.__cbOnceTexturesDensityChange.push(n)},offTexturesDensityChange:function(e){if(null!=e){var n;null!=this.__cbOnTexturesDensityChange&&-1!=(n=this.__cbOnTexturesDensityChange.indexOf(e))&&(this.__cbOnTexturesDensityChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTexturesDensityChange[n])&&r(),this.__cbOnOwnerUnbindTexturesDensityChange.splice(n,1)),null!=this.__cbOnceTexturesDensityChange&&-1!=(n=this.__cbOnceTexturesDensityChange.indexOf(e))&&(this.__cbOnceTexturesDensityChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTexturesDensityChange[n])&&r(),this.__cbOnceOwnerUnbindTexturesDensityChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTexturesDensityChange){for(var t=0,i=this.__cbOnOwnerUnbindTexturesDensityChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTexturesDensityChange[s])&&r()}this.__cbOnOwnerUnbindTexturesDensityChange=null}if(null!=this.__cbOnceOwnerUnbindTexturesDensityChange){for(t=0,i=this.__cbOnceOwnerUnbindTexturesDensityChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTexturesDensityChange[s])&&r()}this.__cbOnceOwnerUnbindTexturesDensityChange=null}this.__cbOnTexturesDensityChange=null,this.__cbOnceTexturesDensityChange=null}},listensTexturesDensityChange:function(){return null!=this.__cbOnTexturesDensityChange&&this.__cbOnTexturesDensityChange.length>0||null!=this.__cbOnceTexturesDensityChange&&this.__cbOnceTexturesDensityChange.length>0},get_isPointerDown:function(){return this._numPointerDown>0},emitResize:function(){var e=0;if(null!=this.__cbOnResize&&(e+=this.__cbOnResize.length),null!=this.__cbOnceResize&&(e+=this.__cbOnceResize.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnResize)for(var s=0,r=this.__cbOnResize.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnResize[l],++i):--e}if(null!=this.__cbOnceResize){var a=null,o=null;for(s=0,r=this.__cbOnceResize.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceResize[l],this.__cbOnceResize[l]=null;var h=this.__cbOnceOwnerUnbindResize[l];this.__cbOnceOwnerUnbindResize[l]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],o=[],[]),a.push(this.__cbOnceOwnerUnbindResize[l]),o.push(this.__cbOnceResize[l])}this.__cbOnceOwnerUnbindResize=a,this.__cbOnceResize=o}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onResize:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event resize because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offResize(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindResize&&(this.__cbOnOwnerUnbindResize=[]),this.__cbOnOwnerUnbindResize.push(null);null==this.__cbOnResize&&(this.__cbOnResize=[]),this.__cbOnResize.push(n)},onceResize:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event resize because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offResize(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindResize&&(this.__cbOnceOwnerUnbindResize=[]),this.__cbOnceOwnerUnbindResize.push(null);null==this.__cbOnceResize&&(this.__cbOnceResize=[]),this.__cbOnceResize.push(n)},offResize:function(e){if(null!=e){var n;null!=this.__cbOnResize&&-1!=(n=this.__cbOnResize.indexOf(e))&&(this.__cbOnResize.splice(n,1),null!=(r=this.__cbOnOwnerUnbindResize[n])&&r(),this.__cbOnOwnerUnbindResize.splice(n,1)),null!=this.__cbOnceResize&&-1!=(n=this.__cbOnceResize.indexOf(e))&&(this.__cbOnceResize.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindResize[n])&&r(),this.__cbOnceOwnerUnbindResize.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindResize){for(var t=0,i=this.__cbOnOwnerUnbindResize.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindResize[s])&&r()}this.__cbOnOwnerUnbindResize=null}if(null!=this.__cbOnceOwnerUnbindResize){for(t=0,i=this.__cbOnceOwnerUnbindResize.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindResize[s])&&r()}this.__cbOnceOwnerUnbindResize=null}this.__cbOnResize=null,this.__cbOnceResize=null}},listensResize:function(){return null!=this.__cbOnResize&&this.__cbOnResize.length>0||null!=this.__cbOnceResize&&this.__cbOnceResize.length>0},emitMouseDown:function(e,n,t){this.willEmitMouseDown(e,n,t);var i=0;if(null!=this.__cbOnMouseDown&&(i+=this.__cbOnMouseDown.length),null!=this.__cbOnceMouseDown&&(i+=this.__cbOnceMouseDown.length),i>0){var s=ceramic_ArrayPool.pool(i),r=s.get(),l=0;if(null!=this.__cbOnMouseDown)for(var a=0,o=this.__cbOnMouseDown.length;a<o;){var h=a++;!0?(r.vector[l]=this.__cbOnMouseDown[h],++l):--i}if(null!=this.__cbOnceMouseDown){var c=null,u=null;for(a=0,o=this.__cbOnceMouseDown.length;a<o;){h=a++;if(!0){r.vector[l]=this.__cbOnceMouseDown[h],this.__cbOnceMouseDown[h]=null;var _=this.__cbOnceOwnerUnbindMouseDown[h];this.__cbOnceOwnerUnbindMouseDown[h]=null,null!=_&&_(),++l}else--i,null==c&&(c=[],u=[],[]),c.push(this.__cbOnceOwnerUnbindMouseDown[h]),u.push(this.__cbOnceMouseDown[h])}this.__cbOnceOwnerUnbindMouseDown=c,this.__cbOnceMouseDown=u}for(a=0,o=i;a<o;){l=a++;(0,r.vector[l])(e,n,t)}s.release(r),r=null}var d=this.matchFirstDownListener(n,t,-1,e);null!=d&&(d._numPointerDown++,(1==d._numPointerDown||d.multiTouch)&&(ceramic_App.app.screen.set_focusedVisual(d),d.emitPointerDown(new ceramic_TouchInfo(-1,e,n,t,!0))));var f=1e4+e;this.matchedDownListeners.h[f]=d},onMouseDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMouseDown&&(this.__cbOnOwnerUnbindMouseDown=[]),this.__cbOnOwnerUnbindMouseDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMouseDown&&(this.__cbOnOwnerUnbindMouseDown=[]),this.__cbOnOwnerUnbindMouseDown.push(null);null==this.__cbOnMouseDown&&(this.__cbOnMouseDown=[]),this.__cbOnMouseDown.push(n)},onceMouseDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMouseDown&&(this.__cbOnceOwnerUnbindMouseDown=[]),this.__cbOnceOwnerUnbindMouseDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMouseDown&&(this.__cbOnceOwnerUnbindMouseDown=[]),this.__cbOnceOwnerUnbindMouseDown.push(null);null==this.__cbOnceMouseDown&&(this.__cbOnceMouseDown=[]),this.__cbOnceMouseDown.push(n)},offMouseDown:function(e){if(null!=e){var n;null!=this.__cbOnMouseDown&&-1!=(n=this.__cbOnMouseDown.indexOf(e))&&(this.__cbOnMouseDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMouseDown[n])&&r(),this.__cbOnOwnerUnbindMouseDown.splice(n,1)),null!=this.__cbOnceMouseDown&&-1!=(n=this.__cbOnceMouseDown.indexOf(e))&&(this.__cbOnceMouseDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMouseDown[n])&&r(),this.__cbOnceOwnerUnbindMouseDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseDown){for(var t=0,i=this.__cbOnOwnerUnbindMouseDown.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindMouseDown[s])&&r()}this.__cbOnOwnerUnbindMouseDown=null}if(null!=this.__cbOnceOwnerUnbindMouseDown){for(t=0,i=this.__cbOnceOwnerUnbindMouseDown.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindMouseDown[s])&&r()}this.__cbOnceOwnerUnbindMouseDown=null}this.__cbOnMouseDown=null,this.__cbOnceMouseDown=null}},listensMouseDown:function(){return null!=this.__cbOnMouseDown&&this.__cbOnMouseDown.length>0||null!=this.__cbOnceMouseDown&&this.__cbOnceMouseDown.length>0},emitMouseUp:function(e,n,t){this.willEmitMouseUp(e,n,t);var i=0;if(null!=this.__cbOnMouseUp&&(i+=this.__cbOnMouseUp.length),null!=this.__cbOnceMouseUp&&(i+=this.__cbOnceMouseUp.length),i>0){var s=ceramic_ArrayPool.pool(i),r=s.get(),l=0;if(null!=this.__cbOnMouseUp)for(var a=0,o=this.__cbOnMouseUp.length;a<o;){var h=a++;!0?(r.vector[l]=this.__cbOnMouseUp[h],++l):--i}if(null!=this.__cbOnceMouseUp){var c=null,u=null;for(a=0,o=this.__cbOnceMouseUp.length;a<o;){h=a++;if(!0){r.vector[l]=this.__cbOnceMouseUp[h],this.__cbOnceMouseUp[h]=null;var _=this.__cbOnceOwnerUnbindMouseUp[h];this.__cbOnceOwnerUnbindMouseUp[h]=null,null!=_&&_(),++l}else--i,null==c&&(c=[],u=[],[]),c.push(this.__cbOnceOwnerUnbindMouseUp[h]),u.push(this.__cbOnceMouseUp[h])}this.__cbOnceOwnerUnbindMouseUp=c,this.__cbOnceMouseUp=u}for(a=0,o=i;a<o;){l=a++;(0,r.vector[l])(e,n,t)}s.release(r),r=null}var d=1e4+e,f=this.matchedDownListeners.h[d];null!=f&&f._lifecycleState>=0&&f._numPointerDown>0&&(f._numPointerDown--,(0==f._numPointerDown||f.multiTouch)&&f.emitPointerUp(new ceramic_TouchInfo(-1,e,n,t,f._hits(n,t,!1)))),this.matchedDownListeners.remove(d)},onMouseUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMouseUp&&(this.__cbOnOwnerUnbindMouseUp=[]),this.__cbOnOwnerUnbindMouseUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMouseUp&&(this.__cbOnOwnerUnbindMouseUp=[]),this.__cbOnOwnerUnbindMouseUp.push(null);null==this.__cbOnMouseUp&&(this.__cbOnMouseUp=[]),this.__cbOnMouseUp.push(n)},onceMouseUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMouseUp&&(this.__cbOnceOwnerUnbindMouseUp=[]),this.__cbOnceOwnerUnbindMouseUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMouseUp&&(this.__cbOnceOwnerUnbindMouseUp=[]),this.__cbOnceOwnerUnbindMouseUp.push(null);null==this.__cbOnceMouseUp&&(this.__cbOnceMouseUp=[]),this.__cbOnceMouseUp.push(n)},offMouseUp:function(e){if(null!=e){var n;null!=this.__cbOnMouseUp&&-1!=(n=this.__cbOnMouseUp.indexOf(e))&&(this.__cbOnMouseUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMouseUp[n])&&r(),this.__cbOnOwnerUnbindMouseUp.splice(n,1)),null!=this.__cbOnceMouseUp&&-1!=(n=this.__cbOnceMouseUp.indexOf(e))&&(this.__cbOnceMouseUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMouseUp[n])&&r(),this.__cbOnceOwnerUnbindMouseUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseUp){for(var t=0,i=this.__cbOnOwnerUnbindMouseUp.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindMouseUp[s])&&r()}this.__cbOnOwnerUnbindMouseUp=null}if(null!=this.__cbOnceOwnerUnbindMouseUp){for(t=0,i=this.__cbOnceOwnerUnbindMouseUp.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindMouseUp[s])&&r()}this.__cbOnceOwnerUnbindMouseUp=null}this.__cbOnMouseUp=null,this.__cbOnceMouseUp=null}},listensMouseUp:function(){return null!=this.__cbOnMouseUp&&this.__cbOnMouseUp.length>0||null!=this.__cbOnceMouseUp&&this.__cbOnceMouseUp.length>0},emitMouseWheel:function(e,n){this.willEmitMouseWheel(e,n);var t=0;if(null!=this.__cbOnMouseWheel&&(t+=this.__cbOnMouseWheel.length),null!=this.__cbOnceMouseWheel&&(t+=this.__cbOnceMouseWheel.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnMouseWheel)for(var l=0,a=this.__cbOnMouseWheel.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnMouseWheel[o],++r):--t}if(null!=this.__cbOnceMouseWheel){var h=null,c=null;for(l=0,a=this.__cbOnceMouseWheel.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceMouseWheel[o],this.__cbOnceMouseWheel[o]=null;var u=this.__cbOnceOwnerUnbindMouseWheel[o];this.__cbOnceOwnerUnbindMouseWheel[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindMouseWheel[o]),c.push(this.__cbOnceMouseWheel[o])}this.__cbOnceOwnerUnbindMouseWheel=h,this.__cbOnceMouseWheel=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onMouseWheel:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseWheel because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseWheel(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMouseWheel&&(this.__cbOnOwnerUnbindMouseWheel=[]),this.__cbOnOwnerUnbindMouseWheel.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMouseWheel&&(this.__cbOnOwnerUnbindMouseWheel=[]),this.__cbOnOwnerUnbindMouseWheel.push(null);null==this.__cbOnMouseWheel&&(this.__cbOnMouseWheel=[]),this.__cbOnMouseWheel.push(n)},onceMouseWheel:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseWheel because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseWheel(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMouseWheel&&(this.__cbOnceOwnerUnbindMouseWheel=[]),this.__cbOnceOwnerUnbindMouseWheel.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMouseWheel&&(this.__cbOnceOwnerUnbindMouseWheel=[]),this.__cbOnceOwnerUnbindMouseWheel.push(null);null==this.__cbOnceMouseWheel&&(this.__cbOnceMouseWheel=[]),this.__cbOnceMouseWheel.push(n)},offMouseWheel:function(e){if(null!=e){var n;null!=this.__cbOnMouseWheel&&-1!=(n=this.__cbOnMouseWheel.indexOf(e))&&(this.__cbOnMouseWheel.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMouseWheel[n])&&r(),this.__cbOnOwnerUnbindMouseWheel.splice(n,1)),null!=this.__cbOnceMouseWheel&&-1!=(n=this.__cbOnceMouseWheel.indexOf(e))&&(this.__cbOnceMouseWheel.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMouseWheel[n])&&r(),this.__cbOnceOwnerUnbindMouseWheel.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseWheel){for(var t=0,i=this.__cbOnOwnerUnbindMouseWheel.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindMouseWheel[s])&&r()}this.__cbOnOwnerUnbindMouseWheel=null}if(null!=this.__cbOnceOwnerUnbindMouseWheel){for(t=0,i=this.__cbOnceOwnerUnbindMouseWheel.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindMouseWheel[s])&&r()}this.__cbOnceOwnerUnbindMouseWheel=null}this.__cbOnMouseWheel=null,this.__cbOnceMouseWheel=null}},listensMouseWheel:function(){return null!=this.__cbOnMouseWheel&&this.__cbOnMouseWheel.length>0||null!=this.__cbOnceMouseWheel&&this.__cbOnceMouseWheel.length>0},emitMouseMove:function(e,n){this.willEmitMouseMove(e,n);var t=0;if(null!=this.__cbOnMouseMove&&(t+=this.__cbOnMouseMove.length),null!=this.__cbOnceMouseMove&&(t+=this.__cbOnceMouseMove.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnMouseMove)for(var l=0,a=this.__cbOnMouseMove.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnMouseMove[o],++r):--t}if(null!=this.__cbOnceMouseMove){var h=null,c=null;for(l=0,a=this.__cbOnceMouseMove.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceMouseMove[o],this.__cbOnceMouseMove[o]=null;var u=this.__cbOnceOwnerUnbindMouseMove[o];this.__cbOnceOwnerUnbindMouseMove[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindMouseMove[o]),c.push(this.__cbOnceMouseMove[o])}this.__cbOnceOwnerUnbindMouseMove=h,this.__cbOnceMouseMove=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onMouseMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMouseMove&&(this.__cbOnOwnerUnbindMouseMove=[]),this.__cbOnOwnerUnbindMouseMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMouseMove&&(this.__cbOnOwnerUnbindMouseMove=[]),this.__cbOnOwnerUnbindMouseMove.push(null);null==this.__cbOnMouseMove&&(this.__cbOnMouseMove=[]),this.__cbOnMouseMove.push(n)},onceMouseMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event mouseMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMouseMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMouseMove&&(this.__cbOnceOwnerUnbindMouseMove=[]),this.__cbOnceOwnerUnbindMouseMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMouseMove&&(this.__cbOnceOwnerUnbindMouseMove=[]),this.__cbOnceOwnerUnbindMouseMove.push(null);null==this.__cbOnceMouseMove&&(this.__cbOnceMouseMove=[]),this.__cbOnceMouseMove.push(n)},offMouseMove:function(e){if(null!=e){var n;null!=this.__cbOnMouseMove&&-1!=(n=this.__cbOnMouseMove.indexOf(e))&&(this.__cbOnMouseMove.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMouseMove[n])&&r(),this.__cbOnOwnerUnbindMouseMove.splice(n,1)),null!=this.__cbOnceMouseMove&&-1!=(n=this.__cbOnceMouseMove.indexOf(e))&&(this.__cbOnceMouseMove.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMouseMove[n])&&r(),this.__cbOnceOwnerUnbindMouseMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMouseMove){for(var t=0,i=this.__cbOnOwnerUnbindMouseMove.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindMouseMove[s])&&r()}this.__cbOnOwnerUnbindMouseMove=null}if(null!=this.__cbOnceOwnerUnbindMouseMove){for(t=0,i=this.__cbOnceOwnerUnbindMouseMove.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindMouseMove[s])&&r()}this.__cbOnceOwnerUnbindMouseMove=null}this.__cbOnMouseMove=null,this.__cbOnceMouseMove=null}},listensMouseMove:function(){return null!=this.__cbOnMouseMove&&this.__cbOnMouseMove.length>0||null!=this.__cbOnceMouseMove&&this.__cbOnceMouseMove.length>0},emitTouchDown:function(e,n,t){this.willEmitTouchDown(e,n,t);var i=0;if(null!=this.__cbOnTouchDown&&(i+=this.__cbOnTouchDown.length),null!=this.__cbOnceTouchDown&&(i+=this.__cbOnceTouchDown.length),i>0){var s=ceramic_ArrayPool.pool(i),r=s.get(),l=0;if(null!=this.__cbOnTouchDown)for(var a=0,o=this.__cbOnTouchDown.length;a<o;){var h=a++;!0?(r.vector[l]=this.__cbOnTouchDown[h],++l):--i}if(null!=this.__cbOnceTouchDown){var c=null,u=null;for(a=0,o=this.__cbOnceTouchDown.length;a<o;){h=a++;if(!0){r.vector[l]=this.__cbOnceTouchDown[h],this.__cbOnceTouchDown[h]=null;var _=this.__cbOnceOwnerUnbindTouchDown[h];this.__cbOnceOwnerUnbindTouchDown[h]=null,null!=_&&_(),++l}else--i,null==c&&(c=[],u=[],[]),c.push(this.__cbOnceOwnerUnbindTouchDown[h]),u.push(this.__cbOnceTouchDown[h])}this.__cbOnceOwnerUnbindTouchDown=c,this.__cbOnceTouchDown=u}for(a=0,o=i;a<o;){l=a++;(0,r.vector[l])(e,n,t)}s.release(r),r=null}var d=this.matchFirstDownListener(n,t,e,-1);null!=d&&(d._numPointerDown++,(1==d._numPointerDown||d.multiTouch)&&(ceramic_App.app.screen.set_focusedVisual(d),d.emitPointerDown(new ceramic_TouchInfo(e,-1,n,t,!0))));var f=2e4+e;this.matchedDownListeners.h[f]=d},onTouchDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTouchDown&&(this.__cbOnOwnerUnbindTouchDown=[]),this.__cbOnOwnerUnbindTouchDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTouchDown&&(this.__cbOnOwnerUnbindTouchDown=[]),this.__cbOnOwnerUnbindTouchDown.push(null);null==this.__cbOnTouchDown&&(this.__cbOnTouchDown=[]),this.__cbOnTouchDown.push(n)},onceTouchDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTouchDown&&(this.__cbOnceOwnerUnbindTouchDown=[]),this.__cbOnceOwnerUnbindTouchDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTouchDown&&(this.__cbOnceOwnerUnbindTouchDown=[]),this.__cbOnceOwnerUnbindTouchDown.push(null);null==this.__cbOnceTouchDown&&(this.__cbOnceTouchDown=[]),this.__cbOnceTouchDown.push(n)},offTouchDown:function(e){if(null!=e){var n;null!=this.__cbOnTouchDown&&-1!=(n=this.__cbOnTouchDown.indexOf(e))&&(this.__cbOnTouchDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTouchDown[n])&&r(),this.__cbOnOwnerUnbindTouchDown.splice(n,1)),null!=this.__cbOnceTouchDown&&-1!=(n=this.__cbOnceTouchDown.indexOf(e))&&(this.__cbOnceTouchDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTouchDown[n])&&r(),this.__cbOnceOwnerUnbindTouchDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchDown){for(var t=0,i=this.__cbOnOwnerUnbindTouchDown.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTouchDown[s])&&r()}this.__cbOnOwnerUnbindTouchDown=null}if(null!=this.__cbOnceOwnerUnbindTouchDown){for(t=0,i=this.__cbOnceOwnerUnbindTouchDown.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTouchDown[s])&&r()}this.__cbOnceOwnerUnbindTouchDown=null}this.__cbOnTouchDown=null,this.__cbOnceTouchDown=null}},listensTouchDown:function(){return null!=this.__cbOnTouchDown&&this.__cbOnTouchDown.length>0||null!=this.__cbOnceTouchDown&&this.__cbOnceTouchDown.length>0},emitTouchUp:function(e,n,t){this.willEmitTouchUp(e,n,t);var i=0;if(null!=this.__cbOnTouchUp&&(i+=this.__cbOnTouchUp.length),null!=this.__cbOnceTouchUp&&(i+=this.__cbOnceTouchUp.length),i>0){var s=ceramic_ArrayPool.pool(i),r=s.get(),l=0;if(null!=this.__cbOnTouchUp)for(var a=0,o=this.__cbOnTouchUp.length;a<o;){var h=a++;!0?(r.vector[l]=this.__cbOnTouchUp[h],++l):--i}if(null!=this.__cbOnceTouchUp){var c=null,u=null;for(a=0,o=this.__cbOnceTouchUp.length;a<o;){h=a++;if(!0){r.vector[l]=this.__cbOnceTouchUp[h],this.__cbOnceTouchUp[h]=null;var _=this.__cbOnceOwnerUnbindTouchUp[h];this.__cbOnceOwnerUnbindTouchUp[h]=null,null!=_&&_(),++l}else--i,null==c&&(c=[],u=[],[]),c.push(this.__cbOnceOwnerUnbindTouchUp[h]),u.push(this.__cbOnceTouchUp[h])}this.__cbOnceOwnerUnbindTouchUp=c,this.__cbOnceTouchUp=u}for(a=0,o=i;a<o;){l=a++;(0,r.vector[l])(e,n,t)}s.release(r),r=null}var d=2e4+e,f=this.matchedDownListeners.h[d];null!=f&&f._lifecycleState>=0&&f._numPointerDown>0&&(f._numPointerDown--,(0==f._numPointerDown||f.multiTouch)&&f.emitPointerUp(new ceramic_TouchInfo(e,-1,n,t,f._hits(n,t,!1)))),this.matchedDownListeners.remove(d)},onTouchUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTouchUp&&(this.__cbOnOwnerUnbindTouchUp=[]),this.__cbOnOwnerUnbindTouchUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTouchUp&&(this.__cbOnOwnerUnbindTouchUp=[]),this.__cbOnOwnerUnbindTouchUp.push(null);null==this.__cbOnTouchUp&&(this.__cbOnTouchUp=[]),this.__cbOnTouchUp.push(n)},onceTouchUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTouchUp&&(this.__cbOnceOwnerUnbindTouchUp=[]),this.__cbOnceOwnerUnbindTouchUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTouchUp&&(this.__cbOnceOwnerUnbindTouchUp=[]),this.__cbOnceOwnerUnbindTouchUp.push(null);null==this.__cbOnceTouchUp&&(this.__cbOnceTouchUp=[]),this.__cbOnceTouchUp.push(n)},offTouchUp:function(e){if(null!=e){var n;null!=this.__cbOnTouchUp&&-1!=(n=this.__cbOnTouchUp.indexOf(e))&&(this.__cbOnTouchUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTouchUp[n])&&r(),this.__cbOnOwnerUnbindTouchUp.splice(n,1)),null!=this.__cbOnceTouchUp&&-1!=(n=this.__cbOnceTouchUp.indexOf(e))&&(this.__cbOnceTouchUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTouchUp[n])&&r(),this.__cbOnceOwnerUnbindTouchUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchUp){for(var t=0,i=this.__cbOnOwnerUnbindTouchUp.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTouchUp[s])&&r()}this.__cbOnOwnerUnbindTouchUp=null}if(null!=this.__cbOnceOwnerUnbindTouchUp){for(t=0,i=this.__cbOnceOwnerUnbindTouchUp.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTouchUp[s])&&r()}this.__cbOnceOwnerUnbindTouchUp=null}this.__cbOnTouchUp=null,this.__cbOnceTouchUp=null}},listensTouchUp:function(){return null!=this.__cbOnTouchUp&&this.__cbOnTouchUp.length>0||null!=this.__cbOnceTouchUp&&this.__cbOnceTouchUp.length>0},emitTouchMove:function(e,n,t){this.willEmitTouchMove(e,n,t);var i=0;if(null!=this.__cbOnTouchMove&&(i+=this.__cbOnTouchMove.length),null!=this.__cbOnceTouchMove&&(i+=this.__cbOnceTouchMove.length),i>0){var s=ceramic_ArrayPool.pool(i),r=s.get(),l=0;if(null!=this.__cbOnTouchMove)for(var a=0,o=this.__cbOnTouchMove.length;a<o;){var h=a++;!0?(r.vector[l]=this.__cbOnTouchMove[h],++l):--i}if(null!=this.__cbOnceTouchMove){var c=null,u=null;for(a=0,o=this.__cbOnceTouchMove.length;a<o;){h=a++;if(!0){r.vector[l]=this.__cbOnceTouchMove[h],this.__cbOnceTouchMove[h]=null;var _=this.__cbOnceOwnerUnbindTouchMove[h];this.__cbOnceOwnerUnbindTouchMove[h]=null,null!=_&&_(),++l}else--i,null==c&&(c=[],u=[],[]),c.push(this.__cbOnceOwnerUnbindTouchMove[h]),u.push(this.__cbOnceTouchMove[h])}this.__cbOnceOwnerUnbindTouchMove=c,this.__cbOnceTouchMove=u}for(a=0,o=i;a<o;){l=a++;(0,r.vector[l])(e,n,t)}s.release(r),r=null}},onTouchMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTouchMove&&(this.__cbOnOwnerUnbindTouchMove=[]),this.__cbOnOwnerUnbindTouchMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTouchMove&&(this.__cbOnOwnerUnbindTouchMove=[]),this.__cbOnOwnerUnbindTouchMove.push(null);null==this.__cbOnTouchMove&&(this.__cbOnTouchMove=[]),this.__cbOnTouchMove.push(n)},onceTouchMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event touchMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTouchMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTouchMove&&(this.__cbOnceOwnerUnbindTouchMove=[]),this.__cbOnceOwnerUnbindTouchMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTouchMove&&(this.__cbOnceOwnerUnbindTouchMove=[]),this.__cbOnceOwnerUnbindTouchMove.push(null);null==this.__cbOnceTouchMove&&(this.__cbOnceTouchMove=[]),this.__cbOnceTouchMove.push(n)},offTouchMove:function(e){if(null!=e){var n;null!=this.__cbOnTouchMove&&-1!=(n=this.__cbOnTouchMove.indexOf(e))&&(this.__cbOnTouchMove.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTouchMove[n])&&r(),this.__cbOnOwnerUnbindTouchMove.splice(n,1)),null!=this.__cbOnceTouchMove&&-1!=(n=this.__cbOnceTouchMove.indexOf(e))&&(this.__cbOnceTouchMove.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTouchMove[n])&&r(),this.__cbOnceOwnerUnbindTouchMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTouchMove){for(var t=0,i=this.__cbOnOwnerUnbindTouchMove.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTouchMove[s])&&r()}this.__cbOnOwnerUnbindTouchMove=null}if(null!=this.__cbOnceOwnerUnbindTouchMove){for(t=0,i=this.__cbOnceOwnerUnbindTouchMove.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTouchMove[s])&&r()}this.__cbOnceOwnerUnbindTouchMove=null}this.__cbOnTouchMove=null,this.__cbOnceTouchMove=null}},listensTouchMove:function(){return null!=this.__cbOnTouchMove&&this.__cbOnTouchMove.length>0||null!=this.__cbOnceTouchMove&&this.__cbOnceTouchMove.length>0},emitPointerDown:function(e){var n=0;if(null!=this.__cbOnPointerDown&&(n+=this.__cbOnPointerDown.length),null!=this.__cbOncePointerDown&&(n+=this.__cbOncePointerDown.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnPointerDown)for(var r=0,l=this.__cbOnPointerDown.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnPointerDown[a],++s):--n}if(null!=this.__cbOncePointerDown){var o=null,h=null;for(r=0,l=this.__cbOncePointerDown.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOncePointerDown[a],this.__cbOncePointerDown[a]=null;var c=this.__cbOnceOwnerUnbindPointerDown[a];this.__cbOnceOwnerUnbindPointerDown[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindPointerDown[a]),h.push(this.__cbOncePointerDown[a])}this.__cbOnceOwnerUnbindPointerDown=o,this.__cbOncePointerDown=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onPointerDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindPointerDown&&(this.__cbOnOwnerUnbindPointerDown=[]),this.__cbOnOwnerUnbindPointerDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindPointerDown&&(this.__cbOnOwnerUnbindPointerDown=[]),this.__cbOnOwnerUnbindPointerDown.push(null);null==this.__cbOnPointerDown&&(this.__cbOnPointerDown=[]),this.__cbOnPointerDown.push(n)},oncePointerDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindPointerDown&&(this.__cbOnceOwnerUnbindPointerDown=[]),this.__cbOnceOwnerUnbindPointerDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindPointerDown&&(this.__cbOnceOwnerUnbindPointerDown=[]),this.__cbOnceOwnerUnbindPointerDown.push(null);null==this.__cbOncePointerDown&&(this.__cbOncePointerDown=[]),this.__cbOncePointerDown.push(n)},offPointerDown:function(e){if(null!=e){var n;null!=this.__cbOnPointerDown&&-1!=(n=this.__cbOnPointerDown.indexOf(e))&&(this.__cbOnPointerDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPointerDown[n])&&r(),this.__cbOnOwnerUnbindPointerDown.splice(n,1)),null!=this.__cbOncePointerDown&&-1!=(n=this.__cbOncePointerDown.indexOf(e))&&(this.__cbOncePointerDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPointerDown[n])&&r(),this.__cbOnceOwnerUnbindPointerDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerDown){for(var t=0,i=this.__cbOnOwnerUnbindPointerDown.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindPointerDown[s])&&r()}this.__cbOnOwnerUnbindPointerDown=null}if(null!=this.__cbOnceOwnerUnbindPointerDown){for(t=0,i=this.__cbOnceOwnerUnbindPointerDown.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindPointerDown[s])&&r()}this.__cbOnceOwnerUnbindPointerDown=null}this.__cbOnPointerDown=null,this.__cbOncePointerDown=null}},listensPointerDown:function(){return null!=this.__cbOnPointerDown&&this.__cbOnPointerDown.length>0||null!=this.__cbOncePointerDown&&this.__cbOncePointerDown.length>0},emitPointerUp:function(e){var n=0;if(null!=this.__cbOnPointerUp&&(n+=this.__cbOnPointerUp.length),null!=this.__cbOncePointerUp&&(n+=this.__cbOncePointerUp.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnPointerUp)for(var r=0,l=this.__cbOnPointerUp.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnPointerUp[a],++s):--n}if(null!=this.__cbOncePointerUp){var o=null,h=null;for(r=0,l=this.__cbOncePointerUp.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOncePointerUp[a],this.__cbOncePointerUp[a]=null;var c=this.__cbOnceOwnerUnbindPointerUp[a];this.__cbOnceOwnerUnbindPointerUp[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindPointerUp[a]),h.push(this.__cbOncePointerUp[a])}this.__cbOnceOwnerUnbindPointerUp=o,this.__cbOncePointerUp=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onPointerUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindPointerUp&&(this.__cbOnOwnerUnbindPointerUp=[]),this.__cbOnOwnerUnbindPointerUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindPointerUp&&(this.__cbOnOwnerUnbindPointerUp=[]),this.__cbOnOwnerUnbindPointerUp.push(null);null==this.__cbOnPointerUp&&(this.__cbOnPointerUp=[]),this.__cbOnPointerUp.push(n)},oncePointerUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindPointerUp&&(this.__cbOnceOwnerUnbindPointerUp=[]),this.__cbOnceOwnerUnbindPointerUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindPointerUp&&(this.__cbOnceOwnerUnbindPointerUp=[]),this.__cbOnceOwnerUnbindPointerUp.push(null);null==this.__cbOncePointerUp&&(this.__cbOncePointerUp=[]),this.__cbOncePointerUp.push(n)},offPointerUp:function(e){if(null!=e){var n;null!=this.__cbOnPointerUp&&-1!=(n=this.__cbOnPointerUp.indexOf(e))&&(this.__cbOnPointerUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPointerUp[n])&&r(),this.__cbOnOwnerUnbindPointerUp.splice(n,1)),null!=this.__cbOncePointerUp&&-1!=(n=this.__cbOncePointerUp.indexOf(e))&&(this.__cbOncePointerUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPointerUp[n])&&r(),this.__cbOnceOwnerUnbindPointerUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerUp){for(var t=0,i=this.__cbOnOwnerUnbindPointerUp.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindPointerUp[s])&&r()}this.__cbOnOwnerUnbindPointerUp=null}if(null!=this.__cbOnceOwnerUnbindPointerUp){for(t=0,i=this.__cbOnceOwnerUnbindPointerUp.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindPointerUp[s])&&r()}this.__cbOnceOwnerUnbindPointerUp=null}this.__cbOnPointerUp=null,this.__cbOncePointerUp=null}},listensPointerUp:function(){return null!=this.__cbOnPointerUp&&this.__cbOnPointerUp.length>0||null!=this.__cbOncePointerUp&&this.__cbOncePointerUp.length>0},emitPointerMove:function(e){var n=0;if(null!=this.__cbOnPointerMove&&(n+=this.__cbOnPointerMove.length),null!=this.__cbOncePointerMove&&(n+=this.__cbOncePointerMove.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnPointerMove)for(var r=0,l=this.__cbOnPointerMove.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnPointerMove[a],++s):--n}if(null!=this.__cbOncePointerMove){var o=null,h=null;for(r=0,l=this.__cbOncePointerMove.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOncePointerMove[a],this.__cbOncePointerMove[a]=null;var c=this.__cbOnceOwnerUnbindPointerMove[a];this.__cbOnceOwnerUnbindPointerMove[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindPointerMove[a]),h.push(this.__cbOncePointerMove[a])}this.__cbOnceOwnerUnbindPointerMove=o,this.__cbOncePointerMove=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onPointerMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindPointerMove&&(this.__cbOnOwnerUnbindPointerMove=[]),this.__cbOnOwnerUnbindPointerMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindPointerMove&&(this.__cbOnOwnerUnbindPointerMove=[]),this.__cbOnOwnerUnbindPointerMove.push(null);null==this.__cbOnPointerMove&&(this.__cbOnPointerMove=[]),this.__cbOnPointerMove.push(n)},oncePointerMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event pointerMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPointerMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindPointerMove&&(this.__cbOnceOwnerUnbindPointerMove=[]),this.__cbOnceOwnerUnbindPointerMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindPointerMove&&(this.__cbOnceOwnerUnbindPointerMove=[]),this.__cbOnceOwnerUnbindPointerMove.push(null);null==this.__cbOncePointerMove&&(this.__cbOncePointerMove=[]),this.__cbOncePointerMove.push(n)},offPointerMove:function(e){if(null!=e){var n;null!=this.__cbOnPointerMove&&-1!=(n=this.__cbOnPointerMove.indexOf(e))&&(this.__cbOnPointerMove.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPointerMove[n])&&r(),this.__cbOnOwnerUnbindPointerMove.splice(n,1)),null!=this.__cbOncePointerMove&&-1!=(n=this.__cbOncePointerMove.indexOf(e))&&(this.__cbOncePointerMove.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPointerMove[n])&&r(),this.__cbOnceOwnerUnbindPointerMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPointerMove){for(var t=0,i=this.__cbOnOwnerUnbindPointerMove.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindPointerMove[s])&&r()}this.__cbOnOwnerUnbindPointerMove=null}if(null!=this.__cbOnceOwnerUnbindPointerMove){for(t=0,i=this.__cbOnceOwnerUnbindPointerMove.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindPointerMove[s])&&r()}this.__cbOnceOwnerUnbindPointerMove=null}this.__cbOnPointerMove=null,this.__cbOncePointerMove=null}},listensPointerMove:function(){return null!=this.__cbOnPointerMove&&this.__cbOnPointerMove.length>0||null!=this.__cbOncePointerMove&&this.__cbOncePointerMove.length>0},emitMultiTouchPointerDown:function(e){var n=0;if(null!=this.__cbOnMultiTouchPointerDown&&(n+=this.__cbOnMultiTouchPointerDown.length),null!=this.__cbOnceMultiTouchPointerDown&&(n+=this.__cbOnceMultiTouchPointerDown.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnMultiTouchPointerDown)for(var r=0,l=this.__cbOnMultiTouchPointerDown.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnMultiTouchPointerDown[a],++s):--n}if(null!=this.__cbOnceMultiTouchPointerDown){var o=null,h=null;for(r=0,l=this.__cbOnceMultiTouchPointerDown.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceMultiTouchPointerDown[a],this.__cbOnceMultiTouchPointerDown[a]=null;var c=this.__cbOnceOwnerUnbindMultiTouchPointerDown[a];this.__cbOnceOwnerUnbindMultiTouchPointerDown[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindMultiTouchPointerDown[a]),h.push(this.__cbOnceMultiTouchPointerDown[a])}this.__cbOnceOwnerUnbindMultiTouchPointerDown=o,this.__cbOnceMultiTouchPointerDown=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onMultiTouchPointerDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event multiTouchPointerDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMultiTouchPointerDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMultiTouchPointerDown&&(this.__cbOnOwnerUnbindMultiTouchPointerDown=[]),this.__cbOnOwnerUnbindMultiTouchPointerDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMultiTouchPointerDown&&(this.__cbOnOwnerUnbindMultiTouchPointerDown=[]),this.__cbOnOwnerUnbindMultiTouchPointerDown.push(null);null==this.__cbOnMultiTouchPointerDown&&(this.__cbOnMultiTouchPointerDown=[]),this.__cbOnMultiTouchPointerDown.push(n)},onceMultiTouchPointerDown:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event multiTouchPointerDown because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMultiTouchPointerDown(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMultiTouchPointerDown&&(this.__cbOnceOwnerUnbindMultiTouchPointerDown=[]),this.__cbOnceOwnerUnbindMultiTouchPointerDown.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMultiTouchPointerDown&&(this.__cbOnceOwnerUnbindMultiTouchPointerDown=[]),this.__cbOnceOwnerUnbindMultiTouchPointerDown.push(null);null==this.__cbOnceMultiTouchPointerDown&&(this.__cbOnceMultiTouchPointerDown=[]),this.__cbOnceMultiTouchPointerDown.push(n)},offMultiTouchPointerDown:function(e){if(null!=e){var n;null!=this.__cbOnMultiTouchPointerDown&&-1!=(n=this.__cbOnMultiTouchPointerDown.indexOf(e))&&(this.__cbOnMultiTouchPointerDown.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMultiTouchPointerDown[n])&&r(),this.__cbOnOwnerUnbindMultiTouchPointerDown.splice(n,1)),null!=this.__cbOnceMultiTouchPointerDown&&-1!=(n=this.__cbOnceMultiTouchPointerDown.indexOf(e))&&(this.__cbOnceMultiTouchPointerDown.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMultiTouchPointerDown[n])&&r(),this.__cbOnceOwnerUnbindMultiTouchPointerDown.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMultiTouchPointerDown){for(var t=0,i=this.__cbOnOwnerUnbindMultiTouchPointerDown.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindMultiTouchPointerDown[s])&&r()}this.__cbOnOwnerUnbindMultiTouchPointerDown=null}if(null!=this.__cbOnceOwnerUnbindMultiTouchPointerDown){for(t=0,i=this.__cbOnceOwnerUnbindMultiTouchPointerDown.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindMultiTouchPointerDown[s])&&r()}this.__cbOnceOwnerUnbindMultiTouchPointerDown=null}this.__cbOnMultiTouchPointerDown=null,this.__cbOnceMultiTouchPointerDown=null}},listensMultiTouchPointerDown:function(){return null!=this.__cbOnMultiTouchPointerDown&&this.__cbOnMultiTouchPointerDown.length>0||null!=this.__cbOnceMultiTouchPointerDown&&this.__cbOnceMultiTouchPointerDown.length>0},emitMultiTouchPointerUp:function(e){var n=0;if(null!=this.__cbOnMultiTouchPointerUp&&(n+=this.__cbOnMultiTouchPointerUp.length),null!=this.__cbOnceMultiTouchPointerUp&&(n+=this.__cbOnceMultiTouchPointerUp.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnMultiTouchPointerUp)for(var r=0,l=this.__cbOnMultiTouchPointerUp.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnMultiTouchPointerUp[a],++s):--n}if(null!=this.__cbOnceMultiTouchPointerUp){var o=null,h=null;for(r=0,l=this.__cbOnceMultiTouchPointerUp.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceMultiTouchPointerUp[a],this.__cbOnceMultiTouchPointerUp[a]=null;var c=this.__cbOnceOwnerUnbindMultiTouchPointerUp[a];this.__cbOnceOwnerUnbindMultiTouchPointerUp[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindMultiTouchPointerUp[a]),h.push(this.__cbOnceMultiTouchPointerUp[a])}this.__cbOnceOwnerUnbindMultiTouchPointerUp=o,this.__cbOnceMultiTouchPointerUp=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onMultiTouchPointerUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event multiTouchPointerUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMultiTouchPointerUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMultiTouchPointerUp&&(this.__cbOnOwnerUnbindMultiTouchPointerUp=[]),this.__cbOnOwnerUnbindMultiTouchPointerUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMultiTouchPointerUp&&(this.__cbOnOwnerUnbindMultiTouchPointerUp=[]),this.__cbOnOwnerUnbindMultiTouchPointerUp.push(null);null==this.__cbOnMultiTouchPointerUp&&(this.__cbOnMultiTouchPointerUp=[]),this.__cbOnMultiTouchPointerUp.push(n)},onceMultiTouchPointerUp:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event multiTouchPointerUp because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMultiTouchPointerUp(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMultiTouchPointerUp&&(this.__cbOnceOwnerUnbindMultiTouchPointerUp=[]),this.__cbOnceOwnerUnbindMultiTouchPointerUp.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMultiTouchPointerUp&&(this.__cbOnceOwnerUnbindMultiTouchPointerUp=[]),this.__cbOnceOwnerUnbindMultiTouchPointerUp.push(null);null==this.__cbOnceMultiTouchPointerUp&&(this.__cbOnceMultiTouchPointerUp=[]),this.__cbOnceMultiTouchPointerUp.push(n)},offMultiTouchPointerUp:function(e){if(null!=e){var n;null!=this.__cbOnMultiTouchPointerUp&&-1!=(n=this.__cbOnMultiTouchPointerUp.indexOf(e))&&(this.__cbOnMultiTouchPointerUp.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMultiTouchPointerUp[n])&&r(),this.__cbOnOwnerUnbindMultiTouchPointerUp.splice(n,1)),null!=this.__cbOnceMultiTouchPointerUp&&-1!=(n=this.__cbOnceMultiTouchPointerUp.indexOf(e))&&(this.__cbOnceMultiTouchPointerUp.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMultiTouchPointerUp[n])&&r(),this.__cbOnceOwnerUnbindMultiTouchPointerUp.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMultiTouchPointerUp){for(var t=0,i=this.__cbOnOwnerUnbindMultiTouchPointerUp.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindMultiTouchPointerUp[s])&&r()}this.__cbOnOwnerUnbindMultiTouchPointerUp=null}if(null!=this.__cbOnceOwnerUnbindMultiTouchPointerUp){for(t=0,i=this.__cbOnceOwnerUnbindMultiTouchPointerUp.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindMultiTouchPointerUp[s])&&r()}this.__cbOnceOwnerUnbindMultiTouchPointerUp=null}this.__cbOnMultiTouchPointerUp=null,this.__cbOnceMultiTouchPointerUp=null}},listensMultiTouchPointerUp:function(){return null!=this.__cbOnMultiTouchPointerUp&&this.__cbOnMultiTouchPointerUp.length>0||null!=this.__cbOnceMultiTouchPointerUp&&this.__cbOnceMultiTouchPointerUp.length>0},emitMultiTouchPointerMove:function(e){var n=0;if(null!=this.__cbOnMultiTouchPointerMove&&(n+=this.__cbOnMultiTouchPointerMove.length),null!=this.__cbOnceMultiTouchPointerMove&&(n+=this.__cbOnceMultiTouchPointerMove.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnMultiTouchPointerMove)for(var r=0,l=this.__cbOnMultiTouchPointerMove.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnMultiTouchPointerMove[a],++s):--n}if(null!=this.__cbOnceMultiTouchPointerMove){var o=null,h=null;for(r=0,l=this.__cbOnceMultiTouchPointerMove.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceMultiTouchPointerMove[a],this.__cbOnceMultiTouchPointerMove[a]=null;var c=this.__cbOnceOwnerUnbindMultiTouchPointerMove[a];this.__cbOnceOwnerUnbindMultiTouchPointerMove[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindMultiTouchPointerMove[a]),h.push(this.__cbOnceMultiTouchPointerMove[a])}this.__cbOnceOwnerUnbindMultiTouchPointerMove=o,this.__cbOnceMultiTouchPointerMove=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onMultiTouchPointerMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event multiTouchPointerMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMultiTouchPointerMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMultiTouchPointerMove&&(this.__cbOnOwnerUnbindMultiTouchPointerMove=[]),this.__cbOnOwnerUnbindMultiTouchPointerMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMultiTouchPointerMove&&(this.__cbOnOwnerUnbindMultiTouchPointerMove=[]),this.__cbOnOwnerUnbindMultiTouchPointerMove.push(null);null==this.__cbOnMultiTouchPointerMove&&(this.__cbOnMultiTouchPointerMove=[]),this.__cbOnMultiTouchPointerMove.push(n)},onceMultiTouchPointerMove:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event multiTouchPointerMove because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMultiTouchPointerMove(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMultiTouchPointerMove&&(this.__cbOnceOwnerUnbindMultiTouchPointerMove=[]),this.__cbOnceOwnerUnbindMultiTouchPointerMove.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMultiTouchPointerMove&&(this.__cbOnceOwnerUnbindMultiTouchPointerMove=[]),this.__cbOnceOwnerUnbindMultiTouchPointerMove.push(null);null==this.__cbOnceMultiTouchPointerMove&&(this.__cbOnceMultiTouchPointerMove=[]),this.__cbOnceMultiTouchPointerMove.push(n)},offMultiTouchPointerMove:function(e){if(null!=e){var n;null!=this.__cbOnMultiTouchPointerMove&&-1!=(n=this.__cbOnMultiTouchPointerMove.indexOf(e))&&(this.__cbOnMultiTouchPointerMove.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMultiTouchPointerMove[n])&&r(),this.__cbOnOwnerUnbindMultiTouchPointerMove.splice(n,1)),null!=this.__cbOnceMultiTouchPointerMove&&-1!=(n=this.__cbOnceMultiTouchPointerMove.indexOf(e))&&(this.__cbOnceMultiTouchPointerMove.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMultiTouchPointerMove[n])&&r(),this.__cbOnceOwnerUnbindMultiTouchPointerMove.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMultiTouchPointerMove){for(var t=0,i=this.__cbOnOwnerUnbindMultiTouchPointerMove.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindMultiTouchPointerMove[s])&&r()}this.__cbOnOwnerUnbindMultiTouchPointerMove=null}if(null!=this.__cbOnceOwnerUnbindMultiTouchPointerMove){for(t=0,i=this.__cbOnceOwnerUnbindMultiTouchPointerMove.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindMultiTouchPointerMove[s])&&r()}this.__cbOnceOwnerUnbindMultiTouchPointerMove=null}this.__cbOnMultiTouchPointerMove=null,this.__cbOnceMultiTouchPointerMove=null}},listensMultiTouchPointerMove:function(){return null!=this.__cbOnMultiTouchPointerMove&&this.__cbOnMultiTouchPointerMove.length>0||null!=this.__cbOnceMultiTouchPointerMove&&this.__cbOnceMultiTouchPointerMove.length>0},emitFocus:function(e){var n=0;if(null!=this.__cbOnFocus&&(n+=this.__cbOnFocus.length),null!=this.__cbOnceFocus&&(n+=this.__cbOnceFocus.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnFocus)for(var r=0,l=this.__cbOnFocus.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnFocus[a],++s):--n}if(null!=this.__cbOnceFocus){var o=null,h=null;for(r=0,l=this.__cbOnceFocus.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceFocus[a],this.__cbOnceFocus[a]=null;var c=this.__cbOnceOwnerUnbindFocus[a];this.__cbOnceOwnerUnbindFocus[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindFocus[a]),h.push(this.__cbOnceFocus[a])}this.__cbOnceOwnerUnbindFocus=o,this.__cbOnceFocus=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onFocus:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event focus because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFocus(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFocus&&(this.__cbOnOwnerUnbindFocus=[]),this.__cbOnOwnerUnbindFocus.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFocus&&(this.__cbOnOwnerUnbindFocus=[]),this.__cbOnOwnerUnbindFocus.push(null);null==this.__cbOnFocus&&(this.__cbOnFocus=[]),this.__cbOnFocus.push(n)},onceFocus:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event focus because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFocus(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFocus&&(this.__cbOnceOwnerUnbindFocus=[]),this.__cbOnceOwnerUnbindFocus.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFocus&&(this.__cbOnceOwnerUnbindFocus=[]),this.__cbOnceOwnerUnbindFocus.push(null);null==this.__cbOnceFocus&&(this.__cbOnceFocus=[]),this.__cbOnceFocus.push(n)},offFocus:function(e){if(null!=e){var n;null!=this.__cbOnFocus&&-1!=(n=this.__cbOnFocus.indexOf(e))&&(this.__cbOnFocus.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFocus[n])&&r(),this.__cbOnOwnerUnbindFocus.splice(n,1)),null!=this.__cbOnceFocus&&-1!=(n=this.__cbOnceFocus.indexOf(e))&&(this.__cbOnceFocus.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFocus[n])&&r(),this.__cbOnceOwnerUnbindFocus.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFocus){for(var t=0,i=this.__cbOnOwnerUnbindFocus.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindFocus[s])&&r()}this.__cbOnOwnerUnbindFocus=null}if(null!=this.__cbOnceOwnerUnbindFocus){for(t=0,i=this.__cbOnceOwnerUnbindFocus.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindFocus[s])&&r()}this.__cbOnceOwnerUnbindFocus=null}this.__cbOnFocus=null,this.__cbOnceFocus=null}},listensFocus:function(){return null!=this.__cbOnFocus&&this.__cbOnFocus.length>0||null!=this.__cbOnceFocus&&this.__cbOnceFocus.length>0},emitBlur:function(e){var n=0;if(null!=this.__cbOnBlur&&(n+=this.__cbOnBlur.length),null!=this.__cbOnceBlur&&(n+=this.__cbOnceBlur.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnBlur)for(var r=0,l=this.__cbOnBlur.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnBlur[a],++s):--n}if(null!=this.__cbOnceBlur){var o=null,h=null;for(r=0,l=this.__cbOnceBlur.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceBlur[a],this.__cbOnceBlur[a]=null;var c=this.__cbOnceOwnerUnbindBlur[a];this.__cbOnceOwnerUnbindBlur[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindBlur[a]),h.push(this.__cbOnceBlur[a])}this.__cbOnceOwnerUnbindBlur=o,this.__cbOnceBlur=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onBlur:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event blur because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBlur(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBlur&&(this.__cbOnOwnerUnbindBlur=[]),this.__cbOnOwnerUnbindBlur.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBlur&&(this.__cbOnOwnerUnbindBlur=[]),this.__cbOnOwnerUnbindBlur.push(null);null==this.__cbOnBlur&&(this.__cbOnBlur=[]),this.__cbOnBlur.push(n)},onceBlur:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event blur because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBlur(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBlur&&(this.__cbOnceOwnerUnbindBlur=[]),this.__cbOnceOwnerUnbindBlur.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBlur&&(this.__cbOnceOwnerUnbindBlur=[]),this.__cbOnceOwnerUnbindBlur.push(null);null==this.__cbOnceBlur&&(this.__cbOnceBlur=[]),this.__cbOnceBlur.push(n)},offBlur:function(e){if(null!=e){var n;null!=this.__cbOnBlur&&-1!=(n=this.__cbOnBlur.indexOf(e))&&(this.__cbOnBlur.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBlur[n])&&r(),this.__cbOnOwnerUnbindBlur.splice(n,1)),null!=this.__cbOnceBlur&&-1!=(n=this.__cbOnceBlur.indexOf(e))&&(this.__cbOnceBlur.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBlur[n])&&r(),this.__cbOnceOwnerUnbindBlur.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBlur){for(var t=0,i=this.__cbOnOwnerUnbindBlur.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindBlur[s])&&r()}this.__cbOnOwnerUnbindBlur=null}if(null!=this.__cbOnceOwnerUnbindBlur){for(t=0,i=this.__cbOnceOwnerUnbindBlur.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindBlur[s])&&r()}this.__cbOnceOwnerUnbindBlur=null}this.__cbOnBlur=null,this.__cbOnceBlur=null}},listensBlur:function(){return null!=this.__cbOnBlur&&this.__cbOnBlur.length>0||null!=this.__cbOnceBlur&&this.__cbOnceBlur.length>0},backendReady:function(){var e=this;ceramic_App.app.backend.screen.onResize(this,$bind(this,this.resize)),this.resize(),ceramic_App.app.settings.onBackgroundChange(this,(function(e,n){ceramic_App.app.backend.screen.setBackground(e)})),ceramic_App.app.settings.onTitleChange(this,(function(e,n){ceramic_App.app.backend.screen.setWindowTitle(e)})),ceramic_App.app.settings.onFullscreenChange(this,(function(e,n){ceramic_App.app.backend.screen.setWindowFullscreen(e)})),ceramic_App.app.settings.onScalingChange(this,(function(n,t){e.resize()})),ceramic_App.app.settings.onTargetWidthChange(this,(function(n,t){e.resize()})),ceramic_App.app.settings.onTargetHeightChange(this,(function(n,t){e.resize()})),ceramic_App.app.settings.onTargetDensityChange(this,(function(n,t){e.updateTexturesDensity()})),this.matrix.onChange(this,(function(){(n=e.reverseMatrix).a=1,n.b=0,n.c=0,n.d=1,n.tx=0,n.ty=0,n.changedDirty=!0;var n=e.reverseMatrix,t=e.matrix,i=n.a*t.a+n.b*t.c;n.b=n.a*t.b+n.b*t.d,n.a=i;var s=n.c*t.a+n.d*t.c;n.d=n.c*t.b+n.d*t.d,n.c=s;var r=n.tx*t.a+n.ty*t.c+t.tx;n.ty=n.tx*t.b+n.ty*t.d+t.ty,n.tx=r,n.changedDirty=!0;var l=(n=e.reverseMatrix).a*n.d-n.b*n.c;if(0==l)n.a=n.b=n.c=n.d=0,n.tx=-n.tx,n.ty=-n.ty;else{l=1/l;i=n.d*l;n.d=n.a*l,n.a=i,n.b*=-l,n.c*=-l;r=-n.a*n.tx-n.c*n.ty;n.ty=-n.b*n.tx-n.d*n.ty,n.tx=r}n.changedDirty=!0,e.reverseMatrix.emitChange()})),ceramic_App.app.backend.screen.onMouseDown(this,(function(n,t,i){ceramic_App.app.beginUpdateCallbacks.push((function(){ceramic_App.app.flushImmediate();var s,r=t*clay_Clay.app.screenDensity,l=i*clay_Clay.app.screenDensity,a=r*(s=e.reverseMatrix).a+l*s.c+s.tx,o=r*(s=e.reverseMatrix).b+l*s.d+s.ty,h=new ceramic_TouchInfo(-1,n,a,o,a>=0&&a<=e.width&&o>=0&&o<=e.height);(-1!=h.buttonId&&(e.mouseX=h.x,e.mouseY=h.y),-1!=h.touchIndex)&&(null==(g=e.touches.get(h.touchIndex))?(g=new ceramic_Touch(h.touchIndex,h.x,h.y,0,0),e.touches.set(h.touchIndex,g)):(g.x=h.x,g.y=h.y));for(var c=e.pointerX,u=e.pointerY,_=0,d=0,f=0,p=e.touches,b=0,y=p.values.length;;){for(;b<y&&null==p.values[b];)++b;if(!(b<y))break;var g,O=b++;++_,d+=(g=p.values[O]).x,f+=g.y}_>0?(e.pointerX=d/_,e.pointerY=f/_):(e.pointerX=e.mouseX,e.pointerY=e.mouseY),e.pointerDeltaX+=e.pointerX-c,e.pointerDeltaY+=e.pointerY-u,e.emitMouseDown(n,a,o),e._numPointerDown++,e.emitMultiTouchPointerDown(h),1==e._numPointerDown&&e.emitPointerDown(h)}))})),ceramic_App.app.backend.screen.onMouseUp(this,(function(n,t,i){ceramic_App.app.beginUpdateCallbacks.push((function(){ceramic_App.app.flushImmediate();var s,r=t*clay_Clay.app.screenDensity,l=i*clay_Clay.app.screenDensity,a=r*(s=e.reverseMatrix).a+l*s.c+s.tx,o=r*(s=e.reverseMatrix).b+l*s.d+s.ty,h=new ceramic_TouchInfo(-1,n,a,o,a>=0&&a<=e.width&&o>=0&&o<=e.height);(-1!=h.buttonId&&(e.mouseX=h.x,e.mouseY=h.y),-1!=h.touchIndex)&&(null==(g=e.touches.get(h.touchIndex))?(g=new ceramic_Touch(h.touchIndex,h.x,h.y,0,0),e.touches.set(h.touchIndex,g)):(g.x=h.x,g.y=h.y));for(var c=e.pointerX,u=e.pointerY,_=0,d=0,f=0,p=e.touches,b=0,y=p.values.length;;){for(;b<y&&null==p.values[b];)++b;if(!(b<y))break;var g,O=b++;++_,d+=(g=p.values[O]).x,f+=g.y}_>0?(e.pointerX=d/_,e.pointerY=f/_):(e.pointerX=e.mouseX,e.pointerY=e.mouseY),e.pointerDeltaX+=e.pointerX-c,e.pointerDeltaY+=e.pointerY-u,-1!=h.touchIndex&&e.touches.set(h.touchIndex,null),e.emitMouseUp(n,a,o),e._numPointerDown--,e.emitMultiTouchPointerUp(h),0==e._numPointerDown&&e.emitPointerUp(h)}))})),ceramic_App.app.backend.screen.onMouseMove(this,(function(n,t){ceramic_App.app.beginUpdateCallbacks.push((function(){ceramic_App.app.flushImmediate();var i,s=n*clay_Clay.app.screenDensity,r=t*clay_Clay.app.screenDensity,l=s*(i=e.reverseMatrix).a+r*i.c+i.tx,a=s*(i=e.reverseMatrix).b+r*i.d+i.ty,o=new ceramic_TouchInfo(-1,-1,l,a,l>=0&&l<=e.width&&a>=0&&a<=e.height);(e.mouseX=o.x,e.mouseY=o.y,-1!=o.touchIndex)&&(null==(y=e.touches.get(o.touchIndex))?(y=new ceramic_Touch(o.touchIndex,o.x,o.y,0,0),e.touches.set(o.touchIndex,y)):(y.x=o.x,y.y=o.y));for(var h=e.pointerX,c=e.pointerY,u=0,_=0,d=0,f=e.touches,p=0,b=f.values.length;;){for(;p<b&&null==f.values[p];)++p;if(!(p<b))break;var y,g=p++;++u,_+=(y=f.values[g]).x,d+=y.y}u>0?(e.pointerX=_/u,e.pointerY=d/u):(e.pointerX=e.mouseX,e.pointerY=e.mouseY),e.pointerDeltaX+=e.pointerX-h,e.pointerDeltaY+=e.pointerY-c,e.emitMouseMove(l,a),e.emitMultiTouchPointerMove(o),e.emitPointerMove(o)}))})),ceramic_App.app.backend.screen.onMouseWheel(this,(function(n,t){ceramic_App.app.beginUpdateCallbacks.push((function(){e.emitMouseWheel(n,t)}))})),ceramic_App.app.backend.screen.onTouchDown(this,(function(n,t,i){ceramic_App.app.beginUpdateCallbacks.push((function(){ceramic_App.app.flushImmediate();var s,r=t*clay_Clay.app.screenDensity,l=i*clay_Clay.app.screenDensity,a=r*(s=e.reverseMatrix).a+l*s.c+s.tx,o=r*(s=e.reverseMatrix).b+l*s.d+s.ty,h=new ceramic_TouchInfo(n,-1,a,o,a>=0&&a<=e.width&&o>=0&&o<=e.height);(-1!=h.buttonId&&(e.mouseX=h.x,e.mouseY=h.y),-1!=h.touchIndex)&&(null==(g=e.touches.get(h.touchIndex))?(g=new ceramic_Touch(h.touchIndex,h.x,h.y,0,0),e.touches.set(h.touchIndex,g)):(g.x=h.x,g.y=h.y));for(var c=e.pointerX,u=e.pointerY,_=0,d=0,f=0,p=e.touches,b=0,y=p.values.length;;){for(;b<y&&null==p.values[b];)++b;if(!(b<y))break;var g,O=b++;++_,d+=(g=p.values[O]).x,f+=g.y}_>0?(e.pointerX=d/_,e.pointerY=f/_):(e.pointerX=e.mouseX,e.pointerY=e.mouseY),e.pointerDeltaX+=e.pointerX-c,e.pointerDeltaY+=e.pointerY-u,e.emitTouchDown(n,a,o),e._numPointerDown++,e.emitMultiTouchPointerDown(h),1==e._numPointerDown&&e.emitPointerDown(h)}))})),ceramic_App.app.backend.screen.onTouchUp(this,(function(n,t,i){ceramic_App.app.beginUpdateCallbacks.push((function(){ceramic_App.app.flushImmediate();var s,r=t*clay_Clay.app.screenDensity,l=i*clay_Clay.app.screenDensity,a=r*(s=e.reverseMatrix).a+l*s.c+s.tx,o=r*(s=e.reverseMatrix).b+l*s.d+s.ty,h=new ceramic_TouchInfo(n,-1,a,o,a>=0&&a<=e.width&&o>=0&&o<=e.height);(-1!=h.buttonId&&(e.mouseX=h.x,e.mouseY=h.y),-1!=h.touchIndex)&&(null==(g=e.touches.get(h.touchIndex))?(g=new ceramic_Touch(h.touchIndex,h.x,h.y,0,0),e.touches.set(h.touchIndex,g)):(g.x=h.x,g.y=h.y));for(var c=e.pointerX,u=e.pointerY,_=0,d=0,f=0,p=e.touches,b=0,y=p.values.length;;){for(;b<y&&null==p.values[b];)++b;if(!(b<y))break;var g,O=b++;++_,d+=(g=p.values[O]).x,f+=g.y}_>0?(e.pointerX=d/_,e.pointerY=f/_):(e.pointerX=e.mouseX,e.pointerY=e.mouseY),e.pointerDeltaX+=e.pointerX-c,e.pointerDeltaY+=e.pointerY-u,-1!=h.touchIndex&&e.touches.set(h.touchIndex,null),e.emitTouchUp(n,a,o),e._numPointerDown--,e.emitMultiTouchPointerUp(h),0==e._numPointerDown&&e.emitPointerUp(h)}))})),ceramic_App.app.backend.screen.onTouchMove(this,(function(n,t,i){ceramic_App.app.beginUpdateCallbacks.push((function(){ceramic_App.app.flushImmediate();var s,r=t*clay_Clay.app.screenDensity,l=i*clay_Clay.app.screenDensity,a=r*(s=e.reverseMatrix).a+l*s.c+s.tx,o=r*(s=e.reverseMatrix).b+l*s.d+s.ty,h=new ceramic_TouchInfo(n,-1,a,o,a>=0&&a<=e.width&&o>=0&&o<=e.height);-1!=h.touchIndex&&(null==(g=e.touches.get(h.touchIndex))?(g=new ceramic_Touch(h.touchIndex,h.x,h.y,0,0),e.touches.set(h.touchIndex,g)):(g.x=h.x,g.y=h.y));for(var c=e.pointerX,u=e.pointerY,_=0,d=0,f=0,p=e.touches,b=0,y=p.values.length;;){for(;b<y&&null==p.values[b];)++b;if(!(b<y))break;var g,O=b++;++_,d+=(g=p.values[O]).x,f+=g.y}_>0?(e.pointerX=d/_,e.pointerY=f/_):(e.pointerX=e.mouseX,e.pointerY=e.mouseY),e.pointerDeltaX+=e.pointerX-c,e.pointerDeltaY+=e.pointerY-u,e.emitTouchMove(n,a,o),e.emitMultiTouchPointerMove(h),e._numPointerDown>0&&e.emitPointerMove(h)}))}))},updatePointerOverState:function(e){var n=this.mouseX,t=this.mouseY,i=1e4,s=this.matchedOverListeners.h[i];(o=this.matchFirstOverListener(n,t))!=s&&(null!=o?this.matchedOverListeners.h[i]=o:this.matchedOverListeners.remove(i)),null!=s&&s!=o&&s._lifecycleState>=0&&s._numPointerOver>0&&(s._numPointerOver--,(0==s._numPointerOver||s.multiTouch)&&s.emitPointerOut(new ceramic_TouchInfo(-1,-1,n,t,!1))),null!=o&&s!=o&&(o._numPointerOver++,(1==o._numPointerOver||o.multiTouch)&&o.emitPointerOver(new ceramic_TouchInfo(-1,-1,n,t,!0)));for(var r=this.touches,l=0,a=r.values.length;;){for(;l<a&&null==r.values[l];)++l;if(!(l<a))break;var o,h=l++,c=r.values[h];n=c.x,t=c.y,i=2e4+c.index,s=this.matchedOverListeners.h[i];(o=this.matchFirstOverListener(n,t))!=s&&(null!=o?this.matchedOverListeners.h[i]=o:this.matchedOverListeners.remove(i)),null!=s&&s!=o&&s._lifecycleState>=0&&s._numPointerOver>0&&(s._numPointerOver--,(0==s._numPointerOver||s.multiTouch)&&s.emitPointerOut(new ceramic_TouchInfo(-1,-1,n,t,!1))),null!=o&&s!=o&&(o._numPointerOver++,(1==o._numPointerOver||o.multiTouch)&&o.emitPointerOver(new ceramic_TouchInfo(-1,-1,n,t,!0)))}},resize:function(){if(!this.resizing){this.resizing=!0,this.updateScaling();var e=ceramic_App.app.settings.get_scaling(),n=ceramic_App.app.settings.get_targetWidth(),t=ceramic_App.app.settings.get_targetHeight();this.emitResize(),e==ceramic_App.app.settings.get_scaling()&&n==ceramic_App.app.settings.get_targetWidth()&&t==ceramic_App.app.settings.get_targetHeight()||this.updateScaling(),this.updateTransform(),this.updateTexturesDensity(),this.resizing=!1}},updateTexturesDensity:function(){if(ceramic_App.app.settings.get_targetDensity()>0)this.set_texturesDensity(ceramic_App.app.settings.get_targetDensity());else{var e=this.density;e=e<1?1:Math.round(e),this.set_texturesDensity(e)}},updateScaling:function(){var e,n=ceramic_App.app.settings.get_targetWidth()>0?ceramic_App.app.settings.get_targetWidth():clay_Clay.app.screenWidth,t=ceramic_App.app.settings.get_targetHeight()>0?ceramic_App.app.settings.get_targetHeight():clay_Clay.app.screenHeight;switch(ceramic_App.app.settings.get_scaling()._hx_index){case 0:e=Math.max(n/(clay_Clay.app.screenWidth*clay_Clay.app.screenDensity),t/(clay_Clay.app.screenHeight*clay_Clay.app.screenDensity));break;case 1:e=Math.min(n/(clay_Clay.app.screenWidth*clay_Clay.app.screenDensity),t/(clay_Clay.app.screenHeight*clay_Clay.app.screenDensity));break;case 2:n=clay_Clay.app.screenWidth,t=clay_Clay.app.screenHeight,e=Math.max(n/(clay_Clay.app.screenWidth*clay_Clay.app.screenDensity),t/(clay_Clay.app.screenHeight*clay_Clay.app.screenDensity));break;case 3:var i=clay_Clay.app.screenHeight/clay_Clay.app.screenWidth,s=t/n;i>s?t=n*i:i<s&&(n=t/i),n=Math.ceil(n),t=Math.ceil(t),e=Math.max(n/(clay_Clay.app.screenWidth*clay_Clay.app.screenDensity),t/(clay_Clay.app.screenHeight*clay_Clay.app.screenDensity))}switch(this.actualWidth=Math.ceil(clay_Clay.app.screenWidth*clay_Clay.app.screenDensity*e),this.actualHeight=Math.ceil(clay_Clay.app.screenHeight*clay_Clay.app.screenDensity*e),this.density=1/e,ceramic_App.app.settings.get_scaling()._hx_index){case 0:case 1:this.offsetX=.5*(this.actualWidth-n),this.offsetY=.5*(this.actualHeight-t);break;case 2:case 3:this.offsetX=0,this.offsetY=0}this.width=n,this.height=t},updateTransform:function(){var e=ceramic_App.app.settings.get_targetWidth()>0?ceramic_App.app.settings.get_targetWidth()*this.density:clay_Clay.app.screenWidth*clay_Clay.app.screenDensity,n=ceramic_App.app.settings.get_targetHeight()>0?ceramic_App.app.settings.get_targetHeight()*this.density:clay_Clay.app.screenHeight*clay_Clay.app.screenDensity;switch(ceramic_App.app.settings.get_scaling()._hx_index){case 2:e=clay_Clay.app.screenWidth*clay_Clay.app.screenDensity,n=clay_Clay.app.screenHeight*clay_Clay.app.screenDensity;break;case 3:var t=clay_Clay.app.screenHeight/clay_Clay.app.screenWidth,i=n/e;t>i?n=e*t:t<i&&(e=n/t)}(s=this.matrix).a=1,s.b=0,s.c=0,s.d=1,s.tx=0,s.ty=0,s.changedDirty=!0;var s=this.matrix,r=this.density,l=this.density;s.a*=r,s.b*=l,s.c*=r,s.d*=l,s.tx*=r,s.ty*=l,s.changedDirty=!0;var a=.5*(clay_Clay.app.screenWidth*clay_Clay.app.screenDensity-e),o=.5*(clay_Clay.app.screenHeight*clay_Clay.app.screenDensity-n);(s=this.matrix).tx+=a,s.ty+=o,s.changedDirty=!0},matchFirstDownListener:function(e,n,t,i){null==i&&(i=-1),null==t&&(t=-1),ceramic_App.app.computeHierarchy();for(var s=0;s<2;){var r=s++;ceramic_Screen.matchedHitVisual=null;for(var l=0==r,a=ceramic_App.app.visuals,o=a.length-1;o>=0;){var h=a[o];if(h._lifecycleState>=0&&h.computedTouchable){var c=null!=h.__cbOnPointerDown&&h.__cbOnPointerDown.length>0||null!=h.__cbOncePointerDown&&h.__cbOncePointerDown.length>0,u=!1,_=!1;if(c&&(u=h._hits(e,n,!1)))_=h.interceptPointerDown(h,e,n,t,i);if(u&&!_||l&&this.isHitVisual(h)&&h._hits(e,n,!1)){var d=!1;if(c)for(var f=h.parent;null!=f&&!(d=f.interceptPointerDown(h,e,n,t,i));)f=f.parent;if(!d){if(c||!l||!this.isHitVisual(h))return ceramic_Screen.matchedHitVisual=null,h;ceramic_Screen.matchedHitVisual=h}}}--o}}return ceramic_Screen.matchedHitVisual=null,null},matchFirstOverListener:function(e,n){if(this.visualsListenPointerOver){ceramic_App.app.computeHierarchy();for(var t=0;t<2;){var i=t++;ceramic_Screen.matchedHitVisual=null;for(var s=0==i,r=ceramic_App.app.visuals,l=r.length-1;l>=0;){var a=r[l];if(a._lifecycleState>=0&&a.computedTouchable){var o=null!=a.__cbOnPointerOver&&a.__cbOnPointerOver.length>0||null!=a.__cbOncePointerOver&&a.__cbOncePointerOver.length>0,h=!1,c=!1;if(o&&(h=a._hits(e,n,!1))&&(c=a.interceptPointerOver(a,e,n)),h&&!c||s&&this.isHitVisual(a)&&a._hits(e,n,!1)){var u=!1;if(o)for(var _=a.parent;null!=_&&!(u=_.interceptPointerOver(a,e,n));)_=_.parent;if(!u){if(o||!s||!this.isHitVisual(a))return ceramic_Screen.matchedHitVisual=null,a;ceramic_Screen.matchedHitVisual=a}}}--l}}ceramic_Screen.matchedHitVisual=null}return null},prepareMultiTouchPointerDown:function(e){(-1!=e.buttonId&&(this.mouseX=e.x,this.mouseY=e.y),-1!=e.touchIndex)&&(null==(h=this.touches.get(e.touchIndex))?(h=new ceramic_Touch(e.touchIndex,e.x,e.y,0,0),this.touches.set(e.touchIndex,h)):(h.x=e.x,h.y=e.y));for(var n=this.pointerX,t=this.pointerY,i=0,s=0,r=0,l=this.touches,a=0,o=l.values.length;;){for(;a<o&&null==l.values[a];)++a;if(!(a<o))break;var h,c=a++;++i,s+=(h=l.values[c]).x,r+=h.y}i>0?(this.pointerX=s/i,this.pointerY=r/i):(this.pointerX=this.mouseX,this.pointerY=this.mouseY),this.pointerDeltaX+=this.pointerX-n,this.pointerDeltaY+=this.pointerY-t},prepareMultiTouchPointerUp:function(e){(-1!=e.buttonId&&(this.mouseX=e.x,this.mouseY=e.y),-1!=e.touchIndex)&&(null==(h=this.touches.get(e.touchIndex))?(h=new ceramic_Touch(e.touchIndex,e.x,e.y,0,0),this.touches.set(e.touchIndex,h)):(h.x=e.x,h.y=e.y));for(var n=this.pointerX,t=this.pointerY,i=0,s=0,r=0,l=this.touches,a=0,o=l.values.length;;){for(;a<o&&null==l.values[a];)++a;if(!(a<o))break;var h,c=a++;++i,s+=(h=l.values[c]).x,r+=h.y}i>0?(this.pointerX=s/i,this.pointerY=r/i):(this.pointerX=this.mouseX,this.pointerY=this.mouseY),this.pointerDeltaX+=this.pointerX-n,this.pointerDeltaY+=this.pointerY-t,-1!=e.touchIndex&&this.touches.set(e.touchIndex,null)},prepareMultiTouchPointerMove:function(e,n){(n&&(this.mouseX=e.x,this.mouseY=e.y),-1!=e.touchIndex)&&(null==(c=this.touches.get(e.touchIndex))?(c=new ceramic_Touch(e.touchIndex,e.x,e.y,0,0),this.touches.set(e.touchIndex,c)):(c.x=e.x,c.y=e.y));for(var t=this.pointerX,i=this.pointerY,s=0,r=0,l=0,a=this.touches,o=0,h=a.values.length;;){for(;o<h&&null==a.values[o];)++o;if(!(o<h))break;var c,u=o++;++s,r+=(c=a.values[u]).x,l+=c.y}s>0?(this.pointerX=r/s,this.pointerY=l/s):(this.pointerX=this.mouseX,this.pointerY=this.mouseY),this.pointerDeltaX+=this.pointerX-t,this.pointerDeltaY+=this.pointerY-i},updatePointer:function(){for(var e=this.pointerX,n=this.pointerY,t=0,i=0,s=0,r=this.touches,l=0,a=r.values.length;;){for(;l<a&&null==r.values[l];)++l;if(!(l<a))break;var o=l++,h=r.values[o];++t,i+=h.x,s+=h.y}t>0?(this.pointerX=i/t,this.pointerY=s/t):(this.pointerX=this.mouseX,this.pointerY=this.mouseY),this.pointerDeltaX+=this.pointerX-e,this.pointerDeltaY+=this.pointerY-n},didEmitMouseDown:function(e,n,t){var i=this.matchFirstDownListener(n,t,-1,e);null!=i&&(i._numPointerDown++,(1==i._numPointerDown||i.multiTouch)&&(ceramic_App.app.screen.set_focusedVisual(i),i.emitPointerDown(new ceramic_TouchInfo(-1,e,n,t,!0))));var s=1e4+e;this.matchedDownListeners.h[s]=i},didEmitMouseUp:function(e,n,t){var i=1e4+e,s=this.matchedDownListeners.h[i];null!=s&&s._lifecycleState>=0&&s._numPointerDown>0&&(s._numPointerDown--,(0==s._numPointerDown||s.multiTouch)&&s.emitPointerUp(new ceramic_TouchInfo(-1,e,n,t,s._hits(n,t,!1)))),this.matchedDownListeners.remove(i)},updateMouseOver:function(e,n){var t=1e4,i=this.matchedOverListeners.h[t],s=this.matchFirstOverListener(e,n);s!=i&&(null!=s?this.matchedOverListeners.h[t]=s:this.matchedOverListeners.remove(t)),null!=i&&i!=s&&i._lifecycleState>=0&&i._numPointerOver>0&&(i._numPointerOver--,(0==i._numPointerOver||i.multiTouch)&&i.emitPointerOut(new ceramic_TouchInfo(-1,-1,e,n,!1))),null!=s&&i!=s&&(s._numPointerOver++,(1==s._numPointerOver||s.multiTouch)&&s.emitPointerOver(new ceramic_TouchInfo(-1,-1,e,n,!0)))},didEmitTouchDown:function(e,n,t){var i=this.matchFirstDownListener(n,t,e,-1);null!=i&&(i._numPointerDown++,(1==i._numPointerDown||i.multiTouch)&&(ceramic_App.app.screen.set_focusedVisual(i),i.emitPointerDown(new ceramic_TouchInfo(e,-1,n,t,!0))));var s=2e4+e;this.matchedDownListeners.h[s]=i},didEmitTouchUp:function(e,n,t){var i=2e4+e,s=this.matchedDownListeners.h[i];null!=s&&s._lifecycleState>=0&&s._numPointerDown>0&&(s._numPointerDown--,(0==s._numPointerDown||s.multiTouch)&&s.emitPointerUp(new ceramic_TouchInfo(e,-1,n,t,s._hits(n,t,!1)))),this.matchedDownListeners.remove(i)},updateTouchOver:function(e,n,t){var i=2e4+e,s=this.matchedOverListeners.h[i],r=this.matchFirstOverListener(n,t);r!=s&&(null!=r?this.matchedOverListeners.h[i]=r:this.matchedOverListeners.remove(i)),null!=s&&s!=r&&s._lifecycleState>=0&&s._numPointerOver>0&&(s._numPointerOver--,(0==s._numPointerOver||s.multiTouch)&&s.emitPointerOut(new ceramic_TouchInfo(-1,-1,n,t,!1))),null!=r&&s!=r&&(r._numPointerOver++,(1==r._numPointerOver||r.multiTouch)&&r.emitPointerOver(new ceramic_TouchInfo(-1,-1,n,t,!0)))},addHitVisual:function(e){var n=8==(8&e.flags);this.hitVisuals.push(e),n||(e.flags|=8)},removeHitVisual:function(e){var n=this.hitVisuals.indexOf(e);-1==n?ceramic_App.app.logger.warning("Hit visual not removed from hitVisuals because it was not added at the first place",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Screen.hx",lineNumber:1200,className:"ceramic.Screen",methodName:"removeHitVisual"}):(this.hitVisuals.splice(n,1),-1==this.hitVisuals.indexOf(e)&&(e.flags&=-9))},isHitVisual:function(e){return 8==(8&e.flags)},resetDeltas:function(){this.pointerDeltaX=0,this.pointerDeltaY=0,this.mouseDeltaX=0,this.mouseDeltaY=0,this.mouseWheelDeltaX=0,this.mouseWheelDeltaY=0;for(var e=0;e<=this.maxTouchIndex;){var n=this.touches.get(e);null!=n&&(n.deltaX=0,n.deltaY=0),++e}},willEmitMouseMove:function(e,n){this.mouseDeltaX+=e-this.prevMouseX,this.mouseDeltaY+=n-this.prevMouseY,this.prevMouseX=e,this.prevMouseY=n},willEmitMouseDown:function(e,n,t){var i=this;this.prevMouseX=n,this.prevMouseY=t;var s=this.pressedMouseButtons.intMap.h[0|e],r=null!=s?s:0;-1==r&&(r=0),this.pressedMouseButtons.set(e,r+1),0==r&&ceramic_App.app.beginUpdateCallbacks.push((function(){var n=i.pressedMouseButtons.intMap.h[0|e];1==(null!=n?n:0)&&i.pressedMouseButtons.set(e,2)}))},willEmitMouseUp:function(e,n,t){var i=this;this.pressedMouseButtons.set(e,-1),ceramic_App.app.beginUpdateCallbacks.push((function(){var n=i.pressedMouseButtons.intMap.h[0|e];-1==(null!=n?n:0)&&i.pressedMouseButtons.set(e,0)}))},willEmitMouseWheel:function(e,n){this.mouseWheelDeltaX+=e,this.mouseWheelDeltaY+=n},mouseAllowed:function(e){return!0},_mousePressed:function(e){var n=this.pressedMouseButtons.intMap.h[0|e];return(null!=n?n:0)>0},_mouseJustPressed:function(e){var n=this.pressedMouseButtons.intMap.h[0|e];return 1==(null!=n?n:0)},_mouseJustReleased:function(e){var n=this.pressedMouseButtons.intMap.h[0|e];return-1==(null!=n?n:0)},willEmitTouchMove:function(e,n,t){e>this.maxTouchIndex&&(this.maxTouchIndex=e);var i,s=2*e,r=s+1,l=null!=(i=this.prevTouchPositions.intMap.h[0|s])?i:0,a=null!=(i=this.prevTouchPositions.intMap.h[0|r])?i:0,o=this.touches.get(e);null!=o&&(o.deltaX+=n-l,o.deltaY+=t-a)},willEmitTouchDown:function(e,n,t){var i=this,s=2*e,r=s+1;this.prevTouchPositions.set(s,n),this.prevTouchPositions.set(r,t);var l=this.pressedTouches.intMap.h[0|e],a=null!=l?l:0;-1==a&&(a=0),this.pressedTouches.set(e,a+1),0==a&&ceramic_App.app.beginUpdateCallbacks.push((function(){var n=i.pressedTouches.intMap.h[0|e];1==(null!=n?n:0)&&i.pressedTouches.set(e,2)}))},willEmitTouchUp:function(e,n,t){var i=this,s=this.pressedTouches.intMap.h[0|e];1==(null!=s?s:0)?this.pressedTouches.set(e,-2):this.pressedTouches.set(e,-1),ceramic_App.app.beginUpdateCallbacks.push((function(){var n=i.pressedTouches.intMap.h[0|e],t=null!=n?n:0;-1!=t&&-2!=t||i.pressedTouches.set(e,0)}))},_touchPressed:function(e){var n=this.pressedTouches.intMap.h[0|e];return(null!=n?n:0)>0},_touchJustPressed:function(e){var n=this.pressedTouches.intMap.h[0|e],t=null!=n?n:0;return 1==t||-2==t},_touchJustReleased:function(e){var n=this.pressedTouches.intMap.h[0|e],t=null!=n?n:0;return-1==t||-2==t},touchDeltaX:function(e){var n=this.touches.get(e);return null!=n?n.deltaX:0},touchDeltaY:function(e){var n=this.touches.get(e);return null!=n?n.deltaY:0},toTexture:function(e){ceramic_App.app.backend.screen.screenshotToTexture((function(n){if(null!=n){var t=new ceramic_Texture(n,clay_Clay.app.screenDensity);e(t)}else e(null)}))},toPixels:function(e){ceramic_App.app.backend.screen.screenshotToPixels(e)},_toPng:function(e,n){ceramic_App.app.onceFinishDraw(this,(function(){ceramic_App.app.backend.screen.screenshotToPng(e,n)}))},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offObservedDirty(),this.offFocusedVisualChange(),this.offTexturesDensityChange(),this.offResize(),this.offMouseDown(),this.offMouseUp(),this.offMouseWheel(),this.offMouseMove(),this.offTouchDown(),this.offTouchUp(),this.offTouchMove(),this.offPointerDown(),this.offPointerUp(),this.offPointerMove(),this.offMultiTouchPointerDown(),this.offMultiTouchPointerUp(),this.offMultiTouchPointerMove(),this.offFocus(),this.offBlur()},__class__:ceramic_Screen,__properties__:$extend(ceramic_Entity.prototype.__properties__,{get_isPointerDown:"get_isPointerDown",set_texturesDensity:"set_texturesDensity",get_texturesDensity:"get_texturesDensity",set_unobservedFocusedVisual:"set_unobservedFocusedVisual",set_focusedVisual:"set_focusedVisual",get_focusedVisual:"get_focusedVisual",get_nativeDensity:"get_nativeDensity",get_nativeHeight:"get_nativeHeight",get_nativeWidth:"get_nativeWidth"})});var x=i["ceramic.ScreenScaling"]={__ename__:"ceramic.ScreenScaling",__constructs__:null,FIT:{_hx_name:"FIT",_hx_index:0,__enum__:"ceramic.ScreenScaling",toString:$estr},FILL:{_hx_name:"FILL",_hx_index:1,__enum__:"ceramic.ScreenScaling",toString:$estr},RESIZE:{_hx_name:"RESIZE",_hx_index:2,__enum__:"ceramic.ScreenScaling",toString:$estr},FIT_RESIZE:{_hx_name:"FIT_RESIZE",_hx_index:3,__enum__:"ceramic.ScreenScaling",toString:$estr}};x.__constructs__=[x.FIT,x.FILL,x.RESIZE,x.FIT_RESIZE];var ceramic_Settings=function(){this.defaultShader="shader:textured",this.defaultFont="font:RobotoMedium",this.backend={},this.assetsPath="assets",this.resizable=!1,this.antialiasing=0,this.appInfo=null,this.collections=null,this.orientation=0,this.unobservedPreventDefaultTouches=!0,this.preventDefaultTouchesAutoruns=null,this.unobservedPreventDefaultMouseWheel=!0,this.preventDefaultMouseWheelAutoruns=null,this.unobservedOverrideDelta=-1,this.overrideDeltaAutoruns=null,this.unobservedMaxDelta=.1,this.maxDeltaAutoruns=null,this.unobservedTargetFps=-1,this.targetFpsAutoruns=null,this.unobservedFullscreen=!1,this.fullscreenAutoruns=null,this.unobservedTitle="App",this.titleAutoruns=null,this.unobservedScaling=x.FIT,this.scalingAutoruns=null,this.unobservedBackground=0,this.backgroundAutoruns=null,this.unobservedTargetDensity=0,this.targetDensityAutoruns=null,this.unobservedWindowHeight=0,this.windowHeightAutoruns=null,this.unobservedWindowWidth=0,this.windowWidthAutoruns=null,this.unobservedTargetHeight=0,this.targetHeightAutoruns=null,this.unobservedTargetWidth=0,this.targetWidthAutoruns=null,this.observedDirty=!1};t["ceramic.Settings"]=ceramic_Settings,ceramic_Settings.__name__="ceramic.Settings",ceramic_Settings.__interfaces__=[tracker_Observable],ceramic_Settings.prototype={emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var l=0,a=this.__cbOnObservedDirty.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnObservedDirty[o],++r):--t}if(null!=this.__cbOnceObservedDirty){var h=null,c=null;for(l=0,a=this.__cbOnceObservedDirty.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceObservedDirty[o],this.__cbOnceObservedDirty[o]=null;var u=this.__cbOnceOwnerUnbindObservedDirty[o];this.__cbOnceOwnerUnbindObservedDirty[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindObservedDirty[o]),c.push(this.__cbOnceObservedDirty[o])}this.__cbOnceOwnerUnbindObservedDirty=h,this.__cbOnceObservedDirty=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(n)},onceObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(n)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[s])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[s])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&this.__cbOnObservedDirty.length>0||null!=this.__cbOnceObservedDirty&&this.__cbOnceObservedDirty.length>0},get_targetWidth:function(){var e=this.unobservedTargetWidth;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.targetWidthAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.targetWidthAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_targetWidth:function(e){var n=this.unobservedTargetWidth;if(this.unobservedTargetWidth=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTargetWidthChange(e,n);var t=this.targetWidthAutoruns;if(null!=t){this.targetWidthAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateTargetWidth:function(){var e=this.unobservedTargetWidth;this.emitTargetWidthChange(e,e);var n=this.targetWidthAutoruns;if(null!=n){this.targetWidthAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitTargetWidthChange:function(e,n){var t=0;if(null!=this.__cbOnTargetWidthChange&&(t+=this.__cbOnTargetWidthChange.length),null!=this.__cbOnceTargetWidthChange&&(t+=this.__cbOnceTargetWidthChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnTargetWidthChange)for(var l=0,a=this.__cbOnTargetWidthChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnTargetWidthChange[o],++r):--t}if(null!=this.__cbOnceTargetWidthChange){var h=null,c=null;for(l=0,a=this.__cbOnceTargetWidthChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceTargetWidthChange[o],this.__cbOnceTargetWidthChange[o]=null;var u=this.__cbOnceOwnerUnbindTargetWidthChange[o];this.__cbOnceOwnerUnbindTargetWidthChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindTargetWidthChange[o]),c.push(this.__cbOnceTargetWidthChange[o])}this.__cbOnceOwnerUnbindTargetWidthChange=h,this.__cbOnceTargetWidthChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onTargetWidthChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event targetWidthChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTargetWidthChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTargetWidthChange&&(this.__cbOnOwnerUnbindTargetWidthChange=[]),this.__cbOnOwnerUnbindTargetWidthChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTargetWidthChange&&(this.__cbOnOwnerUnbindTargetWidthChange=[]),this.__cbOnOwnerUnbindTargetWidthChange.push(null);null==this.__cbOnTargetWidthChange&&(this.__cbOnTargetWidthChange=[]),this.__cbOnTargetWidthChange.push(n)},onceTargetWidthChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event targetWidthChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTargetWidthChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTargetWidthChange&&(this.__cbOnceOwnerUnbindTargetWidthChange=[]),this.__cbOnceOwnerUnbindTargetWidthChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTargetWidthChange&&(this.__cbOnceOwnerUnbindTargetWidthChange=[]),this.__cbOnceOwnerUnbindTargetWidthChange.push(null);null==this.__cbOnceTargetWidthChange&&(this.__cbOnceTargetWidthChange=[]),this.__cbOnceTargetWidthChange.push(n)},offTargetWidthChange:function(e){if(null!=e){var n;null!=this.__cbOnTargetWidthChange&&-1!=(n=this.__cbOnTargetWidthChange.indexOf(e))&&(this.__cbOnTargetWidthChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTargetWidthChange[n])&&r(),this.__cbOnOwnerUnbindTargetWidthChange.splice(n,1)),null!=this.__cbOnceTargetWidthChange&&-1!=(n=this.__cbOnceTargetWidthChange.indexOf(e))&&(this.__cbOnceTargetWidthChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTargetWidthChange[n])&&r(),this.__cbOnceOwnerUnbindTargetWidthChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTargetWidthChange){for(var t=0,i=this.__cbOnOwnerUnbindTargetWidthChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTargetWidthChange[s])&&r()}this.__cbOnOwnerUnbindTargetWidthChange=null}if(null!=this.__cbOnceOwnerUnbindTargetWidthChange){for(t=0,i=this.__cbOnceOwnerUnbindTargetWidthChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTargetWidthChange[s])&&r()}this.__cbOnceOwnerUnbindTargetWidthChange=null}this.__cbOnTargetWidthChange=null,this.__cbOnceTargetWidthChange=null}},listensTargetWidthChange:function(){return null!=this.__cbOnTargetWidthChange&&this.__cbOnTargetWidthChange.length>0||null!=this.__cbOnceTargetWidthChange&&this.__cbOnceTargetWidthChange.length>0},get_targetHeight:function(){var e=this.unobservedTargetHeight;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.targetHeightAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.targetHeightAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_targetHeight:function(e){var n=this.unobservedTargetHeight;if(this.unobservedTargetHeight=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTargetHeightChange(e,n);var t=this.targetHeightAutoruns;if(null!=t){this.targetHeightAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateTargetHeight:function(){var e=this.unobservedTargetHeight;this.emitTargetHeightChange(e,e);var n=this.targetHeightAutoruns;if(null!=n){this.targetHeightAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitTargetHeightChange:function(e,n){var t=0;if(null!=this.__cbOnTargetHeightChange&&(t+=this.__cbOnTargetHeightChange.length),null!=this.__cbOnceTargetHeightChange&&(t+=this.__cbOnceTargetHeightChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnTargetHeightChange)for(var l=0,a=this.__cbOnTargetHeightChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnTargetHeightChange[o],++r):--t}if(null!=this.__cbOnceTargetHeightChange){var h=null,c=null;for(l=0,a=this.__cbOnceTargetHeightChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceTargetHeightChange[o],this.__cbOnceTargetHeightChange[o]=null;var u=this.__cbOnceOwnerUnbindTargetHeightChange[o];this.__cbOnceOwnerUnbindTargetHeightChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindTargetHeightChange[o]),c.push(this.__cbOnceTargetHeightChange[o])}this.__cbOnceOwnerUnbindTargetHeightChange=h,this.__cbOnceTargetHeightChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onTargetHeightChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event targetHeightChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTargetHeightChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTargetHeightChange&&(this.__cbOnOwnerUnbindTargetHeightChange=[]),this.__cbOnOwnerUnbindTargetHeightChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTargetHeightChange&&(this.__cbOnOwnerUnbindTargetHeightChange=[]),this.__cbOnOwnerUnbindTargetHeightChange.push(null);null==this.__cbOnTargetHeightChange&&(this.__cbOnTargetHeightChange=[]),this.__cbOnTargetHeightChange.push(n)},onceTargetHeightChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event targetHeightChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTargetHeightChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTargetHeightChange&&(this.__cbOnceOwnerUnbindTargetHeightChange=[]),this.__cbOnceOwnerUnbindTargetHeightChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTargetHeightChange&&(this.__cbOnceOwnerUnbindTargetHeightChange=[]),this.__cbOnceOwnerUnbindTargetHeightChange.push(null);null==this.__cbOnceTargetHeightChange&&(this.__cbOnceTargetHeightChange=[]),this.__cbOnceTargetHeightChange.push(n)},offTargetHeightChange:function(e){if(null!=e){var n;null!=this.__cbOnTargetHeightChange&&-1!=(n=this.__cbOnTargetHeightChange.indexOf(e))&&(this.__cbOnTargetHeightChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTargetHeightChange[n])&&r(),this.__cbOnOwnerUnbindTargetHeightChange.splice(n,1)),null!=this.__cbOnceTargetHeightChange&&-1!=(n=this.__cbOnceTargetHeightChange.indexOf(e))&&(this.__cbOnceTargetHeightChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTargetHeightChange[n])&&r(),this.__cbOnceOwnerUnbindTargetHeightChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTargetHeightChange){for(var t=0,i=this.__cbOnOwnerUnbindTargetHeightChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTargetHeightChange[s])&&r()}this.__cbOnOwnerUnbindTargetHeightChange=null}if(null!=this.__cbOnceOwnerUnbindTargetHeightChange){for(t=0,i=this.__cbOnceOwnerUnbindTargetHeightChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTargetHeightChange[s])&&r()}this.__cbOnceOwnerUnbindTargetHeightChange=null}this.__cbOnTargetHeightChange=null,this.__cbOnceTargetHeightChange=null}},listensTargetHeightChange:function(){return null!=this.__cbOnTargetHeightChange&&this.__cbOnTargetHeightChange.length>0||null!=this.__cbOnceTargetHeightChange&&this.__cbOnceTargetHeightChange.length>0},targetSize:function(e,n){this.set_targetWidth(e),this.set_targetHeight(n)},get_windowWidth:function(){var e=this.unobservedWindowWidth;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.windowWidthAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.windowWidthAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_windowWidth:function(e){var n=this.unobservedWindowWidth;if(this.unobservedWindowWidth=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitWindowWidthChange(e,n);var t=this.windowWidthAutoruns;if(null!=t){this.windowWidthAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateWindowWidth:function(){var e=this.unobservedWindowWidth;this.emitWindowWidthChange(e,e);var n=this.windowWidthAutoruns;if(null!=n){this.windowWidthAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitWindowWidthChange:function(e,n){var t=0;if(null!=this.__cbOnWindowWidthChange&&(t+=this.__cbOnWindowWidthChange.length),null!=this.__cbOnceWindowWidthChange&&(t+=this.__cbOnceWindowWidthChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnWindowWidthChange)for(var l=0,a=this.__cbOnWindowWidthChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnWindowWidthChange[o],++r):--t}if(null!=this.__cbOnceWindowWidthChange){var h=null,c=null;for(l=0,a=this.__cbOnceWindowWidthChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceWindowWidthChange[o],this.__cbOnceWindowWidthChange[o]=null;var u=this.__cbOnceOwnerUnbindWindowWidthChange[o];this.__cbOnceOwnerUnbindWindowWidthChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindWindowWidthChange[o]),c.push(this.__cbOnceWindowWidthChange[o])}this.__cbOnceOwnerUnbindWindowWidthChange=h,this.__cbOnceWindowWidthChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onWindowWidthChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event windowWidthChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offWindowWidthChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindWindowWidthChange&&(this.__cbOnOwnerUnbindWindowWidthChange=[]),this.__cbOnOwnerUnbindWindowWidthChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindWindowWidthChange&&(this.__cbOnOwnerUnbindWindowWidthChange=[]),this.__cbOnOwnerUnbindWindowWidthChange.push(null);null==this.__cbOnWindowWidthChange&&(this.__cbOnWindowWidthChange=[]),this.__cbOnWindowWidthChange.push(n)},onceWindowWidthChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event windowWidthChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offWindowWidthChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindWindowWidthChange&&(this.__cbOnceOwnerUnbindWindowWidthChange=[]),this.__cbOnceOwnerUnbindWindowWidthChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindWindowWidthChange&&(this.__cbOnceOwnerUnbindWindowWidthChange=[]),this.__cbOnceOwnerUnbindWindowWidthChange.push(null);null==this.__cbOnceWindowWidthChange&&(this.__cbOnceWindowWidthChange=[]),this.__cbOnceWindowWidthChange.push(n)},offWindowWidthChange:function(e){if(null!=e){var n;null!=this.__cbOnWindowWidthChange&&-1!=(n=this.__cbOnWindowWidthChange.indexOf(e))&&(this.__cbOnWindowWidthChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindWindowWidthChange[n])&&r(),this.__cbOnOwnerUnbindWindowWidthChange.splice(n,1)),null!=this.__cbOnceWindowWidthChange&&-1!=(n=this.__cbOnceWindowWidthChange.indexOf(e))&&(this.__cbOnceWindowWidthChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindWindowWidthChange[n])&&r(),this.__cbOnceOwnerUnbindWindowWidthChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWindowWidthChange){for(var t=0,i=this.__cbOnOwnerUnbindWindowWidthChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindWindowWidthChange[s])&&r()}this.__cbOnOwnerUnbindWindowWidthChange=null}if(null!=this.__cbOnceOwnerUnbindWindowWidthChange){for(t=0,i=this.__cbOnceOwnerUnbindWindowWidthChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindWindowWidthChange[s])&&r()}this.__cbOnceOwnerUnbindWindowWidthChange=null}this.__cbOnWindowWidthChange=null,this.__cbOnceWindowWidthChange=null}},listensWindowWidthChange:function(){return null!=this.__cbOnWindowWidthChange&&this.__cbOnWindowWidthChange.length>0||null!=this.__cbOnceWindowWidthChange&&this.__cbOnceWindowWidthChange.length>0},get_windowHeight:function(){var e=this.unobservedWindowHeight;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.windowHeightAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.windowHeightAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_windowHeight:function(e){var n=this.unobservedWindowHeight;if(this.unobservedWindowHeight=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitWindowHeightChange(e,n);var t=this.windowHeightAutoruns;if(null!=t){this.windowHeightAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateWindowHeight:function(){var e=this.unobservedWindowHeight;this.emitWindowHeightChange(e,e);var n=this.windowHeightAutoruns;if(null!=n){this.windowHeightAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitWindowHeightChange:function(e,n){var t=0;if(null!=this.__cbOnWindowHeightChange&&(t+=this.__cbOnWindowHeightChange.length),null!=this.__cbOnceWindowHeightChange&&(t+=this.__cbOnceWindowHeightChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnWindowHeightChange)for(var l=0,a=this.__cbOnWindowHeightChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnWindowHeightChange[o],++r):--t}if(null!=this.__cbOnceWindowHeightChange){var h=null,c=null;for(l=0,a=this.__cbOnceWindowHeightChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceWindowHeightChange[o],this.__cbOnceWindowHeightChange[o]=null;var u=this.__cbOnceOwnerUnbindWindowHeightChange[o];this.__cbOnceOwnerUnbindWindowHeightChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindWindowHeightChange[o]),c.push(this.__cbOnceWindowHeightChange[o])}this.__cbOnceOwnerUnbindWindowHeightChange=h,this.__cbOnceWindowHeightChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onWindowHeightChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event windowHeightChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offWindowHeightChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindWindowHeightChange&&(this.__cbOnOwnerUnbindWindowHeightChange=[]),this.__cbOnOwnerUnbindWindowHeightChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindWindowHeightChange&&(this.__cbOnOwnerUnbindWindowHeightChange=[]),this.__cbOnOwnerUnbindWindowHeightChange.push(null);null==this.__cbOnWindowHeightChange&&(this.__cbOnWindowHeightChange=[]),this.__cbOnWindowHeightChange.push(n)},onceWindowHeightChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event windowHeightChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offWindowHeightChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindWindowHeightChange&&(this.__cbOnceOwnerUnbindWindowHeightChange=[]),this.__cbOnceOwnerUnbindWindowHeightChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindWindowHeightChange&&(this.__cbOnceOwnerUnbindWindowHeightChange=[]),this.__cbOnceOwnerUnbindWindowHeightChange.push(null);null==this.__cbOnceWindowHeightChange&&(this.__cbOnceWindowHeightChange=[]),this.__cbOnceWindowHeightChange.push(n)},offWindowHeightChange:function(e){if(null!=e){var n;null!=this.__cbOnWindowHeightChange&&-1!=(n=this.__cbOnWindowHeightChange.indexOf(e))&&(this.__cbOnWindowHeightChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindWindowHeightChange[n])&&r(),this.__cbOnOwnerUnbindWindowHeightChange.splice(n,1)),null!=this.__cbOnceWindowHeightChange&&-1!=(n=this.__cbOnceWindowHeightChange.indexOf(e))&&(this.__cbOnceWindowHeightChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindWindowHeightChange[n])&&r(),this.__cbOnceOwnerUnbindWindowHeightChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWindowHeightChange){for(var t=0,i=this.__cbOnOwnerUnbindWindowHeightChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindWindowHeightChange[s])&&r()}this.__cbOnOwnerUnbindWindowHeightChange=null}if(null!=this.__cbOnceOwnerUnbindWindowHeightChange){for(t=0,i=this.__cbOnceOwnerUnbindWindowHeightChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindWindowHeightChange[s])&&r()}this.__cbOnceOwnerUnbindWindowHeightChange=null}this.__cbOnWindowHeightChange=null,this.__cbOnceWindowHeightChange=null}},listensWindowHeightChange:function(){return null!=this.__cbOnWindowHeightChange&&this.__cbOnWindowHeightChange.length>0||null!=this.__cbOnceWindowHeightChange&&this.__cbOnceWindowHeightChange.length>0},get_targetDensity:function(){var e=this.unobservedTargetDensity;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.targetDensityAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.targetDensityAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_targetDensity:function(e){var n=this.unobservedTargetDensity;if(this.unobservedTargetDensity=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTargetDensityChange(e,n);var t=this.targetDensityAutoruns;if(null!=t){this.targetDensityAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateTargetDensity:function(){var e=this.unobservedTargetDensity;this.emitTargetDensityChange(e,e);var n=this.targetDensityAutoruns;if(null!=n){this.targetDensityAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitTargetDensityChange:function(e,n){var t=0;if(null!=this.__cbOnTargetDensityChange&&(t+=this.__cbOnTargetDensityChange.length),null!=this.__cbOnceTargetDensityChange&&(t+=this.__cbOnceTargetDensityChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnTargetDensityChange)for(var l=0,a=this.__cbOnTargetDensityChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnTargetDensityChange[o],++r):--t}if(null!=this.__cbOnceTargetDensityChange){var h=null,c=null;for(l=0,a=this.__cbOnceTargetDensityChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceTargetDensityChange[o],this.__cbOnceTargetDensityChange[o]=null;var u=this.__cbOnceOwnerUnbindTargetDensityChange[o];this.__cbOnceOwnerUnbindTargetDensityChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindTargetDensityChange[o]),c.push(this.__cbOnceTargetDensityChange[o])}this.__cbOnceOwnerUnbindTargetDensityChange=h,this.__cbOnceTargetDensityChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onTargetDensityChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event targetDensityChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTargetDensityChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTargetDensityChange&&(this.__cbOnOwnerUnbindTargetDensityChange=[]),this.__cbOnOwnerUnbindTargetDensityChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTargetDensityChange&&(this.__cbOnOwnerUnbindTargetDensityChange=[]),this.__cbOnOwnerUnbindTargetDensityChange.push(null);null==this.__cbOnTargetDensityChange&&(this.__cbOnTargetDensityChange=[]),this.__cbOnTargetDensityChange.push(n)},onceTargetDensityChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event targetDensityChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTargetDensityChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTargetDensityChange&&(this.__cbOnceOwnerUnbindTargetDensityChange=[]),this.__cbOnceOwnerUnbindTargetDensityChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTargetDensityChange&&(this.__cbOnceOwnerUnbindTargetDensityChange=[]),this.__cbOnceOwnerUnbindTargetDensityChange.push(null);null==this.__cbOnceTargetDensityChange&&(this.__cbOnceTargetDensityChange=[]),this.__cbOnceTargetDensityChange.push(n)},offTargetDensityChange:function(e){if(null!=e){var n;null!=this.__cbOnTargetDensityChange&&-1!=(n=this.__cbOnTargetDensityChange.indexOf(e))&&(this.__cbOnTargetDensityChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTargetDensityChange[n])&&r(),this.__cbOnOwnerUnbindTargetDensityChange.splice(n,1)),null!=this.__cbOnceTargetDensityChange&&-1!=(n=this.__cbOnceTargetDensityChange.indexOf(e))&&(this.__cbOnceTargetDensityChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTargetDensityChange[n])&&r(),this.__cbOnceOwnerUnbindTargetDensityChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTargetDensityChange){for(var t=0,i=this.__cbOnOwnerUnbindTargetDensityChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTargetDensityChange[s])&&r()}this.__cbOnOwnerUnbindTargetDensityChange=null}if(null!=this.__cbOnceOwnerUnbindTargetDensityChange){for(t=0,i=this.__cbOnceOwnerUnbindTargetDensityChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTargetDensityChange[s])&&r()}this.__cbOnceOwnerUnbindTargetDensityChange=null}this.__cbOnTargetDensityChange=null,this.__cbOnceTargetDensityChange=null}},listensTargetDensityChange:function(){return null!=this.__cbOnTargetDensityChange&&this.__cbOnTargetDensityChange.length>0||null!=this.__cbOnceTargetDensityChange&&this.__cbOnceTargetDensityChange.length>0},get_background:function(){var e=this.unobservedBackground;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.backgroundAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.backgroundAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_background:function(e){var n=this.unobservedBackground;if(this.unobservedBackground=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitBackgroundChange(e,n);var t=this.backgroundAutoruns;if(null!=t){this.backgroundAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateBackground:function(){var e=this.unobservedBackground;this.emitBackgroundChange(e,e);var n=this.backgroundAutoruns;if(null!=n){this.backgroundAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitBackgroundChange:function(e,n){var t=0;if(null!=this.__cbOnBackgroundChange&&(t+=this.__cbOnBackgroundChange.length),null!=this.__cbOnceBackgroundChange&&(t+=this.__cbOnceBackgroundChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnBackgroundChange)for(var l=0,a=this.__cbOnBackgroundChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnBackgroundChange[o],++r):--t}if(null!=this.__cbOnceBackgroundChange){var h=null,c=null;for(l=0,a=this.__cbOnceBackgroundChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceBackgroundChange[o],this.__cbOnceBackgroundChange[o]=null;var u=this.__cbOnceOwnerUnbindBackgroundChange[o];this.__cbOnceOwnerUnbindBackgroundChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindBackgroundChange[o]),c.push(this.__cbOnceBackgroundChange[o])}this.__cbOnceOwnerUnbindBackgroundChange=h,this.__cbOnceBackgroundChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onBackgroundChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event backgroundChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBackgroundChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBackgroundChange&&(this.__cbOnOwnerUnbindBackgroundChange=[]),this.__cbOnOwnerUnbindBackgroundChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBackgroundChange&&(this.__cbOnOwnerUnbindBackgroundChange=[]),this.__cbOnOwnerUnbindBackgroundChange.push(null);null==this.__cbOnBackgroundChange&&(this.__cbOnBackgroundChange=[]),this.__cbOnBackgroundChange.push(n)},onceBackgroundChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event backgroundChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBackgroundChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBackgroundChange&&(this.__cbOnceOwnerUnbindBackgroundChange=[]),this.__cbOnceOwnerUnbindBackgroundChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBackgroundChange&&(this.__cbOnceOwnerUnbindBackgroundChange=[]),this.__cbOnceOwnerUnbindBackgroundChange.push(null);null==this.__cbOnceBackgroundChange&&(this.__cbOnceBackgroundChange=[]),this.__cbOnceBackgroundChange.push(n)},offBackgroundChange:function(e){if(null!=e){var n;null!=this.__cbOnBackgroundChange&&-1!=(n=this.__cbOnBackgroundChange.indexOf(e))&&(this.__cbOnBackgroundChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBackgroundChange[n])&&r(),this.__cbOnOwnerUnbindBackgroundChange.splice(n,1)),null!=this.__cbOnceBackgroundChange&&-1!=(n=this.__cbOnceBackgroundChange.indexOf(e))&&(this.__cbOnceBackgroundChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBackgroundChange[n])&&r(),this.__cbOnceOwnerUnbindBackgroundChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBackgroundChange){for(var t=0,i=this.__cbOnOwnerUnbindBackgroundChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindBackgroundChange[s])&&r()}this.__cbOnOwnerUnbindBackgroundChange=null}if(null!=this.__cbOnceOwnerUnbindBackgroundChange){for(t=0,i=this.__cbOnceOwnerUnbindBackgroundChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindBackgroundChange[s])&&r()}this.__cbOnceOwnerUnbindBackgroundChange=null}this.__cbOnBackgroundChange=null,this.__cbOnceBackgroundChange=null}},listensBackgroundChange:function(){return null!=this.__cbOnBackgroundChange&&this.__cbOnBackgroundChange.length>0||null!=this.__cbOnceBackgroundChange&&this.__cbOnceBackgroundChange.length>0},get_scaling:function(){var e=this.unobservedScaling;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.scalingAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.scalingAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_scaling:function(e){var n=this.unobservedScaling;if(this.unobservedScaling=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitScalingChange(e,n);var t=this.scalingAutoruns;if(null!=t){this.scalingAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateScaling:function(){var e=this.unobservedScaling;this.emitScalingChange(e,e);var n=this.scalingAutoruns;if(null!=n){this.scalingAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitScalingChange:function(e,n){var t=0;if(null!=this.__cbOnScalingChange&&(t+=this.__cbOnScalingChange.length),null!=this.__cbOnceScalingChange&&(t+=this.__cbOnceScalingChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnScalingChange)for(var l=0,a=this.__cbOnScalingChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnScalingChange[o],++r):--t}if(null!=this.__cbOnceScalingChange){var h=null,c=null;for(l=0,a=this.__cbOnceScalingChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceScalingChange[o],this.__cbOnceScalingChange[o]=null;var u=this.__cbOnceOwnerUnbindScalingChange[o];this.__cbOnceOwnerUnbindScalingChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindScalingChange[o]),c.push(this.__cbOnceScalingChange[o])}this.__cbOnceOwnerUnbindScalingChange=h,this.__cbOnceScalingChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onScalingChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event scalingChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offScalingChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindScalingChange&&(this.__cbOnOwnerUnbindScalingChange=[]),this.__cbOnOwnerUnbindScalingChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindScalingChange&&(this.__cbOnOwnerUnbindScalingChange=[]),this.__cbOnOwnerUnbindScalingChange.push(null);null==this.__cbOnScalingChange&&(this.__cbOnScalingChange=[]),this.__cbOnScalingChange.push(n)},onceScalingChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event scalingChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offScalingChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindScalingChange&&(this.__cbOnceOwnerUnbindScalingChange=[]),this.__cbOnceOwnerUnbindScalingChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindScalingChange&&(this.__cbOnceOwnerUnbindScalingChange=[]),this.__cbOnceOwnerUnbindScalingChange.push(null);null==this.__cbOnceScalingChange&&(this.__cbOnceScalingChange=[]),this.__cbOnceScalingChange.push(n)},offScalingChange:function(e){if(null!=e){var n;null!=this.__cbOnScalingChange&&-1!=(n=this.__cbOnScalingChange.indexOf(e))&&(this.__cbOnScalingChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindScalingChange[n])&&r(),this.__cbOnOwnerUnbindScalingChange.splice(n,1)),null!=this.__cbOnceScalingChange&&-1!=(n=this.__cbOnceScalingChange.indexOf(e))&&(this.__cbOnceScalingChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindScalingChange[n])&&r(),this.__cbOnceOwnerUnbindScalingChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindScalingChange){for(var t=0,i=this.__cbOnOwnerUnbindScalingChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindScalingChange[s])&&r()}this.__cbOnOwnerUnbindScalingChange=null}if(null!=this.__cbOnceOwnerUnbindScalingChange){for(t=0,i=this.__cbOnceOwnerUnbindScalingChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindScalingChange[s])&&r()}this.__cbOnceOwnerUnbindScalingChange=null}this.__cbOnScalingChange=null,this.__cbOnceScalingChange=null}},listensScalingChange:function(){return null!=this.__cbOnScalingChange&&this.__cbOnScalingChange.length>0||null!=this.__cbOnceScalingChange&&this.__cbOnceScalingChange.length>0},get_title:function(){var e=this.unobservedTitle;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.titleAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.titleAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_title:function(e){var n=this.unobservedTitle;if(this.unobservedTitle=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTitleChange(e,n);var t=this.titleAutoruns;if(null!=t){this.titleAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateTitle:function(){var e=this.unobservedTitle;this.emitTitleChange(e,e);var n=this.titleAutoruns;if(null!=n){this.titleAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitTitleChange:function(e,n){var t=0;if(null!=this.__cbOnTitleChange&&(t+=this.__cbOnTitleChange.length),null!=this.__cbOnceTitleChange&&(t+=this.__cbOnceTitleChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnTitleChange)for(var l=0,a=this.__cbOnTitleChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnTitleChange[o],++r):--t}if(null!=this.__cbOnceTitleChange){var h=null,c=null;for(l=0,a=this.__cbOnceTitleChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceTitleChange[o],this.__cbOnceTitleChange[o]=null;var u=this.__cbOnceOwnerUnbindTitleChange[o];this.__cbOnceOwnerUnbindTitleChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindTitleChange[o]),c.push(this.__cbOnceTitleChange[o])}this.__cbOnceOwnerUnbindTitleChange=h,this.__cbOnceTitleChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onTitleChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event titleChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTitleChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTitleChange&&(this.__cbOnOwnerUnbindTitleChange=[]),this.__cbOnOwnerUnbindTitleChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTitleChange&&(this.__cbOnOwnerUnbindTitleChange=[]),this.__cbOnOwnerUnbindTitleChange.push(null);null==this.__cbOnTitleChange&&(this.__cbOnTitleChange=[]),this.__cbOnTitleChange.push(n)},onceTitleChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event titleChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTitleChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTitleChange&&(this.__cbOnceOwnerUnbindTitleChange=[]),this.__cbOnceOwnerUnbindTitleChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTitleChange&&(this.__cbOnceOwnerUnbindTitleChange=[]),this.__cbOnceOwnerUnbindTitleChange.push(null);null==this.__cbOnceTitleChange&&(this.__cbOnceTitleChange=[]),this.__cbOnceTitleChange.push(n)},offTitleChange:function(e){if(null!=e){var n;null!=this.__cbOnTitleChange&&-1!=(n=this.__cbOnTitleChange.indexOf(e))&&(this.__cbOnTitleChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTitleChange[n])&&r(),this.__cbOnOwnerUnbindTitleChange.splice(n,1)),null!=this.__cbOnceTitleChange&&-1!=(n=this.__cbOnceTitleChange.indexOf(e))&&(this.__cbOnceTitleChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTitleChange[n])&&r(),this.__cbOnceOwnerUnbindTitleChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTitleChange){for(var t=0,i=this.__cbOnOwnerUnbindTitleChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTitleChange[s])&&r()}this.__cbOnOwnerUnbindTitleChange=null}if(null!=this.__cbOnceOwnerUnbindTitleChange){for(t=0,i=this.__cbOnceOwnerUnbindTitleChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTitleChange[s])&&r()}this.__cbOnceOwnerUnbindTitleChange=null}this.__cbOnTitleChange=null,this.__cbOnceTitleChange=null}},listensTitleChange:function(){return null!=this.__cbOnTitleChange&&this.__cbOnTitleChange.length>0||null!=this.__cbOnceTitleChange&&this.__cbOnceTitleChange.length>0},get_fullscreen:function(){var e=this.unobservedFullscreen;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.fullscreenAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.fullscreenAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_fullscreen:function(e){var n=this.unobservedFullscreen;if(this.unobservedFullscreen=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFullscreenChange(e,n);var t=this.fullscreenAutoruns;if(null!=t){this.fullscreenAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateFullscreen:function(){var e=this.unobservedFullscreen;this.emitFullscreenChange(e,e);var n=this.fullscreenAutoruns;if(null!=n){this.fullscreenAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitFullscreenChange:function(e,n){var t=0;if(null!=this.__cbOnFullscreenChange&&(t+=this.__cbOnFullscreenChange.length),null!=this.__cbOnceFullscreenChange&&(t+=this.__cbOnceFullscreenChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnFullscreenChange)for(var l=0,a=this.__cbOnFullscreenChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnFullscreenChange[o],++r):--t}if(null!=this.__cbOnceFullscreenChange){var h=null,c=null;for(l=0,a=this.__cbOnceFullscreenChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceFullscreenChange[o],this.__cbOnceFullscreenChange[o]=null;var u=this.__cbOnceOwnerUnbindFullscreenChange[o];this.__cbOnceOwnerUnbindFullscreenChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindFullscreenChange[o]),c.push(this.__cbOnceFullscreenChange[o])}this.__cbOnceOwnerUnbindFullscreenChange=h,this.__cbOnceFullscreenChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onFullscreenChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event fullscreenChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFullscreenChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFullscreenChange&&(this.__cbOnOwnerUnbindFullscreenChange=[]),this.__cbOnOwnerUnbindFullscreenChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFullscreenChange&&(this.__cbOnOwnerUnbindFullscreenChange=[]),this.__cbOnOwnerUnbindFullscreenChange.push(null);null==this.__cbOnFullscreenChange&&(this.__cbOnFullscreenChange=[]),this.__cbOnFullscreenChange.push(n)},onceFullscreenChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event fullscreenChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFullscreenChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFullscreenChange&&(this.__cbOnceOwnerUnbindFullscreenChange=[]),this.__cbOnceOwnerUnbindFullscreenChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFullscreenChange&&(this.__cbOnceOwnerUnbindFullscreenChange=[]),this.__cbOnceOwnerUnbindFullscreenChange.push(null);null==this.__cbOnceFullscreenChange&&(this.__cbOnceFullscreenChange=[]),this.__cbOnceFullscreenChange.push(n)},offFullscreenChange:function(e){if(null!=e){var n;null!=this.__cbOnFullscreenChange&&-1!=(n=this.__cbOnFullscreenChange.indexOf(e))&&(this.__cbOnFullscreenChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFullscreenChange[n])&&r(),this.__cbOnOwnerUnbindFullscreenChange.splice(n,1)),null!=this.__cbOnceFullscreenChange&&-1!=(n=this.__cbOnceFullscreenChange.indexOf(e))&&(this.__cbOnceFullscreenChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFullscreenChange[n])&&r(),this.__cbOnceOwnerUnbindFullscreenChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFullscreenChange){for(var t=0,i=this.__cbOnOwnerUnbindFullscreenChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindFullscreenChange[s])&&r()}this.__cbOnOwnerUnbindFullscreenChange=null}if(null!=this.__cbOnceOwnerUnbindFullscreenChange){for(t=0,i=this.__cbOnceOwnerUnbindFullscreenChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindFullscreenChange[s])&&r()}this.__cbOnceOwnerUnbindFullscreenChange=null}this.__cbOnFullscreenChange=null,this.__cbOnceFullscreenChange=null}},listensFullscreenChange:function(){return null!=this.__cbOnFullscreenChange&&this.__cbOnFullscreenChange.length>0||null!=this.__cbOnceFullscreenChange&&this.__cbOnceFullscreenChange.length>0},get_targetFps:function(){var e=this.unobservedTargetFps;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.targetFpsAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.targetFpsAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_targetFps:function(e){var n=this.unobservedTargetFps;if(this.unobservedTargetFps=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTargetFpsChange(e,n);var t=this.targetFpsAutoruns;if(null!=t){this.targetFpsAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateTargetFps:function(){var e=this.unobservedTargetFps;this.emitTargetFpsChange(e,e);var n=this.targetFpsAutoruns;if(null!=n){this.targetFpsAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitTargetFpsChange:function(e,n){var t=0;if(null!=this.__cbOnTargetFpsChange&&(t+=this.__cbOnTargetFpsChange.length),null!=this.__cbOnceTargetFpsChange&&(t+=this.__cbOnceTargetFpsChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnTargetFpsChange)for(var l=0,a=this.__cbOnTargetFpsChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnTargetFpsChange[o],++r):--t}if(null!=this.__cbOnceTargetFpsChange){var h=null,c=null;for(l=0,a=this.__cbOnceTargetFpsChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceTargetFpsChange[o],this.__cbOnceTargetFpsChange[o]=null;var u=this.__cbOnceOwnerUnbindTargetFpsChange[o];this.__cbOnceOwnerUnbindTargetFpsChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindTargetFpsChange[o]),c.push(this.__cbOnceTargetFpsChange[o])}this.__cbOnceOwnerUnbindTargetFpsChange=h,this.__cbOnceTargetFpsChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onTargetFpsChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event targetFpsChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTargetFpsChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTargetFpsChange&&(this.__cbOnOwnerUnbindTargetFpsChange=[]),this.__cbOnOwnerUnbindTargetFpsChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTargetFpsChange&&(this.__cbOnOwnerUnbindTargetFpsChange=[]),this.__cbOnOwnerUnbindTargetFpsChange.push(null);null==this.__cbOnTargetFpsChange&&(this.__cbOnTargetFpsChange=[]),this.__cbOnTargetFpsChange.push(n)},onceTargetFpsChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event targetFpsChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTargetFpsChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTargetFpsChange&&(this.__cbOnceOwnerUnbindTargetFpsChange=[]),this.__cbOnceOwnerUnbindTargetFpsChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTargetFpsChange&&(this.__cbOnceOwnerUnbindTargetFpsChange=[]),this.__cbOnceOwnerUnbindTargetFpsChange.push(null);null==this.__cbOnceTargetFpsChange&&(this.__cbOnceTargetFpsChange=[]),this.__cbOnceTargetFpsChange.push(n)},offTargetFpsChange:function(e){if(null!=e){var n;null!=this.__cbOnTargetFpsChange&&-1!=(n=this.__cbOnTargetFpsChange.indexOf(e))&&(this.__cbOnTargetFpsChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTargetFpsChange[n])&&r(),this.__cbOnOwnerUnbindTargetFpsChange.splice(n,1)),null!=this.__cbOnceTargetFpsChange&&-1!=(n=this.__cbOnceTargetFpsChange.indexOf(e))&&(this.__cbOnceTargetFpsChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTargetFpsChange[n])&&r(),this.__cbOnceOwnerUnbindTargetFpsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTargetFpsChange){for(var t=0,i=this.__cbOnOwnerUnbindTargetFpsChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTargetFpsChange[s])&&r()}this.__cbOnOwnerUnbindTargetFpsChange=null}if(null!=this.__cbOnceOwnerUnbindTargetFpsChange){for(t=0,i=this.__cbOnceOwnerUnbindTargetFpsChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTargetFpsChange[s])&&r()}this.__cbOnceOwnerUnbindTargetFpsChange=null}this.__cbOnTargetFpsChange=null,this.__cbOnceTargetFpsChange=null}},listensTargetFpsChange:function(){return null!=this.__cbOnTargetFpsChange&&this.__cbOnTargetFpsChange.length>0||null!=this.__cbOnceTargetFpsChange&&this.__cbOnceTargetFpsChange.length>0},get_maxDelta:function(){var e=this.unobservedMaxDelta;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.maxDeltaAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.maxDeltaAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_maxDelta:function(e){var n=this.unobservedMaxDelta;if(this.unobservedMaxDelta=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitMaxDeltaChange(e,n);var t=this.maxDeltaAutoruns;if(null!=t){this.maxDeltaAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateMaxDelta:function(){var e=this.unobservedMaxDelta;this.emitMaxDeltaChange(e,e);var n=this.maxDeltaAutoruns;if(null!=n){this.maxDeltaAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitMaxDeltaChange:function(e,n){var t=0;if(null!=this.__cbOnMaxDeltaChange&&(t+=this.__cbOnMaxDeltaChange.length),null!=this.__cbOnceMaxDeltaChange&&(t+=this.__cbOnceMaxDeltaChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnMaxDeltaChange)for(var l=0,a=this.__cbOnMaxDeltaChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnMaxDeltaChange[o],++r):--t}if(null!=this.__cbOnceMaxDeltaChange){var h=null,c=null;for(l=0,a=this.__cbOnceMaxDeltaChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceMaxDeltaChange[o],this.__cbOnceMaxDeltaChange[o]=null;var u=this.__cbOnceOwnerUnbindMaxDeltaChange[o];this.__cbOnceOwnerUnbindMaxDeltaChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindMaxDeltaChange[o]),c.push(this.__cbOnceMaxDeltaChange[o])}this.__cbOnceOwnerUnbindMaxDeltaChange=h,this.__cbOnceMaxDeltaChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onMaxDeltaChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event maxDeltaChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMaxDeltaChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindMaxDeltaChange&&(this.__cbOnOwnerUnbindMaxDeltaChange=[]),this.__cbOnOwnerUnbindMaxDeltaChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindMaxDeltaChange&&(this.__cbOnOwnerUnbindMaxDeltaChange=[]),this.__cbOnOwnerUnbindMaxDeltaChange.push(null);null==this.__cbOnMaxDeltaChange&&(this.__cbOnMaxDeltaChange=[]),this.__cbOnMaxDeltaChange.push(n)},onceMaxDeltaChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event maxDeltaChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offMaxDeltaChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindMaxDeltaChange&&(this.__cbOnceOwnerUnbindMaxDeltaChange=[]),this.__cbOnceOwnerUnbindMaxDeltaChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindMaxDeltaChange&&(this.__cbOnceOwnerUnbindMaxDeltaChange=[]),this.__cbOnceOwnerUnbindMaxDeltaChange.push(null);null==this.__cbOnceMaxDeltaChange&&(this.__cbOnceMaxDeltaChange=[]),this.__cbOnceMaxDeltaChange.push(n)},offMaxDeltaChange:function(e){if(null!=e){var n;null!=this.__cbOnMaxDeltaChange&&-1!=(n=this.__cbOnMaxDeltaChange.indexOf(e))&&(this.__cbOnMaxDeltaChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindMaxDeltaChange[n])&&r(),this.__cbOnOwnerUnbindMaxDeltaChange.splice(n,1)),null!=this.__cbOnceMaxDeltaChange&&-1!=(n=this.__cbOnceMaxDeltaChange.indexOf(e))&&(this.__cbOnceMaxDeltaChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindMaxDeltaChange[n])&&r(),this.__cbOnceOwnerUnbindMaxDeltaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindMaxDeltaChange){for(var t=0,i=this.__cbOnOwnerUnbindMaxDeltaChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindMaxDeltaChange[s])&&r()}this.__cbOnOwnerUnbindMaxDeltaChange=null}if(null!=this.__cbOnceOwnerUnbindMaxDeltaChange){for(t=0,i=this.__cbOnceOwnerUnbindMaxDeltaChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindMaxDeltaChange[s])&&r()}this.__cbOnceOwnerUnbindMaxDeltaChange=null}this.__cbOnMaxDeltaChange=null,this.__cbOnceMaxDeltaChange=null}},listensMaxDeltaChange:function(){return null!=this.__cbOnMaxDeltaChange&&this.__cbOnMaxDeltaChange.length>0||null!=this.__cbOnceMaxDeltaChange&&this.__cbOnceMaxDeltaChange.length>0},get_overrideDelta:function(){var e=this.unobservedOverrideDelta;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.overrideDeltaAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.overrideDeltaAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_overrideDelta:function(e){var n=this.unobservedOverrideDelta;if(this.unobservedOverrideDelta=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitOverrideDeltaChange(e,n);var t=this.overrideDeltaAutoruns;if(null!=t){this.overrideDeltaAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateOverrideDelta:function(){var e=this.unobservedOverrideDelta;this.emitOverrideDeltaChange(e,e);var n=this.overrideDeltaAutoruns;if(null!=n){this.overrideDeltaAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitOverrideDeltaChange:function(e,n){var t=0;if(null!=this.__cbOnOverrideDeltaChange&&(t+=this.__cbOnOverrideDeltaChange.length),null!=this.__cbOnceOverrideDeltaChange&&(t+=this.__cbOnceOverrideDeltaChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnOverrideDeltaChange)for(var l=0,a=this.__cbOnOverrideDeltaChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnOverrideDeltaChange[o],++r):--t}if(null!=this.__cbOnceOverrideDeltaChange){var h=null,c=null;for(l=0,a=this.__cbOnceOverrideDeltaChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceOverrideDeltaChange[o],this.__cbOnceOverrideDeltaChange[o]=null;var u=this.__cbOnceOwnerUnbindOverrideDeltaChange[o];this.__cbOnceOwnerUnbindOverrideDeltaChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindOverrideDeltaChange[o]),c.push(this.__cbOnceOverrideDeltaChange[o])}this.__cbOnceOwnerUnbindOverrideDeltaChange=h,this.__cbOnceOverrideDeltaChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onOverrideDeltaChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event overrideDeltaChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offOverrideDeltaChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindOverrideDeltaChange&&(this.__cbOnOwnerUnbindOverrideDeltaChange=[]),this.__cbOnOwnerUnbindOverrideDeltaChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindOverrideDeltaChange&&(this.__cbOnOwnerUnbindOverrideDeltaChange=[]),this.__cbOnOwnerUnbindOverrideDeltaChange.push(null);null==this.__cbOnOverrideDeltaChange&&(this.__cbOnOverrideDeltaChange=[]),this.__cbOnOverrideDeltaChange.push(n)},onceOverrideDeltaChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event overrideDeltaChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offOverrideDeltaChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindOverrideDeltaChange&&(this.__cbOnceOwnerUnbindOverrideDeltaChange=[]),this.__cbOnceOwnerUnbindOverrideDeltaChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindOverrideDeltaChange&&(this.__cbOnceOwnerUnbindOverrideDeltaChange=[]),this.__cbOnceOwnerUnbindOverrideDeltaChange.push(null);null==this.__cbOnceOverrideDeltaChange&&(this.__cbOnceOverrideDeltaChange=[]),this.__cbOnceOverrideDeltaChange.push(n)},offOverrideDeltaChange:function(e){if(null!=e){var n;null!=this.__cbOnOverrideDeltaChange&&-1!=(n=this.__cbOnOverrideDeltaChange.indexOf(e))&&(this.__cbOnOverrideDeltaChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindOverrideDeltaChange[n])&&r(),this.__cbOnOwnerUnbindOverrideDeltaChange.splice(n,1)),null!=this.__cbOnceOverrideDeltaChange&&-1!=(n=this.__cbOnceOverrideDeltaChange.indexOf(e))&&(this.__cbOnceOverrideDeltaChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindOverrideDeltaChange[n])&&r(),this.__cbOnceOwnerUnbindOverrideDeltaChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindOverrideDeltaChange){for(var t=0,i=this.__cbOnOwnerUnbindOverrideDeltaChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindOverrideDeltaChange[s])&&r()}this.__cbOnOwnerUnbindOverrideDeltaChange=null}if(null!=this.__cbOnceOwnerUnbindOverrideDeltaChange){for(t=0,i=this.__cbOnceOwnerUnbindOverrideDeltaChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindOverrideDeltaChange[s])&&r()}this.__cbOnceOwnerUnbindOverrideDeltaChange=null}this.__cbOnOverrideDeltaChange=null,this.__cbOnceOverrideDeltaChange=null}},listensOverrideDeltaChange:function(){return null!=this.__cbOnOverrideDeltaChange&&this.__cbOnOverrideDeltaChange.length>0||null!=this.__cbOnceOverrideDeltaChange&&this.__cbOnceOverrideDeltaChange.length>0},get_preventDefaultMouseWheel:function(){var e=this.unobservedPreventDefaultMouseWheel;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.preventDefaultMouseWheelAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.preventDefaultMouseWheelAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_preventDefaultMouseWheel:function(e){var n=this.unobservedPreventDefaultMouseWheel;if(this.unobservedPreventDefaultMouseWheel=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitPreventDefaultMouseWheelChange(e,n);var t=this.preventDefaultMouseWheelAutoruns;if(null!=t){this.preventDefaultMouseWheelAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidatePreventDefaultMouseWheel:function(){var e=this.unobservedPreventDefaultMouseWheel;this.emitPreventDefaultMouseWheelChange(e,e);var n=this.preventDefaultMouseWheelAutoruns;if(null!=n){this.preventDefaultMouseWheelAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitPreventDefaultMouseWheelChange:function(e,n){var t=0;if(null!=this.__cbOnPreventDefaultMouseWheelChange&&(t+=this.__cbOnPreventDefaultMouseWheelChange.length),null!=this.__cbOncePreventDefaultMouseWheelChange&&(t+=this.__cbOncePreventDefaultMouseWheelChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnPreventDefaultMouseWheelChange)for(var l=0,a=this.__cbOnPreventDefaultMouseWheelChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnPreventDefaultMouseWheelChange[o],++r):--t}if(null!=this.__cbOncePreventDefaultMouseWheelChange){var h=null,c=null;for(l=0,a=this.__cbOncePreventDefaultMouseWheelChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOncePreventDefaultMouseWheelChange[o],this.__cbOncePreventDefaultMouseWheelChange[o]=null;var u=this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange[o];this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange[o]),c.push(this.__cbOncePreventDefaultMouseWheelChange[o])}this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange=h,this.__cbOncePreventDefaultMouseWheelChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onPreventDefaultMouseWheelChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event preventDefaultMouseWheelChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPreventDefaultMouseWheelChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange&&(this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange=[]),this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange&&(this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange=[]),this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange.push(null);null==this.__cbOnPreventDefaultMouseWheelChange&&(this.__cbOnPreventDefaultMouseWheelChange=[]),this.__cbOnPreventDefaultMouseWheelChange.push(n)},oncePreventDefaultMouseWheelChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event preventDefaultMouseWheelChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPreventDefaultMouseWheelChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange&&(this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange=[]),this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange&&(this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange=[]),this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange.push(null);null==this.__cbOncePreventDefaultMouseWheelChange&&(this.__cbOncePreventDefaultMouseWheelChange=[]),this.__cbOncePreventDefaultMouseWheelChange.push(n)},offPreventDefaultMouseWheelChange:function(e){if(null!=e){var n;null!=this.__cbOnPreventDefaultMouseWheelChange&&-1!=(n=this.__cbOnPreventDefaultMouseWheelChange.indexOf(e))&&(this.__cbOnPreventDefaultMouseWheelChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange[n])&&r(),this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange.splice(n,1)),null!=this.__cbOncePreventDefaultMouseWheelChange&&-1!=(n=this.__cbOncePreventDefaultMouseWheelChange.indexOf(e))&&(this.__cbOncePreventDefaultMouseWheelChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange[n])&&r(),this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange){for(var t=0,i=this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange[s])&&r()}this.__cbOnOwnerUnbindPreventDefaultMouseWheelChange=null}if(null!=this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange){for(t=0,i=this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange[s])&&r()}this.__cbOnceOwnerUnbindPreventDefaultMouseWheelChange=null}this.__cbOnPreventDefaultMouseWheelChange=null,this.__cbOncePreventDefaultMouseWheelChange=null}},listensPreventDefaultMouseWheelChange:function(){return null!=this.__cbOnPreventDefaultMouseWheelChange&&this.__cbOnPreventDefaultMouseWheelChange.length>0||null!=this.__cbOncePreventDefaultMouseWheelChange&&this.__cbOncePreventDefaultMouseWheelChange.length>0},get_preventDefaultTouches:function(){var e=this.unobservedPreventDefaultTouches;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.preventDefaultTouchesAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.preventDefaultTouchesAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_preventDefaultTouches:function(e){var n=this.unobservedPreventDefaultTouches;if(this.unobservedPreventDefaultTouches=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitPreventDefaultTouchesChange(e,n);var t=this.preventDefaultTouchesAutoruns;if(null!=t){this.preventDefaultTouchesAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidatePreventDefaultTouches:function(){var e=this.unobservedPreventDefaultTouches;this.emitPreventDefaultTouchesChange(e,e);var n=this.preventDefaultTouchesAutoruns;if(null!=n){this.preventDefaultTouchesAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitPreventDefaultTouchesChange:function(e,n){var t=0;if(null!=this.__cbOnPreventDefaultTouchesChange&&(t+=this.__cbOnPreventDefaultTouchesChange.length),null!=this.__cbOncePreventDefaultTouchesChange&&(t+=this.__cbOncePreventDefaultTouchesChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnPreventDefaultTouchesChange)for(var l=0,a=this.__cbOnPreventDefaultTouchesChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnPreventDefaultTouchesChange[o],++r):--t}if(null!=this.__cbOncePreventDefaultTouchesChange){var h=null,c=null;for(l=0,a=this.__cbOncePreventDefaultTouchesChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOncePreventDefaultTouchesChange[o],this.__cbOncePreventDefaultTouchesChange[o]=null;var u=this.__cbOnceOwnerUnbindPreventDefaultTouchesChange[o];this.__cbOnceOwnerUnbindPreventDefaultTouchesChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindPreventDefaultTouchesChange[o]),c.push(this.__cbOncePreventDefaultTouchesChange[o])}this.__cbOnceOwnerUnbindPreventDefaultTouchesChange=h,this.__cbOncePreventDefaultTouchesChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onPreventDefaultTouchesChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event preventDefaultTouchesChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPreventDefaultTouchesChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindPreventDefaultTouchesChange&&(this.__cbOnOwnerUnbindPreventDefaultTouchesChange=[]),this.__cbOnOwnerUnbindPreventDefaultTouchesChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindPreventDefaultTouchesChange&&(this.__cbOnOwnerUnbindPreventDefaultTouchesChange=[]),this.__cbOnOwnerUnbindPreventDefaultTouchesChange.push(null);null==this.__cbOnPreventDefaultTouchesChange&&(this.__cbOnPreventDefaultTouchesChange=[]),this.__cbOnPreventDefaultTouchesChange.push(n)},oncePreventDefaultTouchesChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event preventDefaultTouchesChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offPreventDefaultTouchesChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindPreventDefaultTouchesChange&&(this.__cbOnceOwnerUnbindPreventDefaultTouchesChange=[]),this.__cbOnceOwnerUnbindPreventDefaultTouchesChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindPreventDefaultTouchesChange&&(this.__cbOnceOwnerUnbindPreventDefaultTouchesChange=[]),this.__cbOnceOwnerUnbindPreventDefaultTouchesChange.push(null);null==this.__cbOncePreventDefaultTouchesChange&&(this.__cbOncePreventDefaultTouchesChange=[]),this.__cbOncePreventDefaultTouchesChange.push(n)},offPreventDefaultTouchesChange:function(e){if(null!=e){var n;null!=this.__cbOnPreventDefaultTouchesChange&&-1!=(n=this.__cbOnPreventDefaultTouchesChange.indexOf(e))&&(this.__cbOnPreventDefaultTouchesChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindPreventDefaultTouchesChange[n])&&r(),this.__cbOnOwnerUnbindPreventDefaultTouchesChange.splice(n,1)),null!=this.__cbOncePreventDefaultTouchesChange&&-1!=(n=this.__cbOncePreventDefaultTouchesChange.indexOf(e))&&(this.__cbOncePreventDefaultTouchesChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindPreventDefaultTouchesChange[n])&&r(),this.__cbOnceOwnerUnbindPreventDefaultTouchesChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindPreventDefaultTouchesChange){for(var t=0,i=this.__cbOnOwnerUnbindPreventDefaultTouchesChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindPreventDefaultTouchesChange[s])&&r()}this.__cbOnOwnerUnbindPreventDefaultTouchesChange=null}if(null!=this.__cbOnceOwnerUnbindPreventDefaultTouchesChange){for(t=0,i=this.__cbOnceOwnerUnbindPreventDefaultTouchesChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindPreventDefaultTouchesChange[s])&&r()}this.__cbOnceOwnerUnbindPreventDefaultTouchesChange=null}this.__cbOnPreventDefaultTouchesChange=null,this.__cbOncePreventDefaultTouchesChange=null}},listensPreventDefaultTouchesChange:function(){return null!=this.__cbOnPreventDefaultTouchesChange&&this.__cbOnPreventDefaultTouchesChange.length>0||null!=this.__cbOncePreventDefaultTouchesChange&&this.__cbOncePreventDefaultTouchesChange.length>0},unbindEvents:function(){this.offObservedDirty(),this.offTargetWidthChange(),this.offTargetHeightChange(),this.offWindowWidthChange(),this.offWindowHeightChange(),this.offTargetDensityChange(),this.offBackgroundChange(),this.offScalingChange(),this.offTitleChange(),this.offFullscreenChange(),this.offTargetFpsChange(),this.offMaxDeltaChange(),this.offOverrideDeltaChange(),this.offPreventDefaultMouseWheelChange(),this.offPreventDefaultTouchesChange()},__class__:ceramic_Settings,__properties__:{set_preventDefaultTouches:"set_preventDefaultTouches",get_preventDefaultTouches:"get_preventDefaultTouches",set_preventDefaultMouseWheel:"set_preventDefaultMouseWheel",get_preventDefaultMouseWheel:"get_preventDefaultMouseWheel",set_overrideDelta:"set_overrideDelta",get_overrideDelta:"get_overrideDelta",set_maxDelta:"set_maxDelta",get_maxDelta:"get_maxDelta",set_targetFps:"set_targetFps",get_targetFps:"get_targetFps",set_fullscreen:"set_fullscreen",get_fullscreen:"get_fullscreen",set_title:"set_title",get_title:"get_title",set_scaling:"set_scaling",get_scaling:"get_scaling",set_background:"set_background",get_background:"get_background",set_targetDensity:"set_targetDensity",get_targetDensity:"get_targetDensity",set_windowHeight:"set_windowHeight",get_windowHeight:"get_windowHeight",set_windowWidth:"set_windowWidth",get_windowWidth:"get_windowWidth",set_targetHeight:"set_targetHeight",get_targetHeight:"get_targetHeight",set_targetWidth:"set_targetWidth",get_targetWidth:"get_targetWidth"}};var ceramic_Shader=function(e,n){this.usedTextures=null,this.textureSlots=null,ceramic_Entity.call(this),this.backendItem=e;var t=[new ceramic_ShaderAttribute(3,"vertexPosition"),new ceramic_ShaderAttribute(2,"vertexTCoord"),new ceramic_ShaderAttribute(4,"vertexColor")];if(null!=n)for(var i=0,s=n.length;i<s;){var r=n[i++];t.push(r)}this.attributes=t,this.customAttributes=n;ceramic_App.app.backend.shaders;var l=0,a=e.customAttributes;if(null!=a)for(i=0,s=a.length;i<s;){l+=a[i++].size}this.customFloatAttributesSize=l};t["ceramic.Shader"]=ceramic_Shader,ceramic_Shader.__name__="ceramic.Shader",ceramic_Shader.fromSource=function(e,n){for(var t=ceramic_App.app.backend.shaders,i=e,s=n,r=!1,l=0,a=s.split("\n");l<a.length;){var o=a[l];if(++l,"//ceramic:multitexture"==StringTools.replace(StringTools.trim(o)," ","").toLowerCase()){r=!0;break}}var h=["tex0"];if(r){var c=ceramic_App.app.backend.textures.maxTexturesByBatch(),u=t.maxIfStatementsByFragmentShader(),_=0|Math.min(c,u);if(_>1)for(var d=1;d<=_;)h.push("tex"+d),++d;s=backend_Shaders.processMultiTextureFragTemplate(s,c,u),i=backend_Shaders.processMultiTextureVertTemplate(i,c,u)}var f=!1,p=!1;clay_Clay.app.runtime.webglVersion>=2&&(f=!0,p=!0),f&&(s=backend_Shaders.removeExtensions(s),i=backend_Shaders.removeExtensions(i)),p&&(s=backend_Shaders.convertToGLES3(s,!0),i=backend_Shaders.convertToGLES3(i,!1));var b=new backend_ShaderImpl;b.attributes=r?backend_Shaders.SHADER_ATTRIBUTES_MULTITEXTURE:backend_Shaders.SHADER_ATTRIBUTES,b.textures=h,b.vertSource=i,b.fragSource=s,b.isBatchingMultiTexture=r,b.customAttributes=null,b.init();return null==b?null:new ceramic_Shader(b)},ceramic_Shader.__super__=ceramic_Entity,ceramic_Shader.prototype=$extend(ceramic_Entity.prototype,{destroy:function(){if(!(this._lifecycleState<=-2)){this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),null!=this.asset&&this.asset.destroy();ceramic_App.app.backend.shaders;this.backendItem.destroy(),this.backendItem=null,this.attributes=null}},clone:function(){ceramic_App.app.backend.shaders;var e=this.backendItem.clone();return new ceramic_Shader(e,this.customAttributes)},setInt:function(e,n){ceramic_App.app.backend.shaders;this.backendItem.uniforms.setInt(e,n)},setFloat:function(e,n){ceramic_App.app.backend.shaders;this.backendItem.uniforms.setFloat(e,n)},setColor:function(e,n){ceramic_App.app.backend.shaders;this.backendItem.uniforms.setColor(e,(n>>16&255)/255,(n>>8&255)/255,(255&n)/255,1)},setAlphaColor:function(e,n){ceramic_App.app.backend.shaders;this.backendItem.uniforms.setColor(e,(n>>16&255)/255,(n>>8&255)/255,(255&n)/255,(n>>24&255)/255)},setVec2:function(e,n,t){ceramic_App.app.backend.shaders;this.backendItem.uniforms.setVector2(e,n,t)},setVec3:function(e,n,t,i){ceramic_App.app.backend.shaders;this.backendItem.uniforms.setVector3(e,n,t,i)},setVec4:function(e,n,t,i,s){ceramic_App.app.backend.shaders;this.backendItem.uniforms.setVector4(e,n,t,i,s)},setFloatArray:function(e,n){ceramic_App.app.backend.shaders;this.backendItem.uniforms.setFloatArray(e,new Float32Array(n))},setTexture:function(e,n,t){null==this.textureSlots&&(this.textureSlots=new ceramic_IntMap,this.usedTextures=[]);var i=this.textureSlots.get(n);null!=i&&this.usedTextures.splice(this.usedTextures.indexOf(i),1),this.textureSlots.set(n,t),null!=t&&this.usedTextures.push(t);ceramic_App.app.backend.shaders;this.backendItem.uniforms.setTexture(e,n,null!=t?t.backendItem:null)},setMat4FromTransform:function(e,n){ceramic_App.app.backend.shaders;this.backendItem.uniforms.setMatrix4(e,new Float32Array([n.a,n.b,0,0,n.c,n.d,0,0,0,0,1,0,n.tx,n.ty,0,1]))},toString:function(){if(null!=this.id){var e=this.id;return StringTools.startsWith(e,"shader:")&&(e=HxOverrides.substr(e,7,null)),null!=this.asset&&null!=this.asset.options.vertId||null!=this.asset.options.fragId?"Shader("+e+" "+(null!=this.asset.options.vertId?this.asset.options.vertId:"default")+" "+(null!=this.asset.options.fragId?this.asset.options.fragId:"default")+")":"Shader("+e+")"}return"Shader()"},__class__:ceramic_Shader});var ceramic_ShaderAsset=function(e,n,t){this.unobservedShader=null,this.shaderAutoruns=null,ceramic_Asset.call(this,"shader",e,n,t)};t["ceramic.ShaderAsset"]=ceramic_ShaderAsset,ceramic_ShaderAsset.__name__="ceramic.ShaderAsset",ceramic_ShaderAsset.__super__=ceramic_Asset,ceramic_ShaderAsset.prototype=$extend(ceramic_Asset.prototype,{get_shader:function(){var e=this.unobservedShader;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.shaderAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.shaderAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_shader:function(e){var n=this.unobservedShader;if(this.unobservedShader=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitShaderChange(e,n);var t=this.shaderAutoruns;if(null!=t){this.shaderAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateShader:function(){var e=this.unobservedShader;this.emitShaderChange(e,e);var n=this.shaderAutoruns;if(null!=n){this.shaderAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitShaderChange:function(e,n){var t=0;if(null!=this.__cbOnShaderChange&&(t+=this.__cbOnShaderChange.length),null!=this.__cbOnceShaderChange&&(t+=this.__cbOnceShaderChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnShaderChange)for(var l=0,a=this.__cbOnShaderChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnShaderChange[o],++r):--t}if(null!=this.__cbOnceShaderChange){var h=null,c=null;for(l=0,a=this.__cbOnceShaderChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceShaderChange[o],this.__cbOnceShaderChange[o]=null;var u=this.__cbOnceOwnerUnbindShaderChange[o];this.__cbOnceOwnerUnbindShaderChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindShaderChange[o]),c.push(this.__cbOnceShaderChange[o])}this.__cbOnceOwnerUnbindShaderChange=h,this.__cbOnceShaderChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onShaderChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event shaderChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offShaderChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindShaderChange&&(this.__cbOnOwnerUnbindShaderChange=[]),this.__cbOnOwnerUnbindShaderChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindShaderChange&&(this.__cbOnOwnerUnbindShaderChange=[]),this.__cbOnOwnerUnbindShaderChange.push(null);null==this.__cbOnShaderChange&&(this.__cbOnShaderChange=[]),this.__cbOnShaderChange.push(n)},onceShaderChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event shaderChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offShaderChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindShaderChange&&(this.__cbOnceOwnerUnbindShaderChange=[]),this.__cbOnceOwnerUnbindShaderChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindShaderChange&&(this.__cbOnceOwnerUnbindShaderChange=[]),this.__cbOnceOwnerUnbindShaderChange.push(null);null==this.__cbOnceShaderChange&&(this.__cbOnceShaderChange=[]),this.__cbOnceShaderChange.push(n)},offShaderChange:function(e){if(null!=e){var n;null!=this.__cbOnShaderChange&&-1!=(n=this.__cbOnShaderChange.indexOf(e))&&(this.__cbOnShaderChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindShaderChange[n])&&r(),this.__cbOnOwnerUnbindShaderChange.splice(n,1)),null!=this.__cbOnceShaderChange&&-1!=(n=this.__cbOnceShaderChange.indexOf(e))&&(this.__cbOnceShaderChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindShaderChange[n])&&r(),this.__cbOnceOwnerUnbindShaderChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindShaderChange){for(var t=0,i=this.__cbOnOwnerUnbindShaderChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindShaderChange[s])&&r()}this.__cbOnOwnerUnbindShaderChange=null}if(null!=this.__cbOnceOwnerUnbindShaderChange){for(t=0,i=this.__cbOnceOwnerUnbindShaderChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindShaderChange[s])&&r()}this.__cbOnceOwnerUnbindShaderChange=null}this.__cbOnShaderChange=null,this.__cbOnceShaderChange=null}},listensShaderChange:function(){return null!=this.__cbOnShaderChange&&this.__cbOnShaderChange.length>0||null!=this.__cbOnceShaderChange&&this.__cbOnceShaderChange.length>0},load:function(){var e=this;if(this.set_status(o.LOADING),null==this.path)return ceramic_App.app.logger.warning("Cannot load shader asset if path is undefined.",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:24,className:"ceramic.ShaderAsset",methodName:"load"}),this.set_status(o.BROKEN),void this.emitComplete(!1);var n=null;if(null!=this.options.customAttributes){n=[];for(var t=this.options.customAttributes,i=0,s=t.length;i<s;){var r=t[i++];n.push(new ceramic_ShaderAttribute(r.size,r.name))}}var l={};if(null!=this.owner&&(l.immediate=this.owner.immediate,l.loadMethod=this.owner.loadMethod),null!=this.path&&(StringTools.endsWith(this.path.toLowerCase(),".frag")||StringTools.endsWith(this.path.toLowerCase(),".vert"))){var a=ceramic_Assets.allByName.h[this.name];if(null==this.options.fragId)for(i=0,s=a.length;i<s;){var h=a[i++];if(StringTools.endsWith(h.toLowerCase(),".frag")){this.options.fragId=h;break}}if(null==this.options.vertId)for(i=0,s=a.length;i<s;){h=a[i++];if(StringTools.endsWith(h.toLowerCase(),".vert")){this.options.vertId=h;break}}ceramic_App.app.logger.info("Load shader"+(null!=this.options.vertId?" "+Std.string(this.options.vertId):"")+(null!=this.options.fragId?" "+Std.string(this.options.fragId):""),{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:72,className:"ceramic.ShaderAsset",methodName:"load"})}else ceramic_App.app.logger.info("Load shader "+this.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:75,className:"ceramic.ShaderAsset",methodName:"load"});if(null==this.options.vertId&&(this.options.vertId="textured.vert"),null==this.options.fragId)return this.set_status(o.BROKEN),ceramic_App.app.logger.error("Missing fragId option to load shader at path: "+this.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:84,className:"ceramic.ShaderAsset",methodName:"load"}),void this.emitComplete(!1);var c=this.options.vertId;"textured.vert"!=this.options.vertId?(c=ceramic_Assets.realAssetPath(this.options.vertId,this.runtimeAssets),(u=ceramic_Assets.getReloadCount(c))>0&&(c+="?hot="+u)):c=ceramic_Assets.realAssetPath(this.options.vertId,null);var u,_=ceramic_Assets.realAssetPath(this.options.fragId,this.runtimeAssets);(u=ceramic_Assets.getReloadCount(_))>0&&(_+="?hot="+u),ceramic_App.app.backend.texts.load(c,l,(function(t){ceramic_App.app.backend.texts.load(_,l,(function(i){if(null==t)return e.set_status(o.BROKEN),ceramic_App.app.logger.error("Failed to load "+Std.string(e.options.vertId)+" for shader at path: "+e.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:112,className:"ceramic.ShaderAsset",methodName:"load"}),void e.emitComplete(!1);if(null==i)return e.set_status(o.BROKEN),ceramic_App.app.logger.error("Failed to load "+Std.string(e.options.fragId)+" for shader at path: "+e.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:119,className:"ceramic.ShaderAsset",methodName:"load"}),void e.emitComplete(!1);var s=null;try{for(var r=ceramic_App.app.backend.shaders,l=t,a=i,h=!1,c=0,u=a.split("\n");c<u.length;){var _=u[c];if(++c,"//ceramic:multitexture"==StringTools.replace(StringTools.trim(_)," ","").toLowerCase()){h=!0;break}}var d=["tex0"];if(h){var f=ceramic_App.app.backend.textures.maxTexturesByBatch(),p=r.maxIfStatementsByFragmentShader(),b=0|Math.min(f,p);if(b>1)for(var y=1;y<=b;)d.push("tex"+y),++y;a=backend_Shaders.processMultiTextureFragTemplate(a,f,p),l=backend_Shaders.processMultiTextureVertTemplate(l,f,p)}var g,O=!1,x=!1;clay_Clay.app.runtime.webglVersion>=2&&(O=!0,x=!0),O&&(a=backend_Shaders.removeExtensions(a),l=backend_Shaders.removeExtensions(l)),x&&(a=backend_Shaders.convertToGLES3(a,!0),l=backend_Shaders.convertToGLES3(l,!1)),(g=new backend_ShaderImpl).attributes=h?backend_Shaders.SHADER_ATTRIBUTES_MULTITEXTURE:backend_Shaders.SHADER_ATTRIBUTES,g.textures=d,g.vertSource=l,g.fragSource=a,g.isBatchingMultiTexture=h,g.customAttributes=n,g.init(),s=g}catch(c){var v=haxe_Exception.caught(c).unwrap();ceramic_App.app.logger.error("Error when creating shader from source: "+Std.string(v),{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:129,className:"ceramic.ShaderAsset",methodName:"load"})}if(null==s)return e.set_status(o.BROKEN),ceramic_App.app.logger.error("Failed to create shader from data at path: "+e.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:134,className:"ceramic.ShaderAsset",methodName:"load"}),void e.emitComplete(!1);(g=new ceramic_Shader(s,n)).asset=e,g.id="shader:"+e.path;var m=e.get_shader();e.set_shader(g),e.set_status(o.READY),e.emitComplete(!0),null!=m&&(m.asset=null,m.destroy(),m=null)}))}))},assetFilesDidChange:function(e,n){if(null!=this.options)if(null!=this.options.fragId){var t=this.options.fragId,i=-1;Object.prototype.hasOwnProperty.call(n.h,t)&&(i=n.h[t]);var s=-1;Object.prototype.hasOwnProperty.call(e.h,t)&&(s=e.h[t]),s>i&&(ceramic_App.app.logger.info("Reload shader (fragment shader has changed)",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:196,className:"ceramic.ShaderAsset",methodName:"assetFilesDidChange"}),this.load())}else if(null!=this.options.vertId){t=this.options.vertId,i=-1;Object.prototype.hasOwnProperty.call(n.h,t)&&(i=n.h[t]);s=-1;Object.prototype.hasOwnProperty.call(e.h,t)&&(s=e.h[t]),s>i&&(ceramic_App.app.logger.info("Reload shader (vertex shader has changed)",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/ShaderAsset.hx",lineNumber:212,className:"ceramic.ShaderAsset",methodName:"assetFilesDidChange"}),this.load())}},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Asset.prototype.destroy.call(this),null!=this.get_shader()&&(this.get_shader().destroy(),this.set_shader(null)))},toString:function(){var e="ShaderAsset";if(null!=this.options.vertId||null!=this.options.fragId){var n=null!=this.options.vertId?this.options.vertId:"default",t=null!=this.options.fragId?this.options.fragId:"default";return e+"("+this.name+" "+n+" "+t+")"}return null!=this.path&&""!=StringTools.trim(this.path)?e+"("+this.name+" "+this.path+")":e+"("+this.name+")"},unbindEvents:function(){ceramic_Asset.prototype.unbindEvents.call(this),this.offShaderChange()},__class__:ceramic_ShaderAsset,__properties__:$extend(ceramic_Asset.prototype.__properties__,{set_shader:"set_shader",get_shader:"get_shader"})});var ceramic_ShaderAttribute=function(e,n){this.size=e,this.name=n};t["ceramic.ShaderAttribute"]=ceramic_ShaderAttribute,ceramic_ShaderAttribute.__name__="ceramic.ShaderAttribute",ceramic_ShaderAttribute.prototype={toString:function(){return""+Std.string({size:this.size,name:this.name})},__class__:ceramic_ShaderAttribute};var ceramic_Shortcuts=function(){};t["ceramic.Shortcuts"]=ceramic_Shortcuts,ceramic_Shortcuts.__name__="ceramic.Shortcuts",ceramic_Shortcuts.__properties__={get_systems:"get_systems",get_log:"get_log",get_settings:"get_settings",get_input:"get_input",get_audio:"get_audio",get_screen:"get_screen",get_app:"get_app"},ceramic_Shortcuts.get_app=function(){return ceramic_App.app},ceramic_Shortcuts.get_screen=function(){return ceramic_App.app.screen},ceramic_Shortcuts.get_audio=function(){return ceramic_App.app.audio},ceramic_Shortcuts.get_input=function(){return ceramic_App.app.input},ceramic_Shortcuts.get_settings=function(){return ceramic_App.app.settings},ceramic_Shortcuts.get_log=function(){return ceramic_App.app.logger},ceramic_Shortcuts.get_systems=function(){return ceramic_App.app.systems},ceramic_Shortcuts.unobserve=function(){tracker_Autorun.unobserve()},ceramic_Shortcuts.reobserve=function(){tracker_Autorun.reobserve()},ceramic_Shortcuts.cease=function(){tracker_Autorun.cease()};var ceramic_SortVisuals=function(){};t["ceramic.SortVisuals"]=ceramic_SortVisuals,ceramic_SortVisuals.__name__="ceramic.SortVisuals",ceramic_SortVisuals.cmp=function(e,n){var t=0;if(e.computedVisible||e.computedTouchable)if(n.computedVisible||n.computedTouchable)if(e.computedRenderTarget!=n.computedRenderTarget)t=null==e.computedRenderTarget?1:null==n.computedRenderTarget||e.computedRenderTarget.priority>n.computedRenderTarget.priority?-1:e.computedRenderTarget.priority<n.computedRenderTarget.priority?1:e.computedRenderTarget.index<n.computedRenderTarget.index?-1:1;else if(e.computedDepth>n.computedDepth)t=1;else if(e.computedDepth<n.computedDepth)t=-1;else{var i=e.asQuad,s=n.asQuad,r=e.asMesh,l=n.asMesh;if((null!=i||null!=r)&&(null!=s||null!=l)){var a=null!=r?r.texture:i._texture,o=null!=l?l.texture:s._texture;null!=a&&null==o?t=1:null==a&&null!=o?t=-1:null!=a&&null!=o?a.index<o.index?t=1:a.index>o.index?t=-1:e.blending>n.blending?t=1:e.blending<n.blending&&(t=-1):e.blending>n.blending?t=1:e.blending<n.blending&&(t=-1)}}else t=1;else t=-1;return t},ceramic_SortVisuals.sort=function(e){ceramic_SortVisuals.rec(e,0,e.length)},ceramic_SortVisuals.rec=function(e,n,t){var i=n+t>>1;if(t-n<12){if(t<=n)return;for(var s=n+1,r=t;s<r;)for(var l=s++;l>n;){var a=e[l],o=e[l-1],h=0;if(a.computedVisible||a.computedTouchable)if(o.computedVisible||o.computedTouchable)if(a.computedRenderTarget!=o.computedRenderTarget)h=null==a.computedRenderTarget?1:null==o.computedRenderTarget||a.computedRenderTarget.priority>o.computedRenderTarget.priority?-1:a.computedRenderTarget.priority<o.computedRenderTarget.priority?1:a.computedRenderTarget.index<o.computedRenderTarget.index?-1:1;else if(a.computedDepth>o.computedDepth)h=1;else if(a.computedDepth<o.computedDepth)h=-1;else{var c=a.asQuad,u=o.asQuad,_=a.asMesh,d=o.asMesh;if((null!=c||null!=_)&&(null!=u||null!=d)){var f=null!=_?_.texture:c._texture,p=null!=d?d.texture:u._texture;null!=f&&null==p?h=1:null==f&&null!=p?h=-1:null!=f&&null!=p?f.index<p.index?h=1:f.index>p.index?h=-1:a.blending>o.blending?h=1:a.blending<o.blending&&(h=-1):a.blending>o.blending?h=1:a.blending<o.blending&&(h=-1)}}else h=1;else h=-1;if(!(h<0))break;var b=l-1,y=e[b];e[b]=e[l],e[l]=y,--l}}else ceramic_SortVisuals.rec(e,n,i),ceramic_SortVisuals.rec(e,i,t),ceramic_SortVisuals.doMerge(e,n,i,t,i-n,t-i)},ceramic_SortVisuals.doMerge=function(e,n,t,i,s,r){var l,a,o,h;if(0!=s&&0!=r)if(s+r!=2){if(s>r){l=n+(o=s>>1);for(var c=i-(u=t);c>0;){w=e[d=u+(_=c>>1)],U=e[l],C=0;if(w.computedVisible||w.computedTouchable)if(U.computedVisible||U.computedTouchable)if(w.computedRenderTarget!=U.computedRenderTarget)C=null==w.computedRenderTarget?1:null==U.computedRenderTarget||w.computedRenderTarget.priority>U.computedRenderTarget.priority?-1:w.computedRenderTarget.priority<U.computedRenderTarget.priority?1:w.computedRenderTarget.index<U.computedRenderTarget.index?-1:1;else if(w.computedDepth>U.computedDepth)C=1;else if(w.computedDepth<U.computedDepth)C=-1;else{T=w.asQuad,D=U.asQuad,E=w.asMesh,A=U.asMesh,S=null!=D||null!=A;if((null!=T||null!=E)&&S){M=null!=E?E.texture:T._texture,P=null!=A?A.texture:D._texture;null!=M&&null==P?C=1:null==M&&null!=P?C=-1:null!=M&&null!=P?M.index<P.index?C=1:M.index>P.index?C=-1:w.blending>U.blending?C=1:w.blending<U.blending&&(C=-1):w.blending>U.blending?C=1:w.blending<U.blending&&(C=-1)}}else C=1;else C=-1;C<0?(u=d+1,c=c-_-1):c=_}h=(a=u)-t}else{a=t+(h=r>>1);var u,_,d;for(c=t-(u=n);c>0;){d=u+(_=c>>1);w=e[a],U=e[d],C=0;if(w.computedVisible||w.computedTouchable)if(U.computedVisible||U.computedTouchable)if(w.computedRenderTarget!=U.computedRenderTarget)C=null==w.computedRenderTarget?1:null==U.computedRenderTarget||w.computedRenderTarget.priority>U.computedRenderTarget.priority?-1:w.computedRenderTarget.priority<U.computedRenderTarget.priority?1:w.computedRenderTarget.index<U.computedRenderTarget.index?-1:1;else if(w.computedDepth>U.computedDepth)C=1;else if(w.computedDepth<U.computedDepth)C=-1;else{T=w.asQuad,D=U.asQuad,E=w.asMesh,A=U.asMesh,S=null!=D||null!=A;if((null!=T||null!=E)&&S){M=null!=E?E.texture:T._texture,P=null!=A?A.texture:D._texture;null!=M&&null==P?C=1:null==M&&null!=P?C=-1:null!=M&&null!=P?M.index<P.index?C=1:M.index>P.index?C=-1:w.blending>U.blending?C=1:w.blending<U.blending&&(C=-1):w.blending>U.blending?C=1:w.blending<U.blending&&(C=-1)}}else C=1;else C=-1;C<0?c=_:(u=d+1,c=c-_-1)}o=(l=u)-n}var f;if(l!=t&&t!=a){for(var p=a-l,b=t-l;0!=b;){var y=p%b;p=b,b=y}for(f=p;0!=f--;){for(var g=e[l+f],O=t-l,x=l+f,v=l+f+O;v!=l+f;)e[x]=e[v],x=v,a-v>O?v+=O:v=l+(O-(a-v));e[x]=g}}var m=l+h;ceramic_SortVisuals.doMerge(e,n,l,m,o,h),ceramic_SortVisuals.doMerge(e,m,a,i,s-o,r-h)}else{var w=e[t],U=e[n],C=0;if(w.computedVisible||w.computedTouchable)if(U.computedVisible||U.computedTouchable)if(w.computedRenderTarget!=U.computedRenderTarget)C=null==w.computedRenderTarget?1:null==U.computedRenderTarget||w.computedRenderTarget.priority>U.computedRenderTarget.priority?-1:w.computedRenderTarget.priority<U.computedRenderTarget.priority?1:w.computedRenderTarget.index<U.computedRenderTarget.index?-1:1;else if(w.computedDepth>U.computedDepth)C=1;else if(w.computedDepth<U.computedDepth)C=-1;else{var T=w.asQuad,D=U.asQuad,E=w.asMesh,A=U.asMesh,S=null!=D||null!=A;if((null!=T||null!=E)&&S){var M=null!=E?E.texture:T._texture,P=null!=A?A.texture:D._texture;null!=M&&null==P?C=1:null==M&&null!=P?C=-1:null!=M&&null!=P?M.index<P.index?C=1:M.index>P.index?C=-1:w.blending>U.blending?C=1:w.blending<U.blending&&(C=-1):w.blending>U.blending?C=1:w.blending<U.blending&&(C=-1)}}else C=1;else C=-1;if(C<0){var F=e[t];e[t]=e[n],e[n]=F}}},ceramic_SortVisuals.rotate=function(e,n,t,i){if(n!=t&&t!=i){for(var s=i-n,r=t-n;0!=r;){var l=s%r;s=r,r=l}for(r=s;0!=r--;){for(var a=e[n+r],o=t-n,h=n+r,c=n+r+o;c!=n+r;)e[h]=e[c],h=c,i-c>o?c+=o:c=n+(o-(i-c));e[h]=a}}},ceramic_SortVisuals.gcd=function(e,n){for(;0!=n;){var t=e%n;e=n,n=t}return e},ceramic_SortVisuals.upper=function(e,n,t,i){for(var s,r,l=t-n;l>0;){r=n+(s=l>>1);var a=e[i],o=e[r],h=0;if(a.computedVisible||a.computedTouchable)if(o.computedVisible||o.computedTouchable)if(a.computedRenderTarget!=o.computedRenderTarget)h=null==a.computedRenderTarget?1:null==o.computedRenderTarget||a.computedRenderTarget.priority>o.computedRenderTarget.priority?-1:a.computedRenderTarget.priority<o.computedRenderTarget.priority?1:a.computedRenderTarget.index<o.computedRenderTarget.index?-1:1;else if(a.computedDepth>o.computedDepth)h=1;else if(a.computedDepth<o.computedDepth)h=-1;else{var c=a.asQuad,u=o.asQuad,_=a.asMesh,d=o.asMesh;if((null!=c||null!=_)&&(null!=u||null!=d)){var f=null!=_?_.texture:c._texture,p=null!=d?d.texture:u._texture;null!=f&&null==p?h=1:null==f&&null!=p?h=-1:null!=f&&null!=p?f.index<p.index?h=1:f.index>p.index?h=-1:a.blending>o.blending?h=1:a.blending<o.blending&&(h=-1):a.blending>o.blending?h=1:a.blending<o.blending&&(h=-1)}}else h=1;else h=-1;h<0?l=s:(n=r+1,l=l-s-1)}return n},ceramic_SortVisuals.lower=function(e,n,t,i){for(var s,r,l=t-n;l>0;){var a=e[r=n+(s=l>>1)],o=e[i],h=0;if(a.computedVisible||a.computedTouchable)if(o.computedVisible||o.computedTouchable)if(a.computedRenderTarget!=o.computedRenderTarget)h=null==a.computedRenderTarget?1:null==o.computedRenderTarget||a.computedRenderTarget.priority>o.computedRenderTarget.priority?-1:a.computedRenderTarget.priority<o.computedRenderTarget.priority?1:a.computedRenderTarget.index<o.computedRenderTarget.index?-1:1;else if(a.computedDepth>o.computedDepth)h=1;else if(a.computedDepth<o.computedDepth)h=-1;else{var c=a.asQuad,u=o.asQuad,_=a.asMesh,d=o.asMesh;if((null!=c||null!=_)&&(null!=u||null!=d)){var f=null!=_?_.texture:c._texture,p=null!=d?d.texture:u._texture;null!=f&&null==p?h=1:null==f&&null!=p?h=-1:null!=f&&null!=p?f.index<p.index?h=1:f.index>p.index?h=-1:a.blending>o.blending?h=1:a.blending<o.blending&&(h=-1):a.blending>o.blending?h=1:a.blending<o.blending&&(h=-1)}}else h=1;else h=-1;h<0?(n=r+1,l=l-s-1):l=s}return n},ceramic_SortVisuals.swap=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i},ceramic_SortVisuals.compare=function(e,n,t){var i=e[n],s=e[t],r=0;if(i.computedVisible||i.computedTouchable)if(s.computedVisible||s.computedTouchable)if(i.computedRenderTarget!=s.computedRenderTarget)r=null==i.computedRenderTarget?1:null==s.computedRenderTarget||i.computedRenderTarget.priority>s.computedRenderTarget.priority?-1:i.computedRenderTarget.priority<s.computedRenderTarget.priority?1:i.computedRenderTarget.index<s.computedRenderTarget.index?-1:1;else if(i.computedDepth>s.computedDepth)r=1;else if(i.computedDepth<s.computedDepth)r=-1;else{var l=i.asQuad,a=s.asQuad,o=i.asMesh,h=s.asMesh;if((null!=l||null!=o)&&(null!=a||null!=h)){var c=null!=o?o.texture:l._texture,u=null!=h?h.texture:a._texture;null!=c&&null==u?r=1:null==c&&null!=u?r=-1:null!=c&&null!=u?c.index<u.index?r=1:c.index>u.index?r=-1:i.blending>s.blending?r=1:i.blending<s.blending&&(r=-1):i.blending>s.blending?r=1:i.blending<s.blending&&(r=-1)}}else r=1;else r=-1;return r};var ceramic_SortVisualsByDepth=function(){};t["ceramic.SortVisualsByDepth"]=ceramic_SortVisualsByDepth,ceramic_SortVisualsByDepth.__name__="ceramic.SortVisualsByDepth",ceramic_SortVisualsByDepth.cmp=function(e,n){var t=0;return e.depth>n.depth?t=1:e.depth<n.depth&&(t=-1),t},ceramic_SortVisualsByDepth.sort=function(e){ceramic_SortVisualsByDepth.rec(e,0,e.length)},ceramic_SortVisualsByDepth.rec=function(e,n,t){var i=n+t>>1;if(t-n<12){if(t<=n)return;for(var s=n+1,r=t;s<r;)for(var l=s++;l>n;){var a=e[l],o=e[l-1],h=0;if(a.depth>o.depth?h=1:a.depth<o.depth&&(h=-1),!(h<0))break;var c=l-1,u=e[c];e[c]=e[l],e[l]=u,--l}}else ceramic_SortVisualsByDepth.rec(e,n,i),ceramic_SortVisualsByDepth.rec(e,i,t),ceramic_SortVisualsByDepth.doMerge(e,n,i,t,i-n,t-i)},ceramic_SortVisualsByDepth.doMerge=function(e,n,t,i,s,r){var l,a,o,h;if(0!=s&&0!=r)if(s+r!=2){if(s>r){l=n+(o=s>>1);for(var c=i-(u=t);c>0;){w=e[d=u+(_=c>>1)],U=e[l],C=0;w.depth>U.depth?C=1:w.depth<U.depth&&(C=-1),C<0?(u=d+1,c=c-_-1):c=_}h=(a=u)-t}else{a=t+(h=r>>1);var u,_,d;for(c=t-(u=n);c>0;){d=u+(_=c>>1);w=e[a],U=e[d],C=0;w.depth>U.depth?C=1:w.depth<U.depth&&(C=-1),C<0?c=_:(u=d+1,c=c-_-1)}o=(l=u)-n}var f;if(l!=t&&t!=a){for(var p=a-l,b=t-l;0!=b;){var y=p%b;p=b,b=y}for(f=p;0!=f--;){for(var g=e[l+f],O=t-l,x=l+f,v=l+f+O;v!=l+f;)e[x]=e[v],x=v,a-v>O?v+=O:v=l+(O-(a-v));e[x]=g}}var m=l+h;ceramic_SortVisualsByDepth.doMerge(e,n,l,m,o,h),ceramic_SortVisualsByDepth.doMerge(e,m,a,i,s-o,r-h)}else{var w=e[t],U=e[n],C=0;if(w.depth>U.depth?C=1:w.depth<U.depth&&(C=-1),C<0){var T=e[t];e[t]=e[n],e[n]=T}}},ceramic_SortVisualsByDepth.rotate=function(e,n,t,i){if(n!=t&&t!=i){for(var s=i-n,r=t-n;0!=r;){var l=s%r;s=r,r=l}for(r=s;0!=r--;){for(var a=e[n+r],o=t-n,h=n+r,c=n+r+o;c!=n+r;)e[h]=e[c],h=c,i-c>o?c+=o:c=n+(o-(i-c));e[h]=a}}},ceramic_SortVisualsByDepth.gcd=function(e,n){for(;0!=n;){var t=e%n;e=n,n=t}return e},ceramic_SortVisualsByDepth.upper=function(e,n,t,i){for(var s,r,l=t-n;l>0;){r=n+(s=l>>1);var a=e[i],o=e[r],h=0;a.depth>o.depth?h=1:a.depth<o.depth&&(h=-1),h<0?l=s:(n=r+1,l=l-s-1)}return n},ceramic_SortVisualsByDepth.lower=function(e,n,t,i){for(var s,r,l=t-n;l>0;){var a=e[r=n+(s=l>>1)],o=e[i],h=0;a.depth>o.depth?h=1:a.depth<o.depth&&(h=-1),h<0?(n=r+1,l=l-s-1):l=s}return n},ceramic_SortVisualsByDepth.swap=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i},ceramic_SortVisualsByDepth.compare=function(e,n,t){var i=e[n],s=e[t],r=0;return i.depth>s.depth?r=1:i.depth<s.depth&&(r=-1),r};var ceramic_Sound=function(e){this.pitch=1,this.pan=0,this.volume=.5,this.group=0,ceramic_Entity.call(this),this.backendItem=e};t["ceramic.Sound"]=ceramic_Sound,ceramic_Sound.__name__="ceramic.Sound",ceramic_Sound.__super__=ceramic_Entity,ceramic_Sound.prototype=$extend(ceramic_Entity.prototype,{set_group:function(e){if(this.group==e)return e;this.group=e;var n=ceramic_App.app.audio;return n.mixers.exists(e)||n.mixers.set(e,new ceramic_AudioMixer(e)),e},destroy:function(){if(!(this._lifecycleState<=-2)){this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),null!=this.asset&&this.asset.destroy();for(var e=ceramic_App.app.backend.audio,n=this.backendItem,t=null,i=e.loadedAudioResources.h,s=i,r=Object.keys(i),l=r.length,a=0;a<l;){var o=r[a++],h=o;s[o]==n&&(t=h)}if(null==t)ceramic_App.app.logger.error("Failed to destroy audio resource: "+Std.string(n)+" because id could not be resolved",{fileName:"/Users/jeremyfa/Developer/ceramic/plugins/clay/runtime/src/backend/Audio.hx",lineNumber:175,className:"backend.Audio",methodName:"destroy"});else if(e.loadedAudioRetainCount.h[t]>1)e.loadedAudioRetainCount.h[t]-=1;else{var c=e.loadedAudioResources;Object.prototype.hasOwnProperty.call(c.h,t)&&delete c.h[t];c=e.loadedAudioRetainCount;Object.prototype.hasOwnProperty.call(c.h,t)&&delete c.h[t],n.destroy()}this.backendItem=null}},get_duration:function(){ceramic_App.app.backend.audio;return this.backendItem.getDuration()},play:function(e,n,t,i,s){null==n&&(n=!1),null==e&&(e=0);var r=ceramic_App.app.audio.mixers,l=r._keys.intMap.h[0|this.group],a=null!=l?l:0,o=a>=2?r.values[a-2]:ceramic_IntMap.RET_NULL;return o.mute?-1:(null==t&&(t=this.volume),null==i&&(i=this.pan),null==s&&(s=this.pitch),t*=2*o.volume,i+=o.pan,s+=o.pitch-1,ceramic_App.app.backend.audio.play(this.backendItem,t,i,s,e,n))},__class__:ceramic_Sound,__properties__:$extend(ceramic_Entity.prototype.__properties__,{get_duration:"get_duration",set_group:"set_group"})});var ceramic_SoundAsset=function(e,n,t){this.unobservedSound=null,this.soundAutoruns=null,this.stream=!1,ceramic_Asset.call(this,"sound",e,n,t)};t["ceramic.SoundAsset"]=ceramic_SoundAsset,ceramic_SoundAsset.__name__="ceramic.SoundAsset",ceramic_SoundAsset.__super__=ceramic_Asset,ceramic_SoundAsset.prototype=$extend(ceramic_Asset.prototype,{emitReplaceSound:function(e,n){var t=0;if(null!=this.__cbOnReplaceSound&&(t+=this.__cbOnReplaceSound.length),null!=this.__cbOnceReplaceSound&&(t+=this.__cbOnceReplaceSound.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnReplaceSound)for(var l=0,a=this.__cbOnReplaceSound.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnReplaceSound[o],++r):--t}if(null!=this.__cbOnceReplaceSound){var h=null,c=null;for(l=0,a=this.__cbOnceReplaceSound.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceReplaceSound[o],this.__cbOnceReplaceSound[o]=null;var u=this.__cbOnceOwnerUnbindReplaceSound[o];this.__cbOnceOwnerUnbindReplaceSound[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindReplaceSound[o]),c.push(this.__cbOnceReplaceSound[o])}this.__cbOnceOwnerUnbindReplaceSound=h,this.__cbOnceReplaceSound=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onReplaceSound:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event replaceSound because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReplaceSound(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindReplaceSound&&(this.__cbOnOwnerUnbindReplaceSound=[]),this.__cbOnOwnerUnbindReplaceSound.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindReplaceSound&&(this.__cbOnOwnerUnbindReplaceSound=[]),this.__cbOnOwnerUnbindReplaceSound.push(null);null==this.__cbOnReplaceSound&&(this.__cbOnReplaceSound=[]),this.__cbOnReplaceSound.push(n)},onceReplaceSound:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event replaceSound because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReplaceSound(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindReplaceSound&&(this.__cbOnceOwnerUnbindReplaceSound=[]),this.__cbOnceOwnerUnbindReplaceSound.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindReplaceSound&&(this.__cbOnceOwnerUnbindReplaceSound=[]),this.__cbOnceOwnerUnbindReplaceSound.push(null);null==this.__cbOnceReplaceSound&&(this.__cbOnceReplaceSound=[]),this.__cbOnceReplaceSound.push(n)},offReplaceSound:function(e){if(null!=e){var n;null!=this.__cbOnReplaceSound&&-1!=(n=this.__cbOnReplaceSound.indexOf(e))&&(this.__cbOnReplaceSound.splice(n,1),null!=(r=this.__cbOnOwnerUnbindReplaceSound[n])&&r(),this.__cbOnOwnerUnbindReplaceSound.splice(n,1)),null!=this.__cbOnceReplaceSound&&-1!=(n=this.__cbOnceReplaceSound.indexOf(e))&&(this.__cbOnceReplaceSound.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindReplaceSound[n])&&r(),this.__cbOnceOwnerUnbindReplaceSound.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReplaceSound){for(var t=0,i=this.__cbOnOwnerUnbindReplaceSound.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindReplaceSound[s])&&r()}this.__cbOnOwnerUnbindReplaceSound=null}if(null!=this.__cbOnceOwnerUnbindReplaceSound){for(t=0,i=this.__cbOnceOwnerUnbindReplaceSound.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindReplaceSound[s])&&r()}this.__cbOnceOwnerUnbindReplaceSound=null}this.__cbOnReplaceSound=null,this.__cbOnceReplaceSound=null}},listensReplaceSound:function(){return null!=this.__cbOnReplaceSound&&this.__cbOnReplaceSound.length>0||null!=this.__cbOnceReplaceSound&&this.__cbOnceReplaceSound.length>0},get_sound:function(){var e=this.unobservedSound;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.soundAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.soundAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_sound:function(e){var n=this.unobservedSound;if(this.unobservedSound=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitSoundChange(e,n);var t=this.soundAutoruns;if(null!=t){this.soundAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateSound:function(){var e=this.unobservedSound;this.emitSoundChange(e,e);var n=this.soundAutoruns;if(null!=n){this.soundAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitSoundChange:function(e,n){var t=0;if(null!=this.__cbOnSoundChange&&(t+=this.__cbOnSoundChange.length),null!=this.__cbOnceSoundChange&&(t+=this.__cbOnceSoundChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnSoundChange)for(var l=0,a=this.__cbOnSoundChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnSoundChange[o],++r):--t}if(null!=this.__cbOnceSoundChange){var h=null,c=null;for(l=0,a=this.__cbOnceSoundChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceSoundChange[o],this.__cbOnceSoundChange[o]=null;var u=this.__cbOnceOwnerUnbindSoundChange[o];this.__cbOnceOwnerUnbindSoundChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindSoundChange[o]),c.push(this.__cbOnceSoundChange[o])}this.__cbOnceOwnerUnbindSoundChange=h,this.__cbOnceSoundChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onSoundChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event soundChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offSoundChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindSoundChange&&(this.__cbOnOwnerUnbindSoundChange=[]),this.__cbOnOwnerUnbindSoundChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindSoundChange&&(this.__cbOnOwnerUnbindSoundChange=[]),this.__cbOnOwnerUnbindSoundChange.push(null);null==this.__cbOnSoundChange&&(this.__cbOnSoundChange=[]),this.__cbOnSoundChange.push(n)},onceSoundChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event soundChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offSoundChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindSoundChange&&(this.__cbOnceOwnerUnbindSoundChange=[]),this.__cbOnceOwnerUnbindSoundChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindSoundChange&&(this.__cbOnceOwnerUnbindSoundChange=[]),this.__cbOnceOwnerUnbindSoundChange.push(null);null==this.__cbOnceSoundChange&&(this.__cbOnceSoundChange=[]),this.__cbOnceSoundChange.push(n)},offSoundChange:function(e){if(null!=e){var n;null!=this.__cbOnSoundChange&&-1!=(n=this.__cbOnSoundChange.indexOf(e))&&(this.__cbOnSoundChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindSoundChange[n])&&r(),this.__cbOnOwnerUnbindSoundChange.splice(n,1)),null!=this.__cbOnceSoundChange&&-1!=(n=this.__cbOnceSoundChange.indexOf(e))&&(this.__cbOnceSoundChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindSoundChange[n])&&r(),this.__cbOnceOwnerUnbindSoundChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSoundChange){for(var t=0,i=this.__cbOnOwnerUnbindSoundChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindSoundChange[s])&&r()}this.__cbOnOwnerUnbindSoundChange=null}if(null!=this.__cbOnceOwnerUnbindSoundChange){for(t=0,i=this.__cbOnceOwnerUnbindSoundChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindSoundChange[s])&&r()}this.__cbOnceOwnerUnbindSoundChange=null}this.__cbOnSoundChange=null,this.__cbOnceSoundChange=null}},listensSoundChange:function(){return null!=this.__cbOnSoundChange&&this.__cbOnSoundChange.length>0||null!=this.__cbOnceSoundChange&&this.__cbOnceSoundChange.length>0},load:function(){var e=this;if(this.set_status(o.LOADING),null==this.path)return ceramic_App.app.logger.warning("Cannot load sound asset if path is undefined.",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:27,className:"ceramic.SoundAsset",methodName:"load"}),this.set_status(o.BROKEN),void this.emitComplete(!1);var n={};if(null!=this.owner&&(n.immediate=this.owner.immediate,n.loadMethod=this.owner.loadMethod),null!=this.options)for(var t=0,i=Reflect.fields(this.options);t<i.length;){var s=i[t];++t,n[s]=Reflect.field(this.options,s)}var r=[].concat(this.allPaths),l=null;l=function(t){var i=t,s=ceramic_Assets.realAssetPath(i,e.runtimeAssets),a=ceramic_Assets.getReloadCount(s);a>0&&(s+="?hot="+a,i+="?hot="+a),ceramic_App.app.logger.info("Load sound "+i,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:87,className:"ceramic.SoundAsset",methodName:"load"});var h=ceramic_Path.extension(s);null!=h&&(h=h.toLowerCase()),ceramic_App.app.backend.audio.load(s,n,(function(n){if(null!=n||0==r.length)!function(n){if(null!=n){var t=e.get_sound(),i=new ceramic_Sound(n);i.asset=e,e.set_sound(i),null!=t&&(e.emitReplaceSound(e.get_sound(),t),t.asset=null,t.destroy()),e.set_status(o.READY),e.emitComplete(!0)}else e.set_status(o.BROKEN),ceramic_App.app.logger.error("Failed to load audio at path: "+e.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:71,className:"ceramic.SoundAsset",methodName:"load"}),e.emitComplete(!1)}(n);else{var i=r.shift();ceramic_App.app.logger.warning("Failed to load "+t+". Try "+i+"...",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:100,className:"ceramic.SoundAsset",methodName:"load"}),l(i)}}))},r.length>0?l(r.shift()):(this.set_status(o.BROKEN),ceramic_App.app.logger.error("Failed to load audio at path: "+this.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:112,className:"ceramic.SoundAsset",methodName:"load"}),this.emitComplete(!1))},assetFilesDidChange:function(e,n){var t=-1;Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]);var i=-1;Object.prototype.hasOwnProperty.call(e.h,this.path)&&(i=e.h[this.path]),i>t&&(ceramic_App.app.logger.info("Reload sound (file has changed)",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/SoundAsset.hx",lineNumber:133,className:"ceramic.SoundAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Asset.prototype.destroy.call(this),null!=this.get_sound()&&(this.get_sound().destroy(),this.set_sound(null)))},unbindEvents:function(){ceramic_Asset.prototype.unbindEvents.call(this),this.offReplaceSound(),this.offSoundChange()},__class__:ceramic_SoundAsset,__properties__:$extend(ceramic_Asset.prototype.__properties__,{set_sound:"set_sound",get_sound:"get_sound"})});var ceramic_Systems=function(){this._udpatingSystems=[],this.lateUpdateOrdered=[],this.earlyUpdateOrdered=[],this.lateUpdateOrderDirty=!1,this.earlyUpdateOrderDirty=!1,ceramic_Entity.call(this)};t["ceramic.Systems"]=ceramic_Systems,ceramic_Systems.__name__="ceramic.Systems",ceramic_Systems.sortSystemsByEarlyUpdateOrder=function(e,n){return e.earlyUpdateOrder>n.earlyUpdateOrder?1:e.earlyUpdateOrder<n.earlyUpdateOrder?-1:0},ceramic_Systems.sortSystemsByLateUpdateOrder=function(e,n){return e.lateUpdateOrder>n.lateUpdateOrder?1:e.lateUpdateOrder<n.lateUpdateOrder?-1:0},ceramic_Systems.__super__=ceramic_Entity,ceramic_Systems.prototype=$extend(ceramic_Entity.prototype,{addSystem:function(e){this.earlyUpdateOrdered.push(e),this.earlyUpdateOrderDirty=!0,this.lateUpdateOrdered.push(e),this.lateUpdateOrderDirty=!0},removeSystem:function(e){HxOverrides.remove(this.earlyUpdateOrdered,e),this.earlyUpdateOrderDirty=!0,HxOverrides.remove(this.lateUpdateOrdered,e),this.lateUpdateOrderDirty=!0},earlyUpdate:function(e){this.earlyUpdateOrderDirty&&(haxe_ds_ArraySort.sort(this.earlyUpdateOrdered,ceramic_Systems.sortSystemsByEarlyUpdateOrder),this.earlyUpdateOrderDirty=!1);for(var n=this.earlyUpdateOrdered.length,t=0,i=n;t<i;){var s=t++;this._udpatingSystems[s]=this.earlyUpdateOrdered[s]}for(t=0,i=n;t<i;){s=t++;var r=this._udpatingSystems[s];r.emitBeginEarlyUpdate(e),r.earlyUpdate(e),r.emitEndEarlyUpdate(e),ceramic_App.app.flushImmediate()}for(t=0,i=n;t<i;){s=t++;this._udpatingSystems[s]=null}},lateUpdate:function(e){this.lateUpdateOrderDirty&&(haxe_ds_ArraySort.sort(this.lateUpdateOrdered,ceramic_Systems.sortSystemsByLateUpdateOrder),this.lateUpdateOrderDirty=!1);for(var n=this.lateUpdateOrdered.length,t=0,i=n;t<i;){var s=t++;this._udpatingSystems[s]=this.lateUpdateOrdered[s]}for(t=0,i=n;t<i;){s=t++;var r=this._udpatingSystems[s];r.emitBeginLateUpdate(e),r.lateUpdate(e),r.emitEndLateUpdate(e),ceramic_App.app.flushImmediate()}for(t=0,i=n;t<i;){s=t++;this._udpatingSystems[s]=null}},get:function(e){for(var n=0,t=this.earlyUpdateOrdered.length;n<t;){var i=n++,s=this.earlyUpdateOrdered[i];if(s.name==e)return s}return null},__class__:ceramic_Systems});var ceramic_Text=function(){this.maxLineDiff=-1,this.fitWidth=-1,this.align=v.LEFT,this.preRenderedSize=-1,this.clipTextHeight=-1,this.clipTextWidth=-1,this.clipTextY=-1,this.clipTextX=-1,this.letterSpacing=0,this.lineHeight=1,this.pointSize=20,this.content="",this.color=16777215,this.numLines=1,this.glyphQuads=[],ceramic_Visual.call(this),this.set_font(ceramic_App.app.defaultFont)};t["ceramic.Text"]=ceramic_Text,ceramic_Text.__name__="ceramic.Text",ceramic_Text.__super__=ceramic_Visual,ceramic_Text.prototype=$extend(ceramic_Visual.prototype,{emitGlyphQuadsChange:function(){var e=0;if(null!=this.__cbOnGlyphQuadsChange&&(e+=this.__cbOnGlyphQuadsChange.length),null!=this.__cbOnceGlyphQuadsChange&&(e+=this.__cbOnceGlyphQuadsChange.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnGlyphQuadsChange)for(var s=0,r=this.__cbOnGlyphQuadsChange.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnGlyphQuadsChange[l],++i):--e}if(null!=this.__cbOnceGlyphQuadsChange){var a=null,o=null;for(s=0,r=this.__cbOnceGlyphQuadsChange.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceGlyphQuadsChange[l],this.__cbOnceGlyphQuadsChange[l]=null;var h=this.__cbOnceOwnerUnbindGlyphQuadsChange[l];this.__cbOnceOwnerUnbindGlyphQuadsChange[l]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],o=[],[]),a.push(this.__cbOnceOwnerUnbindGlyphQuadsChange[l]),o.push(this.__cbOnceGlyphQuadsChange[l])}this.__cbOnceOwnerUnbindGlyphQuadsChange=a,this.__cbOnceGlyphQuadsChange=o}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onGlyphQuadsChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event glyphQuadsChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGlyphQuadsChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindGlyphQuadsChange&&(this.__cbOnOwnerUnbindGlyphQuadsChange=[]),this.__cbOnOwnerUnbindGlyphQuadsChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindGlyphQuadsChange&&(this.__cbOnOwnerUnbindGlyphQuadsChange=[]),this.__cbOnOwnerUnbindGlyphQuadsChange.push(null);null==this.__cbOnGlyphQuadsChange&&(this.__cbOnGlyphQuadsChange=[]),this.__cbOnGlyphQuadsChange.push(n)},onceGlyphQuadsChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event glyphQuadsChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offGlyphQuadsChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindGlyphQuadsChange&&(this.__cbOnceOwnerUnbindGlyphQuadsChange=[]),this.__cbOnceOwnerUnbindGlyphQuadsChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindGlyphQuadsChange&&(this.__cbOnceOwnerUnbindGlyphQuadsChange=[]),this.__cbOnceOwnerUnbindGlyphQuadsChange.push(null);null==this.__cbOnceGlyphQuadsChange&&(this.__cbOnceGlyphQuadsChange=[]),this.__cbOnceGlyphQuadsChange.push(n)},offGlyphQuadsChange:function(e){if(null!=e){var n;null!=this.__cbOnGlyphQuadsChange&&-1!=(n=this.__cbOnGlyphQuadsChange.indexOf(e))&&(this.__cbOnGlyphQuadsChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindGlyphQuadsChange[n])&&r(),this.__cbOnOwnerUnbindGlyphQuadsChange.splice(n,1)),null!=this.__cbOnceGlyphQuadsChange&&-1!=(n=this.__cbOnceGlyphQuadsChange.indexOf(e))&&(this.__cbOnceGlyphQuadsChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindGlyphQuadsChange[n])&&r(),this.__cbOnceOwnerUnbindGlyphQuadsChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindGlyphQuadsChange){for(var t=0,i=this.__cbOnOwnerUnbindGlyphQuadsChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindGlyphQuadsChange[s])&&r()}this.__cbOnOwnerUnbindGlyphQuadsChange=null}if(null!=this.__cbOnceOwnerUnbindGlyphQuadsChange){for(t=0,i=this.__cbOnceOwnerUnbindGlyphQuadsChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindGlyphQuadsChange[s])&&r()}this.__cbOnceOwnerUnbindGlyphQuadsChange=null}this.__cbOnGlyphQuadsChange=null,this.__cbOnceGlyphQuadsChange=null}},listensGlyphQuadsChange:function(){return null!=this.__cbOnGlyphQuadsChange&&this.__cbOnGlyphQuadsChange.length>0||null!=this.__cbOnceGlyphQuadsChange&&this.__cbOnceGlyphQuadsChange.length>0},get_numLines:function(){return this.contentDirty&&this.computeContent(),this.numLines},set_color:function(e){if(this.color==e)return e;if(this.color=e,null!=this.glyphQuads)for(var n=0,t=this.glyphQuads.length;n<t;){var i=n++;this.glyphQuads[i].color=e}return e},set_content:function(e){return this.content==e||(this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,this.content=e),e},set_pointSize:function(e){return this.pointSize==e||(this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,this.pointSize=e),e},set_lineHeight:function(e){return this.lineHeight==e||(this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,this.lineHeight=e),e},set_letterSpacing:function(e){return this.letterSpacing==e||(this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,this.letterSpacing=e),e},set_font:function(e){return null==e&&(e=ceramic_App.app.defaultFont),this.font==e||(null!=this.font&&(this.font.offDestroy($bind(this,this.fontDestroyed)),null!=this.font.asset&&this.font.asset.release()),this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,this.font=e,null!=this.font&&(this.font.onDestroy(this,$bind(this,this.fontDestroyed)),null!=this.font.asset&&this.font.asset.retain())),e},set_clipTextX:function(e){return this.clipTextX==e||(this.clipTextX=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_clipTextY:function(e){return this.clipTextY==e||(this.clipTextY=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_clipTextWidth:function(e){return this.clipTextWidth==e||(this.clipTextWidth=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_clipTextHeight:function(e){return this.clipTextHeight==e||(this.clipTextHeight=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},clipText:function(e,n,t,i){this.set_clipTextX(e),this.set_clipTextY(n),this.set_clipTextWidth(t),this.set_clipTextHeight(i)},set_preRenderedSize:function(e){return this.preRenderedSize==e||(this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,this.preRenderedSize<=0&&e>0&&ceramic_App.app.screen.onTexturesDensityChange(this,$bind(this,this.handleTexturesDensityChange)),this.preRenderedSize>0&&e<=0&&ceramic_App.app.screen.offTexturesDensityChange($bind(this,this.handleTexturesDensityChange)),this.preRenderedSize=e),e},handleTexturesDensityChange:function(e,n){this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0},set_align:function(e){return this.align==e||(this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0,this.align=e),e},set_fitWidth:function(e){return this.fitWidth==e||(this.fitWidth=e,this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0),e},set_maxLineDiff:function(e){return this.maxLineDiff==e||(this.maxLineDiff=e,-1!=this.fitWidth&&(this.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0)),e},set_depth:function(e){if(this.depth==e)return e;if(null!=this.glyphQuads)for(var n=0,t=this.glyphQuads.length;n<t;){var i=n++;this.glyphQuads[i].set_depth(e)}return ceramic_Visual.prototype.set_depth.call(this,e)},get_width:function(){return this.contentDirty&&this.computeContent(),ceramic_Visual.prototype.get_width.call(this)},scaleWidth:function(e){if(this._width!=e&&(this.set_scaleX(e/this._width),this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}},get_height:function(){return this.contentDirty&&this.computeContent(),ceramic_Visual.prototype.get_height.call(this)},scaleHeight:function(e){if(this._height!=e&&(this.set_scaleY(e/this._height),this.matrixDirty=!0,null!=this.children))for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}},set_blending:function(e){if(this.blending==e)return e;if(this.blending=e,null!=this.glyphQuads)for(var n=0,t=this.glyphQuads.length;n<t;){var i=n++;this.glyphQuads[i].set_blending(e)}return e},destroy:function(){if(!(this._lifecycleState<=-2)&&(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Visual.prototype.destroy.call(this),null!=this.glyphQuads)){for(var e=0,n=this.glyphQuads.length;e<n;){var t=e++;this.glyphQuads[t].destroy()}this.glyphQuads=null}},computeContent:function(){var e=this;if(null==this.font)return this.set_width(0),this.set_height(0),void(this.contentDirty=!1);if(this.numLines=this.computeGlyphQuads(this.fitWidth,this.maxLineDiff),this.contentDirty=!1,this.matrixDirty=!0,null!=this.children)for(var n=0,t=this.children.length;n<t;){var i=n++,s=this.children[i];if(s.matrixDirty=!0,null!=s.children)for(var r=0,l=s.children.length;r<l;){var a=r++;s.children[a].set_matrixDirty(!0)}}var o,h=this.preRenderedSize*ceramic_App.app.screen.get_texturesDensity()|0;if(h>0){var c=this.font;o=null!=c.fontData.distanceField&&"msdf"==c.fontData.distanceField.fieldType}else o=!1;o&&this.font.needsToPreRenderAtSize(h)&&this.font.preRenderAtSize(h,(function(){e.contentDirty=!0,ceramic_App.app.visualsContentDirty=!0})),this.emitGlyphQuadsChange()},computeGlyphQuads:function(e,n,t){null==t&&(t=-1);var i=0,s=0,r=0,l=this.pointSize/this.font.fontData.pointSize,a=null,o=-1,h=null,c=-1,u=0,_=null,d=[],f=[[]],p=0,b=!1,y=!1,g=!1,O=0,x=0,v=!1,w=0,U=0,C=0,T=0,D=0,E=!1;-1!=this.clipTextX&&-1!=this.clipTextY&&-1!=this.clipTextWidth&&-1!=this.clipTextHeight&&(E=!0);var A,S=this.preRenderedSize*ceramic_App.app.screen.get_texturesDensity()|0;if(S>0){var M=this.font;A=null!=M.fontData.distanceField&&"msdf"==M.fontData.distanceField.fieldType}else A=!1;var P=A&&!this.font.needsToPreRenderAtSize(S),F=this.content;(""==F||F.length>0&&"\n"==F.charAt(F.length-1))&&(v=!0,F+=" ");for(var k=F.length;u<k&&p<2*k;){if(h=a,c=o,a=F.charAt(u),o=HxOverrides.cca(a,0),(y=" "==a)&&++O,(b="\n"==a)||y||u==k-1)if(!g&&e>=0&&r>1&&r>e-1&&O>0)for(g=!0,--O;u>0;){if(--u,a=F.charAt(u),o=HxOverrides.cca(a,0),u>0?(h=F.charAt(u-1),c=HxOverrides.cca(h,0)):(h=null,c=-1),_=this.font.fontData.chars.get(o),null!=h){var R,I=this.font.fontData.kernings.get(c);if(null!=I&&I.intMap.h.hasOwnProperty(0|o)){var N=I.intMap.h[0|o];R=null!=N?N:0}else R=0;i-=R*l}if(null!=_&&(i-=_.xAdvance*l+this.letterSpacing),!(f[f.length-1].length>0))break;if(--p,f[f.length-1].pop()," "==a){a="\n",_=this.font.fontData.chars.get(10),o=HxOverrides.cca(a,0),--O,b=!0,y=!1;break}}else g=!1;if(b)O=0,h=null,c=-1,x=++u,s+=this.lineHeight*this.font.fontData.lineHeight*l,d.push(i+(null!=_?(_.xOffset+_.width-_.xAdvance)*l-this.letterSpacing:0)),f.push([]),i=0,r=0;else if(null!=(_=this.font.fontData.chars.get(o))){if(null!=h){var L,B=this.font.fontData.kernings.get(c);if(null!=B&&B.intMap.h.hasOwnProperty(0|o)){var G=B.intMap.h[0|o];L=null!=G?G:0}else L=0;i+=L*l}if(w=i+_.xOffset*l,U=s+_.yOffset*l,C=_.width*l,T=_.height*l,D=0,E&&(w>=this.clipTextX+this.clipTextWidth||w+C<this.clipTextX||U>=this.clipTextY+this.clipTextHeight||U+T<this.clipTextY?D=2:(this.clipTextX>w&&this.clipTextX<=w+C||this.clipTextY>U&&this.clipTextY<=U+T||this.clipTextX+this.clipTextWidth>w&&this.clipTextX+this.clipTextWidth<=w+C||this.clipTextY+this.clipTextHeight>U&&this.clipTextY+this.clipTextHeight<=U+T)&&(D=1)),null==(ye=p<this.glyphQuads.length?this.glyphQuads[p]:null)){if(1!=(ye=new ceramic_GlyphQuad).inheritAlpha&&(ye.inheritAlpha=!0,ye.visibilityDirty=!0,null!=ye.children))for(var W=0,K=ye.children.length;W<K;){var Y=W++,H=ye.children[Y];if(H.visibilityDirty=!0,null!=H.children)for(var X=0,V=H.children.length;X<V;){var z=X++;H.children[z].set_visibilityDirty(!0)}}this.glyphQuads.push(ye),this.add(ye)}++p,ye.char=a,ye.code=o,ye.index=u,ye.set_visible(2!=D),ye.flags&=-17,ye.posInLine=u-x,ye.line=f.length-1;var j=P?this.font.preRenderedPages.h[S].h[_.page]:this.font.pages.get(_.page);if(ye._texture!=j&&ye._set_texture(j),ye.set_roundTranslation(null!=ye._texture&&ye._texture.filter==m.NEAREST?1:0),ye.set_shader(P||null==this.font.pageShaders?null:this.font.pageShaders.h[_.page]),ye.color=this.color,ye.set_depth(this.depth),ye.set_blending(this.blending),ye.glyphX=i,ye.glyphY=s,ye.glyphAdvance=_.xAdvance*l+this.letterSpacing,ye.glyph=_,1==D){var $,Q,q,Z,J=Math.max(this.clipTextX,w),ee=Math.max(this.clipTextY,U),ne=Math.min(this.clipTextX+this.clipTextWidth,w+C)-J,te=Math.min(this.clipTextY+this.clipTextHeight,U+T)-ee;if(P){var ie=this.font.pages.get(_.page);$=_.x*ye._texture.width/ie.width,Q=_.y*ye._texture.height/ie.height,q=_.width*ye._texture.width/ie.width,Z=_.height*ye._texture.height/ie.height}else $=_.x/ye._texture.density,Q=_.y/ye._texture.density,q=_.width/ye._texture.density,Z=_.height/ye._texture.density;var se=(J-w)*q/C;$+=se,q-=se+(w+C-J-ne)*q/C;var re=(ee-U)*Z/T;Q+=re,Z-=re+(U+T-ee-te)*Z/T,ye.frameX=$,ye.frameY=Q,ye.frameWidth!=q&&(ye.frameWidth=q,-1!=q&&ye.set_width(q)),ye.frameHeight!=Z&&(ye.frameHeight=Z,-1!=Z&&ye.set_height(Z)),ye.set_x(J),ye.set_y(ee),ye.set_width(ne),ye.set_height(te)}else{if(P){var le=this.font.pages.get(_.page),ae=_.width*ye._texture.width/le.width,oe=_.height*ye._texture.height/le.height;ye.frameX=_.x*ye._texture.width/le.width,ye.frameY=_.y*ye._texture.height/le.height,ye.frameWidth!=ae&&(ye.frameWidth=ae,-1!=ae&&ye.set_width(ae)),ye.frameHeight!=oe&&(ye.frameHeight=oe,-1!=oe&&ye.set_height(oe))}else{var he=_.width/ye._texture.density,ce=_.height/ye._texture.density;ye.frameX=_.x/ye._texture.density,ye.frameY=_.y/ye._texture.density,ye.frameWidth!=he&&(ye.frameWidth=he,-1!=he&&ye.set_width(he)),ye.frameHeight!=ce&&(ye.frameHeight=ce,-1!=ce&&ye.set_height(ce))}ye.set_x(w),ye.set_y(U),ye.set_width(C),ye.set_height(T)}ye.set_anchorX(0),ye.set_anchorY(0),f[f.length-1].push(ye),r=i+Math.max((_.xOffset+_.width)*l,_.xAdvance*l),i+=_.xAdvance*l+this.letterSpacing,++u}else++u}if(i>0&&d.push(i),v&&p>0){var ue=this.glyphQuads[p-1],_e=d[d.length-1];_e-=ue.glyphAdvance,d[d.length-1]=_e,ue.glyphAdvance=0,ue.set_visible(!1)}for(;p<this.glyphQuads.length;){(ye=this.glyphQuads.pop()).destroy()}var de=0;for(W=0,K=d.length;W<K;){var fe=d[u=W++];de=Math.max(fe,de)}switch(this.set_width(Math.round(1e3*de)/1e3),this.set_height(Math.round(1e3*((d.length-1)*this.lineHeight*this.font.fontData.lineHeight*l+this.font.fontData.lineHeight*l))/1e3),this.align._hx_index){case 1:for(W=0,K=d.length;W<K;){var pe=de-d[u=W++];for(X=0,V=(be=f[u]).length;X<V;){(ye=be[xe=X++]).set_x(ye.x+pe)}}break;case 2:for(W=0,K=d.length;W<K;){var be;for(pe=.5*(de-d[u=W++]),X=0,V=(be=f[u]).length;X<V;){var ye;(ye=be[xe=X++]).set_x(ye.x+pe)}}}if((-1==t||t==d.length)&&e>0&&-1!=n&&e>this.pointSize){var ge=0,Oe=this.fitWidth*n;for(W=0,K=d.length;W<K;)for(u=W++,X=0,V=d.length;X<V;){var xe=X++,ve=d[u]-d[xe];if(ve<0&&(ve=-ve),ve>ge&&(ge=ve),ge>Oe)break}if(ge>Oe)this.computeGlyphQuads(e-this.pointSize,n,d.length)>d.length&&this.computeGlyphQuads(e,-1,d.length)}return d.length},lineForYPosition:function(e){this.contentDirty&&this.computeContent();var n=this.lineHeight*this.font.fontData.lineHeight*this.pointSize/this.font.fontData.pointSize,t=0;if(n<=0)return 0;var i=this.glyphQuads;i.length>0&&(t=i[i.length-1].line);var s=Math.floor(e/n);return s<0&&(s=0),s>t&&(s=t),s},posInLineForX:function(e,n){this.contentDirty&&this.computeContent();var t=this.glyphQuads,i=0;if(0==t.length||0==n)return i;for(var s=0,r=t.length;s<r;){var l=t[s++];if(l.line==e){if(l.glyphX>=n)return i;if(l.glyphX+l.glyphAdvance>=n){var a=l.glyphX+l.glyphAdvance-n;if(n-l.glyphX<=a)return i}++i}else if(l.line>e)break}return i},indexForPosInLine:function(e,n){this.contentDirty&&this.computeContent();var t=this.glyphQuads;if(0==t.length)return 0;for(var i=0,s=t.length;i<s;){var r=t[i++];if(r.line==e&&r.posInLine>=n)return r.index+n-r.posInLine;if(r.line>e)return r.index-r.posInLine-(r.line-e)}return this.content.length},xPositionAtIndex:function(e){this.contentDirty&&this.computeContent();var n=this.glyphQuads;if(0==n.length)return 0;for(var t=0,i=n.length;t<i;){var s=t++,r=n[s];if(r.index>=e){if(0==r.glyphX&&r.index>e){if(s>=1){var l=n[s-1];return l.glyphX+l.glyphAdvance}return 0}return r.glyphX}}var a=n[n.length-1];return a.glyphX+a.glyphAdvance},lineForIndex:function(e){this.contentDirty&&this.computeContent();var n=this.glyphQuads;if(0==n.length)return 0;for(var t=0,i=n.length;t<i;){var s=n[t++];if(s.index>=e){if(s.posInLine>e-s.index){for(var r=s.index-s.posInLine,l=s.line;r>e;)--r,--l;return l}return s.line}}return n[n.length-1].line},posInLineForIndex:function(e){this.contentDirty&&this.computeContent();var n=this.glyphQuads;if(0==n.length)return 0;for(var t=!1,i=-1,s=0,r=n.length;s<r;){var l=s++,a=n[l];if(a.index>=e){var o=a.posInLine+e-a.index;if(o<0)for(var h=l-1;h>=0;){var c=n[h];if(t||(t=!0,i=this.lineForIndex(e)),c.line==i)return o=c.posInLine+e-c.index;if(c.line<i)return 0;--h}return o>=0?o:0}}return 0},fontDestroyed:function(e){this.set_font(ceramic_App.app.defaultFont)},toString:function(){return null!=this.id?"Text("+this.id+" "+this.content+")":"Text("+this.content+")"},unbindEvents:function(){ceramic_Visual.prototype.unbindEvents.call(this),this.offGlyphQuadsChange()},__class__:ceramic_Text,__properties__:$extend(ceramic_Visual.prototype.__properties__,{set_maxLineDiff:"set_maxLineDiff",set_fitWidth:"set_fitWidth",set_align:"set_align",set_preRenderedSize:"set_preRenderedSize",set_clipTextHeight:"set_clipTextHeight",set_clipTextWidth:"set_clipTextWidth",set_clipTextY:"set_clipTextY",set_clipTextX:"set_clipTextX",set_font:"set_font",set_letterSpacing:"set_letterSpacing",set_lineHeight:"set_lineHeight",set_pointSize:"set_pointSize",set_content:"set_content",set_color:"set_color",get_numLines:"get_numLines"})});var v=i["ceramic.TextAlign"]={__ename__:"ceramic.TextAlign",__constructs__:null,LEFT:{_hx_name:"LEFT",_hx_index:0,__enum__:"ceramic.TextAlign",toString:$estr},RIGHT:{_hx_name:"RIGHT",_hx_index:1,__enum__:"ceramic.TextAlign",toString:$estr},CENTER:{_hx_name:"CENTER",_hx_index:2,__enum__:"ceramic.TextAlign",toString:$estr}};v.__constructs__=[v.LEFT,v.RIGHT,v.CENTER];var ceramic_TextAsset=function(e,n,t){this.unobservedText=null,this.textAutoruns=null,ceramic_Asset.call(this,"text",e,n,t)};t["ceramic.TextAsset"]=ceramic_TextAsset,ceramic_TextAsset.__name__="ceramic.TextAsset",ceramic_TextAsset.__super__=ceramic_Asset,ceramic_TextAsset.prototype=$extend(ceramic_Asset.prototype,{get_text:function(){var e=this.unobservedText;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.textAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.textAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_text:function(e){var n=this.unobservedText;if(this.unobservedText=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTextChange(e,n);var t=this.textAutoruns;if(null!=t){this.textAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateText:function(){var e=this.unobservedText;this.emitTextChange(e,e);var n=this.textAutoruns;if(null!=n){this.textAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitTextChange:function(e,n){var t=0;if(null!=this.__cbOnTextChange&&(t+=this.__cbOnTextChange.length),null!=this.__cbOnceTextChange&&(t+=this.__cbOnceTextChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnTextChange)for(var l=0,a=this.__cbOnTextChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnTextChange[o],++r):--t}if(null!=this.__cbOnceTextChange){var h=null,c=null;for(l=0,a=this.__cbOnceTextChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceTextChange[o],this.__cbOnceTextChange[o]=null;var u=this.__cbOnceOwnerUnbindTextChange[o];this.__cbOnceOwnerUnbindTextChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindTextChange[o]),c.push(this.__cbOnceTextChange[o])}this.__cbOnceOwnerUnbindTextChange=h,this.__cbOnceTextChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onTextChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event textChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTextChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTextChange&&(this.__cbOnOwnerUnbindTextChange=[]),this.__cbOnOwnerUnbindTextChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTextChange&&(this.__cbOnOwnerUnbindTextChange=[]),this.__cbOnOwnerUnbindTextChange.push(null);null==this.__cbOnTextChange&&(this.__cbOnTextChange=[]),this.__cbOnTextChange.push(n)},onceTextChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event textChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTextChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTextChange&&(this.__cbOnceOwnerUnbindTextChange=[]),this.__cbOnceOwnerUnbindTextChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTextChange&&(this.__cbOnceOwnerUnbindTextChange=[]),this.__cbOnceOwnerUnbindTextChange.push(null);null==this.__cbOnceTextChange&&(this.__cbOnceTextChange=[]),this.__cbOnceTextChange.push(n)},offTextChange:function(e){if(null!=e){var n;null!=this.__cbOnTextChange&&-1!=(n=this.__cbOnTextChange.indexOf(e))&&(this.__cbOnTextChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTextChange[n])&&r(),this.__cbOnOwnerUnbindTextChange.splice(n,1)),null!=this.__cbOnceTextChange&&-1!=(n=this.__cbOnceTextChange.indexOf(e))&&(this.__cbOnceTextChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTextChange[n])&&r(),this.__cbOnceOwnerUnbindTextChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTextChange){for(var t=0,i=this.__cbOnOwnerUnbindTextChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTextChange[s])&&r()}this.__cbOnOwnerUnbindTextChange=null}if(null!=this.__cbOnceOwnerUnbindTextChange){for(t=0,i=this.__cbOnceOwnerUnbindTextChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTextChange[s])&&r()}this.__cbOnceOwnerUnbindTextChange=null}this.__cbOnTextChange=null,this.__cbOnceTextChange=null}},listensTextChange:function(){return null!=this.__cbOnTextChange&&this.__cbOnTextChange.length>0||null!=this.__cbOnceTextChange&&this.__cbOnceTextChange.length>0},load:function(){var e=this;if(this.set_status(o.LOADING),null==this.path)return ceramic_App.app.logger.warning("Cannot load text asset if path is undefined.",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/TextAsset.hx",lineNumber:20,className:"ceramic.TextAsset",methodName:"load"}),this.set_status(o.BROKEN),void this.emitComplete(!1);var n={};if(null!=this.owner&&(n.immediate=this.owner.immediate,n.loadMethod=this.owner.loadMethod),null!=this.options)for(var t=0,i=Reflect.fields(this.options);t<i.length;){var s=i[t];++t,n[s]=Reflect.field(this.options,s)}var r=this.path,l=ceramic_Assets.realAssetPath(r,this.runtimeAssets),a=ceramic_Assets.getReloadCount(l);a>0&&(l+="?hot="+a,r+="?hot="+a),ceramic_App.app.logger.info("Load text "+r,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/TextAsset.hx",lineNumber:46,className:"ceramic.TextAsset",methodName:"load"}),ceramic_App.app.backend.texts.load(l,n,(function(n){null!=n?(e.set_text(n),e.set_status(o.READY),e.emitComplete(!0)):(e.set_status(o.BROKEN),ceramic_App.app.logger.error("Failed to load text at path: "+e.path,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/TextAsset.hx",lineNumber:56,className:"ceramic.TextAsset",methodName:"load"}),e.emitComplete(!1))}))},assetFilesDidChange:function(e,n){var t=-1;Object.prototype.hasOwnProperty.call(n.h,this.path)&&(t=n.h[this.path]);var i=-1;Object.prototype.hasOwnProperty.call(e.h,this.path)&&(i=e.h[this.path]),i>t&&(ceramic_App.app.logger.info("Reload text (file has changed)",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/TextAsset.hx",lineNumber:79,className:"ceramic.TextAsset",methodName:"assetFilesDidChange"}),this.load())},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Asset.prototype.destroy.call(this),this.set_text(null))},unbindEvents:function(){ceramic_Asset.prototype.unbindEvents.call(this),this.offTextChange()},__class__:ceramic_TextAsset,__properties__:$extend(ceramic_Asset.prototype.__properties__,{set_text:"set_text",get_text:"get_text"})});var ceramic_TextInput=function(){this.delegate=null,this.selectionEnd=-1,this.selectionStart=-1,this.text="",this.multiline=!1,this.allowMovingCursor=!1,this.invertedSelection=!1,this.rmetaPressed=!1,this.lmetaPressed=!1,this.rctrlPressed=!1,this.lctrlPressed=!1,this.rshiftPressed=!1,this.lshiftPressed=!1,this.explicitPosLine=0,this.explicitPosInLine=0,this.inputActive=!1};t["ceramic.TextInput"]=ceramic_TextInput,ceramic_TextInput.__name__="ceramic.TextInput",ceramic_TextInput.__interfaces__=[tracker_Events],ceramic_TextInput.prototype={emitUpdate:function(e){var n=0;if(null!=this.__cbOnUpdate&&(n+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(n+=this.__cbOnceUpdate.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnUpdate)for(var r=0,l=this.__cbOnUpdate.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnUpdate[a],++s):--n}if(null!=this.__cbOnceUpdate){var o=null,h=null;for(r=0,l=this.__cbOnceUpdate.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceUpdate[a],this.__cbOnceUpdate[a]=null;var c=this.__cbOnceOwnerUnbindUpdate[a];this.__cbOnceOwnerUnbindUpdate[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindUpdate[a]),h.push(this.__cbOnceUpdate[a])}this.__cbOnceOwnerUnbindUpdate=o,this.__cbOnceUpdate=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(n)},onceUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(n)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindUpdate[n])&&r(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindUpdate[n])&&r(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindUpdate[s])&&r()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindUpdate[s])&&r()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&this.__cbOnUpdate.length>0||null!=this.__cbOnceUpdate&&this.__cbOnceUpdate.length>0},emitEnter:function(){var e=0;if(null!=this.__cbOnEnter&&(e+=this.__cbOnEnter.length),null!=this.__cbOnceEnter&&(e+=this.__cbOnceEnter.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnEnter)for(var s=0,r=this.__cbOnEnter.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnEnter[l],++i):--e}if(null!=this.__cbOnceEnter){var a=null,o=null;for(s=0,r=this.__cbOnceEnter.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceEnter[l],this.__cbOnceEnter[l]=null;var h=this.__cbOnceOwnerUnbindEnter[l];this.__cbOnceOwnerUnbindEnter[l]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],o=[],[]),a.push(this.__cbOnceOwnerUnbindEnter[l]),o.push(this.__cbOnceEnter[l])}this.__cbOnceOwnerUnbindEnter=a,this.__cbOnceEnter=o}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onEnter:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event enter because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offEnter(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindEnter&&(this.__cbOnOwnerUnbindEnter=[]),this.__cbOnOwnerUnbindEnter.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindEnter&&(this.__cbOnOwnerUnbindEnter=[]),this.__cbOnOwnerUnbindEnter.push(null);null==this.__cbOnEnter&&(this.__cbOnEnter=[]),this.__cbOnEnter.push(n)},onceEnter:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event enter because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offEnter(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindEnter&&(this.__cbOnceOwnerUnbindEnter=[]),this.__cbOnceOwnerUnbindEnter.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindEnter&&(this.__cbOnceOwnerUnbindEnter=[]),this.__cbOnceOwnerUnbindEnter.push(null);null==this.__cbOnceEnter&&(this.__cbOnceEnter=[]),this.__cbOnceEnter.push(n)},offEnter:function(e){if(null!=e){var n;null!=this.__cbOnEnter&&-1!=(n=this.__cbOnEnter.indexOf(e))&&(this.__cbOnEnter.splice(n,1),null!=(r=this.__cbOnOwnerUnbindEnter[n])&&r(),this.__cbOnOwnerUnbindEnter.splice(n,1)),null!=this.__cbOnceEnter&&-1!=(n=this.__cbOnceEnter.indexOf(e))&&(this.__cbOnceEnter.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindEnter[n])&&r(),this.__cbOnceOwnerUnbindEnter.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEnter){for(var t=0,i=this.__cbOnOwnerUnbindEnter.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindEnter[s])&&r()}this.__cbOnOwnerUnbindEnter=null}if(null!=this.__cbOnceOwnerUnbindEnter){for(t=0,i=this.__cbOnceOwnerUnbindEnter.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindEnter[s])&&r()}this.__cbOnceOwnerUnbindEnter=null}this.__cbOnEnter=null,this.__cbOnceEnter=null}},listensEnter:function(){return null!=this.__cbOnEnter&&this.__cbOnEnter.length>0||null!=this.__cbOnceEnter&&this.__cbOnceEnter.length>0},emitEscape:function(){var e=0;if(null!=this.__cbOnEscape&&(e+=this.__cbOnEscape.length),null!=this.__cbOnceEscape&&(e+=this.__cbOnceEscape.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnEscape)for(var s=0,r=this.__cbOnEscape.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnEscape[l],++i):--e}if(null!=this.__cbOnceEscape){var a=null,o=null;for(s=0,r=this.__cbOnceEscape.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceEscape[l],this.__cbOnceEscape[l]=null;var h=this.__cbOnceOwnerUnbindEscape[l];this.__cbOnceOwnerUnbindEscape[l]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],o=[],[]),a.push(this.__cbOnceOwnerUnbindEscape[l]),o.push(this.__cbOnceEscape[l])}this.__cbOnceOwnerUnbindEscape=a,this.__cbOnceEscape=o}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onEscape:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event escape because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offEscape(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindEscape&&(this.__cbOnOwnerUnbindEscape=[]),this.__cbOnOwnerUnbindEscape.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindEscape&&(this.__cbOnOwnerUnbindEscape=[]),this.__cbOnOwnerUnbindEscape.push(null);null==this.__cbOnEscape&&(this.__cbOnEscape=[]),this.__cbOnEscape.push(n)},onceEscape:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event escape because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offEscape(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindEscape&&(this.__cbOnceOwnerUnbindEscape=[]),this.__cbOnceOwnerUnbindEscape.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindEscape&&(this.__cbOnceOwnerUnbindEscape=[]),this.__cbOnceOwnerUnbindEscape.push(null);null==this.__cbOnceEscape&&(this.__cbOnceEscape=[]),this.__cbOnceEscape.push(n)},offEscape:function(e){if(null!=e){var n;null!=this.__cbOnEscape&&-1!=(n=this.__cbOnEscape.indexOf(e))&&(this.__cbOnEscape.splice(n,1),null!=(r=this.__cbOnOwnerUnbindEscape[n])&&r(),this.__cbOnOwnerUnbindEscape.splice(n,1)),null!=this.__cbOnceEscape&&-1!=(n=this.__cbOnceEscape.indexOf(e))&&(this.__cbOnceEscape.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindEscape[n])&&r(),this.__cbOnceOwnerUnbindEscape.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEscape){for(var t=0,i=this.__cbOnOwnerUnbindEscape.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindEscape[s])&&r()}this.__cbOnOwnerUnbindEscape=null}if(null!=this.__cbOnceOwnerUnbindEscape){for(t=0,i=this.__cbOnceOwnerUnbindEscape.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindEscape[s])&&r()}this.__cbOnceOwnerUnbindEscape=null}this.__cbOnEscape=null,this.__cbOnceEscape=null}},listensEscape:function(){return null!=this.__cbOnEscape&&this.__cbOnEscape.length>0||null!=this.__cbOnceEscape&&this.__cbOnceEscape.length>0},emitSelection:function(e,n){var t=0;if(null!=this.__cbOnSelection&&(t+=this.__cbOnSelection.length),null!=this.__cbOnceSelection&&(t+=this.__cbOnceSelection.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnSelection)for(var l=0,a=this.__cbOnSelection.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnSelection[o],++r):--t}if(null!=this.__cbOnceSelection){var h=null,c=null;for(l=0,a=this.__cbOnceSelection.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceSelection[o],this.__cbOnceSelection[o]=null;var u=this.__cbOnceOwnerUnbindSelection[o];this.__cbOnceOwnerUnbindSelection[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindSelection[o]),c.push(this.__cbOnceSelection[o])}this.__cbOnceOwnerUnbindSelection=h,this.__cbOnceSelection=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onSelection:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event selection because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offSelection(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindSelection&&(this.__cbOnOwnerUnbindSelection=[]),this.__cbOnOwnerUnbindSelection.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindSelection&&(this.__cbOnOwnerUnbindSelection=[]),this.__cbOnOwnerUnbindSelection.push(null);null==this.__cbOnSelection&&(this.__cbOnSelection=[]),this.__cbOnSelection.push(n)},onceSelection:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event selection because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offSelection(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindSelection&&(this.__cbOnceOwnerUnbindSelection=[]),this.__cbOnceOwnerUnbindSelection.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindSelection&&(this.__cbOnceOwnerUnbindSelection=[]),this.__cbOnceOwnerUnbindSelection.push(null);null==this.__cbOnceSelection&&(this.__cbOnceSelection=[]),this.__cbOnceSelection.push(n)},offSelection:function(e){if(null!=e){var n;null!=this.__cbOnSelection&&-1!=(n=this.__cbOnSelection.indexOf(e))&&(this.__cbOnSelection.splice(n,1),null!=(r=this.__cbOnOwnerUnbindSelection[n])&&r(),this.__cbOnOwnerUnbindSelection.splice(n,1)),null!=this.__cbOnceSelection&&-1!=(n=this.__cbOnceSelection.indexOf(e))&&(this.__cbOnceSelection.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindSelection[n])&&r(),this.__cbOnceOwnerUnbindSelection.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindSelection){for(var t=0,i=this.__cbOnOwnerUnbindSelection.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindSelection[s])&&r()}this.__cbOnOwnerUnbindSelection=null}if(null!=this.__cbOnceOwnerUnbindSelection){for(t=0,i=this.__cbOnceOwnerUnbindSelection.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindSelection[s])&&r()}this.__cbOnceOwnerUnbindSelection=null}this.__cbOnSelection=null,this.__cbOnceSelection=null}},listensSelection:function(){return null!=this.__cbOnSelection&&this.__cbOnSelection.length>0||null!=this.__cbOnceSelection&&this.__cbOnceSelection.length>0},emitStop:function(){var e=0;if(null!=this.__cbOnStop&&(e+=this.__cbOnStop.length),null!=this.__cbOnceStop&&(e+=this.__cbOnceStop.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnStop)for(var s=0,r=this.__cbOnStop.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnStop[l],++i):--e}if(null!=this.__cbOnceStop){var a=null,o=null;for(s=0,r=this.__cbOnceStop.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceStop[l],this.__cbOnceStop[l]=null;var h=this.__cbOnceOwnerUnbindStop[l];this.__cbOnceOwnerUnbindStop[l]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],o=[],[]),a.push(this.__cbOnceOwnerUnbindStop[l]),o.push(this.__cbOnceStop[l])}this.__cbOnceOwnerUnbindStop=a,this.__cbOnceStop=o}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onStop:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event stop because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offStop(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindStop&&(this.__cbOnOwnerUnbindStop=[]),this.__cbOnOwnerUnbindStop.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindStop&&(this.__cbOnOwnerUnbindStop=[]),this.__cbOnOwnerUnbindStop.push(null);null==this.__cbOnStop&&(this.__cbOnStop=[]),this.__cbOnStop.push(n)},onceStop:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event stop because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offStop(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindStop&&(this.__cbOnceOwnerUnbindStop=[]),this.__cbOnceOwnerUnbindStop.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindStop&&(this.__cbOnceOwnerUnbindStop=[]),this.__cbOnceOwnerUnbindStop.push(null);null==this.__cbOnceStop&&(this.__cbOnceStop=[]),this.__cbOnceStop.push(n)},offStop:function(e){if(null!=e){var n;null!=this.__cbOnStop&&-1!=(n=this.__cbOnStop.indexOf(e))&&(this.__cbOnStop.splice(n,1),null!=(r=this.__cbOnOwnerUnbindStop[n])&&r(),this.__cbOnOwnerUnbindStop.splice(n,1)),null!=this.__cbOnceStop&&-1!=(n=this.__cbOnceStop.indexOf(e))&&(this.__cbOnceStop.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindStop[n])&&r(),this.__cbOnceOwnerUnbindStop.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStop){for(var t=0,i=this.__cbOnOwnerUnbindStop.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindStop[s])&&r()}this.__cbOnOwnerUnbindStop=null}if(null!=this.__cbOnceOwnerUnbindStop){for(t=0,i=this.__cbOnceOwnerUnbindStop.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindStop[s])&&r()}this.__cbOnceOwnerUnbindStop=null}this.__cbOnStop=null,this.__cbOnceStop=null}},listensStop:function(){return null!=this.__cbOnStop&&this.__cbOnStop.length>0||null!=this.__cbOnceStop&&this.__cbOnceStop.length>0},start:function(e,n,t,i,s,r,l,a,o,h){null==o&&(o=!1),null==a&&(a=-1),null==l&&(l=-1),null==r&&(r=!1),this.inputActive&&this.stop(),this.inputActive=!0,this.set_text(e),this.multiline=r,this.allowMovingCursor=o,this.delegate=h,this.explicitPosInLine=0,this.explicitPosLine=0,this.invertedSelection=!1,l<0&&(l=e.length),a<l&&(a=l),this.selectionStart=l,this.selectionEnd=a;var c=ceramic_App.app.screen.matrix,u=(n*c.a+t*c.c+c.tx)/clay_Clay.app.screenDensity,_=(n*c.b+t*c.d+c.ty)/clay_Clay.app.screenDensity,d=((n+i)*c.a+(t+s)*c.c+c.tx)/clay_Clay.app.screenDensity-u,f=((n+i)*c.b+(t+s)*c.d+c.ty)/clay_Clay.app.screenDensity-_;ceramic_App.app.backend.textInput.start(e,u,_,d,f),this.emitUpdate(e),this.emitSelection(l,a)},stop:function(){this.inputActive&&(this.inputActive=!1,this.selectionStart=-1,this.selectionEnd=-1,this.invertedSelection=!1,this.delegate=null,ceramic_App.app.backend.textInput.stop(),this.emitStop())},updateSelection:function(e,n,t){this.selectionStart==e&&this.selectionEnd==n||(this.selectionStart=e,this.selectionEnd=n,null!=t&&(this.invertedSelection=t),this.emitSelection(e,n))},appendText:function(e){if(!this.lctrlPressed&&!this.rctrlPressed){var n="";this.selectionStart>0&&(n+=this.text.substring(0,this.selectionStart)),n+=e,n+=this.text.substring(this.selectionEnd),this.selectionStart+=e.length,this.selectionEnd=this.selectionStart,this.invertedSelection=!1,this.set_text(n),this.emitUpdate(this.text),this.emitSelection(this.selectionStart,this.selectionEnd),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)}},space:function(){this.appendText(" ")},backspace:function(){var e=this.selectionEnd>this.selectionStart,n="";this.selectionStart>1&&(n+=this.text.substring(0,e?this.selectionStart:this.selectionStart-1)),n+=this.text.substring(this.selectionEnd),this.selectionStart>0&&!e&&this.selectionStart--,this.selectionEnd=this.selectionStart,this.set_text(n),this.emitUpdate(this.text),this.emitSelection(this.selectionStart,this.selectionEnd),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)},moveLeft:function(){this.allowMovingCursor&&(this.lshiftPressed||this.rshiftPressed?this.invertedSelection?(this.selectionStart>0&&(this.selectionStart--,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)):this.selectionEnd>this.selectionStart?(this.selectionEnd--,this.emitSelection(this.selectionStart,this.selectionEnd),this.explicitPosInLine=this.posInCurrentLine(this.selectionEnd),this.explicitPosLine=this.lineForPos(this.selectionEnd)):(this.selectionStart>0&&(this.invertedSelection=!0,this.selectionStart--,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)):(this.invertedSelection=!1,this.selectionEnd>this.selectionStart?(this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd)):this.selectionStart>0&&(this.selectionStart--,this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)))},moveRight:function(){if(this.allowMovingCursor)if(this.lshiftPressed||this.rshiftPressed){var e=this.text.length;this.selectionStart==this.selectionEnd?(this.invertedSelection=!1,this.selectionEnd<e&&(this.selectionEnd++,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionEnd),this.explicitPosLine=this.lineForPos(this.selectionEnd)):this.invertedSelection?(this.selectionStart++,this.emitSelection(this.selectionStart,this.selectionEnd),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)):(this.selectionEnd<e&&(this.selectionEnd++,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionEnd),this.explicitPosLine=this.lineForPos(this.selectionEnd))}else this.invertedSelection=!1,this.selectionEnd>this.selectionStart?(this.selectionStart=this.selectionEnd,this.emitSelection(this.selectionStart,this.selectionEnd)):this.selectionStart<this.text.length&&(this.selectionStart++,this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd)),this.explicitPosInLine=this.posInCurrentLine(this.selectionStart),this.explicitPosLine=this.lineForPos(this.selectionStart)},moveUp:function(){if(this.allowMovingCursor)if(this.lshiftPressed||this.rshiftPressed){var e=this.lineForPos(this.selectionStart),n=this.lineForPos(this.selectionEnd);if(!this.invertedSelection&&n>e){var t=this.explicitPosInLine,i=n;null!=this.delegate&&(t=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,i-1));var s=this.globalPosForLine(i-1,t);this.selectionEnd=0|Math.max(this.selectionStart,s),this.emitSelection(this.selectionStart,this.selectionEnd)}else if(this.selectionStart>0){if(this.invertedSelection=!0,e>0){t=this.explicitPosInLine,i=e;null!=this.delegate&&(t=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,i-1)),this.selectionStart=this.globalPosForLine(i-1,t)}else this.selectionStart=0;this.emitSelection(this.selectionStart,this.selectionEnd)}}else{if(this.invertedSelection=!1,this.selectionStart>0)if((i=this.lineForPos(this.selectionStart))>0){t=this.explicitPosInLine;null!=this.delegate&&(t=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,i-1)),this.selectionStart=this.globalPosForLine(i-1,t),this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd)}else this.selectionStart=0,this.selectionEnd=0,this.emitSelection(this.selectionStart,this.selectionEnd);else this.selectionStart=0,this.selectionEnd=0,this.emitSelection(this.selectionStart,this.selectionEnd)}},moveDown:function(){if(this.allowMovingCursor){var e=this.text.length;if(this.lshiftPressed||this.rshiftPressed){var n=this.lineForPos(this.selectionStart),t=this.lineForPos(this.selectionEnd);if(this.invertedSelection){if(this.invertedSelection)if(t>n){s=this.explicitPosInLine,r=n;null!=this.delegate&&(s=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,r+1));var i=this.globalPosForLine(r+1,s);this.selectionStart=0|Math.min(this.selectionEnd,i),this.emitSelection(this.selectionStart,this.selectionEnd)}else if(this.selectionEnd<e-1){this.invertedSelection=!1;r=n,l=this.numLines(),s=this.explicitPosInLine;r<l-1?(null!=this.delegate&&(s=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,r+1)),this.selectionEnd=this.globalPosForLine(r+1,s)):this.selectionEnd=e,this.emitSelection(this.selectionStart,this.selectionEnd)}else this.selectionEnd<e&&(this.invertedSelection=!1,this.selectionEnd=e,this.emitSelection(this.selectionStart,this.selectionEnd))}else if(this.selectionEnd<e-1){var s=this.explicitPosInLine;(r=t)<(l=this.numLines())-1?(null!=this.delegate&&(s=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,r+1)),this.selectionEnd=this.globalPosForLine(r+1,s)):this.selectionEnd=e,this.emitSelection(this.selectionStart,this.selectionEnd)}else this.selectionEnd<e&&(this.selectionEnd=e,this.emitSelection(this.selectionStart,this.selectionEnd))}else{var r,l;if(this.invertedSelection=!1,this.selectionEnd<e-1)if((r=this.lineForPos(this.selectionEnd))<(l=this.numLines())-1){s=this.explicitPosInLine;null!=this.delegate&&(s=this.delegate.textInputClosestPositionInLine(this.explicitPosInLine,this.explicitPosLine,r+1)),this.selectionStart=this.globalPosForLine(r+1,s),this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd)}else this.selectionStart=e,this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd);else this.selectionStart=e,this.selectionEnd=this.selectionStart,this.emitSelection(this.selectionStart,this.selectionEnd)}}},enter:function(){this.emitEnter(),this.inputActive&&this.multiline&&this.appendText("\n")},escape:function(){this.emitEscape(),this.stop()},lshiftDown:function(){this.lshiftPressed=!0},lshiftUp:function(){this.lshiftPressed=!1},rshiftDown:function(){this.rshiftPressed=!0},rshiftUp:function(){this.rshiftPressed=!1},lctrlDown:function(){this.lctrlPressed=!0},lctrlUp:function(){this.lctrlPressed=!1},rctrlDown:function(){this.rctrlPressed=!0},rctrlUp:function(){this.rctrlPressed=!1},lmetaDown:function(){this.lmetaPressed=!0},lmetaUp:function(){this.lmetaPressed=!1},rmetaDown:function(){this.rmetaPressed=!0},rmetaUp:function(){this.rmetaPressed=!1},posInCurrentLine:function(e){if(null!=this.delegate)return this.delegate.textInputPosInLineForIndex(e);for(var n=this.text,t=0;e>0;){if("\n"==n.charAt(e)&&t>0){--t;break}--e,++t}return t},lineForPos:function(e){if(null!=this.delegate)return this.delegate.textInputLineForIndex(e);for(var n=this.text,t=0,i=0;i<e;){"\n"==n.charAt(i)&&++t,++i}return t},numLines:function(){return null!=this.delegate?this.delegate.textInputNumberOfLines():this.text.split("\n").length},globalPosForLine:function(e,n){if(null!=this.delegate)return this.delegate.textInputIndexForPosInLine(e,n);for(var t=this.text,i=0,s=t.length,r=0;i<s;){var l=t.charAt(i);if(r==e){if(!(n>0))break;if("\n"==l)break;--n}else"\n"==l&&++r;++i}return i},set_text:function(e){if(this.text==e)return e;this.text=e;var n=e.length,t=this.selectionStart,i=this.selectionEnd;return i>n&&(i=n),t>i&&(t=i),this.updateSelection(t,i),e},unbindEvents:function(){this.offUpdate(),this.offEnter(),this.offEscape(),this.offSelection(),this.offStop()},__class__:ceramic_TextInput,__properties__:{set_text:"set_text"}};var ceramic_TextInputDelegate=function(){};t["ceramic.TextInputDelegate"]=ceramic_TextInputDelegate,ceramic_TextInputDelegate.__name__="ceramic.TextInputDelegate",ceramic_TextInputDelegate.__isInterface__=!0,ceramic_TextInputDelegate.prototype={__class__:ceramic_TextInputDelegate};var ceramic_TextureAtlas=function(){this.asset=null,this.regions=[],this.pages=[],ceramic_Entity.call(this)};t["ceramic.TextureAtlas"]=ceramic_TextureAtlas,ceramic_TextureAtlas.__name__="ceramic.TextureAtlas",ceramic_TextureAtlas.__super__=ceramic_Entity,ceramic_TextureAtlas.prototype=$extend(ceramic_Entity.prototype,{region:function(e){for(var n=0,t=this.regions.length;n<t;){var i=n++,s=this.regions[i];if(s.name==e)return s}return null},computeFrames:function(){for(var e=0,n=this.regions.length;e<n;){var t=e++;this.regions[t].computeFrame()}},destroy:function(){if(!(this._lifecycleState<=-2)){for(this._lifecycleState=-2;this.pages.length>0;){var e=this.pages.pop().get_texture();null!=e&&e.destroy()}null!=this.asset&&this.asset.destroy(),this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this)}},__class__:ceramic_TextureAtlas});var ceramic_TextureAtlasPacker=function(){this.pages=[],this.pendingRegions=[],this.filter=m.LINEAR,this.spacing=1,this.atlas=null,ceramic_Entity.call(this)};t["ceramic.TextureAtlasPacker"]=ceramic_TextureAtlasPacker,ceramic_TextureAtlasPacker.__name__="ceramic.TextureAtlasPacker",ceramic_TextureAtlasPacker.__super__=ceramic_Entity,ceramic_TextureAtlasPacker.prototype=$extend(ceramic_Entity.prototype,{emitFinishPack:function(){var e=0;if(null!=this.__cbOnFinishPack&&(e+=this.__cbOnFinishPack.length),null!=this.__cbOnceFinishPack&&(e+=this.__cbOnceFinishPack.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnFinishPack)for(var s=0,r=this.__cbOnFinishPack.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnFinishPack[l],++i):--e}if(null!=this.__cbOnceFinishPack){var a=null,o=null;for(s=0,r=this.__cbOnceFinishPack.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceFinishPack[l],this.__cbOnceFinishPack[l]=null;var h=this.__cbOnceOwnerUnbindFinishPack[l];this.__cbOnceOwnerUnbindFinishPack[l]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],o=[],[]),a.push(this.__cbOnceOwnerUnbindFinishPack[l]),o.push(this.__cbOnceFinishPack[l])}this.__cbOnceOwnerUnbindFinishPack=a,this.__cbOnceFinishPack=o}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onFinishPack:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event finishPack because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFinishPack(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFinishPack&&(this.__cbOnOwnerUnbindFinishPack=[]),this.__cbOnOwnerUnbindFinishPack.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFinishPack&&(this.__cbOnOwnerUnbindFinishPack=[]),this.__cbOnOwnerUnbindFinishPack.push(null);null==this.__cbOnFinishPack&&(this.__cbOnFinishPack=[]),this.__cbOnFinishPack.push(n)},onceFinishPack:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event finishPack because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFinishPack(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFinishPack&&(this.__cbOnceOwnerUnbindFinishPack=[]),this.__cbOnceOwnerUnbindFinishPack.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFinishPack&&(this.__cbOnceOwnerUnbindFinishPack=[]),this.__cbOnceOwnerUnbindFinishPack.push(null);null==this.__cbOnceFinishPack&&(this.__cbOnceFinishPack=[]),this.__cbOnceFinishPack.push(n)},offFinishPack:function(e){if(null!=e){var n;null!=this.__cbOnFinishPack&&-1!=(n=this.__cbOnFinishPack.indexOf(e))&&(this.__cbOnFinishPack.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFinishPack[n])&&r(),this.__cbOnOwnerUnbindFinishPack.splice(n,1)),null!=this.__cbOnceFinishPack&&-1!=(n=this.__cbOnceFinishPack.indexOf(e))&&(this.__cbOnceFinishPack.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFinishPack[n])&&r(),this.__cbOnceOwnerUnbindFinishPack.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFinishPack){for(var t=0,i=this.__cbOnOwnerUnbindFinishPack.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindFinishPack[s])&&r()}this.__cbOnOwnerUnbindFinishPack=null}if(null!=this.__cbOnceOwnerUnbindFinishPack){for(t=0,i=this.__cbOnceOwnerUnbindFinishPack.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindFinishPack[s])&&r()}this.__cbOnceOwnerUnbindFinishPack=null}this.__cbOnFinishPack=null,this.__cbOnceFinishPack=null}},listensFinishPack:function(){return null!=this.__cbOnFinishPack&&this.__cbOnFinishPack.length>0||null!=this.__cbOnceFinishPack&&this.__cbOnceFinishPack.length>0},hasPendingRegions:function(){return null!=this.pendingRegions&&this.pendingRegions.length>0},region:function(e){if(null!=this.pendingRegions)for(var n=0,t=this.pendingRegions.length;n<t;){var i=n++;if((o=this.pendingRegions[i]).name==e)return o}if(null!=this.pages)for(n=0,t=this.pages.length;n<t;)for(var s=n++,r=this.pages[s],l=0,a=r.regions.length;l<a;){var o;i=l++;if((o=r.regions[i]).name==e)return o}return null},removeRegionsWithMatcher:function(e,n){if(null==e&&(e=!0),null!=this.pendingRegions){for(var t=null,i=0,s=this.pendingRegions.length;i<s;){var r=i++;n((l=this.pendingRegions[r]).name)&&(null==t&&(t=[]),t.push(l))}if(null!=t)for(i=0,s=t.length;i<s;){var l=t[r=i++];HxOverrides.remove(this.pendingRegions,l)}}if(null!=this.pages){var a=null;for(i=0,s=this.pages.length;i<s;){for(var o=i++,h=(t=null,this.pages[o]),c=0,u=h.regions.length;c<u;){r=c++;n((l=h.regions[r]).name)&&(null==t&&(t=[]),t.push(l))}if(null!=t){null==a&&(a=[]),a.push(h);for(var _=0,d=t.length;_<d;){var f=t[_++];HxOverrides.remove(h.regions,f),h.shouldResetTexture=!0}null!=this.pendingRegions&&(this.pendingRegions=[]);for(var p=0,b=h.regions.length;p<b;){var y=p++,g=h.regions[y];g.rect=null,g.rendered=!1,this.pendingRegions.unshift(g)}}}if(null!=a)for(i=0,s=a.length;i<s;){o=i++;HxOverrides.remove(this.pages,a[o])}}if(e&&null!=this.atlas){var O=null;for(i=0,s=this.atlas.regions.length;i<s;){r=i++;var x=this.atlas.regions[r];n(x.name)&&(null==O&&(O=[]),O.push(x))}if(null!=O)for(i=0,s=O.length;i<s;){r=i++;HxOverrides.remove(this.atlas.regions,O[r])}}},removeRegionsWithPrefix:function(e,n){null==e&&(e=!0),this.removeRegionsWithMatcher(e,(function(e){return StringTools.startsWith(e,n)}))},destroy:function(){if(!(this._lifecycleState<=-2)){if(this._lifecycleState=-2,null!=this.atlas){if(null!=this.atlas.pages)for(var e=0,n=this.atlas.pages.length;e<n;){var t=e++,i=this.atlas.pages[t],s=i.get_texture();null!=s&&(i.set_texture(null),s.destroy())}this.atlas.destroy(),this.atlas=null}this.pendingRegions=null,this.pages=null,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this)}},_addRegionFromPixels:function(e,n,t,i,s,r,l,a){-1==r&&(r=Math.round(n.length/s)),this.pendingRegions.push(new ceramic__$TextureAtlasPacker_TextureAtlasPackerRegion(e,t,i,s,r,l,a,n,null,null,null))},_addVariantRegion:function(e,n,t,i,s,r){var l=this.region(n);if(null==l)throw haxe_Exception.thrown('Cannot add variant region: source region "'+n+'" not found!');this.pendingRegions.push(new ceramic__$TextureAtlasPacker_TextureAtlasPackerRegion(e,t,i,l.packedWidth,l.packedHeight,s,r,null,l,null,null))},pack:function(e){var n=this,t=ceramic_TextureAtlasPacker.MIN_TEXTURE_SIZE;0==this.pages.length&&this.pages.push(new ceramic__$TextureAtlasPacker_TextureAtlasPackerPage(this.spacing,"page"+this.pages.length,t,t,[],new binpacking_MaxRectsPacker(t+this.spacing,t+this.spacing,!1),!0)),t=(b=this.pages[this.pages.length-1]).width;for(var i=[];this.pendingRegions.length>0;){if(null!=(v=this.pendingRegions.shift()).pixels){if(v.packedWidth>ceramic_TextureAtlasPacker.MAX_TEXTURE_SIZE||v.packedHeight>ceramic_TextureAtlasPacker.MAX_TEXTURE_SIZE)throw haxe_Exception.thrown("Cannot insert region "+v.name+" with used size: "+v.packedWidth+" x "+v.packedHeight);var s;if(null==(s=b.binPacker.insert(v.packedWidth+b.spacing,v.packedHeight+b.spacing,3)))if(t<ceramic_TextureAtlasPacker.MAX_TEXTURE_SIZE){t*=2,b.width=t,b.height=t,b.binPacker=new binpacking_MaxRectsPacker(t+b.spacing,t+b.spacing,!1);for(var r=0,l=b.regions.length;r<l;){var a=r++;b.regions[a].rect=null,b.regions[a].rendered=!1}this.pendingRegions=[v].concat(b.regions.concat(this.pendingRegions)),b.regions=[],b.shouldResetTexture=!0}else t=ceramic_TextureAtlasPacker.MIN_TEXTURE_SIZE,this.pages.push(new ceramic__$TextureAtlasPacker_TextureAtlasPackerPage(this.spacing,"page"+this.pages.length,t,t,[],new binpacking_MaxRectsPacker(t+this.spacing,t+this.spacing,!1),!0)),this.pendingRegions.unshift(v);else v.rect=s,b.regions.push(v)}else i.push(v)}for(r=0,l=i.length;r<l;){for(var o=(v=i[m=r++]).sourceRegion;null!=o&&null!=o.sourceRegion;)o=o.sourceRegion;if(null==o)throw haxe_Exception.thrown("Invalid variant region: "+v.name+" (source region not found).");for(var h=null,c=0,u=this.pages.length;c<u;){for(var _=c++,d=0,f=(b=this.pages[_]).regions.length;d<f;){var p=d++;if(b.regions[p].name==o.name){h=b;break}}if(null!=h)break}if(null==h)throw haxe_Exception.thrown("Invalid variant region: "+v.name+" (source region not found in any page).");h.regions.push(v)}null==this.atlas&&(this.atlas=new ceramic_TextureAtlas,this.atlas.onDestroy(this,(function(e){n.destroy()})));for(r=0,l=this.pages.length;r<l;){var b;_=r++;if((b=this.pages[_]).regions.length>0){var y=null;this.atlas.pages.length>_&&(y=this.atlas.pages[_]),null==y&&(y=new ceramic_TextureAtlasPage(b.name,b.width,b.height,this.filter),this.atlas.pages.push(y));var g=null;b.shouldResetTexture||null==y.get_texture()?(g=ceramic_Pixels.create(b.width,b.height,0),y.set_width(b.width),y.set_height(b.height)):g=y.get_texture().fetchPixels();var O=[],x=[];for(c=0,u=b.regions.length;c<u;){var v,m=c++;if(!(v=b.regions[m]).rendered)if(null!=v.pixels)ceramic_Pixels.copy(v.pixels,v.packedWidth,g,b.width,0,0,v.packedWidth,v.packedHeight,0|v.rect.x,0|v.rect.y),v.rendered=!0,O.push(v);else{if(null==v.sourceRegion)throw haxe_Exception.thrown("Cannot render region "+v.name+" because it doesn't have pixels");v.rendered=!0,x.push(v)}}if(O.length>0){null!=y.get_texture()?y.get_texture().backendItem.width==b.width&&y.get_texture().backendItem.height==b.height?y.get_texture().submitPixels(g):(y.get_texture().destroy(),y.set_texture(ceramic_Texture.fromPixels(b.width,b.height,g,1))):y.set_texture(ceramic_Texture.fromPixels(b.width,b.height,g,1)),y.get_texture().set_filter(this.filter);for(d=0,f=O.length;d<f;){var w=O[d++],U=this.atlas.region(w.name);null==U&&(U=new ceramic_TextureAtlasRegion(w.name,this.atlas,_)),U.texture=y.get_texture(),U.originalWidth=w.originalWidth,U.originalHeight=w.originalHeight,U.packedWidth=w.packedWidth,U.packedHeight=w.packedHeight,U.offsetX=w.offsetX,U.offsetY=w.offsetY,U.x=Math.round(w.rect.x+b.spacing),U.y=Math.round(w.rect.y+b.spacing),U.width=w.packedWidth,U.height=w.packedHeight,U.computeFrame()}}if(x.length>0)for(var C=0,T=x.length;C<T;){var D=x[C++];for(o=D.sourceRegion;null!=o&&null!=o.sourceRegion;)o=o.sourceRegion;var E=this.atlas.region(o.name);if(null==E)throw haxe_Exception.thrown("Invalid variant region: "+D.name+" (source atlas region not found).");var A=this.atlas.region(D.name);null==A&&(A=new ceramic_TextureAtlasRegion(D.name,this.atlas,_)),A.texture=E.texture,A.originalWidth=D.originalWidth,A.originalHeight=D.originalHeight,A.packedWidth=o.packedWidth,A.packedHeight=o.packedHeight,A.offsetX=D.offsetX,A.offsetY=D.offsetY,A.x=Math.round(o.rect.x+b.spacing),A.y=Math.round(o.rect.y+b.spacing),A.width=D.packedWidth,A.height=D.packedHeight,A.computeFrame()}}}this.emitFinishPack(),e(this.atlas)},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offFinishPack()},__class__:ceramic_TextureAtlasPacker});var ceramic__$TextureAtlasPacker_TextureAtlasPackerRegion=function(e,n,t,i,s,r,l,a,o,h,c){this.rendered=!1,this.rect=null,this.sourceRegion=null,this.pixels=null,this.offsetY=0,this.offsetX=0,this.originalHeight=0,this.originalWidth=0,this.name=e,null!=n&&(this.originalWidth=n),null!=t&&(this.originalHeight=t),this.packedWidth=i,this.packedHeight=s,null!=r&&(this.offsetX=r),null!=l&&(this.offsetY=l),null!=a&&(this.pixels=a),null!=o&&(this.sourceRegion=o),null!=h&&(this.rect=h),null!=c&&(this.rendered=c)};t["ceramic._TextureAtlasPacker.TextureAtlasPackerRegion"]=ceramic__$TextureAtlasPacker_TextureAtlasPackerRegion,ceramic__$TextureAtlasPacker_TextureAtlasPackerRegion.__name__="ceramic._TextureAtlasPacker.TextureAtlasPackerRegion",ceramic__$TextureAtlasPacker_TextureAtlasPackerRegion.prototype={__class__:ceramic__$TextureAtlasPacker_TextureAtlasPackerRegion};var ceramic__$TextureAtlasPacker_TextureAtlasPackerPage=function(e,n,t,i,s,r,l){this.spacing=e,this.name=n,this.width=t,this.height=i,this.regions=s,this.binPacker=r,this.shouldResetTexture=l};t["ceramic._TextureAtlasPacker.TextureAtlasPackerPage"]=ceramic__$TextureAtlasPacker_TextureAtlasPackerPage,ceramic__$TextureAtlasPacker_TextureAtlasPackerPage.__name__="ceramic._TextureAtlasPacker.TextureAtlasPackerPage",ceramic__$TextureAtlasPacker_TextureAtlasPackerPage.prototype={__class__:ceramic__$TextureAtlasPacker_TextureAtlasPackerPage};var ceramic_TextureAtlasPage=function(e,n,t,i,s){null==i&&(i=m.LINEAR),null==t&&(t=0),null==n&&(n=0),this.unobservedTexture=null,this.textureAutoruns=null,this.unobservedFilter=m.LINEAR,this.filterAutoruns=null,this.unobservedHeight=0,this.heightAutoruns=null,this.unobservedWidth=0,this.widthAutoruns=null,this.nameAutoruns=null,this.observedDirty=!1,this.set_name(e),this.set_width(n),this.set_height(t),this.set_filter(i),this.set_texture(s)};t["ceramic.TextureAtlasPage"]=ceramic_TextureAtlasPage,ceramic_TextureAtlasPage.__name__="ceramic.TextureAtlasPage",ceramic_TextureAtlasPage.__interfaces__=[tracker_Observable],ceramic_TextureAtlasPage.prototype={emitObservedDirty:function(e,n){var t=0;if(null!=this.__cbOnObservedDirty&&(t+=this.__cbOnObservedDirty.length),null!=this.__cbOnceObservedDirty&&(t+=this.__cbOnceObservedDirty.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnObservedDirty)for(var l=0,a=this.__cbOnObservedDirty.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnObservedDirty[o],++r):--t}if(null!=this.__cbOnceObservedDirty){var h=null,c=null;for(l=0,a=this.__cbOnceObservedDirty.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceObservedDirty[o],this.__cbOnceObservedDirty[o]=null;var u=this.__cbOnceOwnerUnbindObservedDirty[o];this.__cbOnceOwnerUnbindObservedDirty[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindObservedDirty[o]),c.push(this.__cbOnceObservedDirty[o])}this.__cbOnceOwnerUnbindObservedDirty=h,this.__cbOnceObservedDirty=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindObservedDirty&&(this.__cbOnOwnerUnbindObservedDirty=[]),this.__cbOnOwnerUnbindObservedDirty.push(null);null==this.__cbOnObservedDirty&&(this.__cbOnObservedDirty=[]),this.__cbOnObservedDirty.push(n)},onceObservedDirty:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event observedDirty because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offObservedDirty(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindObservedDirty&&(this.__cbOnceOwnerUnbindObservedDirty=[]),this.__cbOnceOwnerUnbindObservedDirty.push(null);null==this.__cbOnceObservedDirty&&(this.__cbOnceObservedDirty=[]),this.__cbOnceObservedDirty.push(n)},offObservedDirty:function(e){if(null!=e){var n;null!=this.__cbOnObservedDirty&&-1!=(n=this.__cbOnObservedDirty.indexOf(e))&&(this.__cbOnObservedDirty.splice(n,1),null!=(r=this.__cbOnOwnerUnbindObservedDirty[n])&&r(),this.__cbOnOwnerUnbindObservedDirty.splice(n,1)),null!=this.__cbOnceObservedDirty&&-1!=(n=this.__cbOnceObservedDirty.indexOf(e))&&(this.__cbOnceObservedDirty.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindObservedDirty[n])&&r(),this.__cbOnceOwnerUnbindObservedDirty.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindObservedDirty){for(var t=0,i=this.__cbOnOwnerUnbindObservedDirty.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindObservedDirty[s])&&r()}this.__cbOnOwnerUnbindObservedDirty=null}if(null!=this.__cbOnceOwnerUnbindObservedDirty){for(t=0,i=this.__cbOnceOwnerUnbindObservedDirty.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindObservedDirty[s])&&r()}this.__cbOnceOwnerUnbindObservedDirty=null}this.__cbOnObservedDirty=null,this.__cbOnceObservedDirty=null}},listensObservedDirty:function(){return null!=this.__cbOnObservedDirty&&this.__cbOnObservedDirty.length>0||null!=this.__cbOnceObservedDirty&&this.__cbOnceObservedDirty.length>0},get_name:function(){var e=this.unobservedName;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.nameAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.nameAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_name:function(e){var n=this.unobservedName;if(this.unobservedName=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitNameChange(e,n);var t=this.nameAutoruns;if(null!=t){this.nameAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateName:function(){var e=this.unobservedName;this.emitNameChange(e,e);var n=this.nameAutoruns;if(null!=n){this.nameAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitNameChange:function(e,n){var t=0;if(null!=this.__cbOnNameChange&&(t+=this.__cbOnNameChange.length),null!=this.__cbOnceNameChange&&(t+=this.__cbOnceNameChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnNameChange)for(var l=0,a=this.__cbOnNameChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnNameChange[o],++r):--t}if(null!=this.__cbOnceNameChange){var h=null,c=null;for(l=0,a=this.__cbOnceNameChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceNameChange[o],this.__cbOnceNameChange[o]=null;var u=this.__cbOnceOwnerUnbindNameChange[o];this.__cbOnceOwnerUnbindNameChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindNameChange[o]),c.push(this.__cbOnceNameChange[o])}this.__cbOnceOwnerUnbindNameChange=h,this.__cbOnceNameChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onNameChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event nameChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offNameChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindNameChange&&(this.__cbOnOwnerUnbindNameChange=[]),this.__cbOnOwnerUnbindNameChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindNameChange&&(this.__cbOnOwnerUnbindNameChange=[]),this.__cbOnOwnerUnbindNameChange.push(null);null==this.__cbOnNameChange&&(this.__cbOnNameChange=[]),this.__cbOnNameChange.push(n)},onceNameChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event nameChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offNameChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindNameChange&&(this.__cbOnceOwnerUnbindNameChange=[]),this.__cbOnceOwnerUnbindNameChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindNameChange&&(this.__cbOnceOwnerUnbindNameChange=[]),this.__cbOnceOwnerUnbindNameChange.push(null);null==this.__cbOnceNameChange&&(this.__cbOnceNameChange=[]),this.__cbOnceNameChange.push(n)},offNameChange:function(e){if(null!=e){var n;null!=this.__cbOnNameChange&&-1!=(n=this.__cbOnNameChange.indexOf(e))&&(this.__cbOnNameChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindNameChange[n])&&r(),this.__cbOnOwnerUnbindNameChange.splice(n,1)),null!=this.__cbOnceNameChange&&-1!=(n=this.__cbOnceNameChange.indexOf(e))&&(this.__cbOnceNameChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindNameChange[n])&&r(),this.__cbOnceOwnerUnbindNameChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindNameChange){for(var t=0,i=this.__cbOnOwnerUnbindNameChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindNameChange[s])&&r()}this.__cbOnOwnerUnbindNameChange=null}if(null!=this.__cbOnceOwnerUnbindNameChange){for(t=0,i=this.__cbOnceOwnerUnbindNameChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindNameChange[s])&&r()}this.__cbOnceOwnerUnbindNameChange=null}this.__cbOnNameChange=null,this.__cbOnceNameChange=null}},listensNameChange:function(){return null!=this.__cbOnNameChange&&this.__cbOnNameChange.length>0||null!=this.__cbOnceNameChange&&this.__cbOnceNameChange.length>0},get_width:function(){var e=this.unobservedWidth;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.widthAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.widthAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_width:function(e){var n=this.unobservedWidth;if(this.unobservedWidth=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitWidthChange(e,n);var t=this.widthAutoruns;if(null!=t){this.widthAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateWidth:function(){var e=this.unobservedWidth;this.emitWidthChange(e,e);var n=this.widthAutoruns;if(null!=n){this.widthAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitWidthChange:function(e,n){var t=0;if(null!=this.__cbOnWidthChange&&(t+=this.__cbOnWidthChange.length),null!=this.__cbOnceWidthChange&&(t+=this.__cbOnceWidthChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnWidthChange)for(var l=0,a=this.__cbOnWidthChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnWidthChange[o],++r):--t}if(null!=this.__cbOnceWidthChange){var h=null,c=null;for(l=0,a=this.__cbOnceWidthChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceWidthChange[o],this.__cbOnceWidthChange[o]=null;var u=this.__cbOnceOwnerUnbindWidthChange[o];this.__cbOnceOwnerUnbindWidthChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindWidthChange[o]),c.push(this.__cbOnceWidthChange[o])}this.__cbOnceOwnerUnbindWidthChange=h,this.__cbOnceWidthChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onWidthChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event widthChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offWidthChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindWidthChange&&(this.__cbOnOwnerUnbindWidthChange=[]),this.__cbOnOwnerUnbindWidthChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindWidthChange&&(this.__cbOnOwnerUnbindWidthChange=[]),this.__cbOnOwnerUnbindWidthChange.push(null);null==this.__cbOnWidthChange&&(this.__cbOnWidthChange=[]),this.__cbOnWidthChange.push(n)},onceWidthChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event widthChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offWidthChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindWidthChange&&(this.__cbOnceOwnerUnbindWidthChange=[]),this.__cbOnceOwnerUnbindWidthChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindWidthChange&&(this.__cbOnceOwnerUnbindWidthChange=[]),this.__cbOnceOwnerUnbindWidthChange.push(null);null==this.__cbOnceWidthChange&&(this.__cbOnceWidthChange=[]),this.__cbOnceWidthChange.push(n)},offWidthChange:function(e){if(null!=e){var n;null!=this.__cbOnWidthChange&&-1!=(n=this.__cbOnWidthChange.indexOf(e))&&(this.__cbOnWidthChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindWidthChange[n])&&r(),this.__cbOnOwnerUnbindWidthChange.splice(n,1)),null!=this.__cbOnceWidthChange&&-1!=(n=this.__cbOnceWidthChange.indexOf(e))&&(this.__cbOnceWidthChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindWidthChange[n])&&r(),this.__cbOnceOwnerUnbindWidthChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindWidthChange){for(var t=0,i=this.__cbOnOwnerUnbindWidthChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindWidthChange[s])&&r()}this.__cbOnOwnerUnbindWidthChange=null}if(null!=this.__cbOnceOwnerUnbindWidthChange){for(t=0,i=this.__cbOnceOwnerUnbindWidthChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindWidthChange[s])&&r()}this.__cbOnceOwnerUnbindWidthChange=null}this.__cbOnWidthChange=null,this.__cbOnceWidthChange=null}},listensWidthChange:function(){return null!=this.__cbOnWidthChange&&this.__cbOnWidthChange.length>0||null!=this.__cbOnceWidthChange&&this.__cbOnceWidthChange.length>0},get_height:function(){var e=this.unobservedHeight;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.heightAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.heightAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_height:function(e){var n=this.unobservedHeight;if(this.unobservedHeight=e,n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitHeightChange(e,n);var t=this.heightAutoruns;if(null!=t){this.heightAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateHeight:function(){var e=this.unobservedHeight;this.emitHeightChange(e,e);var n=this.heightAutoruns;if(null!=n){this.heightAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitHeightChange:function(e,n){var t=0;if(null!=this.__cbOnHeightChange&&(t+=this.__cbOnHeightChange.length),null!=this.__cbOnceHeightChange&&(t+=this.__cbOnceHeightChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnHeightChange)for(var l=0,a=this.__cbOnHeightChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnHeightChange[o],++r):--t}if(null!=this.__cbOnceHeightChange){var h=null,c=null;for(l=0,a=this.__cbOnceHeightChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceHeightChange[o],this.__cbOnceHeightChange[o]=null;var u=this.__cbOnceOwnerUnbindHeightChange[o];this.__cbOnceOwnerUnbindHeightChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindHeightChange[o]),c.push(this.__cbOnceHeightChange[o])}this.__cbOnceOwnerUnbindHeightChange=h,this.__cbOnceHeightChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onHeightChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event heightChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offHeightChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindHeightChange&&(this.__cbOnOwnerUnbindHeightChange=[]),this.__cbOnOwnerUnbindHeightChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindHeightChange&&(this.__cbOnOwnerUnbindHeightChange=[]),this.__cbOnOwnerUnbindHeightChange.push(null);null==this.__cbOnHeightChange&&(this.__cbOnHeightChange=[]),this.__cbOnHeightChange.push(n)},onceHeightChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event heightChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offHeightChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindHeightChange&&(this.__cbOnceOwnerUnbindHeightChange=[]),this.__cbOnceOwnerUnbindHeightChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindHeightChange&&(this.__cbOnceOwnerUnbindHeightChange=[]),this.__cbOnceOwnerUnbindHeightChange.push(null);null==this.__cbOnceHeightChange&&(this.__cbOnceHeightChange=[]),this.__cbOnceHeightChange.push(n)},offHeightChange:function(e){if(null!=e){var n;null!=this.__cbOnHeightChange&&-1!=(n=this.__cbOnHeightChange.indexOf(e))&&(this.__cbOnHeightChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindHeightChange[n])&&r(),this.__cbOnOwnerUnbindHeightChange.splice(n,1)),null!=this.__cbOnceHeightChange&&-1!=(n=this.__cbOnceHeightChange.indexOf(e))&&(this.__cbOnceHeightChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindHeightChange[n])&&r(),this.__cbOnceOwnerUnbindHeightChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindHeightChange){for(var t=0,i=this.__cbOnOwnerUnbindHeightChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindHeightChange[s])&&r()}this.__cbOnOwnerUnbindHeightChange=null}if(null!=this.__cbOnceOwnerUnbindHeightChange){for(t=0,i=this.__cbOnceOwnerUnbindHeightChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindHeightChange[s])&&r()}this.__cbOnceOwnerUnbindHeightChange=null}this.__cbOnHeightChange=null,this.__cbOnceHeightChange=null}},listensHeightChange:function(){return null!=this.__cbOnHeightChange&&this.__cbOnHeightChange.length>0||null!=this.__cbOnceHeightChange&&this.__cbOnceHeightChange.length>0},get_filter:function(){var e=this.unobservedFilter;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.filterAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.filterAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_filter:function(e){var n=this.unobservedFilter;if(this.set_unobservedFilter(e),n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitFilterChange(e,n);var t=this.filterAutoruns;if(null!=t){this.filterAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateFilter:function(){var e=this.unobservedFilter;this.emitFilterChange(e,e);var n=this.filterAutoruns;if(null!=n){this.filterAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitFilterChange:function(e,n){var t=0;if(null!=this.__cbOnFilterChange&&(t+=this.__cbOnFilterChange.length),null!=this.__cbOnceFilterChange&&(t+=this.__cbOnceFilterChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnFilterChange)for(var l=0,a=this.__cbOnFilterChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnFilterChange[o],++r):--t}if(null!=this.__cbOnceFilterChange){var h=null,c=null;for(l=0,a=this.__cbOnceFilterChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceFilterChange[o],this.__cbOnceFilterChange[o]=null;var u=this.__cbOnceOwnerUnbindFilterChange[o];this.__cbOnceOwnerUnbindFilterChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindFilterChange[o]),c.push(this.__cbOnceFilterChange[o])}this.__cbOnceOwnerUnbindFilterChange=h,this.__cbOnceFilterChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onFilterChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event filterChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFilterChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindFilterChange&&(this.__cbOnOwnerUnbindFilterChange=[]),this.__cbOnOwnerUnbindFilterChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindFilterChange&&(this.__cbOnOwnerUnbindFilterChange=[]),this.__cbOnOwnerUnbindFilterChange.push(null);null==this.__cbOnFilterChange&&(this.__cbOnFilterChange=[]),this.__cbOnFilterChange.push(n)},onceFilterChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event filterChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offFilterChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindFilterChange&&(this.__cbOnceOwnerUnbindFilterChange=[]),this.__cbOnceOwnerUnbindFilterChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindFilterChange&&(this.__cbOnceOwnerUnbindFilterChange=[]),this.__cbOnceOwnerUnbindFilterChange.push(null);null==this.__cbOnceFilterChange&&(this.__cbOnceFilterChange=[]),this.__cbOnceFilterChange.push(n)},offFilterChange:function(e){if(null!=e){var n;null!=this.__cbOnFilterChange&&-1!=(n=this.__cbOnFilterChange.indexOf(e))&&(this.__cbOnFilterChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindFilterChange[n])&&r(),this.__cbOnOwnerUnbindFilterChange.splice(n,1)),null!=this.__cbOnceFilterChange&&-1!=(n=this.__cbOnceFilterChange.indexOf(e))&&(this.__cbOnceFilterChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindFilterChange[n])&&r(),this.__cbOnceOwnerUnbindFilterChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindFilterChange){for(var t=0,i=this.__cbOnOwnerUnbindFilterChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindFilterChange[s])&&r()}this.__cbOnOwnerUnbindFilterChange=null}if(null!=this.__cbOnceOwnerUnbindFilterChange){for(t=0,i=this.__cbOnceOwnerUnbindFilterChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindFilterChange[s])&&r()}this.__cbOnceOwnerUnbindFilterChange=null}this.__cbOnFilterChange=null,this.__cbOnceFilterChange=null}},listensFilterChange:function(){return null!=this.__cbOnFilterChange&&this.__cbOnFilterChange.length>0||null!=this.__cbOnceFilterChange&&this.__cbOnceFilterChange.length>0},set_unobservedFilter:function(e){return this.unobservedFilter!=e&&(this.unobservedFilter=e,null!=this.get_texture()&&this.get_texture().set_filter(e)),e},get_texture:function(){var e=this.unobservedTexture;if(null!=tracker_Autorun.current){var n=tracker_Autorun.current,t=this.textureAutoruns;null==t?(t=tracker_Autorun.getAutorunArray(),this.textureAutoruns=t,null!=t&&n.bindToAutorunArray(t)):n.bindToAutorunArray(t)}return e},set_texture:function(e){var n=this.unobservedTexture;if(this.set_unobservedTexture(e),n==e)return e;this.observedDirty||(this.observedDirty=!0,this.emitObservedDirty(this,!1)),this.emitTextureChange(e,n);var t=this.textureAutoruns;if(null!=t){this.textureAutoruns=null;for(var i=0,s=t.length;i<s;){var r=t[i++];if(null!=r&&!(r.invalidated||r._lifecycleState<0)){r.invalidated=!0,r.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(r,r.run))}}tracker_Autorun.recycleAutorunArray(t)}return e},invalidateTexture:function(){var e=this.unobservedTexture;this.emitTextureChange(e,e);var n=this.textureAutoruns;if(null!=n){this.textureAutoruns=null;for(var t=0,i=n.length;t<i;){var s=n[t++];if(null!=s&&!(s.invalidated||s._lifecycleState<0)){s.invalidated=!0,s.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(s,s.run))}}tracker_Autorun.recycleAutorunArray(n)}},emitTextureChange:function(e,n){var t=0;if(null!=this.__cbOnTextureChange&&(t+=this.__cbOnTextureChange.length),null!=this.__cbOnceTextureChange&&(t+=this.__cbOnceTextureChange.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnTextureChange)for(var l=0,a=this.__cbOnTextureChange.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnTextureChange[o],++r):--t}if(null!=this.__cbOnceTextureChange){var h=null,c=null;for(l=0,a=this.__cbOnceTextureChange.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceTextureChange[o],this.__cbOnceTextureChange[o]=null;var u=this.__cbOnceOwnerUnbindTextureChange[o];this.__cbOnceOwnerUnbindTextureChange[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindTextureChange[o]),c.push(this.__cbOnceTextureChange[o])}this.__cbOnceOwnerUnbindTextureChange=h,this.__cbOnceTextureChange=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onTextureChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event textureChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTextureChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindTextureChange&&(this.__cbOnOwnerUnbindTextureChange=[]),this.__cbOnOwnerUnbindTextureChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindTextureChange&&(this.__cbOnOwnerUnbindTextureChange=[]),this.__cbOnOwnerUnbindTextureChange.push(null);null==this.__cbOnTextureChange&&(this.__cbOnTextureChange=[]),this.__cbOnTextureChange.push(n)},onceTextureChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event textureChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offTextureChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindTextureChange&&(this.__cbOnceOwnerUnbindTextureChange=[]),this.__cbOnceOwnerUnbindTextureChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindTextureChange&&(this.__cbOnceOwnerUnbindTextureChange=[]),this.__cbOnceOwnerUnbindTextureChange.push(null);null==this.__cbOnceTextureChange&&(this.__cbOnceTextureChange=[]),this.__cbOnceTextureChange.push(n)},offTextureChange:function(e){if(null!=e){var n;null!=this.__cbOnTextureChange&&-1!=(n=this.__cbOnTextureChange.indexOf(e))&&(this.__cbOnTextureChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindTextureChange[n])&&r(),this.__cbOnOwnerUnbindTextureChange.splice(n,1)),null!=this.__cbOnceTextureChange&&-1!=(n=this.__cbOnceTextureChange.indexOf(e))&&(this.__cbOnceTextureChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindTextureChange[n])&&r(),this.__cbOnceOwnerUnbindTextureChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindTextureChange){for(var t=0,i=this.__cbOnOwnerUnbindTextureChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindTextureChange[s])&&r()}this.__cbOnOwnerUnbindTextureChange=null}if(null!=this.__cbOnceOwnerUnbindTextureChange){for(t=0,i=this.__cbOnceOwnerUnbindTextureChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindTextureChange[s])&&r()}this.__cbOnceOwnerUnbindTextureChange=null}this.__cbOnTextureChange=null,this.__cbOnceTextureChange=null}},listensTextureChange:function(){return null!=this.__cbOnTextureChange&&this.__cbOnTextureChange.length>0||null!=this.__cbOnceTextureChange&&this.__cbOnceTextureChange.length>0},set_unobservedTexture:function(e){return this.unobservedTexture!=e&&(this.unobservedTexture=e,null!=e&&(this.get_width()<=0&&this.set_width(e.backendItem.width),this.get_height()<=0&&this.set_height(e.backendItem.height))),e},unbindEvents:function(){this.offObservedDirty(),this.offNameChange(),this.offWidthChange(),this.offHeightChange(),this.offFilterChange(),this.offTextureChange()},__class__:ceramic_TextureAtlasPage,__properties__:{set_unobservedTexture:"set_unobservedTexture",set_texture:"set_texture",get_texture:"get_texture",set_unobservedFilter:"set_unobservedFilter",set_filter:"set_filter",get_filter:"get_filter",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_name:"set_name",get_name:"get_name"}};var ceramic_TextureAtlasParser=function(){};t["ceramic.TextureAtlasParser"]=ceramic_TextureAtlasParser,ceramic_TextureAtlasParser.__name__="ceramic.TextureAtlasParser",ceramic_TextureAtlasParser.parse=function(e){if(StringTools.startsWith(StringTools.trim(e),"<"))try{e=ceramic_TextureAtlasParser.convertXmlTextureAtlas(e)}catch(e){var n=haxe_Exception.caught(e).unwrap();throw haxe_Exception.thrown("TextureAtlas: invalid xml atlas data specified for parser: "+Std.string(n))}for(var t=new ceramic__$TextureAtlasParser_TextureAtlasReader(e),i=[null,null,null,null],s=null,r=new ceramic_TextureAtlas;;){var l=t.readLine();if(null==l)break;if(0==(l=t.trim(l)).length)s=null;else if(null==s){s=new ceramic_TextureAtlasPage(l);for(var a=t.nextLineKey();null!=a;){switch(a){case"filter":t.readTuple(i),s.set_filter(null!=i[0]&&"nearest"==i[0].toLowerCase()?m.NEAREST:m.LINEAR);break;case"size":t.readTuple(i),s.set_width(Std.parseInt(i[0])),s.set_height(Std.parseInt(i[1]));break;default:t.readLine()}a=t.nextLineKey()}r.pages.push(s)}else{var o=l,h=o.toLowerCase();StringTools.endsWith(h,".png")||StringTools.endsWith(h,".gif")||StringTools.endsWith(h,".jpg")?o=HxOverrides.substr(o,0,o.length-4):StringTools.endsWith(h,".jpeg")&&(o=HxOverrides.substr(o,0,o.length-5));for(var c=new ceramic_TextureAtlasRegion(o,r,r.pages.length-1),u=0,_=0,d=0,f=0,p=0,b=0,y=t.nextLineKey();null!=y;){switch(y){case"bounds":t.readTuple(i),u=Std.parseInt(i[0]),_=Std.parseInt(i[1]),d=Std.parseInt(i[2]),f=Std.parseInt(i[3]);break;case"offset":t.readTuple(i),c.offsetX=Std.parseInt(i[0]),c.offsetY=Std.parseInt(i[1]);break;case"offsets":t.readTuple(i),c.offsetX=Std.parseInt(i[0]),c.offsetY=Std.parseInt(i[1]),p=Std.parseInt(i[2]),b=Std.parseInt(i[3]);break;case"orig":t.readTuple(i),p=Std.parseInt(i[0]),b=Std.parseInt(i[1]);break;case"rotate":var g=t.readValue();c.rotateFrame="true"==g||"90"==g;break;case"size":t.readTuple(i),d=Std.parseInt(i[0]),f=Std.parseInt(i[1]);break;case"xy":t.readTuple(i),u=Std.parseInt(i[0]),_=Std.parseInt(i[1]);break;default:t.readLine()}y=t.nextLineKey()}c.x=u,c.y=_,c.width=0|Math.abs(d),c.height=0|Math.abs(f),c.originalWidth=0!=p?p:c.width,c.originalHeight=0!=b?b:c.height,c.rotateFrame?(c.packedWidth=c.height,c.packedHeight=c.width):(c.packedWidth=c.width,c.packedHeight=c.height)}}return r},ceramic_TextureAtlasParser.convertXmlTextureAtlas=function(e){var n="",t=Xml.parse(e).firstElement();n+=Std.string(t.get("imagePath")),n+="\n";for(var i=t.elements();i.hasNext();){var s=i.next();if(s.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==s.nodeType?"null":r.toString(s.nodeType)));"SubTexture"==s.nodeName&&(n+=Std.string(s.get("name")),n+="\n",s.exists("frameX")&&s.exists("frameY")&&s.exists("frameWidth")&&s.exists("frameHeight")&&(n+="offsets:",n+=Std.string(-parseFloat(s.get("frameX"))),n+=",",n+=Std.string(-parseFloat(s.get("frameY"))),n+=",",n+=Std.string(parseFloat(s.get("frameWidth"))),n+=",",n+=Std.string(parseFloat(s.get("frameHeight"))),n+="\n"),n+="bounds:",n+=Std.string(parseFloat(s.get("x"))),n+=",",n+=Std.string(parseFloat(s.get("y"))),n+=",",n+=Std.string(parseFloat(s.get("width"))),n+=",",n+=Std.string(parseFloat(s.get("height"))),n+="\n",s.exists("rotate")&&(n+="rotate:",n+=Std.string(s.get("rotate")),n+="\n"))}return n};var ceramic__$TextureAtlasParser_TextureAtlasReader=function(e){this.lines=StringTools.replace(StringTools.replace(StringTools.trim(e),"\r\n","\n"),"\r","\n").split("\n"),this.index=0};t["ceramic._TextureAtlasParser.TextureAtlasReader"]=ceramic__$TextureAtlasParser_TextureAtlasReader,ceramic__$TextureAtlasParser_TextureAtlasReader.__name__="ceramic._TextureAtlasParser.TextureAtlasReader",ceramic__$TextureAtlasParser_TextureAtlasReader.prototype={trim:function(e){return StringTools.trim(e)},readLine:function(){return this.index>=this.lines.length?null:this.lines[this.index++]},nextLineKey:function(){if(this.index>=this.lines.length)return null;var e=this.lines[this.index],n=e.indexOf(":");return-1!=n?StringTools.trim(e.substring(0,n)):null},readValue:function(){var e=this.readLine(),n=e.indexOf(":");if(-1==n)throw haxe_Exception.thrown("Invalid line: "+e);return this.trim(e.substring(n+1))},readTuple:function(e){var n=this.readLine(),t=n.indexOf(":");if(-1==t)throw haxe_Exception.thrown("Invalid line: "+n);for(var i=0,s=t+1;i<3;){var r=n.indexOf(",",s);if(-1==r)break;e[i]=this.trim(HxOverrides.substr(n,s,r-s)),s=r+1,++i}return e[i]=this.trim(n.substring(s)),i+1},__class__:ceramic__$TextureAtlasParser_TextureAtlasReader};var ceramic_TextureTile=function(e,n,t,i,s,r,l){null==l&&(l=0),null==r&&(r=!1),this.texture=e,this.frameX=n,this.frameY=t,this.frameWidth=i,this.frameHeight=s,this.rotateFrame=r,this.edgeInset=l};t["ceramic.TextureTile"]=ceramic_TextureTile,ceramic_TextureTile.__name__="ceramic.TextureTile",ceramic_TextureTile.prototype={frame:function(e,n,t,i){this.frameX=e,this.frameY=n,this.frameWidth=t,this.frameHeight=i},toString:function(){return""+Std.string({texture:this.texture,frameX:this.frameX,frameY:this.frameY,frameWidth:this.frameWidth,frameHeight:this.frameHeight})},__class__:ceramic_TextureTile};var ceramic_TextureAtlasRegion=function(e,n,t){this.originalHeight=0,this.originalWidth=0,this.offsetY=0,this.offsetX=0,this.height=0,this.width=0,this.y=0,this.x=0,this.packedHeight=0,this.packedWidth=0,this.page=0,this.atlas=null,this.name=null,this.name=e,this.atlas=n,this.page=t;var i=n.pages[t];ceramic_TextureTile.call(this,null!=i?i.get_texture():null,0,0,0,0,!1,0),n.regions.push(this)};t["ceramic.TextureAtlasRegion"]=ceramic_TextureAtlasRegion,ceramic_TextureAtlasRegion.__name__="ceramic.TextureAtlasRegion",ceramic_TextureAtlasRegion.__super__=ceramic_TextureTile,ceramic_TextureAtlasRegion.prototype=$extend(ceramic_TextureTile.prototype,{computeFrame:function(){var e=this.atlas.pages[this.page];if(null!=e)if(this.texture=e.get_texture(),null!=this.texture){var n=e.get_width(),t=e.get_height(),i=this.texture.width/n,s=this.texture.height/t;this.frameX=this.x*i,this.frameY=this.y*s,this.frameWidth=this.width*i,this.frameHeight=this.height*s}else ceramic_App.app.logger.warning("Failed to compute region frame because there is no texture at page "+this.page,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/TextureAtlasRegion.hx",lineNumber:85,className:"ceramic.TextureAtlasRegion",methodName:"computeFrame"});else ceramic_App.app.logger.warning("Failed to compute region frame because there is no page "+this.page,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/TextureAtlasRegion.hx",lineNumber:89,className:"ceramic.TextureAtlasRegion",methodName:"computeFrame"})},toString:function(){return""+Std.string({name:this.name,page:this.page,texture:this.texture,packedWidth:this.packedWidth,packedHeight:this.packedHeight,originalWidth:this.originalWidth,originalHeight:this.originalHeight,width:this.width,height:this.height,offsetX:this.offsetX,offsetY:this.offsetY,frameX:this.frameX,frameY:this.frameY,frameWidth:this.frameWidth,frameHeight:this.frameHeight})},__class__:ceramic_TextureAtlasRegion});var m=i["ceramic.TextureFilter"]={__ename__:"ceramic.TextureFilter",__constructs__:null,LINEAR:{_hx_name:"LINEAR",_hx_index:0,__enum__:"ceramic.TextureFilter",toString:$estr},NEAREST:{_hx_name:"NEAREST",_hx_index:1,__enum__:"ceramic.TextureFilter",toString:$estr}};m.__constructs__=[m.LINEAR,m.NEAREST];var ceramic_TextureTilePacker=function(e,n,t,i,s,r){null==r&&(r=1),null==s&&(s=16),null==i&&(i=16),null==t&&(t=-1),null==n&&(n=-1),this.maxPixelTextureHeight=0,this.maxPixelTextureWidth=0,this.numRows=0,this.numCols=0,this.nextPacker=null,ceramic_Entity.call(this),this.padWidth=i,this.padHeight=s,this.margin=r,this.maxPixelTextureWidth=n,this.maxPixelTextureHeight=t,-1==n&&(n=2048/ceramic_App.app.screen.get_texturesDensity()|0),-1==t&&(t=2048/ceramic_App.app.screen.get_texturesDensity()|0);var l=0|Math.min(n,2048/ceramic_App.app.screen.get_texturesDensity()),a=0|Math.min(t,2048/ceramic_App.app.screen.get_texturesDensity());this.texture=new ceramic_RenderTexture(l,a),e?(this.texture.autoRender=!0,this.texture.clearOnRender=!0):(this.texture.autoRender=!1,this.texture.clearOnRender=!1),this.areas=[];for(var o=this.texture.width,h=this.texture.height,c=r,u=r;u+s<h;){for(;c+i<o;)this.areas.push(null),c+=i+2*r,0==this.numRows&&this.numCols++;c=0,u+=s+2*r,this.numRows++}};t["ceramic.TextureTilePacker"]=ceramic_TextureTilePacker,ceramic_TextureTilePacker.__name__="ceramic.TextureTilePacker",ceramic_TextureTilePacker.__super__=ceramic_Entity,ceramic_TextureTilePacker.prototype=$extend(ceramic_Entity.prototype,{destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this),null!=this.nextPacker&&(this.nextPacker.destroy(),this.nextPacker=null),this.texture.destroy(),this.texture=null,this.areas=null)},getTileAtPosition:function(e,n){return this.areas[n*this.numCols+e]},setTileAtPosition:function(e,n,t){this.areas[n*this.numCols+e]=t},allocTile:function(e,n){this.texture.width,this.texture.height;var t=this.padWidth+2*this.margin,i=this.padHeight+2*this.margin,s=t*this.numCols-2*this.margin,r=i*this.numRows-2*this.margin;if(e>s||n>r)return ceramic_App.app.logger.warning("Cannot alloc tile of "+e+" x "+n+" because this is bigger than "+s+" x "+r,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/TextureTilePacker.hx",lineNumber:123,className:"ceramic.TextureTilePacker",methodName:"allocTile"}),null;for(var l=this.padWidth,a=1;l<e;)++a,l+=this.padWidth+2*this.margin;for(var o=this.padHeight,h=1;o<n;)++h,o+=this.padHeight+2*this.margin;for(var c=0,u=this.numRows-h+1;c<u;)for(var _=c++,d=0,f=this.numCols-a+1;d<f;){for(var p=d++,b=!0,y=_,g=_+h;y<g;){for(var O=y++,x=p,v=p+a;x<v;){var m=x++;if(null!=this.areas[O*this.numCols+m]){b=!1;break}}if(!b)break}if(b){var w=new ceramic__$TextureTilePacker_PackedTextureTile(this.texture,p*t,_*i,e,n);w.col=p,w.row=_,w.usedCols=a,w.usedRows=h;for(var U=_,C=_+h;U<C;)for(var T=U++,D=p,E=p+a;D<E;){var A=D++;this.areas[T*this.numCols+A]=w}return w}}return null==this.nextPacker&&(this.nextPacker=new ceramic_TextureTilePacker(this.texture.autoRender,this.maxPixelTextureWidth,this.maxPixelTextureHeight,this.padWidth,this.padHeight,this.margin)),this.nextPacker.allocTile(e,n)},releaseTile:function(e){var n=this;if(ceramic_App.app.logger.info("release tile "+Std.string(e),{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/TextureTilePacker.hx",lineNumber:198,className:"ceramic.TextureTilePacker",methodName:"releaseTile"}),!(e instanceof ceramic__$TextureTilePacker_PackedTextureTile))throw haxe_Exception.thrown("Cannot release tile: "+Std.string(e)+".");for(var t=e,i=this;null!=i&&i.texture!=t.texture;)i=i.nextPacker;null!=i?ceramic_App.app.onceUpdate(this,(function(e){ceramic_App.app.onceUpdate(n,(function(e){for(var n=!1,s=t.row,r=t.row+t.usedRows;s<r;)for(var l=s++,a=t.col,o=t.col+t.usedCols;a<o;){var h=a++;i.areas[l*i.numCols+h]==t&&(n=!0,i.areas[l*i.numCols+h]=null)}t.texture=null,n||ceramic_App.app.logger.warning("Failed to release tile: "+Std.string(t)+" (did not find it)",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/TextureTilePacker.hx",lineNumber:234,className:"ceramic.TextureTilePacker",methodName:"releaseTile"})}))})):ceramic_App.app.logger.warning("Failed to release tile: "+Std.string(t)+" (it doesn't belong to this packer)",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/TextureTilePacker.hx",lineNumber:213,className:"ceramic.TextureTilePacker",methodName:"releaseTile"})},stamp:function(e,n,t){var i=new ceramic_Quad;i.set_anchorX(0),i.set_anchorY(0);var s=e.frameHeight+2*this.margin;i.set_width(e.frameWidth+2*this.margin),i.set_height(s);var r=e.frameY-this.margin;if(i.set_x(e.frameX-this.margin),i.set_y(r),i.set_blending(4),0!=i.inheritAlpha&&(i.inheritAlpha=!1,i.visibilityDirty=!0,null!=i.children))for(var l=0,a=i.children.length;l<a;){var o=l++,h=i.children[o];if(h.visibilityDirty=!0,null!=h.children)for(var c=0,u=h.children.length;c<u;){var _=c++;h.children[_].set_visibilityDirty(!0)}}i.set_alpha(0),i.color=16777215;var d=n.transform,f=n.parent;null!=f&&f.remove(n),i.add(n),n.set_transform(new ceramic_Transform);var p=n.transform;p.tx+=this.margin,p.ty+=this.margin,p.changedDirty=!0,e.texture.stamp(i,(function(){i.remove(n),null!=f&&f.add(n),i.destroy(),i=null,n.set_transform(d),n=null,t(),t=null}))},managesTexture:function(e){return this.texture==e||null!=this.nextPacker&&this.nextPacker.managesTexture(e)},__class__:ceramic_TextureTilePacker});var ceramic__$TextureTilePacker_PackedTextureTile=function(e,n,t,i,s){this.usedRows=1,this.usedCols=1,this.row=-1,this.col=-1,ceramic_TextureTile.call(this,e,n,t,i,s)};t["ceramic._TextureTilePacker.PackedTextureTile"]=ceramic__$TextureTilePacker_PackedTextureTile,ceramic__$TextureTilePacker_PackedTextureTile.__name__="ceramic._TextureTilePacker.PackedTextureTile",ceramic__$TextureTilePacker_PackedTextureTile.__super__=ceramic_TextureTile,ceramic__$TextureTilePacker_PackedTextureTile.prototype=$extend(ceramic_TextureTile.prototype,{__class__:ceramic__$TextureTilePacker_PackedTextureTile});var ceramic_Timeline=function(){this.initializerName=null,this.completeHandlerIndexes=null,this.completeHandlers=null,this.endPosition=-1,this.startPosition=-1,this.labelIndexes=null,this.labels=null,this.paused=!1,this.tracks=[],this.position=0,this.fps=30,this.autoUpdate=!0,this.loop=!0,this.autoFitSize=!0,this.size=0,ceramic_Entity.call(this),ceramic_App.app.offPreUpdate($bind(this,this.update)),!this.paused&&this.autoUpdate&&ceramic_App.app.onPreUpdate(this,$bind(this,this.update))};t["ceramic.Timeline"]=ceramic_Timeline,ceramic_Timeline.__name__="ceramic.Timeline",ceramic_Timeline.__interfaces__=[ceramic_Component],ceramic_Timeline.__super__=ceramic_Entity,ceramic_Timeline.prototype=$extend(ceramic_Entity.prototype,{emitStartLabel:function(e,n){var t=0;if(null!=this.__cbOnStartLabel&&(t+=this.__cbOnStartLabel.length),null!=this.__cbOnceStartLabel&&(t+=this.__cbOnceStartLabel.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnStartLabel)for(var l=0,a=this.__cbOnStartLabel.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnStartLabel[o],++r):--t}if(null!=this.__cbOnceStartLabel){var h=null,c=null;for(l=0,a=this.__cbOnceStartLabel.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceStartLabel[o],this.__cbOnceStartLabel[o]=null;var u=this.__cbOnceOwnerUnbindStartLabel[o];this.__cbOnceOwnerUnbindStartLabel[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindStartLabel[o]),c.push(this.__cbOnceStartLabel[o])}this.__cbOnceOwnerUnbindStartLabel=h,this.__cbOnceStartLabel=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onStartLabel:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event startLabel because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offStartLabel(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindStartLabel&&(this.__cbOnOwnerUnbindStartLabel=[]),this.__cbOnOwnerUnbindStartLabel.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindStartLabel&&(this.__cbOnOwnerUnbindStartLabel=[]),this.__cbOnOwnerUnbindStartLabel.push(null);null==this.__cbOnStartLabel&&(this.__cbOnStartLabel=[]),this.__cbOnStartLabel.push(n)},onceStartLabel:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event startLabel because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offStartLabel(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindStartLabel&&(this.__cbOnceOwnerUnbindStartLabel=[]),this.__cbOnceOwnerUnbindStartLabel.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindStartLabel&&(this.__cbOnceOwnerUnbindStartLabel=[]),this.__cbOnceOwnerUnbindStartLabel.push(null);null==this.__cbOnceStartLabel&&(this.__cbOnceStartLabel=[]),this.__cbOnceStartLabel.push(n)},offStartLabel:function(e){if(null!=e){var n;null!=this.__cbOnStartLabel&&-1!=(n=this.__cbOnStartLabel.indexOf(e))&&(this.__cbOnStartLabel.splice(n,1),null!=(r=this.__cbOnOwnerUnbindStartLabel[n])&&r(),this.__cbOnOwnerUnbindStartLabel.splice(n,1)),null!=this.__cbOnceStartLabel&&-1!=(n=this.__cbOnceStartLabel.indexOf(e))&&(this.__cbOnceStartLabel.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindStartLabel[n])&&r(),this.__cbOnceOwnerUnbindStartLabel.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindStartLabel){for(var t=0,i=this.__cbOnOwnerUnbindStartLabel.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindStartLabel[s])&&r()}this.__cbOnOwnerUnbindStartLabel=null}if(null!=this.__cbOnceOwnerUnbindStartLabel){for(t=0,i=this.__cbOnceOwnerUnbindStartLabel.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindStartLabel[s])&&r()}this.__cbOnceOwnerUnbindStartLabel=null}this.__cbOnStartLabel=null,this.__cbOnceStartLabel=null}},listensStartLabel:function(){return null!=this.__cbOnStartLabel&&this.__cbOnStartLabel.length>0||null!=this.__cbOnceStartLabel&&this.__cbOnceStartLabel.length>0},emitEndLabel:function(e,n){var t=0;if(null!=this.__cbOnEndLabel&&(t+=this.__cbOnEndLabel.length),null!=this.__cbOnceEndLabel&&(t+=this.__cbOnceEndLabel.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnEndLabel)for(var l=0,a=this.__cbOnEndLabel.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnEndLabel[o],++r):--t}if(null!=this.__cbOnceEndLabel){var h=null,c=null;for(l=0,a=this.__cbOnceEndLabel.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceEndLabel[o],this.__cbOnceEndLabel[o]=null;var u=this.__cbOnceOwnerUnbindEndLabel[o];this.__cbOnceOwnerUnbindEndLabel[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindEndLabel[o]),c.push(this.__cbOnceEndLabel[o])}this.__cbOnceOwnerUnbindEndLabel=h,this.__cbOnceEndLabel=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}this.didEmitEndLabel(e,n)},onEndLabel:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event endLabel because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offEndLabel(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindEndLabel&&(this.__cbOnOwnerUnbindEndLabel=[]),this.__cbOnOwnerUnbindEndLabel.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindEndLabel&&(this.__cbOnOwnerUnbindEndLabel=[]),this.__cbOnOwnerUnbindEndLabel.push(null);null==this.__cbOnEndLabel&&(this.__cbOnEndLabel=[]),this.__cbOnEndLabel.push(n)},onceEndLabel:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event endLabel because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offEndLabel(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindEndLabel&&(this.__cbOnceOwnerUnbindEndLabel=[]),this.__cbOnceOwnerUnbindEndLabel.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindEndLabel&&(this.__cbOnceOwnerUnbindEndLabel=[]),this.__cbOnceOwnerUnbindEndLabel.push(null);null==this.__cbOnceEndLabel&&(this.__cbOnceEndLabel=[]),this.__cbOnceEndLabel.push(n)},offEndLabel:function(e){if(null!=e){var n;null!=this.__cbOnEndLabel&&-1!=(n=this.__cbOnEndLabel.indexOf(e))&&(this.__cbOnEndLabel.splice(n,1),null!=(r=this.__cbOnOwnerUnbindEndLabel[n])&&r(),this.__cbOnOwnerUnbindEndLabel.splice(n,1)),null!=this.__cbOnceEndLabel&&-1!=(n=this.__cbOnceEndLabel.indexOf(e))&&(this.__cbOnceEndLabel.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindEndLabel[n])&&r(),this.__cbOnceOwnerUnbindEndLabel.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindEndLabel){for(var t=0,i=this.__cbOnOwnerUnbindEndLabel.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindEndLabel[s])&&r()}this.__cbOnOwnerUnbindEndLabel=null}if(null!=this.__cbOnceOwnerUnbindEndLabel){for(t=0,i=this.__cbOnceOwnerUnbindEndLabel.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindEndLabel[s])&&r()}this.__cbOnceOwnerUnbindEndLabel=null}this.__cbOnEndLabel=null,this.__cbOnceEndLabel=null}},listensEndLabel:function(){return null!=this.__cbOnEndLabel&&this.__cbOnEndLabel.length>0||null!=this.__cbOnceEndLabel&&this.__cbOnceEndLabel.length>0},set_autoUpdate:function(e){return this.autoUpdate!=e&&(this.autoUpdate=e,ceramic_App.app.offPreUpdate($bind(this,this.update)),!this.paused&&this.autoUpdate&&ceramic_App.app.onPreUpdate(this,$bind(this,this.update))),e},set_paused:function(e){return this.paused==e||(this.paused=e,ceramic_App.app.offPreUpdate($bind(this,this.update)),!this.paused&&this.autoUpdate&&ceramic_App.app.onPreUpdate(this,$bind(this,this.update))),e},set_startPosition:function(e){return this.startPosition!=e&&(this.startPosition=e,this.apply()),e},set_endPosition:function(e){return this.endPosition!=e&&(this.endPosition=e,this.apply()),e},bindAsComponent:function(){},bindOrUnbindUpdateIfNeeded:function(){ceramic_App.app.offPreUpdate($bind(this,this.update)),!this.paused&&this.autoUpdate&&ceramic_App.app.onPreUpdate(this,$bind(this,this.update))},update:function(e){var n=this.position+e*this.fps,t=this.position;if(n!=this.position&&(this.startPosition>=0&&n<this.startPosition&&(n=this.startPosition),this.endPosition>=this.startPosition&&this.startPosition>=0&&n>this.endPosition&&(n=this.loop?this.startPosition+(n-this.startPosition)%(this.endPosition-this.startPosition):this.endPosition),this.size>0?n>this.size&&(this.loop?n%=this.size:n=this.size):0==this.size&&(n=0),n<0&&(n=0),n!=this.position)){this.position=n;for(var i=0,s=this.tracks.length;i<s;){var r=i++,l=this.tracks[r];if(!l.locked){n=this.position;var a=!1,o=!1;if(null==o&&(o=!1),null==a&&(a=!1),(a||n!=l.position)&&(l.size>0?n>l.size&&(l.loop?n%=l.size:n=l.size):0==l.size&&(n=0),n<0&&(n=0),n!=l.position)){l.position=n;var h=null,c=l.keyframeBeforeIndex;if(-1!=c)if((h=l.keyframes[c]).index<=l.position)for(var u=l.keyframes[c+1];null!=u&&u.index<=l.position;)h=u,++c,u=l.keyframes[c+1];else h=null;if(null==h){c=-1;for(var _=l.keyframes.length;c+1<_;){var d=l.keyframes[c+1];if(d.index>l.position)break;h=d,++c}}l.keyframeBeforeIndex=c,l.before=h;var f=null,p=l.keyframeAfterIndex;if(-1!=p&&null!=(f=l.keyframes[p]))if(f.index>l.position){if(p>0)for(var b=l.keyframes[p-1];null!=b&&b.index>l.position;)f=b,b=--p>0?l.keyframes[p-1]:null}else f=null;if(null==f){var y=l.keyframes.length;for(p=y;p-1>=0;){var g=l.keyframes[p-1];if(g.index<=l.position)break;f=g,--p}p>=y&&(p=-1)}l.keyframeAfterIndex=p,l.after=f,l.apply(o)}}}}if(this.position!=t){var O=Math.floor(this.position);if(O!=Math.floor(t)){var x=this.labelAtIndex(O);if(null!=x){var v=this.indexOfLabelBeforeIndex(O);-1!=v&&this.emitEndLabel(v,this.labelAtIndex(v)),this.emitStartLabel(O,x)}}}},seek:function(e){var n=e,t=this.position;if(n!=this.position&&(this.startPosition>=0&&n<this.startPosition&&(n=this.startPosition),this.endPosition>=this.startPosition&&this.startPosition>=0&&n>this.endPosition&&(n=this.loop?this.startPosition+(n-this.startPosition)%(this.endPosition-this.startPosition):this.endPosition),this.size>0?n>this.size&&(this.loop?n%=this.size:n=this.size):0==this.size&&(n=0),n<0&&(n=0),n!=this.position)){this.position=n;for(var i=0,s=this.tracks.length;i<s;){var r=i++,l=this.tracks[r];if(!l.locked){e=this.position;var a=!1,o=!1;if(null==o&&(o=!1),null==a&&(a=!1),(a||e!=l.position)&&(l.size>0?e>l.size&&(l.loop?e%=l.size:e=l.size):0==l.size&&(e=0),e<0&&(e=0),e!=l.position)){l.position=e;var h=null,c=l.keyframeBeforeIndex;if(-1!=c)if((h=l.keyframes[c]).index<=l.position)for(var u=l.keyframes[c+1];null!=u&&u.index<=l.position;)h=u,++c,u=l.keyframes[c+1];else h=null;if(null==h){c=-1;for(var _=l.keyframes.length;c+1<_;){var d=l.keyframes[c+1];if(d.index>l.position)break;h=d,++c}}l.keyframeBeforeIndex=c,l.before=h;var f=null,p=l.keyframeAfterIndex;if(-1!=p&&null!=(f=l.keyframes[p]))if(f.index>l.position){if(p>0)for(var b=l.keyframes[p-1];null!=b&&b.index>l.position;)f=b,b=--p>0?l.keyframes[p-1]:null}else f=null;if(null==f){var y=l.keyframes.length;for(p=y;p-1>=0;){var g=l.keyframes[p-1];if(g.index<=l.position)break;f=g,--p}p>=y&&(p=-1)}l.keyframeAfterIndex=p,l.after=f,l.apply(o)}}}}if(this.position!=t){var O=Math.floor(this.position);if(O!=Math.floor(t)){var x=this.labelAtIndex(O);if(null!=x){var v=this.indexOfLabelBeforeIndex(O);-1!=v&&this.emitEndLabel(v,this.labelAtIndex(v)),this.emitStartLabel(O,x)}}}},animate:function(e,n){if(null!=this.completeHandlers&&this.completeHandlers.length>0){var t;if(0!=(t=this.completeHandlers).length)if(t.length>0)t.splice(0,t.length);else for(var i=t;i.length<0;)i.push(null);if(0!=(t=this.completeHandlerIndexes).length)if(t.length>0)t.splice(0,t.length);else for(i=t;i.length<0;)i.push(null)}var s=this.indexOfLabel(e);-1!=s?(this.seek(s),null==this.completeHandlers&&(this.completeHandlers=[],this.completeHandlerIndexes=[]),this.completeHandlers.push(n),this.completeHandlerIndexes.push(s)):ceramic_App.app.logger.warning("Failed to animate whith label: "+e+" (not found)",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Timeline.hx",lineNumber:200,className:"ceramic.Timeline",methodName:"animate"})},seekLabel:function(e){var n=this.indexOfLabel(e);return-1!=n?this.seek(n):ceramic_App.app.logger.warning("Failed to seek label: "+e+" (not found)",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Timeline.hx",lineNumber:218,className:"ceramic.Timeline",methodName:"seekLabel"}),n},resetStartAndEndPositions:function(){this.set_startPosition(-1),this.set_endPosition(-1)},loopLabel:function(e){if(null==this.labels)return ceramic_App.app.logger.warning("Cannot loop label "+e+" (there is no label at all)",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Timeline.hx",lineNumber:245,className:"ceramic.Timeline",methodName:"loopLabel"}),-1;var n=this.labels.indexOf(e);if(-1==n)return ceramic_App.app.logger.warning("Cannot loop label "+e+" (no such label)",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Timeline.hx",lineNumber:251,className:"ceramic.Timeline",methodName:"loopLabel"}),-1;var t=this.labelIndexes[n];return this.set_startPosition(t),this.set_endPosition(n<this.labelIndexes.length-1?this.labelIndexes[n+1]:this.size),this.seek(t),t},apply:function(e){null==e&&(e=!1);var n=this.position,t=!0,i=e;null==i&&(i=!1),null==t&&(t=!1);var s=this.position;if((t||n!=this.position)&&(this.startPosition>=0&&n<this.startPosition&&(n=this.startPosition),this.endPosition>=this.startPosition&&this.startPosition>=0&&n>this.endPosition&&(n=this.loop?this.startPosition+(n-this.startPosition)%(this.endPosition-this.startPosition):this.endPosition),this.size>0?n>this.size&&(this.loop?n%=this.size:n=this.size):0==this.size&&(n=0),n<0&&(n=0),n!=this.position)){this.position=n;for(var r=0,l=this.tracks.length;r<l;){var a=r++,o=this.tracks[a];if(!o.locked){n=this.position;var h=t;if(null==(e=i)&&(e=!1),null==h&&(h=!1),(h||n!=o.position)&&(o.size>0?n>o.size&&(o.loop?n%=o.size:n=o.size):0==o.size&&(n=0),n<0&&(n=0),n!=o.position)){o.position=n;var c=null,u=o.keyframeBeforeIndex;if(-1!=u)if((c=o.keyframes[u]).index<=o.position)for(var _=o.keyframes[u+1];null!=_&&_.index<=o.position;)c=_,++u,_=o.keyframes[u+1];else c=null;if(null==c){u=-1;for(var d=o.keyframes.length;u+1<d;){var f=o.keyframes[u+1];if(f.index>o.position)break;c=f,++u}}o.keyframeBeforeIndex=u,o.before=c;var p=null,b=o.keyframeAfterIndex;if(-1!=b&&null!=(p=o.keyframes[b]))if(p.index>o.position){if(b>0)for(var y=o.keyframes[b-1];null!=y&&y.index>o.position;)p=y,y=--b>0?o.keyframes[b-1]:null}else p=null;if(null==p){var g=o.keyframes.length;for(b=g;b-1>=0;){var O=o.keyframes[b-1];if(O.index<=o.position)break;p=O,--b}b>=g&&(b=-1)}o.keyframeAfterIndex=b,o.after=p,o.apply(e)}}}}if(this.position!=s){var x=Math.floor(this.position);if(x!=Math.floor(s)){var v=this.labelAtIndex(x);if(null!=v){var m=this.indexOfLabelBeforeIndex(x);-1!=m&&this.emitEndLabel(m,this.labelAtIndex(m)),this.emitStartLabel(x,v)}}}},inlineSeek:function(e,n,t){null==t&&(t=!1),null==n&&(n=!1);var i=this.position;if((n||e!=this.position)&&(this.startPosition>=0&&e<this.startPosition&&(e=this.startPosition),this.endPosition>=this.startPosition&&this.startPosition>=0&&e>this.endPosition&&(e=this.loop?this.startPosition+(e-this.startPosition)%(this.endPosition-this.startPosition):this.endPosition),this.size>0?e>this.size&&(this.loop?e%=this.size:e=this.size):0==this.size&&(e=0),e<0&&(e=0),e!=this.position)){this.position=e;for(var s=0,r=this.tracks.length;s<r;){var l=s++,a=this.tracks[l];if(!a.locked){e=this.position;var o=n,h=t;if(null==h&&(h=!1),null==o&&(o=!1),(o||e!=a.position)&&(a.size>0?e>a.size&&(a.loop?e%=a.size:e=a.size):0==a.size&&(e=0),e<0&&(e=0),e!=a.position)){a.position=e;var c=null,u=a.keyframeBeforeIndex;if(-1!=u)if((c=a.keyframes[u]).index<=a.position)for(var _=a.keyframes[u+1];null!=_&&_.index<=a.position;)c=_,++u,_=a.keyframes[u+1];else c=null;if(null==c){u=-1;for(var d=a.keyframes.length;u+1<d;){var f=a.keyframes[u+1];if(f.index>a.position)break;c=f,++u}}a.keyframeBeforeIndex=u,a.before=c;var p=null,b=a.keyframeAfterIndex;if(-1!=b&&null!=(p=a.keyframes[b]))if(p.index>a.position){if(b>0)for(var y=a.keyframes[b-1];null!=y&&y.index>a.position;)p=y,y=--b>0?a.keyframes[b-1]:null}else p=null;if(null==p){var g=a.keyframes.length;for(b=g;b-1>=0;){var O=a.keyframes[b-1];if(O.index<=a.position)break;p=O,--b}b>=g&&(b=-1)}a.keyframeAfterIndex=b,a.after=p,a.apply(h)}}}}if(this.position!=i){var x=Math.floor(this.position);if(x!=Math.floor(i)){var v=this.labelAtIndex(x);if(null!=v){var m=this.indexOfLabelBeforeIndex(x);-1!=m&&this.emitEndLabel(m,this.labelAtIndex(m)),this.emitStartLabel(x,v)}}}},clearCompleteHandlers:function(){if(null!=this.completeHandlers&&this.completeHandlers.length>0){var e;if(0!=(e=this.completeHandlers).length)if(e.length>0)e.splice(0,e.length);else for(var n=e;n.length<0;)n.push(null);if(0!=(e=this.completeHandlerIndexes).length)if(e.length>0)e.splice(0,e.length);else for(n=e;n.length<0;)n.push(null)}},didEmitEndLabel:function(e,n){if(null!=this.completeHandlers&&this.completeHandlers.length>0){for(var t=null,i=null,s=0,r=0,l=this.completeHandlerIndexes.length;r<l;){var a=r++;if(this.completeHandlerIndexes[a]==e){null==i&&(i=(t=ceramic_ArrayPool.pool(this.completeHandlers.length)).get());var o=this.completeHandlers[a];i.vector[s]=o,this.completeHandlers[a]=null,++s}}if(null!=this.completeHandlers&&this.completeHandlers.length>0){var h;if(0!=(h=this.completeHandlers).length)if(h.length>0)h.splice(0,h.length);else for(var c=h;c.length<0;)c.push(null);if(0!=(h=this.completeHandlerIndexes).length)if(h.length>0)h.splice(0,h.length);else for(c=h;c.length<0;)c.push(null)}for(r=0,l=s;r<l;){a=r++;(o=i.vector[a])()}null!=i&&t.release(i)}},add:function(e){null!=e.timeline&&e.timeline.remove(e),e.timeline!=this&&(this.tracks.push(e),e.timeline=this),this.autoFitSize&&this.fitSize()},get:function(e){for(var n=0,t=this.tracks.length;n<t;){var i=n++,s=this.tracks[i];if(s.id==e)return s}return null},remove:function(e){e.timeline==this&&(HxOverrides.remove(this.tracks,e),e.timeline=null),this.autoFitSize&&this.fitSize()},fitSize:function(){for(var e=0,n=0,t=this.tracks.length;n<t;){var i=n++,s=this.tracks[i];s.size>e&&(e=s.size)}this.size=e},indexOfLabelBeforeIndex:function(e){if(null==this.labelIndexes)return-1;for(var n=-1,t=0,i=this.labelIndexes.length;t<i;){var s=t++,r=this.labelIndexes[s];if(r==e)return n;if(r>e)break;n=r}return n},labelAtIndex:function(e){if(null==this.labelIndexes)return null;for(var n=0,t=this.labelIndexes.length;n<t;){var i=n++,s=this.labelIndexes[i];if(s==e)return this.labels[i];if(s>e)break}return null},indexOfLabel:function(e){if(null==this.labelIndexes)return-1;for(var n=0,t=this.labels.length;n<t;){var i=n++;if(e==this.labels[i])return this.labelIndexes[i]}return-1},setLabel:function(e,n){this.removeLabel(n),null==this.labelIndexes&&(this.labelIndexes=[],this.labels=[]),this.labelIndexes.push(e),this.labels.push(n),this.sortLabels()},removeLabelAtIndex:function(e){var n=!1;if(null!=this.labelIndexes){var t=this.labelIndexes.indexOf(e);-1!=t&&(this.labels.splice(t,1),this.labelIndexes.splice(t,1),n=!0)}return n},removeLabel:function(e){var n=!1;if(null!=this.labels){var t=this.labels.indexOf(e);-1!=t&&(this.labels.splice(t,1),this.labelIndexes.splice(t,1),n=!0)}return n},sortLabels:function(){this.labelIndexes.sort($bind(this,this.compareLabelIndexes)),this.labels.sort($bind(this,this.compareLabelNames))},compareLabelIndexes:function(e,n){return e>n?1:e<n?-1:0},compareLabelNames:function(e,n){var t=this.labels.indexOf(e),i=this.labelIndexes[t],s=this.labels.indexOf(n),r=this.labelIndexes[s];return i>r?1:i<r?-1:0},setEntity:function(e){this.entity=e instanceof ceramic_Entity?e:null},getEntity:function(){return this.entity},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offStartLabel(),this.offEndLabel()},__class__:ceramic_Timeline,__properties__:$extend(ceramic_Entity.prototype.__properties__,{set_endPosition:"set_endPosition",set_startPosition:"set_startPosition",set_paused:"set_paused",set_autoUpdate:"set_autoUpdate"})});var ceramic_TimelineKeyframe=function(e,n){this.easing=_.NONE,this.index=e,this.easing=n};t["ceramic.TimelineKeyframe"]=ceramic_TimelineKeyframe,ceramic_TimelineKeyframe.__name__="ceramic.TimelineKeyframe",ceramic_TimelineKeyframe.prototype={__class__:ceramic_TimelineKeyframe};var ceramic_TimelineBoolKeyframe=function(e,n,t){ceramic_TimelineKeyframe.call(this,n,t),this.value=e};t["ceramic.TimelineBoolKeyframe"]=ceramic_TimelineBoolKeyframe,ceramic_TimelineBoolKeyframe.__name__="ceramic.TimelineBoolKeyframe",ceramic_TimelineBoolKeyframe.__super__=ceramic_TimelineKeyframe,ceramic_TimelineBoolKeyframe.prototype=$extend(ceramic_TimelineKeyframe.prototype,{__class__:ceramic_TimelineBoolKeyframe});var ceramic_TimelineTrack=function(){this.keyframeAfterIndex=-1,this.keyframeBeforeIndex=-1,this.after=null,this.before=null,this.keyframes=[],this.position=0,this.timeline=null,this.locked=!1,this.loop=!1,this.autoFitSize=!0,this.size=0,ceramic_Entity.call(this)};t["ceramic.TimelineTrack"]=ceramic_TimelineTrack,ceramic_TimelineTrack.__name__="ceramic.TimelineTrack",ceramic_TimelineTrack.__super__=ceramic_Entity,ceramic_TimelineTrack.prototype=$extend(ceramic_Entity.prototype,{destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,null!=this.timeline&&this.timeline._lifecycleState>=0&&this.timeline.remove(this),this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this))},seek:function(e){var n=e;if(n!=this.position&&(this.size>0?n>this.size&&(this.loop?n%=this.size:n=this.size):0==this.size&&(n=0),n<0&&(n=0),n!=this.position)){this.position=n;var t=null;if(-1!=(r=this.keyframeBeforeIndex))if((t=this.keyframes[r]).index<=this.position)for(var i=this.keyframes[r+1];null!=i&&i.index<=this.position;)t=i,++r,i=this.keyframes[r+1];else t=null;if(null==t){r=-1;for(var s=this.keyframes.length;r+1<s;){if((a=this.keyframes[r+1]).index>this.position)break;t=a,++r}}this.keyframeBeforeIndex=r,this.before=t;var r;t=null;if(-1!=(r=this.keyframeAfterIndex)&&null!=(t=this.keyframes[r]))if(t.index>this.position){if(r>0)for(var l=this.keyframes[r-1];null!=l&&l.index>this.position;)t=l,l=--r>0?this.keyframes[r-1]:null}else t=null;if(null==t){for(r=s=this.keyframes.length;r-1>=0;){var a;if((a=this.keyframes[r-1]).index<=this.position)break;t=a,--r}r>=s&&(r=-1)}this.keyframeAfterIndex=r,this.after=t,this.apply(!1)}},inlineSeek:function(e,n,t){if(null==t&&(t=!1),null==n&&(n=!1),(n||e!=this.position)&&(this.size>0?e>this.size&&(this.loop?e%=this.size:e=this.size):0==this.size&&(e=0),e<0&&(e=0),e!=this.position)){this.position=e;var i=null;if(-1!=(l=this.keyframeBeforeIndex))if((i=this.keyframes[l]).index<=this.position)for(var s=this.keyframes[l+1];null!=s&&s.index<=this.position;)i=s,++l,s=this.keyframes[l+1];else i=null;if(null==i){l=-1;for(var r=this.keyframes.length;l+1<r;){if((o=this.keyframes[l+1]).index>this.position)break;i=o,++l}}this.keyframeBeforeIndex=l,this.before=i;var l;i=null;if(-1!=(l=this.keyframeAfterIndex)&&null!=(i=this.keyframes[l]))if(i.index>this.position){if(l>0)for(var a=this.keyframes[l-1];null!=a&&a.index>this.position;)i=a,a=--l>0?this.keyframes[l-1]:null}else i=null;if(null==i){for(l=r=this.keyframes.length;l-1>=0;){var o;if((o=this.keyframes[l-1]).index<=this.position)break;i=o,--l}l>=r&&(l=-1)}this.keyframeAfterIndex=l,this.after=i,this.apply(t)}},add:function(e){for(var n=this.keyframes,t=n.length,i=0,s=!1;i<t;){var r=n[i];if(r.index==e.index){ceramic_App.app.logger.warning("Replacing existing keyframe at index "+e.index,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/TimelineTrack.hx",lineNumber:155,className:"ceramic.TimelineTrack",methodName:"add"}),n[i]=e,s=!0;break}if(r.index>e.index){n.splice(i,0,e),s=!0;break}++i}s||n.push(e),this.autoFitSize&&this.fitSize(),null!=this.timeline&&this.timeline.autoFitSize&&this.timeline.fitSize(),this.keyframeBeforeIndex=-1,this.keyframeAfterIndex=-1;var l=null;if(-1!=(o=this.keyframeBeforeIndex))if((l=this.keyframes[o]).index<=this.position)for(var a=this.keyframes[o+1];null!=a&&a.index<=this.position;)l=a,++o,a=this.keyframes[o+1];else l=null;if(null==l){o=-1;for(t=this.keyframes.length;o+1<t;){if((e=this.keyframes[o+1]).index>this.position)break;l=e,++o}}this.keyframeBeforeIndex=o,this.before=l;var o;l=null;if(-1!=(o=this.keyframeAfterIndex)&&null!=(l=this.keyframes[o]))if(l.index>this.position){if(o>0)for(var h=this.keyframes[o-1];null!=h&&h.index>this.position;)l=h,h=--o>0?this.keyframes[o-1]:null}else l=null;if(null==l){for(o=t=this.keyframes.length;o-1>=0;){if((e=this.keyframes[o-1]).index<=this.position)break;l=e,--o}o>=t&&(o=-1)}this.keyframeAfterIndex=o,this.after=l,this.apply(!0)},remove:function(e){if(-1!=(s=this.keyframes.indexOf(e))){this.keyframes.splice(s,1),this.autoFitSize&&this.fitSize(),null!=this.timeline&&this.timeline.autoFitSize&&this.timeline.fitSize(),this.keyframeBeforeIndex=-1,this.keyframeAfterIndex=-1;var n=null;if(-1!=(s=this.keyframeBeforeIndex))if((n=this.keyframes[s]).index<=this.position)for(var t=this.keyframes[s+1];null!=t&&t.index<=this.position;)n=t,++s,t=this.keyframes[s+1];else n=null;if(null==n){s=-1;for(var i=this.keyframes.length;s+1<i;){if((e=this.keyframes[s+1]).index>this.position)break;n=e,++s}}this.keyframeBeforeIndex=s,this.before=n;var s;n=null;if(-1!=(s=this.keyframeAfterIndex)&&null!=(n=this.keyframes[s]))if(n.index>this.position){if(s>0)for(var r=this.keyframes[s-1];null!=r&&r.index>this.position;)n=r,r=--s>0?this.keyframes[s-1]:null}else n=null;if(null==n){for(s=i=this.keyframes.length;s-1>=0;){if((e=this.keyframes[s-1]).index<=this.position)break;n=e,--s}s>=i&&(s=-1)}this.keyframeAfterIndex=s,this.after=n,this.apply(!0)}else ceramic_App.app.logger.warning("Failed to remove keyframe: keyframe not found in list",{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/TimelineTrack.hx",lineNumber:216,className:"ceramic.TimelineTrack",methodName:"remove"})},fitSize:function(){this.keyframes.length>0?this.size=this.keyframes[this.keyframes.length-1].index:this.size=0},apply:function(e){null==e&&(e=!1)},findKeyframeAtIndex:function(e){var n=this.findKeyframeBefore(e);return null!=n&&n.index==e?n:null},findKeyframeBefore:function(e){for(var n=null,t=-1,i=this.keyframes.length;t+1<i;){var s=this.keyframes[t+1];if(s.index>e)break;n=s,++t}return n},findKeyframeAfter:function(e){for(var n=null,t=-1,i=this.keyframes.length;t+1<i;){var s=this.keyframes[t+1];if(s.index>e)break;n=s,++t}return n},computeKeyframeBefore:function(){var e=null,n=this.keyframeBeforeIndex;if(-1!=n)if((e=this.keyframes[n]).index<=this.position)for(var t=this.keyframes[n+1];null!=t&&t.index<=this.position;)e=t,++n,t=this.keyframes[n+1];else e=null;if(null==e){n=-1;for(var i=this.keyframes.length;n+1<i;){var s=this.keyframes[n+1];if(s.index>this.position)break;e=s,++n}}this.keyframeBeforeIndex=n,this.before=e},computeKeyframeAfter:function(){var e=null,n=this.keyframeAfterIndex;if(-1!=n&&null!=(e=this.keyframes[n]))if(e.index>this.position){if(n>0)for(var t=this.keyframes[n-1];null!=t&&t.index>this.position;)e=t,t=--n>0?this.keyframes[n-1]:null}else e=null;if(null==e){var i=this.keyframes.length;for(n=i;n-1>=0;){var s=this.keyframes[n-1];if(s.index<=this.position)break;e=s,--n}n>=i&&(n=-1)}this.keyframeAfterIndex=n,this.after=e},__class__:ceramic_TimelineTrack});var ceramic_TimelineBoolTrack=function(){this.value=!1,ceramic_TimelineTrack.call(this)};t["ceramic.TimelineBoolTrack"]=ceramic_TimelineBoolTrack,ceramic_TimelineBoolTrack.__name__="ceramic.TimelineBoolTrack",ceramic_TimelineBoolTrack.__super__=ceramic_TimelineTrack,ceramic_TimelineBoolTrack.prototype=$extend(ceramic_TimelineTrack.prototype,{emitChange:function(e){var n=0;if(null!=this.__cbOnChange&&(n+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(n+=this.__cbOnceChange.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnChange)for(var r=0,l=this.__cbOnChange.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnChange[a],++s):--n}if(null!=this.__cbOnceChange){var o=null,h=null;for(r=0,l=this.__cbOnceChange.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceChange[a],this.__cbOnceChange[a]=null;var c=this.__cbOnceOwnerUnbindChange[a];this.__cbOnceOwnerUnbindChange[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindChange[a]),h.push(this.__cbOnceChange[a])}this.__cbOnceOwnerUnbindChange=o,this.__cbOnceChange=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(n)},onceChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(n)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindChange[n])&&r(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindChange[n])&&r(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindChange[s])&&r()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindChange[s])&&r()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&this.__cbOnChange.length>0||null!=this.__cbOnceChange&&this.__cbOnceChange.length>0},apply:function(e){null==e&&(e=!1);var n=this.value;if(null!=this.before&&null!=this.after){var t=(this.position-this.before.index)/(this.after.index-this.before.index);t>1?t=1:t<0&&(t=0),this.value=t>=1?this.after.value:this.before.value}else null!=this.after?this.value=this.after.value:null!=this.before&&(this.value=this.before.value);(e||n!=this.value)&&this.emitChange(this)},unbindEvents:function(){ceramic_TimelineTrack.prototype.unbindEvents.call(this),this.offChange()},__class__:ceramic_TimelineBoolTrack});var ceramic_TimelineColorKeyframe=function(e,n,t){ceramic_TimelineKeyframe.call(this,n,t),this.value=e};t["ceramic.TimelineColorKeyframe"]=ceramic_TimelineColorKeyframe,ceramic_TimelineColorKeyframe.__name__="ceramic.TimelineColorKeyframe",ceramic_TimelineColorKeyframe.__super__=ceramic_TimelineKeyframe,ceramic_TimelineColorKeyframe.prototype=$extend(ceramic_TimelineKeyframe.prototype,{__class__:ceramic_TimelineColorKeyframe});var ceramic_TimelineColorTrack=function(){this.value=16777215,ceramic_TimelineTrack.call(this)};t["ceramic.TimelineColorTrack"]=ceramic_TimelineColorTrack,ceramic_TimelineColorTrack.__name__="ceramic.TimelineColorTrack",ceramic_TimelineColorTrack.__super__=ceramic_TimelineTrack,ceramic_TimelineColorTrack.prototype=$extend(ceramic_TimelineTrack.prototype,{emitChange:function(e){var n=0;if(null!=this.__cbOnChange&&(n+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(n+=this.__cbOnceChange.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnChange)for(var r=0,l=this.__cbOnChange.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnChange[a],++s):--n}if(null!=this.__cbOnceChange){var o=null,h=null;for(r=0,l=this.__cbOnceChange.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceChange[a],this.__cbOnceChange[a]=null;var c=this.__cbOnceOwnerUnbindChange[a];this.__cbOnceOwnerUnbindChange[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindChange[a]),h.push(this.__cbOnceChange[a])}this.__cbOnceOwnerUnbindChange=o,this.__cbOnceChange=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(n)},onceChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(n)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindChange[n])&&r(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindChange[n])&&r(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindChange[s])&&r()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindChange[s])&&r()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&this.__cbOnChange.length>0||null!=this.__cbOnceChange&&this.__cbOnceChange.length>0},apply:function(e){null==e&&(e=!1);var n=this.value;if(null!=this.before&&null!=this.after){var t=(this.position-this.before.index)/(this.after.index-this.before.index);t>1?t=1:t<0&&(t=0);var i=this.before.value,s=this.after.value,r=ceramic_Tween.ease(this.after.easing,t);null==r&&(r=.5);var l=((s>>16&255)-(i>>16&255))*r+(i>>16&255)|0,a=((s>>8&255)-(i>>8&255))*r+(i>>8&255)|0,o=((255&s)-(255&i))*r+(255&i)|0,h=0;h&=65535,h|=(l>255?255:l<0?0:l)<<16,h&=16711935,h|=(a>255?255:a<0?0:a)<<8,h&=16776960,h|=o>255?255:o<0?0:o,this.value=h}else null!=this.after?this.value=this.after.value:null!=this.before&&(this.value=this.before.value);(e||n!=this.value)&&this.emitChange(this)},unbindEvents:function(){ceramic_TimelineTrack.prototype.unbindEvents.call(this),this.offChange()},__class__:ceramic_TimelineColorTrack});var ceramic_TimelineDegreesTrack=function(){this.value=0,ceramic_TimelineTrack.call(this)};t["ceramic.TimelineDegreesTrack"]=ceramic_TimelineDegreesTrack,ceramic_TimelineDegreesTrack.__name__="ceramic.TimelineDegreesTrack",ceramic_TimelineDegreesTrack.__super__=ceramic_TimelineTrack,ceramic_TimelineDegreesTrack.prototype=$extend(ceramic_TimelineTrack.prototype,{emitChange:function(e){var n=0;if(null!=this.__cbOnChange&&(n+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(n+=this.__cbOnceChange.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnChange)for(var r=0,l=this.__cbOnChange.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnChange[a],++s):--n}if(null!=this.__cbOnceChange){var o=null,h=null;for(r=0,l=this.__cbOnceChange.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceChange[a],this.__cbOnceChange[a]=null;var c=this.__cbOnceOwnerUnbindChange[a];this.__cbOnceOwnerUnbindChange[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindChange[a]),h.push(this.__cbOnceChange[a])}this.__cbOnceOwnerUnbindChange=o,this.__cbOnceChange=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(n)},onceChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(n)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindChange[n])&&r(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindChange[n])&&r(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindChange[s])&&r()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindChange[s])&&r()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&this.__cbOnChange.length>0||null!=this.__cbOnceChange&&this.__cbOnceChange.length>0},apply:function(e){null==e&&(e=!1);var n=this.value,t=this.value;if(null!=this.before&&null!=this.after){var i=(this.position-this.before.index)/(this.after.index-this.before.index);i>1?i=1:i<0&&(i=0);var s=ceramic_GeometryUtils.clampDegrees(this.before.value),r=ceramic_GeometryUtils.clampDegrees(this.after.value),l=r-s;l>180?r-=360:l<-180&&(r+=360),t=s+(r-s)*ceramic_Tween.ease(this.after.easing,i),t=ceramic_GeometryUtils.clampDegrees(t)}else null!=this.after?t=ceramic_GeometryUtils.clampDegrees(this.after.value):null!=this.before&&(t=ceramic_GeometryUtils.clampDegrees(this.before.value));(e||n!=t)&&(this.value=t,this.emitChange(this))},unbindEvents:function(){ceramic_TimelineTrack.prototype.unbindEvents.call(this),this.offChange()},__class__:ceramic_TimelineDegreesTrack});var ceramic_TimelineFloatArrayKeyframe=function(e,n,t){ceramic_TimelineKeyframe.call(this,n,t),this.value=e};t["ceramic.TimelineFloatArrayKeyframe"]=ceramic_TimelineFloatArrayKeyframe,ceramic_TimelineFloatArrayKeyframe.__name__="ceramic.TimelineFloatArrayKeyframe",ceramic_TimelineFloatArrayKeyframe.__super__=ceramic_TimelineKeyframe,ceramic_TimelineFloatArrayKeyframe.prototype=$extend(ceramic_TimelineKeyframe.prototype,{__class__:ceramic_TimelineFloatArrayKeyframe});var ceramic_TimelineFloatArrayTrack=function(){this.value=[],ceramic_TimelineTrack.call(this)};t["ceramic.TimelineFloatArrayTrack"]=ceramic_TimelineFloatArrayTrack,ceramic_TimelineFloatArrayTrack.__name__="ceramic.TimelineFloatArrayTrack",ceramic_TimelineFloatArrayTrack.__super__=ceramic_TimelineTrack,ceramic_TimelineFloatArrayTrack.prototype=$extend(ceramic_TimelineTrack.prototype,{emitChange:function(e){var n=0;if(null!=this.__cbOnChange&&(n+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(n+=this.__cbOnceChange.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnChange)for(var r=0,l=this.__cbOnChange.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnChange[a],++s):--n}if(null!=this.__cbOnceChange){var o=null,h=null;for(r=0,l=this.__cbOnceChange.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceChange[a],this.__cbOnceChange[a]=null;var c=this.__cbOnceOwnerUnbindChange[a];this.__cbOnceOwnerUnbindChange[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindChange[a]),h.push(this.__cbOnceChange[a])}this.__cbOnceOwnerUnbindChange=o,this.__cbOnceChange=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(n)},onceChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(n)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindChange[n])&&r(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindChange[n])&&r(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindChange[s])&&r()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindChange[s])&&r()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&this.__cbOnChange.length>0||null!=this.__cbOnceChange&&this.__cbOnceChange.length>0},apply:function(e){null==e&&(e=!1);var n=!1;if(null!=this.before&&null!=this.after){var t=(this.position-this.before.index)/(this.after.index-this.before.index);if(t>1?t=1:t<0&&(t=0),t>=1){var i=this.value,s=(y=this.after.value).length;if(i.length>s&&i.length!=s)if(i.length>s)i.splice(s,i.length-s);else for(var r=i;r.length<s;)r.push(null);for(var l=i.length,a=0,o=s;a<o;){var h=0;(g=a++)<l?h=i[g]:n=!0;var c=y[g];i[g]=c,c!=h&&(n=!0)}}else if(t<=0){i=this.value,s=(y=this.before.value).length;if(i.length>s&&i.length!=s)if(i.length>s)i.splice(s,i.length-s);else for(r=i;r.length<s;)r.push(null);for(l=i.length,a=0,o=s;a<o;){h=0;(g=a++)<l?h=i[g]:n=!0;c=y[g];i[g]=c,c!=h&&(n=!0)}}else{i=this.value;var u=this.before.value,_=this.after.value,d=ceramic_Tween.ease(this.after.easing,t),f=_.length,p=u.length;s=f>p?p:f;if(i.length>s&&i.length!=s)if(i.length>s)i.splice(s,i.length-s);else for(r=i;r.length<s;)r.push(null);for(l=i.length,a=0,o=s;a<o;){h=0;(g=a++)<l?h=i[g]:n=!0;var b=u[g];c=b+(_[g]-b)*d;i[g]=c,c!=h&&(n=!0)}}}else if(null!=this.after){i=this.value,s=(y=this.after.value).length;if(i.length>s&&i.length!=s)if(i.length>s)i.splice(s,i.length-s);else for(r=i;r.length<s;)r.push(null);for(l=i.length,a=0,o=s;a<o;){h=0;(g=a++)<l?h=i[g]:n=!0;c=y[g];i[g]=c,c!=h&&(n=!0)}}else if(null!=this.before){var y;i=this.value,s=(y=this.before.value).length;if(i.length>s&&i.length!=s)if(i.length>s)i.splice(s,i.length-s);else for(r=i;r.length<s;)r.push(null);for(l=i.length,a=0,o=s;a<o;){var g;h=0;(g=a++)<l?h=i[g]:n=!0;c=y[g];i[g]=c,c!=h&&(n=!0)}}(e||n)&&this.emitChange(this)},unbindEvents:function(){ceramic_TimelineTrack.prototype.unbindEvents.call(this),this.offChange()},__class__:ceramic_TimelineFloatArrayTrack});var ceramic_TimelineFloatKeyframe=function(e,n,t){ceramic_TimelineKeyframe.call(this,n,t),this.value=e};t["ceramic.TimelineFloatKeyframe"]=ceramic_TimelineFloatKeyframe,ceramic_TimelineFloatKeyframe.__name__="ceramic.TimelineFloatKeyframe",ceramic_TimelineFloatKeyframe.__super__=ceramic_TimelineKeyframe,ceramic_TimelineFloatKeyframe.prototype=$extend(ceramic_TimelineKeyframe.prototype,{__class__:ceramic_TimelineFloatKeyframe});var ceramic_TimelineFloatTrack=function(){this.value=0,ceramic_TimelineTrack.call(this)};t["ceramic.TimelineFloatTrack"]=ceramic_TimelineFloatTrack,ceramic_TimelineFloatTrack.__name__="ceramic.TimelineFloatTrack",ceramic_TimelineFloatTrack.__super__=ceramic_TimelineTrack,ceramic_TimelineFloatTrack.prototype=$extend(ceramic_TimelineTrack.prototype,{emitChange:function(e){var n=0;if(null!=this.__cbOnChange&&(n+=this.__cbOnChange.length),null!=this.__cbOnceChange&&(n+=this.__cbOnceChange.length),n>0){var t=ceramic_ArrayPool.pool(n),i=t.get(),s=0;if(null!=this.__cbOnChange)for(var r=0,l=this.__cbOnChange.length;r<l;){var a=r++;!0?(i.vector[s]=this.__cbOnChange[a],++s):--n}if(null!=this.__cbOnceChange){var o=null,h=null;for(r=0,l=this.__cbOnceChange.length;r<l;){a=r++;if(!0){i.vector[s]=this.__cbOnceChange[a],this.__cbOnceChange[a]=null;var c=this.__cbOnceOwnerUnbindChange[a];this.__cbOnceOwnerUnbindChange[a]=null,null!=c&&c(),++s}else--n,null==o&&(o=[],h=[],[]),o.push(this.__cbOnceOwnerUnbindChange[a]),h.push(this.__cbOnceChange[a])}this.__cbOnceOwnerUnbindChange=o,this.__cbOnceChange=h}for(r=0,l=n;r<l;){s=r++;(0,i.vector[s])(e)}t.release(i),i=null}},onChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindChange&&(this.__cbOnOwnerUnbindChange=[]),this.__cbOnOwnerUnbindChange.push(null);null==this.__cbOnChange&&(this.__cbOnChange=[]),this.__cbOnChange.push(n)},onceChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event change because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindChange&&(this.__cbOnceOwnerUnbindChange=[]),this.__cbOnceOwnerUnbindChange.push(null);null==this.__cbOnceChange&&(this.__cbOnceChange=[]),this.__cbOnceChange.push(n)},offChange:function(e){if(null!=e){var n;null!=this.__cbOnChange&&-1!=(n=this.__cbOnChange.indexOf(e))&&(this.__cbOnChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindChange[n])&&r(),this.__cbOnOwnerUnbindChange.splice(n,1)),null!=this.__cbOnceChange&&-1!=(n=this.__cbOnceChange.indexOf(e))&&(this.__cbOnceChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindChange[n])&&r(),this.__cbOnceOwnerUnbindChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindChange){for(var t=0,i=this.__cbOnOwnerUnbindChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindChange[s])&&r()}this.__cbOnOwnerUnbindChange=null}if(null!=this.__cbOnceOwnerUnbindChange){for(t=0,i=this.__cbOnceOwnerUnbindChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindChange[s])&&r()}this.__cbOnceOwnerUnbindChange=null}this.__cbOnChange=null,this.__cbOnceChange=null}},listensChange:function(){return null!=this.__cbOnChange&&this.__cbOnChange.length>0||null!=this.__cbOnceChange&&this.__cbOnceChange.length>0},apply:function(e){null==e&&(e=!1);var n=this.value;if(null!=this.before&&null!=this.after){var t=(this.position-this.before.index)/(this.after.index-this.before.index);t>1?t=1:t<0&&(t=0),this.value=this.before.value+(this.after.value-this.before.value)*ceramic_Tween.ease(this.after.easing,t)}else null!=this.after?this.value=this.after.value:null!=this.before&&(this.value=this.before.value);(e||n!=this.value)&&this.emitChange(this)},unbindEvents:function(){ceramic_TimelineTrack.prototype.unbindEvents.call(this),this.offChange()},__class__:ceramic_TimelineFloatTrack});var ceramic_Timelines=function(){ceramic_Entity.call(this),this.onCreateTrack(this,$bind(this,this.handleCreateTrack)),this.onBindTrack(this,$bind(this,this.handleBindTrack)),this.onCreateKeyframe(this,$bind(this,this.handleCreateKeyframe))};t["ceramic.Timelines"]=ceramic_Timelines,ceramic_Timelines.__name__="ceramic.Timelines",ceramic_Timelines.__super__=ceramic_Entity,ceramic_Timelines.prototype=$extend(ceramic_Entity.prototype,{emitCreateTrack:function(e,n,t){var i=0;if(null!=this.__cbOnCreateTrack&&(i+=this.__cbOnCreateTrack.length),null!=this.__cbOnceCreateTrack&&(i+=this.__cbOnceCreateTrack.length),i>0){var s=ceramic_ArrayPool.pool(i),r=s.get(),l=0;if(null!=this.__cbOnCreateTrack)for(var a=0,o=this.__cbOnCreateTrack.length;a<o;){var h=a++;!0?(r.vector[l]=this.__cbOnCreateTrack[h],++l):--i}if(null!=this.__cbOnceCreateTrack){var c=null,u=null;for(a=0,o=this.__cbOnceCreateTrack.length;a<o;){h=a++;if(!0){r.vector[l]=this.__cbOnceCreateTrack[h],this.__cbOnceCreateTrack[h]=null;var _=this.__cbOnceOwnerUnbindCreateTrack[h];this.__cbOnceOwnerUnbindCreateTrack[h]=null,null!=_&&_(),++l}else--i,null==c&&(c=[],u=[],[]),c.push(this.__cbOnceOwnerUnbindCreateTrack[h]),u.push(this.__cbOnceCreateTrack[h])}this.__cbOnceOwnerUnbindCreateTrack=c,this.__cbOnceCreateTrack=u}for(a=0,o=i;a<o;){l=a++;(0,r.vector[l])(e,n,t)}s.release(r),r=null}},onCreateTrack:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event createTrack because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offCreateTrack(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindCreateTrack&&(this.__cbOnOwnerUnbindCreateTrack=[]),this.__cbOnOwnerUnbindCreateTrack.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindCreateTrack&&(this.__cbOnOwnerUnbindCreateTrack=[]),this.__cbOnOwnerUnbindCreateTrack.push(null);null==this.__cbOnCreateTrack&&(this.__cbOnCreateTrack=[]),this.__cbOnCreateTrack.push(n)},onceCreateTrack:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event createTrack because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offCreateTrack(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindCreateTrack&&(this.__cbOnceOwnerUnbindCreateTrack=[]),this.__cbOnceOwnerUnbindCreateTrack.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindCreateTrack&&(this.__cbOnceOwnerUnbindCreateTrack=[]),this.__cbOnceOwnerUnbindCreateTrack.push(null);null==this.__cbOnceCreateTrack&&(this.__cbOnceCreateTrack=[]),this.__cbOnceCreateTrack.push(n)},offCreateTrack:function(e){if(null!=e){var n;null!=this.__cbOnCreateTrack&&-1!=(n=this.__cbOnCreateTrack.indexOf(e))&&(this.__cbOnCreateTrack.splice(n,1),null!=(r=this.__cbOnOwnerUnbindCreateTrack[n])&&r(),this.__cbOnOwnerUnbindCreateTrack.splice(n,1)),null!=this.__cbOnceCreateTrack&&-1!=(n=this.__cbOnceCreateTrack.indexOf(e))&&(this.__cbOnceCreateTrack.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindCreateTrack[n])&&r(),this.__cbOnceOwnerUnbindCreateTrack.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCreateTrack){for(var t=0,i=this.__cbOnOwnerUnbindCreateTrack.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindCreateTrack[s])&&r()}this.__cbOnOwnerUnbindCreateTrack=null}if(null!=this.__cbOnceOwnerUnbindCreateTrack){for(t=0,i=this.__cbOnceOwnerUnbindCreateTrack.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindCreateTrack[s])&&r()}this.__cbOnceOwnerUnbindCreateTrack=null}this.__cbOnCreateTrack=null,this.__cbOnceCreateTrack=null}},listensCreateTrack:function(){return null!=this.__cbOnCreateTrack&&this.__cbOnCreateTrack.length>0||null!=this.__cbOnceCreateTrack&&this.__cbOnceCreateTrack.length>0},emitBindTrack:function(e,n,t,i,s){var r=0;if(null!=this.__cbOnBindTrack&&(r+=this.__cbOnBindTrack.length),null!=this.__cbOnceBindTrack&&(r+=this.__cbOnceBindTrack.length),r>0){var l=ceramic_ArrayPool.pool(r),a=l.get(),o=0;if(null!=this.__cbOnBindTrack)for(var h=0,c=this.__cbOnBindTrack.length;h<c;){var u=h++;!0?(a.vector[o]=this.__cbOnBindTrack[u],++o):--r}if(null!=this.__cbOnceBindTrack){var _=null,d=null;for(h=0,c=this.__cbOnceBindTrack.length;h<c;){u=h++;if(!0){a.vector[o]=this.__cbOnceBindTrack[u],this.__cbOnceBindTrack[u]=null;var f=this.__cbOnceOwnerUnbindBindTrack[u];this.__cbOnceOwnerUnbindBindTrack[u]=null,null!=f&&f(),++o}else--r,null==_&&(_=[],d=[],[]),_.push(this.__cbOnceOwnerUnbindBindTrack[u]),d.push(this.__cbOnceBindTrack[u])}this.__cbOnceOwnerUnbindBindTrack=_,this.__cbOnceBindTrack=d}for(h=0,c=r;h<c;){o=h++;(0,a.vector[o])(e,n,t,i,s)}l.release(a),a=null}},onBindTrack:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event bindTrack because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBindTrack(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindBindTrack&&(this.__cbOnOwnerUnbindBindTrack=[]),this.__cbOnOwnerUnbindBindTrack.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindBindTrack&&(this.__cbOnOwnerUnbindBindTrack=[]),this.__cbOnOwnerUnbindBindTrack.push(null);null==this.__cbOnBindTrack&&(this.__cbOnBindTrack=[]),this.__cbOnBindTrack.push(n)},onceBindTrack:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event bindTrack because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offBindTrack(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindBindTrack&&(this.__cbOnceOwnerUnbindBindTrack=[]),this.__cbOnceOwnerUnbindBindTrack.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindBindTrack&&(this.__cbOnceOwnerUnbindBindTrack=[]),this.__cbOnceOwnerUnbindBindTrack.push(null);null==this.__cbOnceBindTrack&&(this.__cbOnceBindTrack=[]),this.__cbOnceBindTrack.push(n)},offBindTrack:function(e){if(null!=e){var n;null!=this.__cbOnBindTrack&&-1!=(n=this.__cbOnBindTrack.indexOf(e))&&(this.__cbOnBindTrack.splice(n,1),null!=(r=this.__cbOnOwnerUnbindBindTrack[n])&&r(),this.__cbOnOwnerUnbindBindTrack.splice(n,1)),null!=this.__cbOnceBindTrack&&-1!=(n=this.__cbOnceBindTrack.indexOf(e))&&(this.__cbOnceBindTrack.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindBindTrack[n])&&r(),this.__cbOnceOwnerUnbindBindTrack.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindBindTrack){for(var t=0,i=this.__cbOnOwnerUnbindBindTrack.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindBindTrack[s])&&r()}this.__cbOnOwnerUnbindBindTrack=null}if(null!=this.__cbOnceOwnerUnbindBindTrack){for(t=0,i=this.__cbOnceOwnerUnbindBindTrack.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindBindTrack[s])&&r()}this.__cbOnceOwnerUnbindBindTrack=null}this.__cbOnBindTrack=null,this.__cbOnceBindTrack=null}},listensBindTrack:function(){return null!=this.__cbOnBindTrack&&this.__cbOnBindTrack.length>0||null!=this.__cbOnceBindTrack&&this.__cbOnceBindTrack.length>0},emitCreateKeyframe:function(e,n,t,i,s,r,l){var a=0;if(null!=this.__cbOnCreateKeyframe&&(a+=this.__cbOnCreateKeyframe.length),null!=this.__cbOnceCreateKeyframe&&(a+=this.__cbOnceCreateKeyframe.length),a>0){var o=ceramic_ArrayPool.pool(a),h=o.get(),c=0;if(null!=this.__cbOnCreateKeyframe)for(var u=0,_=this.__cbOnCreateKeyframe.length;u<_;){var d=u++;!0?(h.vector[c]=this.__cbOnCreateKeyframe[d],++c):--a}if(null!=this.__cbOnceCreateKeyframe){var f=null,p=null;for(u=0,_=this.__cbOnceCreateKeyframe.length;u<_;){d=u++;if(!0){h.vector[c]=this.__cbOnceCreateKeyframe[d],this.__cbOnceCreateKeyframe[d]=null;var b=this.__cbOnceOwnerUnbindCreateKeyframe[d];this.__cbOnceOwnerUnbindCreateKeyframe[d]=null,null!=b&&b(),++c}else--a,null==f&&(f=[],p=[],[]),f.push(this.__cbOnceOwnerUnbindCreateKeyframe[d]),p.push(this.__cbOnceCreateKeyframe[d])}this.__cbOnceOwnerUnbindCreateKeyframe=f,this.__cbOnceCreateKeyframe=p}for(u=0,_=a;u<_;){c=u++;(0,h.vector[c])(e,n,t,i,s,r,l)}o.release(h),h=null}},onCreateKeyframe:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event createKeyframe because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offCreateKeyframe(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindCreateKeyframe&&(this.__cbOnOwnerUnbindCreateKeyframe=[]),this.__cbOnOwnerUnbindCreateKeyframe.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindCreateKeyframe&&(this.__cbOnOwnerUnbindCreateKeyframe=[]),this.__cbOnOwnerUnbindCreateKeyframe.push(null);null==this.__cbOnCreateKeyframe&&(this.__cbOnCreateKeyframe=[]),this.__cbOnCreateKeyframe.push(n)},onceCreateKeyframe:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event createKeyframe because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offCreateKeyframe(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindCreateKeyframe&&(this.__cbOnceOwnerUnbindCreateKeyframe=[]),this.__cbOnceOwnerUnbindCreateKeyframe.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindCreateKeyframe&&(this.__cbOnceOwnerUnbindCreateKeyframe=[]),this.__cbOnceOwnerUnbindCreateKeyframe.push(null);null==this.__cbOnceCreateKeyframe&&(this.__cbOnceCreateKeyframe=[]),this.__cbOnceCreateKeyframe.push(n)},offCreateKeyframe:function(e){if(null!=e){var n;null!=this.__cbOnCreateKeyframe&&-1!=(n=this.__cbOnCreateKeyframe.indexOf(e))&&(this.__cbOnCreateKeyframe.splice(n,1),null!=(r=this.__cbOnOwnerUnbindCreateKeyframe[n])&&r(),this.__cbOnOwnerUnbindCreateKeyframe.splice(n,1)),null!=this.__cbOnceCreateKeyframe&&-1!=(n=this.__cbOnceCreateKeyframe.indexOf(e))&&(this.__cbOnceCreateKeyframe.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindCreateKeyframe[n])&&r(),this.__cbOnceOwnerUnbindCreateKeyframe.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindCreateKeyframe){for(var t=0,i=this.__cbOnOwnerUnbindCreateKeyframe.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindCreateKeyframe[s])&&r()}this.__cbOnOwnerUnbindCreateKeyframe=null}if(null!=this.__cbOnceOwnerUnbindCreateKeyframe){for(t=0,i=this.__cbOnceOwnerUnbindCreateKeyframe.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindCreateKeyframe[s])&&r()}this.__cbOnceOwnerUnbindCreateKeyframe=null}this.__cbOnCreateKeyframe=null,this.__cbOnceCreateKeyframe=null}},listensCreateKeyframe:function(){return null!=this.__cbOnCreateKeyframe&&this.__cbOnCreateKeyframe.length>0||null!=this.__cbOnceCreateKeyframe&&this.__cbOnceCreateKeyframe.length>0},handleCreateTrack:function(e,n,t){null==t.value&&(null!=n&&1==n.degrees?t.value=new ceramic_TimelineDegreesTrack:"Float"==e?t.value=new ceramic_TimelineFloatTrack:"ceramic.Color"==e?t.value=new ceramic_TimelineColorTrack:"Bool"==e?t.value=new ceramic_TimelineBoolTrack:"Array<Float>"==e&&(t.value=new ceramic_TimelineFloatArrayTrack))},handleBindTrack:function(e,n,t,i,s){if(t instanceof ceramic_TimelineFloatTrack)t.onChange(i,(function(e){Reflect.setProperty(i,s,e.value)}));else if(t instanceof ceramic_TimelineDegreesTrack){t.onChange(i,(function(e){Reflect.setProperty(i,s,e.value)}))}else if(t instanceof ceramic_TimelineColorTrack){t.onChange(i,(function(e){Reflect.setProperty(i,s,e.value)}))}else if(t instanceof ceramic_TimelineBoolTrack){t.onChange(i,(function(e){Reflect.setProperty(i,s,e.value)}))}else if(t instanceof ceramic_TimelineFloatArrayTrack){var r=null!=n&&1==n.copyArray;t.onChange(i,(function(e){var n=null;(r||null==(n=Reflect.getProperty(i,s)))&&(n=[]);var t=e.value,l=t.length;if(n.length!=l&&n.length!=l)if(n.length>l)n.splice(l,n.length-l);else for(var a=n;a.length<l;)a.push(null);for(var o=0,h=l;o<h;){var c=o++,u=t[c];n[c]=u}Reflect.setProperty(i,s,n)}))}},handleCreateKeyframe:function(e,n,t,i,s,r,l){if(null==l.value)if("Float"==e)if(null!=r&&r instanceof ceramic_TimelineFloatKeyframe){var a=r;a.value=t,a.index=i,a.easing=s,l.value=a}else l.value=new ceramic_TimelineFloatKeyframe(t,i,s);else if("ceramic.Color"==e)if(null!=r&&r instanceof ceramic_TimelineColorKeyframe){var o=r;o.value=t,o.index=i,o.easing=s,l.value=o}else l.value=new ceramic_TimelineColorKeyframe(t,i,s);else if("Bool"==e)if(null!=r&&r instanceof ceramic_TimelineBoolKeyframe){var h=r;h.value=t,h.index=i,h.easing=s,l.value=h}else l.value=new ceramic_TimelineBoolKeyframe(t,i,s);else if("Array<Float>"==e)if(null!=r&&r instanceof ceramic_TimelineFloatArrayKeyframe){var c=r,u=t;c.value=[].concat(u),c.index=i,c.easing=s,l.value=c}else l.value=new ceramic_TimelineFloatArrayKeyframe(t,i,s)},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offCreateTrack(),this.offBindTrack(),this.offCreateKeyframe()},__class__:ceramic_Timelines});var ceramic_Timer=function(){};t["ceramic.Timer"]=ceramic_Timer,ceramic_Timer.__name__="ceramic.Timer",ceramic_Timer.__properties__={get_timestamp:"get_timestamp"},ceramic_Timer.get_timestamp=function(){return ceramic_Timer.startTimestamp+ceramic_Timer.now},ceramic_Timer.update=function(e,n){ceramic_Timer.now+=e,ceramic_Timer.timestamp=ceramic_Timer.startTimestamp+ceramic_Timer.now+n,ceramic_Timer.next<=ceramic_Timer.now&&ceramic_App.app.beginUpdateCallbacks.push(ceramic_Timer.flush)},ceramic_Timer.flush=function(){ceramic_Timer.next=999999999;var e=ceramic_Timer.callbacks;ceramic_Timer.callbacks=[];for(var n=0,t=e.length;n<t;){var i=e[n++];if(!i.cleared)if(null==i.owner||i.owner._lifecycleState>=0)if(i.time<=ceramic_Timer.now)if(i.interval>=0){for(;i.time<=ceramic_Timer.now&&!i.cleared&&(i.callback(),0!=i.interval);)i.time+=i.interval;i.cleared||(ceramic_Timer.callbacks.push(i),ceramic_Timer.next=Math.min(i.time,ceramic_Timer.next))}else i.callback();else ceramic_Timer.callbacks.push(i),ceramic_Timer.next=Math.min(i.time,ceramic_Timer.next);else i.cleared=!0}},ceramic_Timer.delay=function(e,n,t){return ceramic_Timer.schedule(e,n,t,-1)},ceramic_Timer.interval=function(e,n,t){return ceramic_Timer.schedule(e,n,t,n)},ceramic_Timer.schedule=function(e,n,t,i){var s=ceramic_Timer.now+n;ceramic_Timer.next=Math.min(s,ceramic_Timer.next);var r=new ceramic_TimerCallback;return r.owner=e,r.callback=t,r.time=s,r.interval=i,ceramic_Timer.callbacks.push(r),$bind(r,r.clear)};var ceramic_TimerCallback=function(){this.cleared=!1,this.interval=-1,this.time=0,this.callback=null,this.owner=null};t["ceramic.TimerCallback"]=ceramic_TimerCallback,ceramic_TimerCallback.__name__="ceramic.TimerCallback",ceramic_TimerCallback.prototype={clear:function(){this.cleared=!0},__class__:ceramic_TimerCallback};var ceramic_Touch=function(e,n,t,i,s){this.index=e,this.x=n,this.y=t,this.deltaX=i,this.deltaY=s};t["ceramic.Touch"]=ceramic_Touch,ceramic_Touch.__name__="ceramic.Touch",ceramic_Touch.prototype={toString:function(){return""+Std.string({index:this.index,x:this.x,y:this.y,deltaX:this.deltaX,deltaY:this.deltaY})},__class__:ceramic_Touch};var ceramic_TouchInfo=function(e,n,t,i,s){this.touchIndex=e,this.buttonId=n,this.x=t,this.y=i,this.hits=s};t["ceramic.TouchInfo"]=ceramic_TouchInfo,ceramic_TouchInfo.__name__="ceramic.TouchInfo",ceramic_TouchInfo.prototype={toString:function(){return""+Std.string({touchIndex:this.touchIndex,buttonId:this.buttonId,x:this.x,y:this.y,hits:this.hits})},__class__:ceramic_TouchInfo};var ceramic_TouchesIterator=function(e){this.intMap=e,this.i=0,this.len=this.intMap.values.length};t["ceramic.TouchesIterator"]=ceramic_TouchesIterator,ceramic_TouchesIterator.__name__="ceramic.TouchesIterator",ceramic_TouchesIterator.prototype={hasNext:function(){for(;this.i<this.len&&null==this.intMap.values[this.i];)this.i++;return this.i<this.len},next:function(){var e=this.i++;return this.intMap.values[e]},__class__:ceramic_TouchesIterator};var ceramic_TrackerBackend=function(){this.backgroundQueue=new ceramic_BackgroundQueue};t["ceramic.TrackerBackend"]=ceramic_TrackerBackend,ceramic_TrackerBackend.__name__="ceramic.TrackerBackend",ceramic_TrackerBackend.prototype={onceImmediate:function(e){ceramic_App.app._onceImmediate(e)},readString:function(e){return ceramic_App.app.backend.io.readString(e)},saveString:function(e,n){return ceramic_App.app.backend.io.saveString(e,n)},appendString:function(e,n){return ceramic_App.app.backend.io.appendString(e,n)},warning:function(e,n){ceramic_App.app.logger.warning(e,n)},error:function(e,n){ceramic_App.app.logger.error(e,n)},success:function(e,n){ceramic_App.app.logger.success(e,n)},runInBackground:function(e){this.backgroundQueue.schedule(e)},runInMain:function(e){ceramic_Runner.runInMain(e)},interval:function(e,n,t){return ceramic_Timer.schedule(e,n,t,n)},delay:function(e,n,t){return ceramic_Timer.schedule(e,n,t,-1)},storageDirectory:function(){return null},pathJoin:function(e){return ceramic_Path.join(e)},__class__:ceramic_TrackerBackend};var ceramic_TransformPool=function(){};t["ceramic.TransformPool"]=ceramic_TransformPool,ceramic_TransformPool.__name__="ceramic.TransformPool",ceramic_TransformPool.get=function(){return ceramic_TransformPool.availableTransforms.length>0?ceramic_TransformPool.availableTransforms.pop():new ceramic_Transform},ceramic_TransformPool.recycle=function(e){e.offChange(),e.a=1,e.b=0,e.c=0,e.d=1,e.tx=0,e.ty=0,e._aPrev=1,e._bPrev=0,e._cPrev=0,e._dPrev=1,e._txPrev=0,e._tyPrev=0,e.changed=!1,e.changedDirty=!1,ceramic_TransformPool.availableTransforms.push(e)},ceramic_TransformPool.clear=function(){ceramic_TransformPool.availableTransforms.length>0&&(ceramic_TransformPool.availableTransforms=[])};var ceramic_Triangulate=function(){};t["ceramic.Triangulate"]=ceramic_Triangulate,ceramic_Triangulate.__name__="ceramic.Triangulate",ceramic_Triangulate._triangulateWithRange=function(e,n,t,i,s,r){var l;if(null==ceramic_Triangulate.tmpVertices&&(ceramic_Triangulate.tmpVertices=[]),null==ceramic_Triangulate.tmpIndices&&(ceramic_Triangulate.tmpIndices=[]),0!=(l=ceramic_Triangulate.tmpVertices).length)if(l.length>0)l.splice(0,l.length);else for(var a=l;a.length<0;)a.push(null);if(0!=(l=ceramic_Triangulate.tmpIndices).length)if(l.length>0)l.splice(0,l.length);else for(a=l;a.length<0;)a.push(null);for(var o=n,h=n+t;o<h;){var c=o++;ceramic_Triangulate.tmpVertices.push(e[2*c]),ceramic_Triangulate.tmpVertices.push(e[2*c+1])}ceramic_Triangulate._triangulate(ceramic_Triangulate.tmpVertices,ceramic_Triangulate.tmpIndices,s,r);for(o=0,h=ceramic_Triangulate.tmpIndices.length;o<h;){c=o++;i.push(n+ceramic_Triangulate.tmpIndices[c])}if(0!=(l=ceramic_Triangulate.tmpVertices).length)if(l.length>0)l.splice(0,l.length);else for(a=l;a.length<0;)a.push(null);if(0!=(l=ceramic_Triangulate.tmpIndices).length)if(l.length>0)l.splice(0,l.length);else for(a=l;a.length<0;)a.push(null)},ceramic_Triangulate._triangulate=function(e,n,t,i){if(n.length>0&&0!=n.length)if(n.length>0)n.splice(0,n.length);else for(var s=n;s.length<0;)s.push(null);switch(i._hx_index){case 0:earcut_Earcut.earcut(e,t,2,n);break;case 1:try{null==ceramic_Triangulate.poly2triSweepContext?(ceramic_Triangulate.poly2triSweepContext=new poly2tri_SweepContext,ceramic_Triangulate.poly2triSweep=new poly2tri_Sweep(ceramic_Triangulate.poly2triSweepContext)):ceramic_Triangulate.poly2triSweepContext.reset();for(var r=0,l=0,a=0,o=e.length,h=0,c=0,u=null;a<o;){var _=ceramic_Triangulate.poly2triPointsPool[r];null==_?_=new poly2tri_Point(e[a],e[a+1]):(_.x=e[a],_.y=e[a+1]),_.id=l++,0==a&&(u=_),a>0&&h==_.x&&c==_.y||a==o-2&&u.x==_.x&&u.y==_.y||(h=_.x,c=_.y,ceramic_Triangulate.poly2triPoints[r]=_,++r),a+=2}var d=o/2|0;if(ceramic_Triangulate.poly2triPoints.length>d&&(v=ceramic_Triangulate.poly2triPoints).length!=d)if(v.length>d)v.splice(d,v.length-d);else for(s=v;s.length<d;)s.push(null);for(var f=ceramic_Triangulate.poly2triSweepContext,p=ceramic_Triangulate.poly2triPoints,b=0,y=p.length;b<y;){var g=p[((M=b++)+1)%p.length];f.edge_list.push(poly2tri_Pool.getEdge(p[M],g))}for(b=0,y=p.length;b<y;){a=b++;f.points.push(p[a])}if(null!=t){var O=e.length/2|0,x=t.length;for(b=0,y=x;b<y;){for(var v,m=b++,w=t[m],U=m<x-1?t[m+1]:O,C=0,T=w,D=U;T<D;){var E=T++;ceramic_Triangulate.poly2triPoints[C]=ceramic_Triangulate.poly2triPointsPool[E],++C}if(ceramic_Triangulate.poly2triPoints.length>C)if((v=ceramic_Triangulate.poly2triPoints).length!=C)if(v.length>C)v.splice(C,v.length-C);else for(s=v;s.length<C;)s.push(null);f=ceramic_Triangulate.poly2triSweepContext,p=ceramic_Triangulate.poly2triPoints;for(var A=0,S=p.length;A<S;){var M;g=p[((M=A++)+1)%p.length];f.edge_list.push(poly2tri_Pool.getEdge(p[M],g))}for(var P=0,F=p.length;P<F;){a=P++;f.points.push(p[a])}}}ceramic_Triangulate.poly2triSweep.triangulate();var k=ceramic_Triangulate.poly2triSweepContext.triangles;for(b=0,y=k.length;b<y;){var R=k[b++].points;n.push(R[0].id),n.push(R[1].id),n.push(R[2].id)}}catch(b){var I=haxe_Exception.caught(b).unwrap();ceramic_App.app.logger.warning("Failed to triangulate with poly2tri: "+Std.string(I),{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Triangulate.hx",lineNumber:169,className:"ceramic.Triangulate",methodName:"_triangulate"})}poly2tri_Pool.recycleAll()}};var w=i["ceramic.TriangulateMethod"]={__ename__:"ceramic.TriangulateMethod",__constructs__:null,EARCUT:{_hx_name:"EARCUT",_hx_index:0,__enum__:"ceramic.TriangulateMethod",toString:$estr},POLY2TRI:{_hx_name:"POLY2TRI",_hx_index:1,__enum__:"ceramic.TriangulateMethod",toString:$estr}};w.__constructs__=[w.EARCUT,w.POLY2TRI];var ceramic_Tween=function(e,n,t,i,s){this.customEasing=null,ceramic_Entity.call(this),this.owner=e,this.easing=n,this.duration=t,this.fromValue=i,this.toValue=s,this.init()};t["ceramic.Tween"]=ceramic_Tween,ceramic_Tween.__name__="ceramic.Tween",ceramic_Tween.start=function(e,n,t,i,s,r){var l=new ceramic_Tween(e,null==n?_.QUAD_EASE_IN_OUT:n,t,i,s);return null!=r&&l.onUpdate(e,r),l},ceramic_Tween.tick=function(e){for(var n=ceramic_Tween._tweens.length,t=0,i=n;t<i;){var s=t++,r=ceramic_Tween._tweens[s];ceramic_Tween._iteratedTweens[s]=r}for(t=0,i=n;t<i;){s=t++,r=ceramic_Tween._iteratedTweens[s];if(ceramic_Tween._iteratedTweens[s]=null,null!=r.owner&&r.owner._lifecycleState<0)r.destroy();else if(r.remaining-=e,r.remaining<=0)r.emitUpdate(r.toValue,r.duration),r.emitComplete(),r.destroy();else{var l=r.duration-r.remaining;ceramic__$Tween_TweenEasingFunction.k=l/r.duration;ceramic__$Tween_TweenEasingFunction.k;ceramic__$Tween_TweenEasingFunction.customEasing=r.customEasing,r.computedEasing(),ceramic__$Tween_TweenEasingFunction.customEasing=null,r.emitUpdate(r.fromValue+(r.toValue-r.fromValue)*ceramic__$Tween_TweenEasingFunction.k,l)}}},ceramic_Tween.computeEasing=function(e){switch(e._hx_index){case 0:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.none;break;case 1:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.linear;break;case 2:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.backEaseIn;break;case 3:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.backEaseInOut;break;case 4:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.backEaseOut;break;case 5:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quadEaseIn;break;case 6:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quadEaseInOut;break;case 7:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quadEaseOut;break;case 8:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.cubicEaseIn;break;case 9:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.cubicEaseInOut;break;case 10:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.cubicEaseOut;break;case 11:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quartEaseIn;break;case 12:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quartEaseInOut;break;case 13:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quartEaseOut;break;case 14:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quintEaseIn;break;case 15:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quintEaseInOut;break;case 16:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quintEaseOut;break;case 17:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.bounceEaseIn;break;case 18:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.bounceEaseInOut;break;case 19:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.bounceEaseOut;break;case 20:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.elasticEaseIn;break;case 21:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.elasticEaseInOut;break;case 22:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.elasticEaseOut;break;case 23:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.expoEaseIn;break;case 24:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.expoEaseInOut;break;case 25:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.expoEaseOut;break;case 26:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.sineEaseIn;break;case 27:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.sineEaseInOut;break;case 28:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.sineEaseOut;break;case 29:var t=e.x1,i=e.y1,s=e.x2,r=e.y2;ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.custom,ceramic_Tween._computedCustomEasing=$bind(n=ceramic_BezierEasing.get(t,i,s,r),n.ease);break;case 30:var l=e.easing;ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.custom,ceramic_Tween._computedCustomEasing=l}},ceramic_Tween.ease=function(e,t){switch(ceramic__$Tween_TweenEasingFunction.k=t,e._hx_index){case 0:ceramic__$Tween_TweenEasingFunction.none();break;case 1:ceramic__$Tween_TweenEasingFunction.linear();break;case 2:ceramic__$Tween_TweenEasingFunction.backEaseIn();break;case 3:ceramic__$Tween_TweenEasingFunction.backEaseInOut();break;case 4:ceramic__$Tween_TweenEasingFunction.backEaseOut();break;case 5:ceramic__$Tween_TweenEasingFunction.quadEaseIn();break;case 6:ceramic__$Tween_TweenEasingFunction.quadEaseInOut();break;case 7:ceramic__$Tween_TweenEasingFunction.quadEaseOut();break;case 8:ceramic__$Tween_TweenEasingFunction.cubicEaseIn();break;case 9:ceramic__$Tween_TweenEasingFunction.cubicEaseInOut();break;case 10:ceramic__$Tween_TweenEasingFunction.cubicEaseOut();break;case 11:ceramic__$Tween_TweenEasingFunction.quartEaseIn();break;case 12:ceramic__$Tween_TweenEasingFunction.quartEaseInOut();break;case 13:ceramic__$Tween_TweenEasingFunction.quartEaseOut();break;case 14:ceramic__$Tween_TweenEasingFunction.quintEaseIn();break;case 15:ceramic__$Tween_TweenEasingFunction.quintEaseInOut();break;case 16:ceramic__$Tween_TweenEasingFunction.quintEaseOut();break;case 17:ceramic__$Tween_TweenEasingFunction.bounceEaseIn();break;case 18:ceramic__$Tween_TweenEasingFunction.bounceEaseInOut();break;case 19:ceramic__$Tween_TweenEasingFunction.bounceEaseOut();break;case 20:ceramic__$Tween_TweenEasingFunction.elasticEaseIn();break;case 21:ceramic__$Tween_TweenEasingFunction.elasticEaseInOut();break;case 22:ceramic__$Tween_TweenEasingFunction.elasticEaseOut();break;case 23:ceramic__$Tween_TweenEasingFunction.expoEaseIn();break;case 24:ceramic__$Tween_TweenEasingFunction.expoEaseInOut();break;case 25:ceramic__$Tween_TweenEasingFunction.expoEaseOut();break;case 26:ceramic__$Tween_TweenEasingFunction.sineEaseIn();break;case 27:ceramic__$Tween_TweenEasingFunction.sineEaseInOut();break;case 28:ceramic__$Tween_TweenEasingFunction.sineEaseOut();break;case 29:var i=e.x1,s=e.y1,r=e.x2,l=e.y2;ceramic__$Tween_TweenEasingFunction.customEasing=$bind(n=ceramic_BezierEasing.get(i,s,r,l),n.ease),ceramic__$Tween_TweenEasingFunction.custom(),ceramic__$Tween_TweenEasingFunction.customEasing=null;break;case 30:var a=e.easing;ceramic__$Tween_TweenEasingFunction.customEasing=a,ceramic__$Tween_TweenEasingFunction.custom(),ceramic__$Tween_TweenEasingFunction.customEasing=null}return ceramic__$Tween_TweenEasingFunction.k},ceramic_Tween.easingFunction=function(e){switch(e._hx_index){case 0:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.none;break;case 1:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.linear;break;case 2:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.backEaseIn;break;case 3:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.backEaseInOut;break;case 4:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.backEaseOut;break;case 5:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quadEaseIn;break;case 6:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quadEaseInOut;break;case 7:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quadEaseOut;break;case 8:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.cubicEaseIn;break;case 9:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.cubicEaseInOut;break;case 10:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.cubicEaseOut;break;case 11:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quartEaseIn;break;case 12:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quartEaseInOut;break;case 13:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quartEaseOut;break;case 14:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quintEaseIn;break;case 15:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quintEaseInOut;break;case 16:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quintEaseOut;break;case 17:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.bounceEaseIn;break;case 18:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.bounceEaseInOut;break;case 19:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.bounceEaseOut;break;case 20:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.elasticEaseIn;break;case 21:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.elasticEaseInOut;break;case 22:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.elasticEaseOut;break;case 23:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.expoEaseIn;break;case 24:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.expoEaseInOut;break;case 25:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.expoEaseOut;break;case 26:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.sineEaseIn;break;case 27:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.sineEaseInOut;break;case 28:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.sineEaseOut;break;case 29:var t=e.x1,i=e.y1,s=e.x2,r=e.y2;ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.custom,ceramic_Tween._computedCustomEasing=$bind(n=ceramic_BezierEasing.get(t,i,s,r),n.ease);break;case 30:var l=e.easing;ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.custom,ceramic_Tween._computedCustomEasing=l}var a=ceramic_Tween._computedEasingFunction,o=ceramic_Tween._computedCustomEasing;return function(e){return ceramic__$Tween_TweenEasingFunction.k=e,ceramic__$Tween_TweenEasingFunction.customEasing=o,a(),ceramic__$Tween_TweenEasingFunction.customEasing=null,ceramic__$Tween_TweenEasingFunction.k}},ceramic_Tween.__super__=ceramic_Entity,ceramic_Tween.prototype=$extend(ceramic_Entity.prototype,{emitUpdate:function(e,n){var t=0;if(null!=this.__cbOnUpdate&&(t+=this.__cbOnUpdate.length),null!=this.__cbOnceUpdate&&(t+=this.__cbOnceUpdate.length),t>0){var i=ceramic_ArrayPool.pool(t),s=i.get(),r=0;if(null!=this.__cbOnUpdate)for(var l=0,a=this.__cbOnUpdate.length;l<a;){var o=l++;!0?(s.vector[r]=this.__cbOnUpdate[o],++r):--t}if(null!=this.__cbOnceUpdate){var h=null,c=null;for(l=0,a=this.__cbOnceUpdate.length;l<a;){o=l++;if(!0){s.vector[r]=this.__cbOnceUpdate[o],this.__cbOnceUpdate[o]=null;var u=this.__cbOnceOwnerUnbindUpdate[o];this.__cbOnceOwnerUnbindUpdate[o]=null,null!=u&&u(),++r}else--t,null==h&&(h=[],c=[],[]),h.push(this.__cbOnceOwnerUnbindUpdate[o]),c.push(this.__cbOnceUpdate[o])}this.__cbOnceOwnerUnbindUpdate=h,this.__cbOnceUpdate=c}for(l=0,a=t;l<a;){r=l++;(0,s.vector[r])(e,n)}i.release(s),s=null}},onUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindUpdate&&(this.__cbOnOwnerUnbindUpdate=[]),this.__cbOnOwnerUnbindUpdate.push(null);null==this.__cbOnUpdate&&(this.__cbOnUpdate=[]),this.__cbOnUpdate.push(n)},onceUpdate:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event update because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offUpdate(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindUpdate&&(this.__cbOnceOwnerUnbindUpdate=[]),this.__cbOnceOwnerUnbindUpdate.push(null);null==this.__cbOnceUpdate&&(this.__cbOnceUpdate=[]),this.__cbOnceUpdate.push(n)},offUpdate:function(e){if(null!=e){var n;null!=this.__cbOnUpdate&&-1!=(n=this.__cbOnUpdate.indexOf(e))&&(this.__cbOnUpdate.splice(n,1),null!=(r=this.__cbOnOwnerUnbindUpdate[n])&&r(),this.__cbOnOwnerUnbindUpdate.splice(n,1)),null!=this.__cbOnceUpdate&&-1!=(n=this.__cbOnceUpdate.indexOf(e))&&(this.__cbOnceUpdate.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindUpdate[n])&&r(),this.__cbOnceOwnerUnbindUpdate.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindUpdate){for(var t=0,i=this.__cbOnOwnerUnbindUpdate.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindUpdate[s])&&r()}this.__cbOnOwnerUnbindUpdate=null}if(null!=this.__cbOnceOwnerUnbindUpdate){for(t=0,i=this.__cbOnceOwnerUnbindUpdate.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindUpdate[s])&&r()}this.__cbOnceOwnerUnbindUpdate=null}this.__cbOnUpdate=null,this.__cbOnceUpdate=null}},listensUpdate:function(){return null!=this.__cbOnUpdate&&this.__cbOnUpdate.length>0||null!=this.__cbOnceUpdate&&this.__cbOnceUpdate.length>0},emitComplete:function(){var e=0;if(null!=this.__cbOnComplete&&(e+=this.__cbOnComplete.length),null!=this.__cbOnceComplete&&(e+=this.__cbOnceComplete.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnComplete)for(var s=0,r=this.__cbOnComplete.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnComplete[l],++i):--e}if(null!=this.__cbOnceComplete){var a=null,o=null;for(s=0,r=this.__cbOnceComplete.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceComplete[l],this.__cbOnceComplete[l]=null;var h=this.__cbOnceOwnerUnbindComplete[l];this.__cbOnceOwnerUnbindComplete[l]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],o=[],[]),a.push(this.__cbOnceOwnerUnbindComplete[l]),o.push(this.__cbOnceComplete[l])}this.__cbOnceOwnerUnbindComplete=a,this.__cbOnceComplete=o}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onComplete:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event complete because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offComplete(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindComplete&&(this.__cbOnOwnerUnbindComplete=[]),this.__cbOnOwnerUnbindComplete.push(null);null==this.__cbOnComplete&&(this.__cbOnComplete=[]),this.__cbOnComplete.push(n)},onceComplete:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event complete because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offComplete(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindComplete&&(this.__cbOnceOwnerUnbindComplete=[]),this.__cbOnceOwnerUnbindComplete.push(null);null==this.__cbOnceComplete&&(this.__cbOnceComplete=[]),this.__cbOnceComplete.push(n)},offComplete:function(e){if(null!=e){var n;null!=this.__cbOnComplete&&-1!=(n=this.__cbOnComplete.indexOf(e))&&(this.__cbOnComplete.splice(n,1),null!=(r=this.__cbOnOwnerUnbindComplete[n])&&r(),this.__cbOnOwnerUnbindComplete.splice(n,1)),null!=this.__cbOnceComplete&&-1!=(n=this.__cbOnceComplete.indexOf(e))&&(this.__cbOnceComplete.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindComplete[n])&&r(),this.__cbOnceOwnerUnbindComplete.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindComplete){for(var t=0,i=this.__cbOnOwnerUnbindComplete.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindComplete[s])&&r()}this.__cbOnOwnerUnbindComplete=null}if(null!=this.__cbOnceOwnerUnbindComplete){for(t=0,i=this.__cbOnceOwnerUnbindComplete.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindComplete[s])&&r()}this.__cbOnceOwnerUnbindComplete=null}this.__cbOnComplete=null,this.__cbOnceComplete=null}},listensComplete:function(){return null!=this.__cbOnComplete&&this.__cbOnComplete.length>0||null!=this.__cbOnceComplete&&this.__cbOnceComplete.length>0},init:function(){if(this.duration<=0)ceramic_App.app._onceImmediate($bind(this,this.immediateComplete));else{var e=this.easing;switch(e._hx_index){case 0:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.none;break;case 1:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.linear;break;case 2:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.backEaseIn;break;case 3:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.backEaseInOut;break;case 4:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.backEaseOut;break;case 5:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quadEaseIn;break;case 6:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quadEaseInOut;break;case 7:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quadEaseOut;break;case 8:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.cubicEaseIn;break;case 9:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.cubicEaseInOut;break;case 10:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.cubicEaseOut;break;case 11:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quartEaseIn;break;case 12:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quartEaseInOut;break;case 13:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quartEaseOut;break;case 14:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quintEaseIn;break;case 15:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quintEaseInOut;break;case 16:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.quintEaseOut;break;case 17:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.bounceEaseIn;break;case 18:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.bounceEaseInOut;break;case 19:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.bounceEaseOut;break;case 20:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.elasticEaseIn;break;case 21:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.elasticEaseInOut;break;case 22:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.elasticEaseOut;break;case 23:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.expoEaseIn;break;case 24:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.expoEaseInOut;break;case 25:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.expoEaseOut;break;case 26:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.sineEaseIn;break;case 27:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.sineEaseInOut;break;case 28:ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.sineEaseOut;break;case 29:var t=e.x1,i=e.y1,s=e.x2,r=e.y2;ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.custom,ceramic_Tween._computedCustomEasing=$bind(n=ceramic_BezierEasing.get(t,i,s,r),n.ease);break;case 30:var l=e.easing;ceramic_Tween._computedEasingFunction=ceramic__$Tween_TweenEasingFunction.custom,ceramic_Tween._computedCustomEasing=l}this.computedEasing=ceramic_Tween._computedEasingFunction,this.customEasing=ceramic_Tween._computedCustomEasing,ceramic_Tween._computedEasingFunction=null,ceramic_Tween._computedCustomEasing=null,ceramic_Tween._tweens.push(this),this.remaining=this.duration,ceramic_App.app._onceImmediate($bind(this,this.immediateStart))}},updateFromTick:function(e){if(null!=this.owner&&this.owner._lifecycleState<0)this.destroy();else if(this.remaining-=e,this.remaining<=0)this.emitUpdate(this.toValue,this.duration),this.emitComplete(),this.destroy();else{var n=this.duration-this.remaining;ceramic__$Tween_TweenEasingFunction.k=n/this.duration;ceramic__$Tween_TweenEasingFunction.k;ceramic__$Tween_TweenEasingFunction.customEasing=this.customEasing,this.computedEasing(),ceramic__$Tween_TweenEasingFunction.customEasing=null,this.emitUpdate(this.fromValue+(this.toValue-this.fromValue)*ceramic__$Tween_TweenEasingFunction.k,n)}},immediateComplete:function(){this.emitUpdate(this.toValue,0),this.emitComplete(),this.destroy()},immediateStart:function(){this.emitUpdate(this.fromValue,0)},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this.easing=null,this.owner=null,this.computedEasing=null,this.customEasing=null,HxOverrides.remove(ceramic_Tween._tweens,this),this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this))},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offUpdate(),this.offComplete()},__class__:ceramic_Tween});var ceramic__$Tween_TweenEasingFunction=function(){};t["ceramic._Tween.TweenEasingFunction"]=ceramic__$Tween_TweenEasingFunction,ceramic__$Tween_TweenEasingFunction.__name__="ceramic._Tween.TweenEasingFunction",ceramic__$Tween_TweenEasingFunction.custom=function(){ceramic__$Tween_TweenEasingFunction.k=ceramic__$Tween_TweenEasingFunction.customEasing(ceramic__$Tween_TweenEasingFunction.k)},ceramic__$Tween_TweenEasingFunction.none=function(){ceramic__$Tween_TweenEasingFunction.k=ceramic__$Tween_TweenEasingFunction.k>=1?1:0},ceramic__$Tween_TweenEasingFunction.linear=function(){},ceramic__$Tween_TweenEasingFunction.backEaseIn=function(){ceramic__$Tween_TweenEasingFunction.k=ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*(2.70158*ceramic__$Tween_TweenEasingFunction.k-1.70158)},ceramic__$Tween_TweenEasingFunction.backEaseInOut=function(){var e=1.70158;if(((n=ceramic__$Tween_TweenEasingFunction).k*=2)<1)ceramic__$Tween_TweenEasingFunction.k=ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*((1+(e*=1.525))*ceramic__$Tween_TweenEasingFunction.k-e)*.5;else{var n=ceramic__$Tween_TweenEasingFunction;ceramic__$Tween_TweenEasingFunction.k=.5*((n.k-=2)*ceramic__$Tween_TweenEasingFunction.k*((1+(e*=1.525))*ceramic__$Tween_TweenEasingFunction.k+e)+2)}},ceramic__$Tween_TweenEasingFunction.backEaseOut=function(){ceramic__$Tween_TweenEasingFunction.k=(ceramic__$Tween_TweenEasingFunction.k=ceramic__$Tween_TweenEasingFunction.k-1)*ceramic__$Tween_TweenEasingFunction.k*(2.70158*ceramic__$Tween_TweenEasingFunction.k+1.70158)+1},ceramic__$Tween_TweenEasingFunction.quadEaseIn=function(){ceramic__$Tween_TweenEasingFunction.k*=ceramic__$Tween_TweenEasingFunction.k},ceramic__$Tween_TweenEasingFunction.quadEaseInOut=function(){(ceramic__$Tween_TweenEasingFunction.k*=2)<1?ceramic__$Tween_TweenEasingFunction.k=.5*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k:ceramic__$Tween_TweenEasingFunction.k=-.5*((ceramic__$Tween_TweenEasingFunction.k-1)*(ceramic__$Tween_TweenEasingFunction.k-3)-1)},ceramic__$Tween_TweenEasingFunction.quadEaseOut=function(){ceramic__$Tween_TweenEasingFunction.k=-ceramic__$Tween_TweenEasingFunction.k*(ceramic__$Tween_TweenEasingFunction.k-2)},ceramic__$Tween_TweenEasingFunction.cubicEaseIn=function(){ceramic__$Tween_TweenEasingFunction.k=ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k},ceramic__$Tween_TweenEasingFunction.cubicEaseInOut=function(){var e;(ceramic__$Tween_TweenEasingFunction.k/=.5)<1?e=.5*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k:e=.5*((ceramic__$Tween_TweenEasingFunction.k-=2)*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k+2);ceramic__$Tween_TweenEasingFunction.k=e},ceramic__$Tween_TweenEasingFunction.cubicEaseOut=function(){ceramic__$Tween_TweenEasingFunction.k=--ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k+1},ceramic__$Tween_TweenEasingFunction.quartEaseIn=function(){ceramic__$Tween_TweenEasingFunction.k=ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k},ceramic__$Tween_TweenEasingFunction.quartEaseInOut=function(){if(((e=ceramic__$Tween_TweenEasingFunction).k*=2)<1)ceramic__$Tween_TweenEasingFunction.k=.5*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k;else{var e=ceramic__$Tween_TweenEasingFunction;ceramic__$Tween_TweenEasingFunction.k=-.5*((e.k-=2)*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k-2)}},ceramic__$Tween_TweenEasingFunction.quartEaseOut=function(){ceramic__$Tween_TweenEasingFunction.k=-(--ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k-1)},ceramic__$Tween_TweenEasingFunction.quintEaseIn=function(){ceramic__$Tween_TweenEasingFunction.k=ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k},ceramic__$Tween_TweenEasingFunction.quintEaseInOut=function(){if(((e=ceramic__$Tween_TweenEasingFunction).k*=2)<1)ceramic__$Tween_TweenEasingFunction.k=.5*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k;else{var e=ceramic__$Tween_TweenEasingFunction;ceramic__$Tween_TweenEasingFunction.k=.5*((e.k-=2)*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k+2)}},ceramic__$Tween_TweenEasingFunction.quintEaseOut=function(){ceramic__$Tween_TweenEasingFunction.k=--ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k*ceramic__$Tween_TweenEasingFunction.k+1},ceramic__$Tween_TweenEasingFunction.bounceEaseIn=function(){var e,n=1-ceramic__$Tween_TweenEasingFunction.k;e=(n/=1)<.36363636363636365?7.5625*n*n:n<.7272727272727273?7.5625*(n-=.5454545454545454)*n+.75:n<.9090909090909091?7.5625*(n-=.8181818181818182)*n+.9375:7.5625*(n-=.9545454545454546)*n+.984375,ceramic__$Tween_TweenEasingFunction.k=1-e},ceramic__$Tween_TweenEasingFunction.bounceEaseInOut=function(){if(ceramic__$Tween_TweenEasingFunction.k<.5){var e=1-2*ceramic__$Tween_TweenEasingFunction.k;n=(e/=1)<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375,ceramic__$Tween_TweenEasingFunction.k=.5*(1-n)}else{var n;e=2*ceramic__$Tween_TweenEasingFunction.k-1;n=(e/=1)<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375,ceramic__$Tween_TweenEasingFunction.k=.5*n+.5}},ceramic__$Tween_TweenEasingFunction.bounceEaseOut=function(){var e,n=ceramic__$Tween_TweenEasingFunction.k;e=(n/=1)<.36363636363636365?7.5625*n*n:n<.7272727272727273?7.5625*(n-=.5454545454545454)*n+.75:n<.9090909090909091?7.5625*(n-=.8181818181818182)*n+.9375:7.5625*(n-=.9545454545454546)*n+.984375,ceramic__$Tween_TweenEasingFunction.k=e},ceramic__$Tween_TweenEasingFunction._bounceEaseIn=function(e,n,t,i){var s=i-e;return t-((s/=i)<.36363636363636365?t*(7.5625*s*s):s<.7272727272727273?t*(7.5625*(s-=.5454545454545454)*s+.75):s<.9090909090909091?t*(7.5625*(s-=.8181818181818182)*s+.9375):t*(7.5625*(s-=.9545454545454546)*s+.984375))+n},ceramic__$Tween_TweenEasingFunction._bounceEaseOut=function(e,n,t,i){return(e/=i)<.36363636363636365?t*(7.5625*e*e)+n:e<.7272727272727273?t*(7.5625*(e-=.5454545454545454)*e+.75)+n:e<.9090909090909091?t*(7.5625*(e-=.8181818181818182)*e+.9375)+n:t*(7.5625*(e-=.9545454545454546)*e+.984375)+n},ceramic__$Tween_TweenEasingFunction.elasticEaseIn=function(){if(0!=ceramic__$Tween_TweenEasingFunction.k&&1!=ceramic__$Tween_TweenEasingFunction.k){var e,n=.1;n<1?(n=1,e=.1):e=.4/(2*Math.PI)*Math.asin(1/n);var t=ceramic__$Tween_TweenEasingFunction;ceramic__$Tween_TweenEasingFunction.k=-n*Math.exp(6.931471805599453*(t.k-=1))*Math.sin((ceramic__$Tween_TweenEasingFunction.k-e)*(2*Math.PI)/.4)}},ceramic__$Tween_TweenEasingFunction.elasticEaseInOut=function(){if(0!=ceramic__$Tween_TweenEasingFunction.k)if(2!=((t=ceramic__$Tween_TweenEasingFunction).k*=2)){var e=.44999999999999996,n=e/4;if(ceramic__$Tween_TweenEasingFunction.k<1){var t=ceramic__$Tween_TweenEasingFunction;ceramic__$Tween_TweenEasingFunction.k=Math.exp(6.931471805599453*(t.k-=1))*Math.sin((ceramic__$Tween_TweenEasingFunction.k-n)*(2*Math.PI)/e)*-.5}else{t=ceramic__$Tween_TweenEasingFunction;ceramic__$Tween_TweenEasingFunction.k=Math.exp(-6.931471805599453*(t.k-=1))*Math.sin((ceramic__$Tween_TweenEasingFunction.k-n)*(2*Math.PI)/e)*.5+1}}else ceramic__$Tween_TweenEasingFunction.k=1},ceramic__$Tween_TweenEasingFunction.elasticEaseOut=function(){if(0!=ceramic__$Tween_TweenEasingFunction.k&&1!=ceramic__$Tween_TweenEasingFunction.k){var e,n=.1;n<1?(n=1,e=.1):e=.4/(2*Math.PI)*Math.asin(1/n),ceramic__$Tween_TweenEasingFunction.k=n*Math.exp(-6.931471805599453*ceramic__$Tween_TweenEasingFunction.k)*Math.sin((ceramic__$Tween_TweenEasingFunction.k-e)*(2*Math.PI)/.4)+1}},ceramic__$Tween_TweenEasingFunction.expoEaseIn=function(){ceramic__$Tween_TweenEasingFunction.k=0==ceramic__$Tween_TweenEasingFunction.k?0:Math.exp(6.931471805599453*(ceramic__$Tween_TweenEasingFunction.k-1))},ceramic__$Tween_TweenEasingFunction.expoEaseInOut=function(){0!=ceramic__$Tween_TweenEasingFunction.k&&(1!=ceramic__$Tween_TweenEasingFunction.k&&((ceramic__$Tween_TweenEasingFunction.k/=.5)<1?ceramic__$Tween_TweenEasingFunction.k=.5*Math.exp(6.931471805599453*(ceramic__$Tween_TweenEasingFunction.k-1)):ceramic__$Tween_TweenEasingFunction.k=.5*(2-Math.exp(-6.931471805599453*--ceramic__$Tween_TweenEasingFunction.k))))},ceramic__$Tween_TweenEasingFunction.expoEaseOut=function(){ceramic__$Tween_TweenEasingFunction.k=1==ceramic__$Tween_TweenEasingFunction.k?1:1-Math.exp(-6.931471805599453*ceramic__$Tween_TweenEasingFunction.k)},ceramic__$Tween_TweenEasingFunction.sineEaseIn=function(){ceramic__$Tween_TweenEasingFunction.k=1-Math.cos(ceramic__$Tween_TweenEasingFunction.k*(Math.PI/2))},ceramic__$Tween_TweenEasingFunction.sineEaseInOut=function(){ceramic__$Tween_TweenEasingFunction.k=-(Math.cos(Math.PI*ceramic__$Tween_TweenEasingFunction.k)-1)/2},ceramic__$Tween_TweenEasingFunction.sineEaseOut=function(){ceramic__$Tween_TweenEasingFunction.k=Math.sin(ceramic__$Tween_TweenEasingFunction.k*(Math.PI/2))};var ceramic_Utils=function(){};t["ceramic.Utils"]=ceramic_Utils,ceramic_Utils.__name__="ceramic.Utils",ceramic_Utils.realPath=function(e){return ceramic_Path.isAbsolute(e)||StringTools.startsWith(e,"http://")||StringTools.startsWith(e,"https://")||(e=ceramic_Path.join([ceramic_App.app.settings.assetsPath,e])),e},ceramic_Utils.getRtti=function(e){return ceramic_PlatformSpecific.getRtti(e)},ceramic_Utils.uniqueId=function(){switch(ceramic_Utils._nextUniqueIntCursor){case 0:ceramic_Utils._nextUniqueInt0=(ceramic_Utils._nextUniqueInt0+1)%2147483647;break;case 1:ceramic_Utils._nextUniqueInt1=(ceramic_Utils._nextUniqueInt1+1)%2147483647;break;case 2:ceramic_Utils._nextUniqueInt2=(ceramic_Utils._nextUniqueInt2+1)%2147483647;break;case 3:ceramic_Utils._nextUniqueInt3=(ceramic_Utils._nextUniqueInt3+1)%2147483647}ceramic_Utils._nextUniqueIntCursor=(ceramic_Utils._nextUniqueIntCursor+1)%4,null==(c=ceramic_Utils._nextUniqueInt0)&&(c=2147483646*Math.random()|0);var e,n=c%62|0;if((u=c/62|0)>0){null==(c=u)&&(c=2147483646*Math.random()|0);var t=c%62|0;if((u=c/62|0)>0){var i=ceramic_Utils.base62Id(u);if(t>9)(f=t-10+65)>90&&(f+=6),r=String.fromCodePoint(f);else r=Std.string(t).charAt(0);s=i+r}else{if(t>9)(f=t-10+65)>90&&(f+=6),i=String.fromCodePoint(f);else i=Std.string(t).charAt(0);s=Std.string(i)}if(n>9)(f=n-10+65)>90&&(f+=6),i=String.fromCodePoint(f);else i=Std.string(n).charAt(0);e=s+i}else{if(n>9)(f=n-10+65)>90&&(f+=6),s=String.fromCodePoint(f);else s=Std.string(n).charAt(0);e=Std.string(s)}null==(c=null)&&(c=2147483646*Math.random()|0);var s;n=c%62|0;if((u=c/62|0)>0){null==(c=u)&&(c=2147483646*Math.random()|0);t=c%62|0;if((u=c/62|0)>0){var r=ceramic_Utils.base62Id(u);if(t>9)(f=t-10+65)>90&&(f+=6),l=String.fromCodePoint(f);else l=Std.string(t).charAt(0);i=r+l}else{if(t>9)(f=t-10+65)>90&&(f+=6),r=String.fromCodePoint(f);else r=Std.string(t).charAt(0);i=Std.string(r)}if(n>9)(f=n-10+65)>90&&(f+=6),r=String.fromCodePoint(f);else r=Std.string(n).charAt(0);s=i+r}else{if(n>9)(f=n-10+65)>90&&(f+=6),i=String.fromCodePoint(f);else i=Std.string(n).charAt(0);s=Std.string(i)}null==(c=ceramic_Utils._nextUniqueInt1)&&(c=2147483646*Math.random()|0);n=c%62|0;if((u=c/62|0)>0){null==(c=u)&&(c=2147483646*Math.random()|0);t=c%62|0;if((u=c/62|0)>0){var l=ceramic_Utils.base62Id(u);if(t>9)(f=t-10+65)>90&&(f+=6),a=String.fromCodePoint(f);else a=Std.string(t).charAt(0);r=l+a}else{if(t>9)(f=t-10+65)>90&&(f+=6),l=String.fromCodePoint(f);else l=Std.string(t).charAt(0);r=Std.string(l)}if(n>9)(f=n-10+65)>90&&(f+=6),l=String.fromCodePoint(f);else l=Std.string(n).charAt(0);i=r+l}else{if(n>9)(f=n-10+65)>90&&(f+=6),r=String.fromCodePoint(f);else r=Std.string(n).charAt(0);i=Std.string(r)}null==(c=null)&&(c=2147483646*Math.random()|0);n=c%62|0;if((u=c/62|0)>0){null==(c=u)&&(c=2147483646*Math.random()|0);t=c%62|0;if((u=c/62|0)>0){var a=ceramic_Utils.base62Id(u);if(t>9)(f=t-10+65)>90&&(f+=6),o=String.fromCodePoint(f);else o=Std.string(t).charAt(0);l=a+o}else{if(t>9)(f=t-10+65)>90&&(f+=6),a=String.fromCodePoint(f);else a=Std.string(t).charAt(0);l=Std.string(a)}if(n>9)(f=n-10+65)>90&&(f+=6),a=String.fromCodePoint(f);else a=Std.string(n).charAt(0);r=l+a}else{if(n>9)(f=n-10+65)>90&&(f+=6),l=String.fromCodePoint(f);else l=Std.string(n).charAt(0);r=Std.string(l)}null==(c=ceramic_Utils._nextUniqueInt2)&&(c=2147483646*Math.random()|0);n=c%62|0;if((u=c/62|0)>0){null==(c=u)&&(c=2147483646*Math.random()|0);t=c%62|0;if((u=c/62|0)>0){var o=ceramic_Utils.base62Id(u);if(t>9)(f=t-10+65)>90&&(f+=6),h=String.fromCodePoint(f);else h=Std.string(t).charAt(0);a=o+h}else{if(t>9)(f=t-10+65)>90&&(f+=6),o=String.fromCodePoint(f);else o=Std.string(t).charAt(0);a=Std.string(o)}if(n>9)(f=n-10+65)>90&&(f+=6),o=String.fromCodePoint(f);else o=Std.string(n).charAt(0);l=a+o}else{if(n>9)(f=n-10+65)>90&&(f+=6),a=String.fromCodePoint(f);else a=Std.string(n).charAt(0);l=Std.string(a)}null==(c=null)&&(c=2147483646*Math.random()|0);n=c%62|0;if((u=c/62|0)>0){null==(c=u)&&(c=2147483646*Math.random()|0);t=c%62|0;if((u=c/62|0)>0){var h=ceramic_Utils.base62Id(u);if(t>9)(f=t-10+65)>90&&(f+=6),d=String.fromCodePoint(f);else d=Std.string(t).charAt(0);o=h+d}else{if(t>9)(f=t-10+65)>90&&(f+=6),h=String.fromCodePoint(f);else h=Std.string(t).charAt(0);o=Std.string(h)}if(n>9)(f=n-10+65)>90&&(f+=6),h=String.fromCodePoint(f);else h=Std.string(n).charAt(0);a=o+h}else{if(n>9)(f=n-10+65)>90&&(f+=6),o=String.fromCodePoint(f);else o=Std.string(n).charAt(0);a=Std.string(o)}null==(c=ceramic_Utils._nextUniqueInt3)&&(c=2147483646*Math.random()|0);n=c%62|0;if((u=c/62|0)>0){var c;null==(c=u)&&(c=2147483646*Math.random()|0);var u;t=c%62|0;if((u=c/62|0)>0){var _,d=ceramic_Utils.base62Id(u);if(t>9)(f=t-10+65)>90&&(f+=6),_=String.fromCodePoint(f);else _=Std.string(t).charAt(0);h=d+_}else{if(t>9)(f=t-10+65)>90&&(f+=6),d=String.fromCodePoint(f);else d=Std.string(t).charAt(0);h=Std.string(d)}if(n>9)(f=n-10+65)>90&&(f+=6),d=String.fromCodePoint(f);else d=Std.string(n).charAt(0);o=h+d}else{var f;if(n>9)(f=n-10+65)>90&&(f+=6),h=String.fromCodePoint(f);else h=Std.string(n).charAt(0);o=Std.string(h)}return h=e+"-"+s+"-"+i+"-"+r+"-"+l+"-"+a+"-"+o},ceramic_Utils.randomId=function(e){null==e&&(e=32);for(var n=[];n.length<e;){var t=null;null==t&&(t=2147483646*Math.random()|0);var i,s=t%62|0,r=t/62|0;if(r>0){var l=r;null==l&&(l=2147483646*Math.random()|0);var a,o,h=l%62|0,c=l/62|0;if(c>0){var u,_=ceramic_Utils.base62Id(c);if(h>9){var d=h-10+65;d>90&&(d+=6),u=String.fromCodePoint(d)}else u=Std.string(h).charAt(0);a=_+u}else{var f;if(h>9){var p=h-10+65;p>90&&(p+=6),f=String.fromCodePoint(p)}else f=Std.string(h).charAt(0);a=Std.string(f)}if(s>9){var b=s-10+65;b>90&&(b+=6),o=String.fromCodePoint(b)}else o=Std.string(s).charAt(0);i=a+o}else{var y;if(s>9){var g=s-10+65;g>90&&(g+=6),y=String.fromCodePoint(g)}else y=Std.string(s).charAt(0);i=Std.string(y)}for(var O=0,x=i.length;O<x;){var v=O++;n.push(i.charAt(v))}}return ceramic_Extensions.shuffle(n),HxOverrides.substr(n.join(""),0,e)},ceramic_Utils.persistentId=function(e,n){null==n&&(n=32),null==e&&(e=0),null==ceramic_Utils._persistentIds&&(ceramic_Utils._persistentIds=new haxe_ds_IntMap);var t=ceramic_Utils._persistentIds.h[e];return null!=t?t:null!=(t=ceramic_App.app.backend.io.readString("persistentId_"+e))?(ceramic_Utils._persistentIds.h[e]=t,t):(t=ceramic_Utils.randomId(n),ceramic_App.app.backend.io.saveString("persistentId_"+e,t)||ceramic_App.app.logger.warning("Failed to save persistent id ("+t+") at slot "+e,{fileName:"/Users/jeremyfa/Developer/ceramic/runtime/src/ceramic/Utils.hx",lineNumber:125,className:"ceramic.Utils",methodName:"persistentId"}),ceramic_Utils._persistentIds.h[e]=t,t)},ceramic_Utils.resetPersistentId=function(e){null==e&&(e=0),null!=ceramic_Utils._persistentIds&&ceramic_Utils._persistentIds.remove(e),ceramic_App.app.backend.io.saveString("persistentId_"+e,null)},ceramic_Utils.base62Id=function(e){null==e&&(e=2147483646*Math.random()|0);var n=e%62|0,t=e/62|0;if(t>0){var i,s,r=ceramic_Utils.base62Id(t);if(n>9)(s=n-10+65)>90&&(s+=6),i=String.fromCodePoint(s);else i=(null==n?"null":""+n).charAt(0);return r+i}return n>9?((s=n-10+65)>90&&(s+=6),r=String.fromCodePoint(s)):r=(null==n?"null":""+n).charAt(0),Std.string(r)},ceramic_Utils.println=function(e){var n=null;null!=(n=backend_ElectronRunner.electronRunner)?n.consoleLog("[error] "+e):console.log(""+e)},ceramic_Utils.printStackTrace=function(e){null==e&&(e=!1);var n="",t=null,i=null;try{throw new Error}catch(e){i=e}var s=(""+Std.string(i.stack)).split("\n"),r=s.length-1,l=-1!=navigator.platform.indexOf("Win");for(t=backend_ElectronRunner.electronRunner;r>=2;){var a=s[r];a=StringTools.ltrim(a),null!=t&&(a=StringTools.replace(a,"http://localhost:"+Std.string(t.serverPort)+"/file:"+(l?"/":""),""),a=StringTools.replace(a,"http://localhost:"+Std.string(t.serverPort)+"/",Std.string(t.appFiles)+"/"));var o=a;e||(null!=t?t.consoleLog("[error] "+Std.string(o)):console.log(""+Std.string(o))),n+=Std.string(o),n+=String.fromCodePoint(10),--r}return n},ceramic_Utils.stackItemToString=function(e){var n="";switch(e._hx_index){case 0:n="a C function";break;case 1:n="module "+e.m;break;case 2:e.column;var t=e.s,i=e.file,s=e.line;null!=t&&(n=ceramic_Utils.stackItemToString(t)+" ("),n+=i,n+=" line ",n+=s,null!=t&&(n+=")");break;case 3:n+=e.classname,n+=".",n+=e.method;break;case 4:n+="local function #",n+=e.v}return n},ceramic_Utils.radToDeg=function(e){return 57.29577951308232*e},ceramic_Utils.degToRad=function(e){return.017453292519943295*e},ceramic_Utils.round=function(e,n){if(null==n&&(n=0),n>0){for(var t=1;n-- >0;)t*=10;return Math.round(e*t)/t}return Math.round(e)},ceramic_Utils.hashCode=function(e){var n=0;if(0==e.length)return n;for(var t=0,i=e.length;t<i;){var s=t++;n=(n<<5)-n+HxOverrides.cca(e,s),n&=n}return n},ceramic_Utils.uniformFrequencyList=function(e,n,t){for(var i=[],s=[],r=0,l=e.length;r<l;){s[u=r++]=0}for(r=0,l=n.length;r<l;){s[u=r++]+=n[u]}for(r=0,l=t;r<l;){r++;for(var a=0,o=0,h=0,c=e.length;h<c;){var u,_=s[u=h++];_>o&&(a=u,o=_)}i.push(e[a]),s[a]-=1;for(var d=0,f=n.length;d<f;){var p=d++;s[p]+=n[p]}}return i},ceramic_Utils.upperCaseToCamelCase=function(e,n){null==n&&(n=!0);for(var t="",i=e.length,s=0,r=n;s<i;){var l=e.charAt(s);"_"==l?r=!0:r?(r=!1,t+=Std.string(l.toUpperCase())):t+=Std.string(l.toLowerCase()),++s}return t},ceramic_Utils.camelCaseToUpperCase=function(e,n){null==n&&(n=!0);for(var t="",i=e.length,s=0,r=!1;s<i;){var l=e.charAt(s);if("."==l)t+="_",r=!1;else if(ceramic_Utils.RE_ASCII_CHAR.match(l)){var a=l.toUpperCase(),o=l==a;r&&o&&(t+="_",r=!1),t+=null==a?"null":""+a,r=!o}else t+="_",r=!1;++s}for(var h=t;StringTools.endsWith(h,"_");)h=HxOverrides.substr(h,0,h.length-1);return h},ceramic_Utils.functionEquals=function(e,n){return e==n},ceramic_Utils.decodeUriParams=function(e){for(var n=new haxe_ds_StringMap,t=e.split("&"),i=0;i<t.length;){var s=t[i];++i;var r=s.indexOf("=");if(-1!=r){var l=s.substring(0,r),a=decodeURIComponent(l.split("+").join(" ")),o=s.substring(r+1),h=decodeURIComponent(o.split("+").join(" "));n.h[a]=h}}return n},ceramic_Utils.sinRatio=function(e){return e>=1&&(e%=1),.5*(Math.sin(e*Math.PI*2)+1)},ceramic_Utils.cosRatio=function(e){return e>=1&&(e%=1),.5*(Math.cos(e*Math.PI*2)+1)},ceramic_Utils.valueFromInterpolatedKey=function(e,n,t){var i=e.length-1,s=0;if(t<e[0])s=n[0];else if(t>=e[i])s=n[i];else{for(var r=0,l=1;t>e[l];)++r,++l;var a=(t-e[r])/(e[l]-e[r]);s=n[r]+(n[l]-n[r])*a}return s},ceramic_Utils.yFromInterpolatedX=function(e,n){var t=e.length-2,i=0;if(n<e[0])i=e[1];else if(n>=e[t]){i=e[t+1]}else{for(var s=0,r=2;n>e[r];)s+=2,r+=2;var l=(n-e[s])/(e[r]-e[s]),a=s+1,o=r+1;i=e[a]+(e[o]-e[a])*l}return i},ceramic_Utils.command=function(e,n,t,i){null==n&&(n=[]),i(-1,null,null)},ceramic_Utils.replaceIdentifier=function(e,n,t){e=StringTools.replace(e,"\n"," \n "),e=" "+(e=StringTools.replace(e,"\r"," \r "))+" ";var i="(\\s|[^a-zA-Z0-9_])",s=new RegExp(i+n.replace(EReg.escapeRe,"\\$&")+i,"g".split("u").join("")),r="$1"+StringTools.replace(t,"$","$$")+"$2";return e=(e=e.replace(s,r)).substring(1,e.length-1),e=StringTools.replace(e," \r ","\r"),e=StringTools.replace(e," \n ","\n")},ceramic_Utils.imageTypeFromBytes=function(e){return 255==e.b[0]&&216==e.b[1]&&255==e.b[2]?"jpeg":137==e.b[0]&&80==e.b[1]&&78==e.b[2]&&71==e.b[3]&&13==e.b[4]&&10==e.b[5]&&26==e.b[6]&&10==e.b[7]?"png":null},ceramic_Utils.lerp=function(e,n,t){return e+(n-e)*t},ceramic_Utils.isIos=function(){if(-1==ceramic_Utils.isIos_result){ceramic_Utils.isIos_result=0;var n=null!=e.navigator?e.navigator.userAgent:"";!!window.MSStream||-1==n.indexOf("iPhone")&&-1==n.indexOf("iPad")&&-1==n.indexOf("iPod")||(ceramic_Utils.isIos_result=1)}return 0!=ceramic_Utils.isIos_result},ceramic_Utils.isAndroid=function(){-1==ceramic_Utils.isAndroid_result&&(ceramic_Utils.isAndroid_result=0,-1!=(null!=e.navigator?e.navigator.userAgent:"").toLowerCase().indexOf("android")&&(ceramic_Utils.isAndroid_result=1));return 0!=ceramic_Utils.isAndroid_result};var ceramic_VisualTransition=function(e,n){null==n&&(n=.3),this.initializerName=null,this.transformInTransition=null,this.transformEndToNull=!1,this.transformEnd=null,this.transformStart=null,this.transformTarget=null,this.transformTween=null,this.transformAssignedInstance=null,this.transformAssigned=!1,this.transformChanged=!1,this.translateYEnd=0,this.translateYStart=0,this.translateYTarget=0,this.translateYTween=null,this.translateYChanged=!1,this.translateXEnd=0,this.translateXStart=0,this.translateXTarget=0,this.translateXTween=null,this.translateXChanged=!1,this.alphaEnd=0,this.alphaStart=0,this.alphaTarget=0,this.alphaTween=null,this.alphaChanged=!1,this.colorEnd=-1,this.colorStart=-1,this.colorTarget=-1,this.colorTween=null,this.colorChanged=!1,this.heightEnd=0,this.heightStart=0,this.heightTarget=0,this.heightTween=null,this.heightChanged=!1,this.widthEnd=0,this.widthStart=0,this.widthTarget=0,this.widthTween=null,this.widthChanged=!1,this.rotationEnd=0,this.rotationStart=0,this.rotationTarget=0,this.rotationTween=null,this.rotationChanged=!1,this.anchorYEnd=0,this.anchorYStart=0,this.anchorYTarget=0,this.anchorYTween=null,this.anchorYChanged=!1,this.anchorXEnd=0,this.anchorXStart=0,this.anchorXTarget=0,this.anchorXTween=null,this.anchorXChanged=!1,this.skewYEnd=0,this.skewYStart=0,this.skewYTarget=0,this.skewYTween=null,this.skewYChanged=!1,this.skewXEnd=0,this.skewXStart=0,this.skewXTarget=0,this.skewXTween=null,this.skewXChanged=!1,this.scaleYEnd=0,this.scaleYStart=0,this.scaleYTarget=0,this.scaleYTween=null,this.scaleYChanged=!1,this.scaleXEnd=0,this.scaleXStart=0,this.scaleXTarget=0,this.scaleXTween=null,this.scaleXChanged=!1,this.depthEnd=0,this.depthStart=0,this.depthTarget=0,this.depthTween=null,this.depthChanged=!1,this.yEnd=0,this.yStart=0,this.yTarget=0,this.yTween=null,this.yChanged=!1,this.xEnd=0,this.xStart=0,this.xTarget=0,this.xTween=null,this.xChanged=!1,this.anyPropertyChanged=!1,ceramic_Entity.call(this),this.easing=e,this.duration=n};t["ceramic.VisualTransition"]=ceramic_VisualTransition,ceramic_VisualTransition.__name__="ceramic.VisualTransition",ceramic_VisualTransition.__interfaces__=[ceramic_Component],ceramic_VisualTransition.transition=function(e,n,t,i){var s=e.component("transition");return null==s&&(s=new ceramic_VisualTransition,e.component("transition",s)),s.run(n,t,i)},ceramic_VisualTransition.__super__=ceramic_Entity,ceramic_VisualTransition.prototype=$extend(ceramic_Entity.prototype,{bindAsComponent:function(){},run:function(e,n,t){var i=this;null==e&&(e=this.easing),-1==n&&(n=this.duration),this.anyPropertyChanged=!1,this.xChanged=!1,this.yChanged=!1,this.depthChanged=!1,this.scaleXChanged=!1,this.scaleYChanged=!1,this.translateXChanged=!1,this.translateYChanged=!1,this.skewXChanged=!1,this.skewYChanged=!1,this.anchorXChanged=!1,this.anchorYChanged=!1,this.rotationChanged=!1,this.widthChanged=!1,this.heightChanged=!1,this.colorChanged=!1,this.alphaChanged=!1,this.transformAssigned=!1,this.transformAssignedInstance=null,this.transformChanged=!1;var s=this.entity.x,r=this.entity.y,l=this.entity.depth,a=this.entity.scaleX,o=this.entity.scaleY,h=null!=(T=this.entity).transform?T.transform.tx:0,c=null!=(T=this.entity).transform?T.transform.ty:0,u=this.entity.skewX,_=this.entity.skewY,d=this.entity.anchorX,f=this.entity.anchorY,p=this.entity.rotation,b=this.entity.get_width(),y=this.entity.get_height(),g=-1,O=!1;null!=this.entity.asQuad?(g=this.entity.asQuad.color,O=!0):null!=this.entity.asMesh&&(g=this.entity.asMesh.get_color(),O=!0);var x,v,m=this.entity.alpha;if(null!=this.entity.transform){var w=this.entity.transform;(T=ceramic_VisualTransition._currentTransform).a=w.a,T.b=w.b,T.c=w.c,T.d=w.d,T.tx=w.tx,T.ty=w.ty,T.changedDirty=!0,(T=ceramic_VisualTransition._currentTransform)._aPrev=T.a,T._bPrev=T.b,T._cPrev=T.c,T._dPrev=T.d,T._txPrev=T.tx,T._tyPrev=T.ty,T.changed=!1,ceramic_VisualTransition._currentTransform.changedDirty=!1,x=ceramic_VisualTransition._currentTransform}else x=null;(this.xTarget=s,this.yTarget=r,this.depthTarget=l,this.scaleXTarget=a,this.scaleYTarget=o,this.translateXTarget=h,this.translateYTarget=c,this.skewXTarget=u,this.skewYTarget=_,this.anchorXTarget=d,this.anchorYTarget=f,this.rotationTarget=p,this.widthTarget=b,this.heightTarget=y,this.colorTarget=g,this.alphaTarget=m,null!=x)?((T=ceramic_VisualTransition._targetTransform).a=x.a,T.b=x.b,T.c=x.c,T.d=x.d,T.tx=x.tx,T.ty=x.ty,T.changedDirty=!0,(T=ceramic_VisualTransition._targetTransform)._aPrev=T.a,T._bPrev=T.b,T._cPrev=T.c,T._dPrev=T.d,T._txPrev=T.tx,T._tyPrev=T.ty,T.changed=!1,ceramic_VisualTransition._targetTransform.changedDirty=!1,v=ceramic_VisualTransition._targetTransform):v=null;this.transformTarget=v;if(t(this),!this.transformChanged&&null!=this.transformTarget){if(this.transformTarget.changedDirty)(T=this.transformTarget).changedDirty&&(T.changed=T.tx!=T._txPrev||T.ty!=T._tyPrev||T.a!=T._aPrev||T.b!=T._bPrev||T.c!=T._cPrev||T.d!=T._dPrev,T.changedDirty=!1);this.transformTarget.changed&&(this.transformChanged=!0,this.anyPropertyChanged=!0)}var U=null;if(this.anyPropertyChanged){if((U=this.entity.tween(e,n,0,1,(function(e,n){if(i.xTween==U&&i.entity.set_x(i.xStart+(i.xEnd-i.xStart)*e),i.yTween==U&&i.entity.set_y(i.yStart+(i.yEnd-i.yStart)*e),i.depthTween==U&&i.entity.set_depth(i.depthStart+(i.depthEnd-i.depthStart)*e),i.scaleXTween==U&&i.entity.set_scaleX(i.scaleXStart+(i.scaleXEnd-i.scaleXStart)*e),i.scaleYTween==U&&i.entity.set_scaleY(i.scaleYStart+(i.scaleYEnd-i.scaleYStart)*e),i.translateXTween==U){var t=i.entity,s=i.translateXStart+(i.translateXEnd-i.translateXStart)*e;0==s?null!=t.transform&&0!=t.transform.tx&&(t.transform.tx=0,t.transform.changedDirty=!0):(null==t.transform&&t.set_transform(new ceramic_Transform),t.transform.tx!=s&&(t.transform.tx=s,t.transform.changedDirty=!0))}if(i.translateYTween==U){t=i.entity;var r=i.translateYStart+(i.translateYEnd-i.translateYStart)*e;0==r?null!=t.transform&&0!=t.transform.ty&&(t.transform.ty=0,t.transform.changedDirty=!0):(null==t.transform&&t.set_transform(new ceramic_Transform),t.transform.ty!=r&&(t.transform.ty=r,t.transform.changedDirty=!0))}if(i.skewXTween==U&&i.entity.set_skewX(i.skewXStart+(i.skewXEnd-i.skewXStart)*e),i.skewYTween==U&&i.entity.set_skewY(i.skewYStart+(i.skewYEnd-i.skewYStart)*e),i.anchorXTween==U&&i.entity.set_anchorX(i.anchorXStart+(i.anchorXEnd-i.anchorXStart)*e),i.anchorYTween==U&&i.entity.set_anchorY(i.anchorYStart+(i.anchorYEnd-i.anchorYStart)*e),i.rotationTween==U&&i.entity.set_rotation(i.rotationStart+(i.rotationEnd-i.rotationStart)*e),i.widthTween==U&&i.entity.set_width(i.widthStart+(i.widthEnd-i.widthStart)*e),i.heightTween==U&&i.entity.set_height(i.heightStart+(i.heightEnd-i.heightStart)*e),i.colorTween==U)if(null!=i.entity.asQuad){var l=i.colorStart;null==(h=e)&&(h=.5);var a=0;a&=65535,a|=((c=(((o=i.colorEnd)>>16&255)-(l>>16&255))*h+(l>>16&255)|0)>255?255:c<0?0:c)<<16,a&=16711935,a|=((u=((o>>8&255)-(l>>8&255))*h+(l>>8&255)|0)>255?255:u<0?0:u)<<8,a&=16776960,a|=(_=((255&o)-(255&l))*h+(255&l)|0)>255?255:_<0?0:_,i.entity.asQuad.color=a}else if(null!=i.entity.asMesh){l=i.colorStart;null==(h=e)&&(h=.5);a=0;a&=65535,a|=((c=(((o=i.colorEnd)>>16&255)-(l>>16&255))*h+(l>>16&255)|0)>255?255:c<0?0:c)<<16,a&=16711935,a|=((u=((o>>8&255)-(l>>8&255))*h+(l>>8&255)|0)>255?255:u<0?0:u)<<8,a&=16776960,a|=(_=((255&o)-(255&l))*h+(255&l)|0)>255?255:_<0?0:_,i.entity.asMesh.set_color(a)}else{var o,h;l=i.colorStart;null==(h=e)&&(h=.5);var c,u,_;a=0;a&=65535,a|=((c=(((o=i.colorEnd)>>16&255)-(l>>16&255))*h+(l>>16&255)|0)>255?255:c<0?0:c)<<16,a&=16711935,a|=((u=((o>>8&255)-(l>>8&255))*h+(l>>8&255)|0)>255?255:u<0?0:u)<<8,a&=16776960,a|=(_=((255&o)-(255&l))*h+(255&l)|0)>255?255:_<0?0:_,Reflect.setProperty(i.entity,"color",a)}if(i.alphaTween==U&&i.entity.set_alpha(i.alphaStart+(i.alphaEnd-i.alphaStart)*e),i.transformTween==U)if(1==e&&i.transformAssigned)i.entity.set_transform(i.transformAssignedInstance);else{if(i.transformAssigned&&0==e&&i.entity.set_transform(null),null==i.entity.transform){if(null==i.transformInTransition){var d=ceramic_TransformPool.availableTransforms.length>0?ceramic_TransformPool.availableTransforms.pop():new ceramic_Transform;i.transformInTransition=d}i.entity.set_transform(i.transformInTransition)}var f=null!=i.transformStart?i.transformStart:ceramic_VisualTransition._identityTransform,p=null!=i.transformEnd?i.transformEnd:ceramic_VisualTransition._identityTransform;t=i.entity.transform;if(0==e)t.a=f.a,t.b=f.b,t.c=f.c,t.d=f.d,t.tx=f.tx,t.ty=f.ty,t.changedDirty=!0;else if(1==e)t.a=p.a,t.b=p.b,t.c=p.c,t.d=p.d,t.tx=p.tx,t.ty=p.ty,t.changedDirty=!0;else{var b;null==(b=ceramic_Transform._decomposed1)&&(b=new ceramic_DecomposedTransform),b.pivotX=0,b.pivotY=0,b.skewX=-Math.atan2(-f.c,f.d),b.skewY=Math.atan2(f.b,f.a),Math.abs(b.skewX+b.skewY)<1e-5&&(b.rotation=b.skewY,f.a<0&&f.d>=0&&(b.rotation+=b.rotation<=0?Math.PI:-Math.PI),b.skewX=0,b.skewY=0),b.scaleX=Math.sqrt(f.a*f.a+f.b*f.b),b.scaleY=Math.sqrt(f.c*f.c+f.d*f.d),b.x=f.tx,b.y=f.ty,null==(b=ceramic_Transform._decomposed2)&&(b=new ceramic_DecomposedTransform),b.pivotX=0,b.pivotY=0,b.skewX=-Math.atan2(-p.c,p.d),b.skewY=Math.atan2(p.b,p.a),Math.abs(b.skewX+b.skewY)<1e-5&&(b.rotation=b.skewY,p.a<0&&p.d>=0&&(b.rotation+=b.rotation<=0?Math.PI:-Math.PI),b.skewX=0,b.skewY=0),b.scaleX=Math.sqrt(p.a*p.a+p.b*p.b),b.scaleY=Math.sqrt(p.c*p.c+p.d*p.d),b.x=p.tx,b.y=p.ty,ceramic_Transform._decomposed1.pivotX+=(ceramic_Transform._decomposed2.pivotX-ceramic_Transform._decomposed1.pivotX)*e,ceramic_Transform._decomposed1.pivotY+=(ceramic_Transform._decomposed2.pivotY-ceramic_Transform._decomposed1.pivotY)*e,ceramic_Transform._decomposed1.rotation+=(ceramic_Transform._decomposed2.rotation-ceramic_Transform._decomposed1.rotation)*e,ceramic_Transform._decomposed1.scaleX+=(ceramic_Transform._decomposed2.scaleX-ceramic_Transform._decomposed1.scaleX)*e,ceramic_Transform._decomposed1.scaleY+=(ceramic_Transform._decomposed2.scaleY-ceramic_Transform._decomposed1.scaleY)*e,ceramic_Transform._decomposed1.skewX+=(ceramic_Transform._decomposed2.skewX-ceramic_Transform._decomposed1.skewX)*e,ceramic_Transform._decomposed1.skewY+=(ceramic_Transform._decomposed2.skewY-ceramic_Transform._decomposed1.skewY)*e,ceramic_Transform._decomposed1.x+=(ceramic_Transform._decomposed2.x-ceramic_Transform._decomposed1.x)*e,ceramic_Transform._decomposed1.y+=(ceramic_Transform._decomposed2.y-ceramic_Transform._decomposed1.y)*e;var y=ceramic_Transform._decomposed1,g=y.x,O=y.y,x=y.scaleX,v=y.scaleY,m=y.rotation,w=y.skewX,C=y.skewY,T=y.pivotX,D=y.pivotY;if(null==D&&(D=0),null==T&&(T=0),null==C&&(C=0),null==w&&(w=0),null==m&&(m=0),null==v&&(v=1),null==x&&(x=1),null==O&&(O=0),null==g&&(g=0),t.a=1,t.b=0,t.c=0,t.d=1,t.tx=0,t.ty=0,t.changedDirty=!0,t.tx+=-T,t.ty+=-D,t.changedDirty=!0,0!=w&&(t.c=w*Math.PI/180),0!=C&&(t.b=C*Math.PI/180),0!=m){var E=m*Math.PI/180,A=Math.cos(E),S=Math.sin(E),M=t.a*A-t.b*S;t.b=t.a*S+t.b*A,t.a=M;var P=t.c*A-t.d*S;t.d=t.c*S+t.d*A,t.c=P;var F=t.tx*A-t.ty*S;t.ty=t.tx*S+t.ty*A,t.tx=F,t.changedDirty=!0}t.tx+=T,t.ty+=D,t.changedDirty=!0,1==x&&1==v||(t.a*=x,t.b*=v,t.c*=x,t.d*=v,t.tx*=x,t.ty*=v,t.changedDirty=!0),t.tx+=g-T*x,t.ty+=O-D*v,t.changedDirty=!0}}}))).onDestroy(this,(function(e){i.xTween==e&&(i.xTween=null),i.yTween==e&&(i.yTween=null),i.depthTween==e&&(i.depthTween=null),i.scaleXTween==e&&(i.scaleXTween=null),i.scaleYTween==e&&(i.scaleYTween=null),i.translateXTween==e&&(i.translateXTween=null),i.translateYTween==e&&(i.translateYTween=null),i.skewXTween==e&&(i.skewXTween=null),i.skewYTween==e&&(i.skewYTween=null),i.anchorXTween==e&&(i.anchorXTween=null),i.anchorYTween==e&&(i.anchorYTween=null),i.rotationTween==e&&(i.rotationTween=null),i.widthTween==e&&(i.widthTween=null),i.heightTween==e&&(i.heightTween=null),i.colorTween==e&&(i.colorTween=null),i.alphaTween==e&&(i.alphaTween=null),i.transformTween==e&&(i.transformTween=null)})),this.xChanged&&(this.xTween=U,this.xStart=s,this.xEnd=this.xTarget),this.yChanged&&(this.yTween=U,this.yStart=r,this.yEnd=this.yTarget),this.depthChanged&&(this.depthTween=U,this.depthStart=l,this.depthEnd=this.depthTarget),this.scaleXChanged&&(this.scaleXTween=U,this.scaleXStart=a,this.scaleXEnd=this.scaleXTarget),this.scaleYChanged&&(this.scaleYTween=U,this.scaleYStart=o,this.scaleYEnd=this.scaleYTarget),this.translateXChanged&&(this.translateXTween=U,this.translateXStart=h,this.translateXEnd=this.translateXTarget),this.translateYChanged&&(this.translateYTween=U,this.translateYStart=c,this.translateYEnd=this.translateYTarget),this.skewXChanged&&(this.skewXTween=U,this.skewXStart=u,this.skewXEnd=this.skewXTarget),this.skewYChanged&&(this.skewYTween=U,this.skewYStart=_,this.skewYEnd=this.skewYTarget),this.anchorXChanged&&(this.anchorXTween=U,this.anchorXStart=d,this.anchorXEnd=this.anchorXTarget),this.anchorYChanged&&(this.anchorYTween=U,this.anchorYStart=f,this.anchorYEnd=this.anchorYTarget),this.rotationChanged){this.rotationTween=U,this.rotationStart=ceramic_GeometryUtils.clampDegrees(p),this.rotationEnd=ceramic_GeometryUtils.clampDegrees(this.rotationTarget);var C=this.rotationEnd-this.rotationStart;C>180?this.rotationEnd-=360:C<-180&&(this.rotationEnd+=360)}if(this.widthChanged&&(this.widthTween=U,this.widthStart=b,this.widthEnd=this.widthTarget),this.heightChanged&&(this.heightTween=U,this.heightStart=y,this.heightEnd=this.heightTarget),this.colorChanged&&(this.colorTween=U,O||(O=!0,g=Reflect.getProperty(this.entity,"color")),this.colorStart=g,this.colorEnd=this.colorTarget),this.alphaChanged&&(this.alphaTween=U,this.alphaStart=m,this.alphaEnd=this.alphaTarget),this.transformChanged){if(this.transformTween=U,null!=x)null==this.transformStart&&(this.transformStart=ceramic_TransformPool.availableTransforms.length>0?ceramic_TransformPool.availableTransforms.pop():new ceramic_Transform),(T=this.transformStart).a=x.a,T.b=x.b,T.c=x.c,T.d=x.d,T.tx=x.tx,T.ty=x.ty,T.changedDirty=!0;else if(null!=this.transformStart){(T=this.transformStart).a=1,T.b=0,T.c=0,T.d=1,T.tx=0,T.ty=0,T.changedDirty=!0}if(null!=this.transformTarget){null==this.transformEnd&&(this.transformEnd=ceramic_TransformPool.availableTransforms.length>0?ceramic_TransformPool.availableTransforms.pop():new ceramic_Transform);var T=this.transformEnd;w=this.transformTarget;T.a=w.a,T.b=w.b,T.c=w.c,T.d=w.d,T.tx=w.tx,T.ty=w.ty,T.changedDirty=!0,this.transformEndToNull=!1}else if(null!=this.transformEnd){(T=this.transformEnd).a=1,T.b=0,T.c=0,T.d=1,T.tx=0,T.ty=0,T.changedDirty=!0,this.transformEndToNull=!0}}}else U=this.entity.tween(e,n,0,1,null);return U},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,null!=this.transformInTransition&&(ceramic_TransformPool.recycle(this.transformInTransition),this.transformInTransition=null),null!=this.transformStart&&(ceramic_TransformPool.recycle(this.transformStart),this.transformStart=null),null!=this.transformEnd&&(ceramic_TransformPool.recycle(this.transformEnd),this.transformEnd=null),this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this))},setEntity:function(e){this.entity=e instanceof ceramic_Visual?e:null},getEntity:function(){return this.entity},__class__:ceramic_VisualTransition});var U={__properties__:{set_transform:"set_transform",get_transform:"get_transform",set_alpha:"set_alpha",get_alpha:"get_alpha",set_color:"set_color",get_color:"get_color",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_rotation:"set_rotation",get_rotation:"get_rotation",set_anchorY:"set_anchorY",get_anchorY:"get_anchorY",set_anchorX:"set_anchorX",get_anchorX:"get_anchorX",set_skewY:"set_skewY",get_skewY:"get_skewY",set_skewX:"set_skewX",get_skewX:"get_skewX",set_translateY:"set_translateY",get_translateY:"get_translateY",set_translateX:"set_translateX",get_translateX:"get_translateX",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_depth:"set_depth",get_depth:"get_depth",set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x"},get_x:function(e){return e.xTarget},set_x:function(e,n){return null!=e.xTween&&n==e.xEnd||(e.anyPropertyChanged=!0,e.xChanged=!0),e.xTarget=n,n},get_y:function(e){return e.yTarget},set_y:function(e,n){return null!=e.yTween&&n==e.yEnd||(e.anyPropertyChanged=!0,e.yChanged=!0),e.yTarget=n,n},pos:function(e,n,t){null!=e.xTween&&n==e.xEnd||(e.anyPropertyChanged=!0,e.xChanged=!0),e.xTarget=n,null!=e.yTween&&t==e.yEnd||(e.anyPropertyChanged=!0,e.yChanged=!0),e.yTarget=t},get_depth:function(e){return e.depthTarget},set_depth:function(e,n){return null!=e.depthTween&&n==e.depthEnd||(e.anyPropertyChanged=!0,e.depthChanged=!0),e.depthTarget=n,n},get_scaleX:function(e){return e.scaleXTarget},set_scaleX:function(e,n){return null!=e.scaleXTween&&n==e.scaleXEnd||(e.anyPropertyChanged=!0,e.scaleXChanged=!0),e.scaleXTarget=n,n},get_scaleY:function(e){return e.scaleYTarget},set_scaleY:function(e,n){return null!=e.scaleYTween&&n==e.scaleYEnd||(e.anyPropertyChanged=!0,e.scaleYChanged=!0),e.scaleYTarget=n,n},scale:function(e,n,t){null==t&&(t=-1),null!=e.scaleXTween&&n==e.scaleXEnd||(e.anyPropertyChanged=!0,e.scaleXChanged=!0),e.scaleXTarget=n;var i=-1!=t?t:n;null!=e.scaleYTween&&i==e.scaleYEnd||(e.anyPropertyChanged=!0,e.scaleYChanged=!0),e.scaleYTarget=i},get_translateX:function(e){return e.translateXTarget},set_translateX:function(e,n){return null!=e.translateXTween&&n==e.translateXEnd||(e.anyPropertyChanged=!0,e.translateXChanged=!0),e.translateXTarget=n,n},get_translateY:function(e){return e.translateYTarget},set_translateY:function(e,n){return null!=e.translateYTween&&n==e.translateYEnd||(e.anyPropertyChanged=!0,e.translateYChanged=!0),e.translateYTarget=n,n},translate:function(e,n,t){null==t&&(t=-1),null!=e.translateXTween&&n==e.translateXEnd||(e.anyPropertyChanged=!0,e.translateXChanged=!0),e.translateXTarget=n;var i=-1!=t?t:n;null!=e.translateYTween&&i==e.translateYEnd||(e.anyPropertyChanged=!0,e.translateYChanged=!0),e.translateYTarget=i},get_skewX:function(e){return e.skewXTarget},set_skewX:function(e,n){return null!=e.skewXTween&&n==e.skewXEnd||(e.anyPropertyChanged=!0,e.skewXChanged=!0),e.skewXTarget=n,n},get_skewY:function(e){return e.skewYTarget},set_skewY:function(e,n){return null!=e.skewYTween&&n==e.skewYEnd||(e.anyPropertyChanged=!0,e.skewYChanged=!0),e.skewYTarget=n,n},skew:function(e,n,t){null!=e.skewXTween&&n==e.skewXEnd||(e.anyPropertyChanged=!0,e.skewXChanged=!0),e.skewXTarget=n,null!=e.skewYTween&&t==e.skewYEnd||(e.anyPropertyChanged=!0,e.skewYChanged=!0),e.skewYTarget=t},get_anchorX:function(e){return e.anchorXTarget},set_anchorX:function(e,n){return null!=e.anchorXTween&&n==e.anchorXEnd||(e.anyPropertyChanged=!0,e.anchorXChanged=!0),e.anchorXTarget=n,n},get_anchorY:function(e){return e.anchorYTarget},set_anchorY:function(e,n){return null!=e.anchorYTween&&n==e.anchorYEnd||(e.anyPropertyChanged=!0,e.anchorYChanged=!0),e.anchorYTarget=n,n},anchor:function(e,n,t){null!=e.anchorXTween&&n==e.anchorXEnd||(e.anyPropertyChanged=!0,e.anchorXChanged=!0),e.anchorXTarget=n,null!=e.anchorYTween&&t==e.anchorYEnd||(e.anyPropertyChanged=!0,e.anchorYChanged=!0),e.anchorYTarget=t},get_rotation:function(e){return e.rotationTarget},set_rotation:function(e,n){return null!=e.rotationTween&&n==e.rotationEnd||(e.anyPropertyChanged=!0,e.rotationChanged=!0),e.rotationTarget=n,n},get_width:function(e){return e.widthTarget},set_width:function(e,n){return null!=e.widthTween&&n==e.widthEnd||(e.anyPropertyChanged=!0,e.widthChanged=!0),e.widthTarget=n,n},get_height:function(e){return e.heightTarget},set_height:function(e,n){return null!=e.heightTween&&n==e.heightEnd||(e.anyPropertyChanged=!0,e.heightChanged=!0),e.heightTarget=n,n},size:function(e,n,t){null!=e.widthTween&&n==e.widthEnd||(e.anyPropertyChanged=!0,e.widthChanged=!0),e.widthTarget=n,null!=e.heightTween&&t==e.heightEnd||(e.anyPropertyChanged=!0,e.heightChanged=!0),e.heightTarget=t},get_color:function(e){return e.colorTarget},set_color:function(e,n){return null!=e.colorTween&&n==e.colorEnd||(e.anyPropertyChanged=!0,e.colorChanged=!0),e.colorTarget=n,n},get_alpha:function(e){return e.alphaTarget},set_alpha:function(e,n){return null!=e.alphaTween&&n==e.alphaEnd||(e.anyPropertyChanged=!0,e.alphaChanged=!0),e.alphaTarget=n,n},get_transform:function(e){return e.transformTarget},set_transform:function(e,n){return e.anyPropertyChanged=!0,e.transformChanged=!0,e.transformAssigned=!0,e.transformAssignedInstance=n,e.transformTarget=n,n}},ceramic_WatchDirectory=function(e){null==e&&(e=1),this.chokidarWatchers=null,this.chokidarUpdatedFilesByWatchedDirectory=null,this.startingToWatchDirectories=null,this.watchedDirectories=null,ceramic_Entity.call(this),ceramic_WatchDirectory.didTryRequireChokidar||(ceramic_WatchDirectory.didTryRequireChokidar=!0,ceramic_WatchDirectory.fs=ceramic_PlatformSpecific.nodeRequire("fs"),null!=ceramic_WatchDirectory.fs&&(ceramic_WatchDirectory.chokidar=ceramic_PlatformSpecific.nodeRequire("chokidar"))),this.updateInterval=e,ceramic_Timer.schedule(this,e,$bind(this,this.tick),e)};t["ceramic.WatchDirectory"]=ceramic_WatchDirectory,ceramic_WatchDirectory.__name__="ceramic.WatchDirectory",ceramic_WatchDirectory.__super__=ceramic_Entity,ceramic_WatchDirectory.prototype=$extend(ceramic_Entity.prototype,{emitDirectoryChange:function(e,n,t){var i=0;if(null!=this.__cbOnDirectoryChange&&(i+=this.__cbOnDirectoryChange.length),null!=this.__cbOnceDirectoryChange&&(i+=this.__cbOnceDirectoryChange.length),i>0){var s=ceramic_ArrayPool.pool(i),r=s.get(),l=0;if(null!=this.__cbOnDirectoryChange)for(var a=0,o=this.__cbOnDirectoryChange.length;a<o;){var h=a++;!0?(r.vector[l]=this.__cbOnDirectoryChange[h],++l):--i}if(null!=this.__cbOnceDirectoryChange){var c=null,u=null;for(a=0,o=this.__cbOnceDirectoryChange.length;a<o;){h=a++;if(!0){r.vector[l]=this.__cbOnceDirectoryChange[h],this.__cbOnceDirectoryChange[h]=null;var _=this.__cbOnceOwnerUnbindDirectoryChange[h];this.__cbOnceOwnerUnbindDirectoryChange[h]=null,null!=_&&_(),++l}else--i,null==c&&(c=[],u=[],[]),c.push(this.__cbOnceOwnerUnbindDirectoryChange[h]),u.push(this.__cbOnceDirectoryChange[h])}this.__cbOnceOwnerUnbindDirectoryChange=c,this.__cbOnceDirectoryChange=u}for(a=0,o=i;a<o;){l=a++;(0,r.vector[l])(e,n,t)}s.release(r),r=null}},onDirectoryChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event directoryChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDirectoryChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindDirectoryChange&&(this.__cbOnOwnerUnbindDirectoryChange=[]),this.__cbOnOwnerUnbindDirectoryChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindDirectoryChange&&(this.__cbOnOwnerUnbindDirectoryChange=[]),this.__cbOnOwnerUnbindDirectoryChange.push(null);null==this.__cbOnDirectoryChange&&(this.__cbOnDirectoryChange=[]),this.__cbOnDirectoryChange.push(n)},onceDirectoryChange:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event directoryChange because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offDirectoryChange(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindDirectoryChange&&(this.__cbOnceOwnerUnbindDirectoryChange=[]),this.__cbOnceOwnerUnbindDirectoryChange.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindDirectoryChange&&(this.__cbOnceOwnerUnbindDirectoryChange=[]),this.__cbOnceOwnerUnbindDirectoryChange.push(null);null==this.__cbOnceDirectoryChange&&(this.__cbOnceDirectoryChange=[]),this.__cbOnceDirectoryChange.push(n)},offDirectoryChange:function(e){if(null!=e){var n;null!=this.__cbOnDirectoryChange&&-1!=(n=this.__cbOnDirectoryChange.indexOf(e))&&(this.__cbOnDirectoryChange.splice(n,1),null!=(r=this.__cbOnOwnerUnbindDirectoryChange[n])&&r(),this.__cbOnOwnerUnbindDirectoryChange.splice(n,1)),null!=this.__cbOnceDirectoryChange&&-1!=(n=this.__cbOnceDirectoryChange.indexOf(e))&&(this.__cbOnceDirectoryChange.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindDirectoryChange[n])&&r(),this.__cbOnceOwnerUnbindDirectoryChange.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindDirectoryChange){for(var t=0,i=this.__cbOnOwnerUnbindDirectoryChange.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindDirectoryChange[s])&&r()}this.__cbOnOwnerUnbindDirectoryChange=null}if(null!=this.__cbOnceOwnerUnbindDirectoryChange){for(t=0,i=this.__cbOnceOwnerUnbindDirectoryChange.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindDirectoryChange[s])&&r()}this.__cbOnceOwnerUnbindDirectoryChange=null}this.__cbOnDirectoryChange=null,this.__cbOnceDirectoryChange=null}},listensDirectoryChange:function(){return null!=this.__cbOnDirectoryChange&&this.__cbOnDirectoryChange.length>0||null!=this.__cbOnceDirectoryChange&&this.__cbOnceDirectoryChange.length>0},watchDirectory:function(e){var n=this;null==this.watchedDirectories&&(this.watchedDirectories=new haxe_ds_StringMap),null==this.startingToWatchDirectories&&(this.startingToWatchDirectories=new haxe_ds_StringMap),this.startingToWatchDirectories.h[e]=!0,ceramic_Runner.runInBackground((function(){var t=n.computeFilesModificationTime(e);ceramic_Runner.runInMain((function(){if(Object.prototype.hasOwnProperty.call(n.startingToWatchDirectories.h,e)){var i=n.startingToWatchDirectories;Object.prototype.hasOwnProperty.call(i.h,e)&&delete i.h[e],n.watchedDirectories.h[e]=t,null!=ceramic_WatchDirectory.chokidar&&(null==n.chokidarUpdatedFilesByWatchedDirectory&&(n.chokidarUpdatedFilesByWatchedDirectory=new haxe_ds_StringMap),n.chokidarUpdatedFilesByWatchedDirectory.h[e]=[],n.watchWithChokidar(e))}}))}))},watchWithChokidar:function(e){var n=this,t=ceramic_WatchDirectory.chokidar.watch(".",{ignoreInitial:!0,disableGlobbing:!0,cwd:e});null==this.chokidarWatchers&&(this.chokidarWatchers=new haxe_ds_StringMap),Object.prototype.hasOwnProperty.call(this.chokidarWatchers.h,e)&&this.chokidarWatchers.h[e].close(),this.chokidarWatchers.h[e]=t,t.on("add",(function(t){var i=ceramic_WatchDirectory.fs.statSync(ceramic_Path.join([e,t]));i.isDirectory()||n.chokidarUpdatedFilesByWatchedDirectory.h[e].push({status:0,lastModified:i.mtime.getTime()/1e3,name:t})})),t.on("change",(function(t){var i=ceramic_WatchDirectory.fs.statSync(ceramic_Path.join([e,t]));i.isDirectory()||n.chokidarUpdatedFilesByWatchedDirectory.h[e].push({status:1,lastModified:i.mtime.getTime()/1e3,name:t})})),t.on("unlink",(function(t){n.chokidarUpdatedFilesByWatchedDirectory.h[e].push({status:2,lastModified:-1,name:t})}))},stopWatchingDirectory:function(e){if(null!=this.chokidarWatchers&&Object.prototype.hasOwnProperty.call(this.chokidarWatchers.h,e)){this.chokidarWatchers.h[e].close();var n=this.chokidarWatchers;Object.prototype.hasOwnProperty.call(n.h,e)&&delete n.h[e]}if(null==this.watchedDirectories&&Object.prototype.hasOwnProperty.call(this.watchedDirectories.h,e)){n=this.watchedDirectories;if(Object.prototype.hasOwnProperty.call(n.h,e)&&delete n.h[e],null!=this.startingToWatchDirectories&&Object.prototype.hasOwnProperty.call(this.startingToWatchDirectories.h,e)){n=this.startingToWatchDirectories;Object.prototype.hasOwnProperty.call(n.h,e)&&delete n.h[e]}return!0}if(null!=this.startingToWatchDirectories&&Object.prototype.hasOwnProperty.call(this.startingToWatchDirectories.h,e)){n=this.startingToWatchDirectories;return Object.prototype.hasOwnProperty.call(n.h,e)&&delete n.h[e],!0}return!1},tick:function(){if(null!=this.watchedDirectories){for(var e=[],n=this.watchedDirectories.h,t=Object.keys(n),i=t.length,s=0;s<i;){var r=t[s++];e.push(r)}for(var l=0;l<e.length;){r=e[l];++l,this.checkWatchedDirectory(r)}}},checkWatchedDirectory:function(e){var n=this;if(null!=ceramic_WatchDirectory.chokidar){if(Object.prototype.hasOwnProperty.call(this.chokidarUpdatedFilesByWatchedDirectory.h,e)){var t=this.chokidarUpdatedFilesByWatchedDirectory.h[e];if(t.length>0){for(var i=this.watchedDirectories.h[e],s=new haxe_ds_StringMap,r=i.h,l=r,a=Object.keys(r),o=a.length,h=0;h<o;){var c=f=a[h++],u=l[f];s.h[c]=u}for(var _=0;_<t.length;){var d=t[_];switch(++_,d.status){case 0:case 1:s.h[d.name]=d.lastModified;break;case 2:var f=d.name;Object.prototype.hasOwnProperty.call(s.h,f)&&delete s.h[f]}}Object.prototype.hasOwnProperty.call(this.watchedDirectories.h,e)&&(this.watchedDirectories.h[e]=s,this.emitDirectoryChange(e,s,i)),t.splice(0,t.length)}}}else{i=this.watchedDirectories.h[e];ceramic_Runner.runInBackground((function(){for(var t=n.computeFilesModificationTime(e),s=!1,r=c=t.h,l=(u=Object.keys(c)).length,a=0;a<l;){var o=_=u[a++],h=r[_];if(!Object.prototype.hasOwnProperty.call(i.h,o)){s=!0;break}if(h>i.h[o]){s=!0;break}}if(!s){var c,u;for(r=c=i.h,l=(u=Object.keys(c)).length,a=0;a<l;){var _;o=_=u[a++],h=r[_];if(!Object.prototype.hasOwnProperty.call(t.h,o)){s=!0;break}}}s&&ceramic_Runner.runInMain((function(){Object.prototype.hasOwnProperty.call(n.watchedDirectories.h,e)&&(n.watchedDirectories.h[e]=t,n.emitDirectoryChange(e,t,i))}))}))}},computeFilesModificationTime:function(e){for(var n=new haxe_ds_StringMap,t=0,i=ceramic_Files.getFlatDirectory(e);t<i.length;){var s=i[t];++t;var r=ceramic_Files.getLastModified(ceramic_Path.join([e,s]));n.h[s]=r}return n},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offDirectoryChange()},__class__:ceramic_WatchDirectory});var ceramic_macros_DefinesMacro=function(){};t["ceramic.macros.DefinesMacro"]=ceramic_macros_DefinesMacro,ceramic_macros_DefinesMacro.__name__="ceramic.macros.DefinesMacro",ceramic_macros_DefinesMacro._stringToBool=function(e){return null!=e&&("true"==(e=e.toLowerCase())||"1"==e)};var ceramic_macros_EnumAbstractMacro=function(){};t["ceramic.macros.EnumAbstractMacro"]=ceramic_macros_EnumAbstractMacro,ceramic_macros_EnumAbstractMacro.__name__="ceramic.macros.EnumAbstractMacro";var ceramic_macros_PluginsMacro=function(){};t["ceramic.macros.PluginsMacro"]=ceramic_macros_PluginsMacro,ceramic_macros_PluginsMacro.__name__="ceramic.macros.PluginsMacro";var clay_BackgroundQueue=function(e){null==e&&(e=.05),this.pending=[],this.stop=!1,this.runsInBackground=!1,this.checkInterval=e};t["clay.BackgroundQueue"]=clay_BackgroundQueue,clay_BackgroundQueue.__name__="clay.BackgroundQueue",clay_BackgroundQueue.prototype={schedule:function(e){ceramic_App.app._onceImmediate(e)},destroy:function(){this.stop=!0},__class__:clay_BackgroundQueue};var clay_Clay=function(e,n){this.windowInBackground=!1,this.ready=!1,this.freeze=!1,this.nextTick=0,this.immediateShutdown=!1,this.timestamp=-1,this.hasShutdown=!1,this.shuttingDown=!1,clay_Clay.app=this,clay_Runner.init(),this.extractAppId(),this.config=this.defaultConfig(),e(this.config),this.events=n,this.io=new clay_web_WebIO(this),clay_Immediate.flush(),this.assets=new clay_web_WebAssets(this),clay_Immediate.flush(),this.audio=new clay_web_WebAudio(this),clay_Immediate.flush(),this.input=new clay_Input(this),clay_Immediate.flush(),this.runtime=new clay_web_WebRuntime(this),clay_Immediate.flush(),this.backgroundQueue=new clay_BackgroundQueue,this.init()};t["clay.Clay"]=clay_Clay,clay_Clay.__name__="clay.Clay",clay_Clay.prototype={set_freeze:function(e){return this.freeze=e,e?(this.events.freeze(),this.audio.suspend()):(this.events.unfreeze(),this.audio.resume()),e},init:function(){clay_Log.debug("Clay / init",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/Clay.hx",lineNumber:160,className:"clay.Clay",methodName:"init"}),this.io.init(),clay_Immediate.flush(),this.audio.init(),clay_Immediate.flush(),this.input.init(),clay_Immediate.flush(),this.runtime.init(),clay_Immediate.flush(),clay_Log.debug("Clay / ready",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/Clay.hx",lineNumber:174,className:"clay.Clay",methodName:"init"}),this.runtime.ready(),clay_Immediate.flush(),this.audio.ready(),clay_Immediate.flush(),this.timestamp=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,this.ready=!0,this.nextTick=this.timestamp,this.updateScreen(),this.events.ready(),!this.runtime.run()||this.hasShutdown||this.shuttingDown||this.shutdown()},shutdown:function(){if(this.shuttingDown)clay_Log.debug("Clay / shutdown() called again, already shutting down - ignoring",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/Clay.hx",lineNumber:199,className:"clay.Clay",methodName:"shutdown"});else{if(this.hasShutdown)throw haxe_Exception.thrown("Clay / calling shutdown() more than once is disallowed");this.shuttingDown=!0,this.io.shutdown(),this.audio.shutdown(),this.input.shutdown(),this.runtime.shutdown(this.immediateShutdown),clay_Log.debug("Clay / shutdown",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/Clay.hx",lineNumber:215,className:"clay.Clay",methodName:"shutdown"}),this.hasShutdown=!0}},emitQuit:function(){this.shutdown()},shouldUpdate:function(e){if(this.config.updateRate>0){if(e<this.nextTick)return!1;for(;this.nextTick<=e;)this.nextTick+=this.config.updateRate}else this.nextTick=e;return!0},emitTick:function(e){if(!this.freeze&&(clay_Runner.tick(),clay_Immediate.flush(),this.updateScreen(),!this.shuttingDown&&this.ready)){var n=e-this.timestamp;this.timestamp=e,this.audio.tick(n),this.events.tick(n)}},emitRender:function(){this.freeze||!this.shuttingDown&&this.ready&&this.events.render()},emitWindowEvent:function(e,n,t,i,s){this.events.windowEvent(e,n,t,i,s)},emitAppEvent:function(e){this.events.appEvent(e)},extractAppId:function(){var e='"ceramic-webdemo-1"';StringTools.startsWith(e,'"')?this.appId=JSON.parse(e):this.appId=e},defaultConfig:function(){var e=clay_web_WebRuntime.defaultConfig();return new clay_Config(this.defaultWindowConfig(),this.defaultRenderConfig(),e,null)},defaultWindowConfig:function(){return new clay_WindowConfig(!1,!1,!0,!1,536805376,536805376,960,640,"clay app",!1,.06666666666666667)},defaultRenderConfig:function(){return new clay_RenderConfig(0,0,0,8,8,8,8,new clay_graphics_Color(0,0,0,1),new clay_RenderConfigWebGL(1,null,null,null,null,null,null,null,null))},defaultRuntimeConfig:function(){return new clay_web_WebConfig(null,null,null,null,null,null,null)},copyWindowConfig:function(e){return new clay_WindowConfig(e.fullscreen,e.trueFullscreen,e.resizable,e.borderless,e.x,e.y,e.width,e.height,""+e.title,e.noInput,e.backgroundSleep)},copyRenderConfig:function(e){return new clay_RenderConfig(e.depth,e.stencil,e.antialiasing,e.redBits,e.greenBits,e.blueBits,e.alphaBits,new clay_graphics_Color(e.defaultClear.r,e.defaultClear.g,e.defaultClear.b,e.defaultClear.a),new clay_RenderConfigWebGL(e.webgl.version,null,null,null,null,null,null,null,null))},updateScreen:function(){this.screenDensity=clay_Clay.app.runtime.windowDevicePixelRatio();var e=clay_Clay.app.runtime;this.screenWidth=Math.round(Math.round(e.windowW*e.windowDevicePixelRatio())/this.screenDensity);e=clay_Clay.app.runtime;this.screenHeight=Math.round(Math.round(e.windowH*e.windowDevicePixelRatio())/this.screenDensity)},__class__:clay_Clay,__properties__:{set_freeze:"set_freeze"}};var clay_RenderConfig=function(e,n,t,i,s,r,l,a,o){this.webgl=null,this.defaultClear=new clay_graphics_Color(0,0,0,1),this.alphaBits=8,this.blueBits=8,this.greenBits=8,this.redBits=8,this.antialiasing=0,this.stencil=0,this.depth=0,null!=e&&(this.depth=e),null!=n&&(this.stencil=n),null!=t&&(this.antialiasing=t),null!=i&&(this.redBits=i),null!=s&&(this.greenBits=s),null!=r&&(this.blueBits=r),null!=l&&(this.alphaBits=l),null!=a&&(this.defaultClear=a),null!=o&&(this.webgl=o)};t["clay.RenderConfig"]=clay_RenderConfig,clay_RenderConfig.__name__="clay.RenderConfig",clay_RenderConfig.prototype={__class__:clay_RenderConfig};var clay_RenderConfigWebGL=function(e,n,t,i,s,r,l,a,o){this.failIfMajorPerformanceCaveat=!1,this.preferLowPowerToHighPerformance=!1,this.preserveDrawingBuffer=!1,this.premultipliedAlpha=!1,this.antialias=!0,this.stencil=!1,this.depth=!0,this.alpha=!1,this.version=1,null!=e&&(this.version=e),null!=n&&(this.alpha=n),null!=t&&(this.depth=t),null!=i&&(this.stencil=i),null!=s&&(this.antialias=s),null!=r&&(this.premultipliedAlpha=r),null!=l&&(this.preserveDrawingBuffer=l),null!=a&&(this.preferLowPowerToHighPerformance=a),null!=o&&(this.failIfMajorPerformanceCaveat=o)};t["clay.RenderConfigWebGL"]=clay_RenderConfigWebGL,clay_RenderConfigWebGL.__name__="clay.RenderConfigWebGL",clay_RenderConfigWebGL.prototype={__class__:clay_RenderConfigWebGL};var clay_WindowConfig=function(e,n,t,i,s,r,l,a,o,h,c){this.backgroundSleep=.06666666666666667,this.noInput=!1,this.title=null,this.height=640,this.width=960,this.y=0,this.x=0,this.borderless=!1,this.resizable=!0,this.trueFullscreen=!1,this.fullscreen=!1,null!=e&&(this.fullscreen=e),null!=n&&(this.trueFullscreen=n),null!=t&&(this.resizable=t),null!=i&&(this.borderless=i),null!=s&&(this.x=s),null!=r&&(this.y=r),null!=l&&(this.width=l),null!=a&&(this.height=a),null!=o&&(this.title=o),null!=h&&(this.noInput=h),null!=c&&(this.backgroundSleep=c)};t["clay.WindowConfig"]=clay_WindowConfig,clay_WindowConfig.__name__="clay.WindowConfig",clay_WindowConfig.prototype={__class__:clay_WindowConfig};var clay_Config=function(e,n,t,i){this.updateRate=0,this.runtime=null,this.render=null,this.window=null,null!=e&&(this.window=e),null!=n&&(this.render=n),null!=t&&(this.runtime=t),null!=i&&(this.updateRate=i)};t["clay.Config"]=clay_Config,clay_Config.__name__="clay.Config",clay_Config.prototype={__class__:clay_Config};var clay_Extensions=function(){};t["clay.Extensions"]=clay_Extensions,clay_Extensions.__name__="clay.Extensions",clay_Extensions.unsafeGet=function(e,n){return e[n]},clay_Extensions.unsafeSet=function(e,n,t){e[n]=t};var clay_Image=function(e,n,t,i,s,r,l){this.pixels=null,this.sourceBitsPerPixel=4,this.bitsPerPixel=4,this.heightActual=0,this.widthActual=0,this.height=0,this.width=0,null!=e&&(this.width=e),null!=n&&(this.height=n),null!=t&&(this.widthActual=t),null!=i&&(this.heightActual=i),null!=s&&(this.bitsPerPixel=s),null!=r&&(this.sourceBitsPerPixel=r),null!=l&&(this.pixels=l)};t["clay.Image"]=clay_Image,clay_Image.__name__="clay.Image",clay_Image.prototype={premultiplyAlpha:function(){4==this.bitsPerPixel?clay_PremultiplyAlpha.premultiplyAlpha(this.pixels):clay_Log.warning("Can only premultiply alpha on images with 4 bits per pixels (RGBA)",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/Image.hx",lineNumber:29,className:"clay.Image",methodName:"premultiplyAlpha"})},reversePremultiplyAlpha:function(){4==this.bitsPerPixel?clay_PremultiplyAlpha.reversePremultiplyAlpha(this.pixels):clay_Log.warning("Can only reverse premultiply alpha on images with 4 bits per pixels (RGBA)",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/Image.hx",lineNumber:40,className:"clay.Image",methodName:"reversePremultiplyAlpha"})},__class__:clay_Image};var clay_Immediate=function(){};t["clay.Immediate"]=clay_Immediate,clay_Immediate.__name__="clay.Immediate",clay_Immediate.push=function(e){if(null==e)throw haxe_Exception.thrown("Immediate callback should not be null!");clay_Immediate.immediateCallbacksLen<clay_Immediate.immediateCallbacksCapacity?(clay_Immediate.immediateCallbacks[clay_Immediate.immediateCallbacksLen]=e,clay_Immediate.immediateCallbacksLen++):(clay_Immediate.immediateCallbacks[clay_Immediate.immediateCallbacksLen++]=e,clay_Immediate.immediateCallbacksCapacity++)},clay_Immediate.flush=function(){for(var e=!1;clay_Immediate.immediateCallbacksLen>0;){e=!0;var n=ceramic_ArrayPool.pool(clay_Immediate.immediateCallbacksLen),t=n.get(),i=clay_Immediate.immediateCallbacksLen;clay_Immediate.immediateCallbacksLen=0;for(var s=0,r=i;s<r;){var l=s++;t.vector[l]=clay_Immediate.immediateCallbacks[l],clay_Immediate.immediateCallbacks[l]=null}for(var a=0,o=i;a<o;){var h=a++;(0,t.vector[h])()}n.release(t)}return e};var clay_Input=function(e){this.app=e,this.modState=new clay_ModState,this.modState.none=!0};t["clay.Input"]=clay_Input,clay_Input.__name__="clay.Input",clay_Input.prototype={init:function(){},shutdown:function(){},emitKeyDown:function(e,n,t,i,s,r){this.app.events.keyDown(e,n,t,i,s,r)},emitKeyUp:function(e,n,t,i,s,r){this.app.events.keyUp(e,n,t,i,s,r)},emitText:function(e,n,t,i,s,r){this.app.events.text(e,n,t,i,s,r)},emitMouseMove:function(e,n,t,i,s,r){this.app.events.mouseMove(e,n,t,i,s,r)},emitMouseDown:function(e,n,t,i,s){this.app.events.mouseDown(e,n,t,i,s)},emitMouseUp:function(e,n,t,i,s){this.app.events.mouseUp(e,n,t,i,s)},emitMouseWheel:function(e,n,t,i){this.app.events.mouseWheel(e,n,t,i)},emitTouchDown:function(e,n,t,i,s,r){this.app.events.touchDown(e,n,t,i,s,r)},emitTouchUp:function(e,n,t,i,s,r){this.app.events.touchUp(e,n,t,i,s,r)},emitTouchMove:function(e,n,t,i,s,r){this.app.events.touchMove(e,n,t,i,s,r)},emitGamepadAxis:function(e,n,t,i){this.app.events.gamepadAxis(e,n,t,i)},emitGamepadDown:function(e,n,t,i){this.app.events.gamepadDown(e,n,t,i)},emitGamepadUp:function(e,n,t,i){this.app.events.gamepadUp(e,n,t,i)},emitGamepadGyro:function(e,n,t,i,s){this.app.events.gamepadGyro(e,n,t,i,s)},emitGamepadDevice:function(e,n,t,i){this.app.events.gamepadDevice(e,n,t,i)},__class__:clay_Input};var C={$name:function(e){if(0!=(e&T.MASK))return T.$name(e&~T.MASK);switch(e){case 8:return T.$name(42);case 9:return T.$name(43);case 13:return T.$name(40);case 27:return T.$name(41);case 32:return T.$name(44);case 97:return T.$name(4);case 98:return T.$name(5);case 99:return T.$name(6);case 100:return T.$name(7);case 101:return T.$name(8);case 102:return T.$name(9);case 103:return T.$name(10);case 104:return T.$name(11);case 105:return T.$name(12);case 106:return T.$name(13);case 107:return T.$name(14);case 108:return T.$name(15);case 109:return T.$name(16);case 110:return T.$name(17);case 111:return T.$name(18);case 112:return T.$name(19);case 113:return T.$name(20);case 114:return T.$name(21);case 115:return T.$name(22);case 116:return T.$name(23);case 117:return T.$name(24);case 118:return T.$name(25);case 119:return T.$name(26);case 120:return T.$name(27);case 121:return T.$name(28);case 122:return T.$name(29);case 127:return T.$name(76);default:return String.fromCodePoint(e)}},toScanCode:function(e){if(0!=(e&T.MASK))return e&~T.MASK;switch(e){case 8:return 42;case 9:return 43;case 13:return 40;case 27:return 41;case 32:return 44;case 47:return 56;case 48:return 39;case 49:return 30;case 50:return 31;case 51:return 32;case 52:return 33;case 53:return 34;case 54:return 35;case 55:return 36;case 56:return 37;case 57:return 38;case 59:return 51;case 61:return 46;case 91:return 47;case 92:return 49;case 93:return 48;case 96:return 53;case 97:return 4;case 98:return 5;case 99:return 6;case 100:return 7;case 101:return 8;case 102:return 9;case 103:return 10;case 104:return 11;case 105:return 12;case 106:return 13;case 107:return 14;case 108:return 15;case 109:return 16;case 110:return 17;case 111:return 18;case 112:return 19;case 113:return 20;case 114:return 21;case 115:return 22;case 116:return 23;case 117:return 24;case 118:return 25;case 119:return 26;case 120:return 27;case 121:return 28;case 122:return 29}return 0},toString:function(e){return"KeyCode("+e+" "+C.$name(e)+")"}},clay_Log=function(){};t["clay.Log"]=clay_Log,clay_Log.__name__="clay.Log",clay_Log.debug=function(e,n){},clay_Log.info=function(e,n){haxe_Log.trace("[info] "+e,n)},clay_Log.warning=function(e,n){haxe_Log.trace("[warning] "+e,n)},clay_Log.error=function(e,n){haxe_Log.trace("[error] "+e,n)},clay_Log.success=function(e,n){haxe_Log.trace("[success] "+e,n)};var clay_Macros=function(){};t["clay.Macros"]=clay_Macros,clay_Macros.__name__="clay.Macros";var clay_PremultiplyAlpha=function(){};t["clay.PremultiplyAlpha"]=clay_PremultiplyAlpha,clay_PremultiplyAlpha.__name__="clay.PremultiplyAlpha",clay_PremultiplyAlpha.premultiplyAlpha=function(e){for(var n=e.length,t=0;t<n;){var i=e[t],s=e[t+1],r=e[t+2],l=e[t+3]/255;e[t]=i*l|0,e[t+1]=s*l|0,e[t+2]=r*l|0,t+=4}},clay_PremultiplyAlpha.reversePremultiplyAlpha=function(e){for(var n=e.length,t=0;t<n;){var i=e[t],s=e[t+1],r=e[t+2],l=e[t+3]/255;l>0&&(e[t]=i/l|0,e[t+1]=s/l|0,e[t+2]=r/l|0),t+=4}};var clay_Runner=function(){};t["clay.Runner"]=clay_Runner,clay_Runner.__name__="clay.Runner",clay_Runner.currentIsMainThread=function(){return!0},clay_Runner.init=function(){},clay_Runner.tick=function(){},clay_Runner.isEmulatingBackgroundWithMain=function(){return!0},clay_Runner.runInMain=function(e){clay_Immediate.push(e)},clay_Runner.runInBackground=function(e){clay_Immediate.push(e)};var T={$name:function(e){var n=null;return e>=0&&e<T.scanCodeNames.length&&(n=T.scanCodeNames[e]),null!=n?n:""},toString:function(e){return"ScanCode("+e+" "+T.$name(e)+")"}},D={toString:function(e){switch(e){case 0:return"UNKNOWN";case 1:return"DEVICE_ADDED";case 2:return"DEVICE_REMOVED";case 3:return"DEVICE_REMAPPED";default:return""+e}}},clay_ModState=function(){this.meta=!1,this.alt=!1,this.shift=!1,this.ctrl=!1,this.mode=!1,this.caps=!1,this.num=!1,this.rmeta=!1,this.lmeta=!1,this.ralt=!1,this.lalt=!1,this.rctrl=!1,this.lctrl=!1,this.rshift=!1,this.lshift=!1,this.none=!1};t["clay.ModState"]=clay_ModState,clay_ModState.__name__="clay.ModState",clay_ModState.prototype={toString:function(){var e='{ "ModState":true ';return this.none?e+', "none":true }':(this.lshift&&(e+=', "lshift":true'),this.rshift&&(e+=', "rshift":true'),this.lctrl&&(e+=', "lctrl":true'),this.rctrl&&(e+=', "rctrl":true'),this.lalt&&(e+=', "lalt":true'),this.ralt&&(e+=', "ralt":true'),this.lmeta&&(e+=', "lmeta":true'),this.rmeta&&(e+=', "rmeta":true'),this.num&&(e+=', "num":true'),this.caps&&(e+=', "caps":true'),this.mode&&(e+=', "mode":true'),this.ctrl&&(e+=', "ctrl":true'),this.shift&&(e+=', "shift":true'),this.alt&&(e+=', "alt":true'),this.meta&&(e+=', "meta":true'),e+="}")},__class__:clay_ModState};var E={toString:function(e){switch(e){case 0:return"UNKNOWN";case 1:return"EDIT";case 2:return"INPUT";default:return""+e}}},A={toString:function(e){switch(e){case 0:return"UNKNOWN";case 1:return"SHOWN";case 2:return"HIDDEN";case 3:return"EXPOSED";case 4:return"MOVED";case 5:return"RESIZED";case 6:return"SIZE_CHANGED";case 7:return"MINIMIZED";case 8:return"MAXIMIZED";case 9:return"RESTORED";case 10:return"ENTER";case 11:return"LEAVE";case 12:return"FOCUS_GAINED";case 13:return"FOCUS_LOST";case 14:return"CLOSE";case 15:return"ENTER_FULLSCREEN";case 16:return"EXIT_FULLSCREEN";default:return""+e}}},S={toString:function(e){switch(e){case 0:return"UNKNOWN";case 11:return"TERMINATING";case 12:return"LOW_MEMORY";case 13:return"WILL_ENTER_BACKGROUND";case 14:return"DID_ENTER_BACKGROUND";case 15:return"WILL_ENTER_FOREGROUND";case 16:return"DID_ENTER_FOREGROUND";default:return""+e}}},clay_Utils=function(){};t["clay.Utils"]=clay_Utils,clay_Utils.__name__="clay.Utils",clay_Utils.uniqueId=function(){switch(clay_Utils._nextUniqueIntCursor){case 0:clay_Utils._nextUniqueInt0=(clay_Utils._nextUniqueInt0+1)%2147483647;break;case 1:clay_Utils._nextUniqueInt1=(clay_Utils._nextUniqueInt1+1)%2147483647;break;case 2:clay_Utils._nextUniqueInt2=(clay_Utils._nextUniqueInt2+1)%2147483647;break;case 3:clay_Utils._nextUniqueInt3=(clay_Utils._nextUniqueInt3+1)%2147483647}clay_Utils._nextUniqueIntCursor=(clay_Utils._nextUniqueIntCursor+1)%4,null==(c=clay_Utils._nextUniqueInt0)&&(c=2147483646*Math.random()|0);var e,n=c%62|0;if((u=c/62|0)>0){null==(c=u)&&(c=2147483646*Math.random()|0);var t=c%62|0;if((u=c/62|0)>0){var i=clay_Utils.base62Id(u);if(t>9)(f=t-10+65)>90&&(f+=6),r=String.fromCodePoint(f);else r=Std.string(t).charAt(0);s=i+r}else{if(t>9)(f=t-10+65)>90&&(f+=6),i=String.fromCodePoint(f);else i=Std.string(t).charAt(0);s=Std.string(i)}if(n>9)(f=n-10+65)>90&&(f+=6),i=String.fromCodePoint(f);else i=Std.string(n).charAt(0);e=s+i}else{if(n>9)(f=n-10+65)>90&&(f+=6),s=String.fromCodePoint(f);else s=Std.string(n).charAt(0);e=Std.string(s)}null==(c=null)&&(c=2147483646*Math.random()|0);var s;n=c%62|0;if((u=c/62|0)>0){null==(c=u)&&(c=2147483646*Math.random()|0);t=c%62|0;if((u=c/62|0)>0){var r=clay_Utils.base62Id(u);if(t>9)(f=t-10+65)>90&&(f+=6),l=String.fromCodePoint(f);else l=Std.string(t).charAt(0);i=r+l}else{if(t>9)(f=t-10+65)>90&&(f+=6),r=String.fromCodePoint(f);else r=Std.string(t).charAt(0);i=Std.string(r)}if(n>9)(f=n-10+65)>90&&(f+=6),r=String.fromCodePoint(f);else r=Std.string(n).charAt(0);s=i+r}else{if(n>9)(f=n-10+65)>90&&(f+=6),i=String.fromCodePoint(f);else i=Std.string(n).charAt(0);s=Std.string(i)}null==(c=clay_Utils._nextUniqueInt1)&&(c=2147483646*Math.random()|0);n=c%62|0;if((u=c/62|0)>0){null==(c=u)&&(c=2147483646*Math.random()|0);t=c%62|0;if((u=c/62|0)>0){var l=clay_Utils.base62Id(u);if(t>9)(f=t-10+65)>90&&(f+=6),a=String.fromCodePoint(f);else a=Std.string(t).charAt(0);r=l+a}else{if(t>9)(f=t-10+65)>90&&(f+=6),l=String.fromCodePoint(f);else l=Std.string(t).charAt(0);r=Std.string(l)}if(n>9)(f=n-10+65)>90&&(f+=6),l=String.fromCodePoint(f);else l=Std.string(n).charAt(0);i=r+l}else{if(n>9)(f=n-10+65)>90&&(f+=6),r=String.fromCodePoint(f);else r=Std.string(n).charAt(0);i=Std.string(r)}null==(c=null)&&(c=2147483646*Math.random()|0);n=c%62|0;if((u=c/62|0)>0){null==(c=u)&&(c=2147483646*Math.random()|0);t=c%62|0;if((u=c/62|0)>0){var a=clay_Utils.base62Id(u);if(t>9)(f=t-10+65)>90&&(f+=6),o=String.fromCodePoint(f);else o=Std.string(t).charAt(0);l=a+o}else{if(t>9)(f=t-10+65)>90&&(f+=6),a=String.fromCodePoint(f);else a=Std.string(t).charAt(0);l=Std.string(a)}if(n>9)(f=n-10+65)>90&&(f+=6),a=String.fromCodePoint(f);else a=Std.string(n).charAt(0);r=l+a}else{if(n>9)(f=n-10+65)>90&&(f+=6),l=String.fromCodePoint(f);else l=Std.string(n).charAt(0);r=Std.string(l)}null==(c=clay_Utils._nextUniqueInt2)&&(c=2147483646*Math.random()|0);n=c%62|0;if((u=c/62|0)>0){null==(c=u)&&(c=2147483646*Math.random()|0);t=c%62|0;if((u=c/62|0)>0){var o=clay_Utils.base62Id(u);if(t>9)(f=t-10+65)>90&&(f+=6),h=String.fromCodePoint(f);else h=Std.string(t).charAt(0);a=o+h}else{if(t>9)(f=t-10+65)>90&&(f+=6),o=String.fromCodePoint(f);else o=Std.string(t).charAt(0);a=Std.string(o)}if(n>9)(f=n-10+65)>90&&(f+=6),o=String.fromCodePoint(f);else o=Std.string(n).charAt(0);l=a+o}else{if(n>9)(f=n-10+65)>90&&(f+=6),a=String.fromCodePoint(f);else a=Std.string(n).charAt(0);l=Std.string(a)}null==(c=null)&&(c=2147483646*Math.random()|0);n=c%62|0;if((u=c/62|0)>0){null==(c=u)&&(c=2147483646*Math.random()|0);t=c%62|0;if((u=c/62|0)>0){var h=clay_Utils.base62Id(u);if(t>9)(f=t-10+65)>90&&(f+=6),d=String.fromCodePoint(f);else d=Std.string(t).charAt(0);o=h+d}else{if(t>9)(f=t-10+65)>90&&(f+=6),h=String.fromCodePoint(f);else h=Std.string(t).charAt(0);o=Std.string(h)}if(n>9)(f=n-10+65)>90&&(f+=6),h=String.fromCodePoint(f);else h=Std.string(n).charAt(0);a=o+h}else{if(n>9)(f=n-10+65)>90&&(f+=6),o=String.fromCodePoint(f);else o=Std.string(n).charAt(0);a=Std.string(o)}null==(c=clay_Utils._nextUniqueInt3)&&(c=2147483646*Math.random()|0);n=c%62|0;if((u=c/62|0)>0){var c;null==(c=u)&&(c=2147483646*Math.random()|0);var u;t=c%62|0;if((u=c/62|0)>0){var _,d=clay_Utils.base62Id(u);if(t>9)(f=t-10+65)>90&&(f+=6),_=String.fromCodePoint(f);else _=Std.string(t).charAt(0);h=d+_}else{if(t>9)(f=t-10+65)>90&&(f+=6),d=String.fromCodePoint(f);else d=Std.string(t).charAt(0);h=Std.string(d)}if(n>9)(f=n-10+65)>90&&(f+=6),d=String.fromCodePoint(f);else d=Std.string(n).charAt(0);o=h+d}else{var f;if(n>9)(f=n-10+65)>90&&(f+=6),h=String.fromCodePoint(f);else h=Std.string(n).charAt(0);o=Std.string(h)}return h=e+"-"+s+"-"+i+"-"+r+"-"+l+"-"+a+"-"+o},clay_Utils.base62Id=function(e){null==e&&(e=2147483646*Math.random()|0);var n=e%62|0,t=e/62|0;if(t>0){var i,s,r=clay_Utils.base62Id(t);if(n>9)(s=n-10+65)>90&&(s+=6),i=String.fromCodePoint(s);else i=(null==n?"null":""+n).charAt(0);return r+i}return n>9?((s=n-10+65)>90&&(s+=6),r=String.fromCodePoint(s)):r=(null==n?"null":""+n).charAt(0),Std.string(r)};var clay_audio_AudioDataOptions=function(e,n,t,i,s,r,l,a,o){this.isStream=null,this.samples=null,this.format=null,this.bitsPerSample=null,this.channels=null,this.duration=null,this.length=null,this.rate=null,this.id=null,null!=e&&(this.id=e),null!=n&&(this.rate=n),null!=t&&(this.length=t),null!=i&&(this.duration=i),null!=s&&(this.channels=s),null!=r&&(this.bitsPerSample=r),null!=l&&(this.format=l),null!=a&&(this.samples=a),null!=o&&(this.isStream=o)};t["clay.audio.AudioDataOptions"]=clay_audio_AudioDataOptions,clay_audio_AudioDataOptions.__name__="clay.audio.AudioDataOptions",clay_audio_AudioDataOptions.prototype={__class__:clay_audio_AudioDataOptions};var clay_audio_AudioData=function(e,n){this.destroyed=!1,this.isStream=!1,this.format=0,this.bitsPerSample=16,this.channels=1,this.duration=0,this.length=0,this.rate=44100,this.id="AudioData",this.app=e,null!=n.id&&(this.id=n.id),null!=n.rate&&(this.rate=n.rate),null!=n.length&&(this.length=n.length),null!=n.format&&(this.format=n.format),null!=n.channels&&(this.channels=n.channels),null!=n.bitsPerSample&&(this.bitsPerSample=n.bitsPerSample),null!=n.isStream&&(this.isStream=n.isStream),null!=n.samples&&(this.samples=n.samples),null!=n.duration&&(this.duration=n.duration),n=null};t["clay.audio.AudioData"]=clay_audio_AudioData,clay_audio_AudioData.__name__="clay.audio.AudioData",clay_audio_AudioData.prototype={destroy:function(){this.destroyed||(clay_Log.debug("Audio / destroy AudioData `"+this.id+"`",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/audio/AudioData.hx",lineNumber:102,className:"clay.audio.AudioData",methodName:"destroy"}),this.destroyed=!0,this.id=null,this.samples=null)},seek:function(e){return!1},portion:function(e,n,t,i){return i},toString:function(){var e,n='{ "AudioData":true, "id":'+this.id+', "rate":'+this.rate+', "length":'+this.length+', "channels":'+this.channels+', "format":"';if(null==this.format)e="null";else{var t=this.format;if(null==t)e=""+t;else switch(t){case 0:e="UNKNOWN";break;case 1:e="CUSTOM";break;case 2:e="OGG";break;case 3:e="WAV";break;case 4:e="PCM";break;case 5:e="MP3";break;case 6:e="FLAC";break;default:e=""+t}}return n+e+'", "isStream":'+Std.string(this.isStream)+" }"},__class__:clay_audio_AudioData};var M={toString:function(e){switch(e){case 0:return"END";case 1:return"DESTROYED";case 2:return"DESTROYED_SOURCE";default:return""+e}}},P={toString:function(e){if(null==e)return""+e;switch(e){case 0:return"UNKNOWN";case 1:return"CUSTOM";case 2:return"OGG";case 3:return"WAV";case 4:return"PCM";case 5:return"MP3";case 6:return"FLAC";default:return""+e}},fromPath:function(e){switch(ceramic_Path.extension(e).toLowerCase()){case"flac":return 6;case"mp3":return 5;case"ogg":return 2;case"pcm":return 4;case"wav":return 3;default:return 0}}},clay_audio_AudioInstance=function(e,n){this.destroyed=!1,this.source=e,this.handle=n};t["clay.audio.AudioInstance"]=clay_audio_AudioInstance,clay_audio_AudioInstance.__name__="clay.audio.AudioInstance",clay_audio_AudioInstance.prototype={hasEnded:function(){if(this.destroyed)throw haxe_Exception.thrown("Audio / Instance hasEnded queried after being destroyed");return 2==this.source.app.audio.stateOf(this.handle)},destroy:function(){if(this.destroyed)throw haxe_Exception.thrown("Audio / Instance being destroyed more than once");this.source.app.audio.handleInstanceDestroyed(this.handle),this.source.instanceKilled(this),this.destroyed=!0,this.source=null,this.handle=-1},dataGet:function(e,n,t,i){if(this.destroyed)throw haxe_Exception.thrown("Audio / Instance dataGet queried after being destroyed");return this.source.data.portion(e,n,t,i)},dataSeek:function(e){if(this.destroyed)throw haxe_Exception.thrown("Audio / Instance dataSeek queried after being destroyed");return this.source.data.seek(e)},__class__:clay_audio_AudioInstance};var clay_audio_AudioSource=function(e,n){this.destroyed=!1,this.streamBufferCount=2,this.streamBufferLength=176400,this.app=e,this.data=n,this.sourceId=clay_Utils.uniqueId(),clay_Log.debug("AudioSource / `"+this.sourceId+"` / "+this.data.id,{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/audio/AudioSource.hx",lineNumber:34,className:"clay.audio.AudioSource",methodName:"new"}),this.instances=[],n.duration<=0&&(n.duration=this.bytesToSeconds(n.length))};t["clay.audio.AudioSource"]=clay_audio_AudioSource,clay_audio_AudioSource.__name__="clay.audio.AudioSource",clay_audio_AudioSource.prototype={instance:function(e){var n=new clay_audio_AudioInstance(this,e);return-1==this.instances.indexOf(n)&&this.instances.push(n),n},bytesToSeconds:function(e){var n=16==this.data.bitsPerSample?2:1;return e/(this.data.rate*this.data.channels*n)},secondsToBytes:function(e){var n=16==this.data.bitsPerSample?2:1;return e*(this.data.rate*this.data.channels*n)|0},getDuration:function(){return this.data.duration},destroy:function(){if(this.destroyed)clay_Log.debug("AudioSource / destroying already destroyed source!",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/audio/AudioSource.hx",lineNumber:85,className:"clay.audio.AudioSource",methodName:"destroy"});else{this.destroyed=!0;var e=this.instances.length,n=0;for(clay_Log.debug("AudioSource / destroy / "+this.sourceId+" / "+this.data.id+", stream="+Std.string(this.data.isStream)+", instances="+e,{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/audio/AudioSource.hx",lineNumber:94,className:"clay.audio.AudioSource",methodName:"destroy"});n<e;){var t=this.instances.pop();t.destroy(),t=null,++n}this.app.audio.handleSourceDestroyed(this),this.data.destroy(),this.data=null,this.instances=null,this.app=null}},instanceKilled:function(e){HxOverrides.remove(this.instances,e)},__class__:clay_audio_AudioSource};var F={toString:function(e){switch(e){case-1:return"INVALID";case 0:return"PAUSED";case 1:return"PLAYING";case 2:return"STOPPED";default:return""+e}}},clay_base_BaseAssets=function(e){this.app=e};t["clay.base.BaseAssets"]=clay_base_BaseAssets,clay_base_BaseAssets.__name__="clay.base.BaseAssets",clay_base_BaseAssets.prototype={isSynchronous:function(){return!1},fullPath:function(e){return ceramic_Path.isAbsolute(e)?e:ceramic_Path.join([this.app.io.appPath(),e])},loadImage:function(e,n,t,i){return null==t&&(t=!1),null==n&&(n=4),null!=i&&clay_Immediate.push((function(){i(null)})),null},__class__:clay_base_BaseAssets};var clay_base_BaseAudio=function(e){this.app=e};t["clay.base.BaseAudio"]=clay_base_BaseAudio,clay_base_BaseAudio.__name__="clay.base.BaseAudio",clay_base_BaseAudio.prototype={isSynchronous:function(){return!1},init:function(){},ready:function(){},tick:function(e){},shutdown:function(){},loadData:function(e,n,t,i,s){return null==i&&(i=!1),null!=s&&clay_Immediate.push((function(){s(null)})),null},emitAudioEvent:function(e,n){this.app.events.audioEvent(e,n)},__class__:clay_base_BaseAudio};var clay_base_BaseIO=function(e){this.app=e};t["clay.base.BaseIO"]=clay_base_BaseIO,clay_base_BaseIO.__name__="clay.base.BaseIO",clay_base_BaseIO.prototype={init:function(){},shutdown:function(){},isSynchronous:function(){return!1},appPath:function(){return null},appPathPrefs:function(){return null},loadData:function(e,n,t,i){return null==t&&(t=!1),null==n&&(n=!1),null!=i&&clay_Immediate.push((function(){i(null)})),null},__class__:clay_base_BaseIO};var clay_base_BaseRuntime=function(e){this.name=null,this.app=e};t["clay.base.BaseRuntime"]=clay_base_BaseRuntime,clay_base_BaseRuntime.__name__="clay.base.BaseRuntime",clay_base_BaseRuntime.prototype={init:function(){},shutdown:function(e){null==e&&(e=!1)},ready:function(){},run:function(){return!0},windowDevicePixelRatio:function(){return 1},windowWidth:function(){return 0},windowHeight:function(){return 0},__class__:clay_base_BaseRuntime};var k={_new:function(e){return new Float32Array(e)},fromArray:function(e){return new Float32Array(e)},fromView:function(e){return new Float32Array(e)},fromBuffer:function(e,n,t){return new Float32Array(e,n,t/4|0)},fromBytes:function(e,n,t){return null==n&&(n=0),null==n?new Float32Array(e.b.bufferValue):null==t?new Float32Array(e.b.bufferValue,n):new Float32Array(e.b.bufferValue,n,t)},toBytes:function(e){return new haxe_io_Bytes(new Uint8Array(e.buffer))},toString:function(e){return"Float32Array [byteLength:"+e.byteLength+", length:"+e.length+"]"}},R={_new:function(e){return new Int32Array(e)},fromArray:function(e){return new Int32Array(e)},fromView:function(e){return new Int32Array(e)},fromBuffer:function(e,n,t){return new Int32Array(e,n,t/4|0)},fromBytes:function(e,n,t){return null==n&&(n=0),null==n?new Int32Array(e.b.bufferValue):null==t?new Int32Array(e.b.bufferValue,n):new Int32Array(e.b.bufferValue,n,t)},toBytes:function(e){return new haxe_io_Bytes(new Uint8Array(e.buffer))},toString:function(e){return"Int32Array [byteLength:"+e.byteLength+", length:"+e.length+"]"}},I={_new:function(e){return new Uint16Array(e)},fromArray:function(e){return new Uint16Array(e)},fromView:function(e){return new Uint16Array(e)},fromBuffer:function(e,n,t){return new Uint16Array(e,n,t/2|0)},fromBytes:function(e,n,t){return null==n&&(n=0),null==n?new Uint16Array(e.b.bufferValue):null==t?new Uint16Array(e.b.bufferValue,n):new Uint16Array(e.b.bufferValue,n,t)},toBytes:function(e){return new haxe_io_Bytes(new Uint8Array(e.buffer))},toString:function(e){return"Uint16Array [byteLength:"+e.byteLength+", length:"+e.length+"]"}},N={_new:function(e){return new Uint8Array(e)},fromArray:function(e){return new Uint8Array(e)},fromView:function(e){return new Uint8Array(e)},fromBuffer:function(e,n,t){return new Uint8Array(e,n,t)},fromBytes:function(e,n,t){return null==n?new Uint8Array(e.b.bufferValue):null==t?new Uint8Array(e.b.bufferValue,n):new Uint8Array(e.b.bufferValue,n,t)},toBytes:function(e){return new haxe_io_Bytes(new Uint8Array(e.buffer))},toString:function(e){return"Uint8Array [byteLength:"+e.byteLength+", length:"+e.length+"]"}},clay_graphics_Color=function(e,n,t,i){this.a=1,this.b=0,this.g=0,this.r=0,null!=e&&(this.r=e),null!=n&&(this.g=n),null!=t&&(this.b=t),null!=i&&(this.a=i)};t["clay.graphics.Color"]=clay_graphics_Color,clay_graphics_Color.__name__="clay.graphics.Color",clay_graphics_Color.prototype={__class__:clay_graphics_Color};var clay_graphics_Texture=function(){this.wrapT=33071,this.wrapS=33071,this.filterMag=9729,this.filterMin=9729,this.pixels=null,this.heightActual=-1,this.widthActual=-1,this.height=-1,this.width=-1,this.dataType=5121,this.type=3553,this.format=6408,this.compressed=!1,this.textureId=null,clay_Resource.call(this),this.index=clay_graphics_Texture._nextIndex++};t["clay.graphics.Texture"]=clay_graphics_Texture,clay_graphics_Texture.__name__="clay.graphics.Texture",clay_graphics_Texture.fromImage=function(e,n){null==n&&(n=!1);var t=new clay_graphics_Texture;if(t.premultiplyAlpha=n,4!=e.bitsPerPixel)throw haxe_Exception.thrown("Image must have 4 bits per pixels (RGBA format)");return t.width=e.width,t.height=e.height,t.widthActual=e.widthActual,t.heightActual=e.heightActual,t.pixels=e.pixels,t},clay_graphics_Texture.__super__=clay_Resource,clay_graphics_Texture.prototype=$extend(clay_Resource.prototype,{set_filterMin:function(e){return null!=this.textureId&&(this.bind(),clay_opengl_web_GL.gl.texParameteri(3553,10241,e)),this.filterMin=e},set_filterMag:function(e){return null!=this.textureId&&(this.bind(),clay_opengl_web_GL.gl.texParameteri(3553,10240,e)),this.filterMag=e},set_wrapS:function(e){return null!=this.textureId&&(this.bind(),clay_opengl_web_GL.gl.texParameteri(3553,10242,e)),this.wrapS=e},set_wrapT:function(e){return null!=this.textureId&&(this.bind(),clay_opengl_web_GL.gl.texParameteri(3553,10243,e)),this.wrapT=e},init:function(){if(this.textureId=clay_opengl_web_GL.gl.createTexture(),this.width>0&&this.widthActual<=0&&(this.widthActual=this.width),this.height>0&&this.heightActual<=0&&(this.heightActual=this.height),this.bind(),clay_opengl_web_GL.gl.texParameteri(3553,10241,this.filterMin),clay_opengl_web_GL.gl.texParameteri(3553,10240,this.filterMag),clay_opengl_web_GL.gl.texParameteri(3553,10243,this.wrapT),clay_opengl_web_GL.gl.texParameteri(3553,10242,this.wrapS),null!=this.pixels){if(this.width<=0||this.height<=0)throw haxe_Exception.thrown("Provided texture pixels with invalid size (width="+this.width+" height="+this.height+")");this.submit(this.pixels)}},destroy:function(){if(null!=this.textureId){var e=this.textureId;clay_opengl_web_GL.gl.deleteTexture(e);for(var n=0,t=clay_opengl_GLGraphics._boundTexture2D.length;n<t;){var i=n++;clay_opengl_GLGraphics._boundTexture2D[i]==e&&(clay_opengl_GLGraphics._boundTexture2D[i]=null)}this.textureId=null}},bind:function(e){if(null==e&&(e=0),-1!=e&&clay_opengl_GLGraphics._activeTextureSlot!=e){for(clay_opengl_GLGraphics._activeTextureSlot=e;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984+e)}if(3553==this.type){var n=this.textureId;clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]!=n&&(clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]=n,clay_opengl_web_GL.gl.bindTexture(3553,n))}},submit:function(e){var n=clay_opengl_web_GL.gl.getParameter(3379);n<=0&&(n=4096);var t=n;if(null==e&&(e=this.pixels),null==e)throw haxe_Exception.thrown("Cannot submit texture pixels: pixels is null");if(this.widthActual>t)throw haxe_Exception.thrown("Texture actual width bigger than maximum hardware size (width="+this.widthActual+" max="+t+")");if(this.heightActual>t)throw haxe_Exception.thrown("Texture actual height bigger than maximum hardware size (height="+this.heightActual+" max="+t+")");if(this.bind(),3553==this.type)if(this.compressed){var i=this.format,s=this.widthActual,r=this.heightActual;clay_opengl_web_GL.gl.pixelStorei(37441,this.premultiplyAlpha?1:0),clay_opengl_web_GL.gl.compressedTexImage2D(3553,0,i,s,r,0,e)}else{i=this.format,s=this.widthActual,r=this.heightActual;var l=this.dataType;clay_opengl_web_GL.gl.pixelStorei(37441,this.premultiplyAlpha?1:0),clay_opengl_web_GL.gl.texImage2D(3553,0,i,s,r,0,i,l,e)}},fetch:function(e,n,t,i,s){return null==s&&(s=-1),null==i&&(i=-1),null==t&&(t=0),null==n&&(n=0),i<=0&&(i=this.width),s<=0&&(s=this.height),this.bind(),3553==this.type&&clay_opengl_GLGraphics.fetchTexture2dPixels(e,n,t,i,s),e},__class__:clay_graphics_Texture,__properties__:{set_wrapT:"set_wrapT",set_wrapS:"set_wrapS",set_filterMag:"set_filterMag",set_filterMin:"set_filterMin"}});var clay_graphics_RenderTexture=function(){this.antialiasing=0,this.stencil=!1,this.depth=!1,clay_graphics_Texture.call(this)};t["clay.graphics.RenderTexture"]=clay_graphics_RenderTexture,clay_graphics_RenderTexture.__name__="clay.graphics.RenderTexture",clay_graphics_RenderTexture.__super__=clay_graphics_Texture,clay_graphics_RenderTexture.prototype=$extend(clay_graphics_Texture.prototype,{init:function(){clay_graphics_Texture.prototype.init.call(this);var e=clay_opengl_web_GL.gl.getParameter(3379);e<=0&&(e=4096);var n=e;if(this.widthActual>n)throw haxe_Exception.thrown("RenderTexture actual width bigger than maximum hardware size (width="+this.widthActual+" max="+n+")");if(this.heightActual>n)throw haxe_Exception.thrown("RenderTexture actual height bigger than maximum hardware size (height="+this.heightActual+" max="+n+")");this.bind(),this.renderTarget=clay_opengl_GLGraphics.createRenderTarget(this.textureId,this.width,this.height,this.depth,this.stencil,this.antialiasing,0,this.format,this.dataType)},destroy:function(){clay_graphics_Texture.prototype.destroy.call(this),null!=this.renderTarget&&(clay_opengl_GLGraphics.deleteRenderTarget(this.renderTarget),this.renderTarget=null)},__class__:clay_graphics_RenderTexture});var clay_graphics_TextureAndSlot=function(e,n){this.texture=e,this.slot=n};t["clay.graphics.TextureAndSlot"]=clay_graphics_TextureAndSlot,clay_graphics_TextureAndSlot.__name__="clay.graphics.TextureAndSlot",clay_graphics_TextureAndSlot.prototype={__class__:clay_graphics_TextureAndSlot};var clay_graphics_Uniforms=function(e){this.dirtyTextures=[],this.dirtyColors=[],this.dirtyMatrix4s=[],this.dirtyVector4s=[],this.dirtyVector3s=[],this.dirtyVector2s=[],this.dirtyFloatArrays=[],this.dirtyFloats=[],this.dirtyIntArrays=[],this.dirtyInts=[],this.textures=new haxe_ds_StringMap,this.colors=new haxe_ds_StringMap,this.matrix4s=new haxe_ds_StringMap,this.vector4s=new haxe_ds_StringMap,this.vector3s=new haxe_ds_StringMap,this.vector2s=new haxe_ds_StringMap,this.floatArrays=new haxe_ds_StringMap,this.floats=new haxe_ds_StringMap,this.intArrays=new haxe_ds_StringMap,this.ints=new haxe_ds_StringMap,this.gpuShader=e};t["clay.graphics.Uniforms"]=clay_graphics_Uniforms,clay_graphics_Uniforms.__name__="clay.graphics.Uniforms",clay_graphics_Uniforms.prototype={setInt:function(e,n){clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,e);this.ints.h[e]=n,this.dirtyInts.push(e)},setIntArray:function(e,n){clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,e);this.intArrays.h[e]=n,this.dirtyIntArrays.push(e)},setFloat:function(e,n){clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,e);this.floats.h[e]=n,this.dirtyFloats.push(e)},setFloatArray:function(e,n){clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,e);this.floatArrays.h[e]=n,this.dirtyFloatArrays.push(e)},setVector2:function(e,n,t){clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,e);var i=this.vector2s.h[e];if(null!=i)i.x=n,i.y=t;else{var s=this.vector2s,r=new clay_graphics_Vector2(n,t);s.h[e]=r}this.dirtyVector2s.push(e)},setVector3:function(e,n,t,i){clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,e);var s=this.vector3s.h[e];if(null!=s)s.x=n,s.y=t,s.z=i;else{var r=this.vector3s,l=new clay_graphics_Vector3(n,t,i);r.h[e]=l}this.dirtyVector3s.push(e)},setVector4:function(e,n,t,i,s){clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,e);var r=this.vector4s.h[e];if(null!=r)r.x=n,r.y=t,r.z=i,r.w=s;else{var l=this.vector4s,a=new clay_graphics_Vector4(n,t,i,s);l.h[e]=a}this.dirtyVector4s.push(e)},setMatrix4:function(e,n){clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,e);var t=this.matrix4s.h[e];null==t&&(t=new Float32Array(16),this.matrix4s.h[e]=t),t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this.dirtyMatrix4s.push(e)},setColor:function(e,n,t,i,s){clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,e);var r=this.colors.h[e];if(null!=r)r.r=n,r.g=t,r.b=i,r.a=s;else{var l=this.colors,a=new clay_graphics_Color(n,t,i,s);l.h[e]=a}this.dirtyColors.push(e)},setTexture:function(e,n,t){clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,e);var i=this.textures.h[e];if(null!=i)i.texture=t,i.slot=n;else{var s=this.textures,r=new clay_graphics_TextureAndSlot(t,n);s.h[e]=r}-1==this.dirtyTextures.indexOf(e)&&this.dirtyTextures.push(e)},apply:function(){var e=this.gpuShader;for(clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program));this.dirtyInts.length>0;){var n=this.dirtyInts.pop(),t=clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,n),i=(e=this.gpuShader,this.ints.h[n]);clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform1i(t,i)}for(;this.dirtyIntArrays.length>0;){n=this.dirtyIntArrays.pop(),t=clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,n),e=this.gpuShader,i=this.intArrays.h[n];clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform1iv(t,i)}for(;this.dirtyFloats.length>0;){n=this.dirtyFloats.pop(),t=clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,n),e=this.gpuShader,i=this.floats.h[n];clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform1f(t,i)}for(;this.dirtyFloatArrays.length>0;){n=this.dirtyFloatArrays.pop(),t=clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,n),e=this.gpuShader,i=this.floatArrays.h[n];clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform1fv(t,i)}for(;this.dirtyVector2s.length>0;){n=this.dirtyVector2s.pop(),t=clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,n),i=this.vector2s.h[n],e=this.gpuShader;var s=i.x,r=i.y;clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform2f(t,s,r)}for(;this.dirtyVector3s.length>0;){n=this.dirtyVector3s.pop(),t=clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,n),i=this.vector3s.h[n],e=this.gpuShader,s=i.x,r=i.y;var l=i.z;clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform3f(t,s,r,l)}for(;this.dirtyVector4s.length>0;){n=this.dirtyVector4s.pop(),t=clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,n),i=this.vector4s.h[n],e=this.gpuShader,s=i.x,r=i.y,l=i.z;var a=i.w;clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform4f(t,s,r,l,a)}for(;this.dirtyMatrix4s.length>0;){n=this.dirtyMatrix4s.pop(),t=clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,n),e=this.gpuShader,i=this.matrix4s.h[n];clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniformMatrix4fv(t,!1,i)}for(;this.dirtyColors.length>0;){n=this.dirtyColors.pop(),t=clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,n),i=this.colors.h[n],e=this.gpuShader;var o=i.r,h=i.g,c=i.b,u=i.a;clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform4f(t,o,h,c,u)}for(var _=0,d=this.dirtyTextures.length;_<d;){var f=_++;n=this.dirtyTextures[f],t=clay_opengl_web_GL.gl.getUniformLocation(this.gpuShader.program,n);3553==(i=this.textures.h[n]).texture.type&&clay_opengl_GLGraphics.setTexture2dUniform(this.gpuShader,t,i.slot,i.texture.textureId)}},clone:function(){return new clay_graphics_Uniforms(this.gpuShader)},__class__:clay_graphics_Uniforms};var clay_graphics_Vector2=function(e,n){this.y=0,this.x=0,null!=e&&(this.x=e),null!=n&&(this.y=n)};t["clay.graphics.Vector2"]=clay_graphics_Vector2,clay_graphics_Vector2.__name__="clay.graphics.Vector2",clay_graphics_Vector2.prototype={__class__:clay_graphics_Vector2};var clay_graphics_Vector3=function(e,n,t){this.z=0,this.y=0,this.x=0,null!=e&&(this.x=e),null!=n&&(this.y=n),null!=t&&(this.z=t)};t["clay.graphics.Vector3"]=clay_graphics_Vector3,clay_graphics_Vector3.__name__="clay.graphics.Vector3",clay_graphics_Vector3.prototype={__class__:clay_graphics_Vector3};var clay_graphics_Vector4=function(e,n,t,i){this.w=0,this.z=0,this.y=0,this.x=0,null!=e&&(this.x=e),null!=n&&(this.y=n),null!=t&&(this.z=t),null!=i&&(this.w=i)};t["clay.graphics.Vector4"]=clay_graphics_Vector4,clay_graphics_Vector4.__name__="clay.graphics.Vector4",clay_graphics_Vector4.prototype={__class__:clay_graphics_Vector4};var clay_opengl_GLGraphics=function(){};t["clay.opengl.GLGraphics"]=clay_opengl_GLGraphics,clay_opengl_GLGraphics.__name__="clay.opengl.GLGraphics",clay_opengl_GLGraphics.setup=function(){clay_opengl_GLGraphics._defaultFramebuffer=clay_opengl_web_GL.gl.getParameter(36006),clay_opengl_GLGraphics._defaultRenderbuffer=clay_opengl_web_GL.gl.getParameter(36007),clay_opengl_GLGraphics._didFetchDefaultBuffers=!0},clay_opengl_GLGraphics.clear=function(e,n,t,i,s){null==s&&(s=!0),clay_opengl_web_GL.gl.clearColor(e,n,t,i),s&&clay_Clay.app.config.render.depth>0?(clay_opengl_web_GL.gl.clear(16640),clay_opengl_web_GL.gl.clearDepth(1)):clay_opengl_web_GL.gl.clear(16384)},clay_opengl_GLGraphics.createTextureId=function(){return clay_opengl_web_GL.gl.createTexture()},clay_opengl_GLGraphics.setActiveTexture=function(e){if(clay_opengl_GLGraphics._activeTextureSlot!=e){for(clay_opengl_GLGraphics._activeTextureSlot=e;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984+e)}},clay_opengl_GLGraphics.deleteTexture=function(e){clay_opengl_web_GL.gl.deleteTexture(e);for(var n=0,t=clay_opengl_GLGraphics._boundTexture2D.length;n<t;){var i=n++;clay_opengl_GLGraphics._boundTexture2D[i]==e&&(clay_opengl_GLGraphics._boundTexture2D[i]=null)}},clay_opengl_GLGraphics.setViewport=function(e,n,t,i){clay_opengl_web_GL.gl.viewport(e,n,t,i)},clay_opengl_GLGraphics.bindTexture2d=function(e){clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]!=e&&(clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]=e,clay_opengl_web_GL.gl.bindTexture(3553,e))},clay_opengl_GLGraphics.maxTextureSize=function(){var e=clay_opengl_web_GL.gl.getParameter(3379);return e<=0&&(e=4096),e},clay_opengl_GLGraphics.needsPreprocessedPremultipliedAlpha=function(){return!1},clay_opengl_GLGraphics.submitCompressedTexture2dPixels=function(e,n,t,i,s,r){clay_opengl_web_GL.gl.pixelStorei(37441,r?1:0),clay_opengl_web_GL.gl.compressedTexImage2D(3553,e,n,t,i,0,s)},clay_opengl_GLGraphics.submitTexture2dPixels=function(e,n,t,i,s,r,l){clay_opengl_web_GL.gl.pixelStorei(37441,l?1:0),clay_opengl_web_GL.gl.texImage2D(3553,e,n,t,i,0,n,s,r)},clay_opengl_GLGraphics.fetchTexture2dPixels=function(e,n,t,i,s){if(null==e)throw haxe_Exception.thrown("Texture fetch requires a valid buffer to store the pixels.");var r=clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot],l=i*s*4;if(e.length<l)throw haxe_Exception.thrown("Texture fetch requires at least "+l+" (w * h * 4) bytes for the pixels, you have "+e.length+"!");var a=clay_opengl_web_GL.gl.createFramebuffer();if(clay_opengl_web_GL.gl.bindFramebuffer(36160,a),clay_opengl_web_GL.gl.framebufferTexture2D(36160,36064,3553,r,0),36053!=clay_opengl_web_GL.gl.checkFramebufferStatus(36160))throw haxe_Exception.thrown("Incomplete framebuffer");clay_opengl_web_GL.gl.readPixels(n,t,i,s,6408,5121,e),clay_opengl_web_GL.gl.bindFramebuffer(36160,null),clay_opengl_web_GL.gl.deleteFramebuffer(a),a=null},clay_opengl_GLGraphics.createFramebuffer=function(){return clay_opengl_web_GL.gl.createFramebuffer()},clay_opengl_GLGraphics.bindFramebuffer=function(e){clay_opengl_GLGraphics._boundFramebuffer!=e&&(clay_opengl_GLGraphics._boundFramebuffer=e,null==e&&(e=clay_opengl_GLGraphics._defaultFramebuffer),clay_opengl_web_GL.gl.bindFramebuffer(36160,e))},clay_opengl_GLGraphics.createRenderbuffer=function(){return clay_opengl_web_GL.gl.createRenderbuffer()},clay_opengl_GLGraphics.bindRenderbuffer=function(e){clay_opengl_GLGraphics._boundRenderbuffer!=e&&(clay_opengl_GLGraphics._boundRenderbuffer=e,null==e&&(e=clay_opengl_GLGraphics._defaultRenderbuffer),clay_opengl_web_GL.gl.bindRenderbuffer(36161,e))},clay_opengl_GLGraphics.setTexture2dMinFilter=function(e){clay_opengl_web_GL.gl.texParameteri(3553,10241,e)},clay_opengl_GLGraphics.setTexture2dMagFilter=function(e){clay_opengl_web_GL.gl.texParameteri(3553,10240,e)},clay_opengl_GLGraphics.setTexture2dWrapS=function(e){clay_opengl_web_GL.gl.texParameteri(3553,10242,e)},clay_opengl_GLGraphics.setTexture2dWrapT=function(e){clay_opengl_web_GL.gl.texParameteri(3553,10243,e)},clay_opengl_GLGraphics.configureRenderTargetBuffersStorage=function(e,n,t,i,s,r,l){l>1?(clay_opengl_GLGraphics.bindRenderbuffer(e.renderbuffer),clay_opengl_web_GL.gl.renderbufferStorageMultisample(36161,l,32856,t,i),(s||r)&&(clay_opengl_GLGraphics.bindRenderbuffer(e.msDepthStencilRenderbuffer),r?clay_opengl_web_GL.gl.renderbufferStorageMultisample(36161,l,35056,t,i):clay_opengl_web_GL.gl.renderbufferStorageMultisample(36161,l,33189,t,i)),clay_opengl_GLGraphics.bindFramebuffer(e.framebuffer),clay_opengl_web_GL.gl.framebufferRenderbuffer(36160,36064,36161,e.renderbuffer),(s||r)&&(r?clay_opengl_web_GL.gl.framebufferRenderbuffer(36160,33306,36161,e.msDepthStencilRenderbuffer):clay_opengl_web_GL.gl.framebufferRenderbuffer(36160,36096,36161,e.msDepthStencilRenderbuffer)),clay_opengl_GLGraphics.bindRenderbuffer(e.msResolveColorRenderbuffer),clay_opengl_web_GL.gl.renderbufferStorage(36161,32856,t,i),clay_opengl_GLGraphics.bindFramebuffer(e.msResolveFramebuffer),clay_opengl_web_GL.gl.framebufferTexture2D(36160,36064,3553,n,0)):(clay_opengl_GLGraphics.bindRenderbuffer(e.renderbuffer),r?clay_opengl_web_GL.gl.renderbufferStorage(36161,34041,t,i):s?clay_opengl_web_GL.gl.renderbufferStorage(36161,33189,t,i):clay_opengl_web_GL.gl.renderbufferStorage(36161,6408,t,i),clay_opengl_GLGraphics.bindFramebuffer(e.framebuffer),clay_opengl_web_GL.gl.framebufferTexture2D(36160,36064,3553,n,0),(s||r)&&(r?clay_opengl_web_GL.gl.framebufferRenderbuffer(36160,33306,36161,e.renderbuffer):clay_opengl_web_GL.gl.framebufferRenderbuffer(36160,36096,36161,e.renderbuffer)));var a=clay_opengl_web_GL.gl.checkFramebufferStatus(36160);switch(a){case 36053:break;case 36054:throw haxe_Exception.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_ATTACHMENT");case 36055:throw haxe_Exception.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT");case 36057:throw haxe_Exception.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_DIMENSIONS");case 36059:throw haxe_Exception.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_DRAW_BUFFER");case 36060:throw haxe_Exception.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_READ_BUFFER");case 36061:throw haxe_Exception.thrown("Incomplete framebuffer: FRAMEBUFFER_UNSUPPORTED");case 36182:throw haxe_Exception.thrown("Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_MULTISAMPLE");default:throw haxe_Exception.thrown("Incomplete framebuffer: "+a)}clay_opengl_GLGraphics.bindFramebuffer(null),clay_opengl_GLGraphics.bindRenderbuffer(null)},clay_opengl_GLGraphics.blitRenderTargetBuffers=function(e,n,t){clay_opengl_web_GL.gl.bindFramebuffer(36008,e.framebuffer),clay_opengl_web_GL.gl.bindFramebuffer(36009,e.msResolveFramebuffer),clay_opengl_web_GL.gl.clearBufferfv(6144,0,clay_opengl_GLGraphics.clearBufferForBlitValues,0),clay_opengl_web_GL.gl.blitFramebuffer(0,0,n,t,0,0,n,t,16384,9728),clay_opengl_web_GL.gl.bindFramebuffer(36008,null),clay_opengl_web_GL.gl.bindFramebuffer(36009,null)},clay_opengl_GLGraphics.createRenderTarget=function(e,n,t,i,s,r,l,a,o){var h=new clay_opengl_GLGraphics_$RenderTarget;return clay_opengl_web_GL.gl.texImage2D(3553,l,a,n,t,0,a,o,null),h.framebuffer=clay_opengl_web_GL.gl.createFramebuffer(),h.renderbuffer=clay_opengl_web_GL.gl.createRenderbuffer(),r>1?(h.msResolveFramebuffer=clay_opengl_web_GL.gl.createFramebuffer(),h.msResolveColorRenderbuffer=clay_opengl_web_GL.gl.createRenderbuffer(),h.msDepthStencilRenderbuffer=i||s?clay_opengl_web_GL.gl.createRenderbuffer():null):(h.msResolveFramebuffer=null,h.msResolveColorRenderbuffer=null,h.msDepthStencilRenderbuffer=null),clay_opengl_GLGraphics.configureRenderTargetBuffersStorage(h,e,n,t,i,s,r),h},clay_opengl_GLGraphics.deleteRenderTarget=function(e){null!=e.framebuffer&&(clay_opengl_GLGraphics._boundFramebuffer==e.framebuffer&&(clay_opengl_GLGraphics._boundFramebuffer=null),clay_opengl_web_GL.gl.deleteFramebuffer(e.framebuffer),e.framebuffer=null),null!=e.renderbuffer&&(clay_opengl_GLGraphics._boundRenderbuffer==e.renderbuffer&&(clay_opengl_GLGraphics._boundRenderbuffer=null),clay_opengl_web_GL.gl.deleteRenderbuffer(e.renderbuffer),e.renderbuffer=null),null!=e.msDepthStencilRenderbuffer&&(clay_opengl_GLGraphics._boundRenderbuffer==e.msDepthStencilRenderbuffer&&(clay_opengl_GLGraphics._boundRenderbuffer=null),clay_opengl_web_GL.gl.deleteRenderbuffer(e.msDepthStencilRenderbuffer),e.msDepthStencilRenderbuffer=null),null!=e.msResolveColorRenderbuffer&&(clay_opengl_GLGraphics._boundRenderbuffer==e.msResolveColorRenderbuffer&&(clay_opengl_GLGraphics._boundRenderbuffer=null),clay_opengl_web_GL.gl.deleteRenderbuffer(e.msResolveColorRenderbuffer),e.msResolveColorRenderbuffer=null),null!=e.msResolveFramebuffer&&(clay_opengl_GLGraphics._boundFramebuffer==e.msResolveFramebuffer&&(clay_opengl_GLGraphics._boundFramebuffer=null),clay_opengl_web_GL.gl.deleteFramebuffer(e.msResolveFramebuffer),e.msResolveFramebuffer=null)},clay_opengl_GLGraphics.setRenderTarget=function(e){null!=e?(clay_opengl_GLGraphics.bindFramebuffer(e.framebuffer),clay_opengl_GLGraphics.bindRenderbuffer(e.renderbuffer)):(clay_opengl_GLGraphics.bindFramebuffer(null),clay_opengl_GLGraphics.bindRenderbuffer(null))},clay_opengl_GLGraphics.enableBlending=function(){clay_opengl_web_GL.gl.enable(3042)},clay_opengl_GLGraphics.disableBlending=function(){clay_opengl_web_GL.gl.disable(3042)},clay_opengl_GLGraphics.createShader=function(e,n,t,i){if(null==e)throw haxe_Exception.thrown("Cannot create shader: vertSource is null!");if(null==n)throw haxe_Exception.thrown("Cannot create shader: fragSource is null!");var s=new clay_opengl_GLGraphics_$GpuShader;return s.vertShader=clay_opengl_GLGraphics.compileGLShader(35633,e),null==s.vertShader?(clay_opengl_GLGraphics.deleteShader(s),null):(s.fragShader=clay_opengl_GLGraphics.compileGLShader(35632,n),null==s.fragShader?(clay_opengl_GLGraphics.deleteShader(s),null):clay_opengl_GLGraphics.linkShader(s,t)?(null!=i&&clay_opengl_GLGraphics.configureShaderTextureSlots(s,i),s):(clay_opengl_GLGraphics.deleteShader(s),null))},clay_opengl_GLGraphics.linkShader=function(e,n){var t=clay_opengl_web_GL.gl.createProgram();if(clay_opengl_web_GL.gl.attachShader(t,e.vertShader),clay_opengl_web_GL.gl.attachShader(t,e.fragShader),null!=n)for(var i=0,s=n.length;i<s;){var r=i++;clay_opengl_web_GL.gl.bindAttribLocation(t,r,n[r])}if(clay_opengl_web_GL.gl.linkProgram(t),0==clay_opengl_web_GL.gl.getProgramParameter(t,35714)){clay_Log.error("\tFailed to link shader program:",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/opengl/GLGraphics.hx",lineNumber:684,className:"clay.opengl.GLGraphics",methodName:"linkShader"});for(var l=clay_opengl_web_GL.gl.getProgramInfoLog(t).split("\n"),a=(i=[],s=0,l);s<a.length;){var o=a[s];++s,""!=StringTools.trim(o)&&i.push(o)}l=i;var h=new Array(l.length);for(i=0,s=l.length;i<s;){h[r=i++]="\t\t"+StringTools.trim(l[r])}return l=h,clay_Log.error(l.join("\n"),{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/opengl/GLGraphics.hx",lineNumber:685,className:"clay.opengl.GLGraphics",methodName:"linkShader"}),clay_opengl_web_GL.gl.deleteProgram(t),!1}return e.program=t,!0},clay_opengl_GLGraphics.configureShaderTextureSlots=function(e,n){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program));for(var t=0,i=n.length;t<i;){var s=t++,r=n[s],l=clay_opengl_web_GL.gl.getUniformLocation(e.program,r);null!=l&&(clay_opengl_web_GL.gl.uniform1i(l,s),e.textures[s]=r)}},clay_opengl_GLGraphics.useShader=function(e){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program))},clay_opengl_GLGraphics.deleteShader=function(e){clay_opengl_GLGraphics._boundProgram==e.program&&(clay_opengl_GLGraphics._boundProgram=null),null!=e.vertShader&&(clay_opengl_web_GL.gl.deleteShader(e.vertShader),e.vertShader=null),null!=e.fragShader&&(clay_opengl_web_GL.gl.deleteShader(e.fragShader),e.fragShader=null),null!=e.program&&(clay_opengl_web_GL.gl.deleteProgram(e.program),e.program=null)},clay_opengl_GLGraphics.compileGLShader=function(e,n){var t=clay_opengl_web_GL.gl.createShader(e);clay_opengl_web_GL.gl.shaderSource(t,n),clay_opengl_web_GL.gl.compileShader(t);var i=clay_opengl_web_GL.gl.getShaderInfoLog(t),s="";if(null!=i&&i.length>0){s+="\n\t// start -- ("+(35632==e?"frag":"vert")+") compile log --\n";for(var r=[],l=0,a=u=i.split("\n");l<a.length;){var o=a[l];++l,""!=StringTools.trim(o)&&r.push(o)}u=r;var h=new Array(u.length);for(r=0,l=u.length;r<l;){h[_=r++]="\t\t"+StringTools.trim(u[_])}s+=(u=h).join("\n"),s+="\n\t// end --\n"}if(0==clay_opengl_web_GL.gl.getShaderParameter(t,35713)){var c;if(clay_Log.error("GL / Failed to compile shader:",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/opengl/GLGraphics.hx",lineNumber:772,className:"clay.opengl.GLGraphics",methodName:"compileGLShader"}),0==s.length){var u;for(r=[],l=0,a=u=clay_opengl_web_GL.gl.getShaderInfoLog(t).split("\n");l<a.length;){o=a[l];++l,""!=StringTools.trim(o)&&r.push(o)}u=r;for(h=new Array(u.length),r=0,l=u.length;r<l;){var _;h[_=r++]="\t\t"+StringTools.trim(u[_])}c=(u=h).join("\n")}else c=s;clay_Log.error(c,{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/opengl/GLGraphics.hx",lineNumber:773,className:"clay.opengl.GLGraphics",methodName:"compileGLShader"}),clay_opengl_web_GL.gl.deleteShader(t),t=null}return t},clay_opengl_GLGraphics.getUniformLocation=function(e,n){return clay_opengl_web_GL.gl.getUniformLocation(e.program,n)},clay_opengl_GLGraphics.setIntUniform=function(e,n,t){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform1i(n,t)},clay_opengl_GLGraphics.setIntArrayUniform=function(e,n,t){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform1iv(n,t)},clay_opengl_GLGraphics.setFloatUniform=function(e,n,t){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform1f(n,t)},clay_opengl_GLGraphics.setFloatArrayUniform=function(e,n,t){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform1fv(n,t)},clay_opengl_GLGraphics.setVector2Uniform=function(e,n,t,i){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform2f(n,t,i)},clay_opengl_GLGraphics.setVector3Uniform=function(e,n,t,i,s){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform3f(n,t,i,s)},clay_opengl_GLGraphics.setVector4Uniform=function(e,n,t,i,s,r){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform4f(n,t,i,s,r)},clay_opengl_GLGraphics.setColorUniform=function(e,n,t,i,s,r){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform4f(n,t,i,s,r)},clay_opengl_GLGraphics.setMatrix4Uniform=function(e,n,t){clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniformMatrix4fv(n,!1,t)},clay_opengl_GLGraphics.setTexture2dUniform=function(e,n,t,i){if(clay_opengl_GLGraphics._boundProgram!=e.program&&(clay_opengl_GLGraphics._boundProgram=e.program,clay_opengl_web_GL.gl.useProgram(e.program)),clay_opengl_web_GL.gl.uniform1i(n,t),clay_opengl_GLGraphics._activeTextureSlot!=t){for(clay_opengl_GLGraphics._activeTextureSlot=t;clay_opengl_GLGraphics._boundTexture2D.length<=clay_opengl_GLGraphics._activeTextureSlot;)clay_opengl_GLGraphics._boundTexture2D.push(null);clay_opengl_web_GL.gl.activeTexture(33984+t)}clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]!=i&&(clay_opengl_GLGraphics._boundTexture2D[clay_opengl_GLGraphics._activeTextureSlot]=i,clay_opengl_web_GL.gl.bindTexture(3553,i))},clay_opengl_GLGraphics.setBlendFuncSeparate=function(e,n,t,i){clay_opengl_web_GL.gl.blendFuncSeparate(e,n,t,i)},clay_opengl_GLGraphics.ensureNoError=function(){var e=clay_opengl_web_GL.gl.getError();if(0!=e)throw haxe_Exception.thrown("Failed with GL error: "+e)};var clay_opengl_GLGraphics_$RenderTarget=function(){};t["clay.opengl.GLGraphics_RenderTarget"]=clay_opengl_GLGraphics_$RenderTarget,clay_opengl_GLGraphics_$RenderTarget.__name__="clay.opengl.GLGraphics_RenderTarget",clay_opengl_GLGraphics_$RenderTarget.prototype={__class__:clay_opengl_GLGraphics_$RenderTarget};var clay_opengl_GLGraphics_$GpuShader=function(){this.textures=[]};t["clay.opengl.GLGraphics_GpuShader"]=clay_opengl_GLGraphics_$GpuShader,clay_opengl_GLGraphics_$GpuShader.__name__="clay.opengl.GLGraphics_GpuShader",clay_opengl_GLGraphics_$GpuShader.prototype={__class__:clay_opengl_GLGraphics_$GpuShader};var clay_opengl_web_GL=function(){};t["clay.opengl.web.GL"]=clay_opengl_web_GL,clay_opengl_web_GL.__name__="clay.opengl.web.GL",clay_opengl_web_GL.__properties__={get_version:"get_version"},clay_opengl_web_GL.versionString=function(){return"/ "+clay_opengl_web_GL.gl.getParameter(7938)+" / "+clay_opengl_web_GL.gl.getParameter(35724)+" / "+clay_opengl_web_GL.gl.getParameter(7937)+" / "+clay_opengl_web_GL.gl.getParameter(7936)+" /"},clay_opengl_web_GL.activeTexture=function(e){clay_opengl_web_GL.gl.activeTexture(e)},clay_opengl_web_GL.attachShader=function(e,n){clay_opengl_web_GL.gl.attachShader(e,n)},clay_opengl_web_GL.bindAttribLocation=function(e,n,t){clay_opengl_web_GL.gl.bindAttribLocation(e,n,t)},clay_opengl_web_GL.bindBuffer=function(e,n){clay_opengl_web_GL.gl.bindBuffer(e,n)},clay_opengl_web_GL.bindFramebuffer=function(e,n){clay_opengl_web_GL.gl.bindFramebuffer(e,n)},clay_opengl_web_GL.bindRenderbuffer=function(e,n){clay_opengl_web_GL.gl.bindRenderbuffer(e,n)},clay_opengl_web_GL.bindTexture=function(e,n){clay_opengl_web_GL.gl.bindTexture(e,n)},clay_opengl_web_GL.blendColor=function(e,n,t,i){clay_opengl_web_GL.gl.blendColor(e,n,t,i)},clay_opengl_web_GL.blendEquation=function(e){clay_opengl_web_GL.gl.blendEquation(e)},clay_opengl_web_GL.blendEquationSeparate=function(e,n){clay_opengl_web_GL.gl.blendEquationSeparate(e,n)},clay_opengl_web_GL.blendFunc=function(e,n){clay_opengl_web_GL.gl.blendFunc(e,n)},clay_opengl_web_GL.blendFuncSeparate=function(e,n,t,i){clay_opengl_web_GL.gl.blendFuncSeparate(e,n,t,i)},clay_opengl_web_GL.bufferData=function(e,n,t){clay_opengl_web_GL.gl.bufferData(e,n,t)},clay_opengl_web_GL.bufferSubData=function(e,n,t){clay_opengl_web_GL.gl.bufferSubData(e,n,t)},clay_opengl_web_GL.checkFramebufferStatus=function(e){return clay_opengl_web_GL.gl.checkFramebufferStatus(e)},clay_opengl_web_GL.clear=function(e){clay_opengl_web_GL.gl.clear(e)},clay_opengl_web_GL.clearColor=function(e,n,t,i){clay_opengl_web_GL.gl.clearColor(e,n,t,i)},clay_opengl_web_GL.clearDepth=function(e){clay_opengl_web_GL.gl.clearDepth(e)},clay_opengl_web_GL.clearStencil=function(e){clay_opengl_web_GL.gl.clearStencil(e)},clay_opengl_web_GL.colorMask=function(e,n,t,i){clay_opengl_web_GL.gl.colorMask(e,n,t,i)},clay_opengl_web_GL.compileShader=function(e){clay_opengl_web_GL.gl.compileShader(e)},clay_opengl_web_GL.compressedTexImage2D=function(e,n,t,i,s,r,l){clay_opengl_web_GL.gl.compressedTexImage2D(e,n,t,i,s,r,l)},clay_opengl_web_GL.compressedTexSubImage2D=function(e,n,t,i,s,r,l,a){clay_opengl_web_GL.gl.compressedTexSubImage2D(e,n,t,i,s,r,l,a)},clay_opengl_web_GL.copyTexImage2D=function(e,n,t,i,s,r,l,a){clay_opengl_web_GL.gl.copyTexImage2D(e,n,t,i,s,r,l,a)},clay_opengl_web_GL.copyTexSubImage2D=function(e,n,t,i,s,r,l,a){clay_opengl_web_GL.gl.copyTexSubImage2D(e,n,t,i,s,r,l,a)},clay_opengl_web_GL.createBuffer=function(){return clay_opengl_web_GL.gl.createBuffer()},clay_opengl_web_GL.createFramebuffer=function(){return clay_opengl_web_GL.gl.createFramebuffer()},clay_opengl_web_GL.createProgram=function(){return clay_opengl_web_GL.gl.createProgram()},clay_opengl_web_GL.createRenderbuffer=function(){return clay_opengl_web_GL.gl.createRenderbuffer()},clay_opengl_web_GL.createShader=function(e){return clay_opengl_web_GL.gl.createShader(e)},clay_opengl_web_GL.createTexture=function(){return clay_opengl_web_GL.gl.createTexture()},clay_opengl_web_GL.cullFace=function(e){clay_opengl_web_GL.gl.cullFace(e)},clay_opengl_web_GL.deleteBuffer=function(e){clay_opengl_web_GL.gl.deleteBuffer(e)},clay_opengl_web_GL.deleteFramebuffer=function(e){clay_opengl_web_GL.gl.deleteFramebuffer(e)},clay_opengl_web_GL.deleteProgram=function(e){clay_opengl_web_GL.gl.deleteProgram(e)},clay_opengl_web_GL.deleteRenderbuffer=function(e){clay_opengl_web_GL.gl.deleteRenderbuffer(e)},clay_opengl_web_GL.deleteShader=function(e){clay_opengl_web_GL.gl.deleteShader(e)},clay_opengl_web_GL.deleteTexture=function(e){clay_opengl_web_GL.gl.deleteTexture(e)},clay_opengl_web_GL.depthFunc=function(e){clay_opengl_web_GL.gl.depthFunc(e)},clay_opengl_web_GL.depthMask=function(e){clay_opengl_web_GL.gl.depthMask(e)},clay_opengl_web_GL.depthRange=function(e,n){clay_opengl_web_GL.gl.depthRange(e,n)},clay_opengl_web_GL.detachShader=function(e,n){clay_opengl_web_GL.gl.detachShader(e,n)},clay_opengl_web_GL.disable=function(e){clay_opengl_web_GL.gl.disable(e)},clay_opengl_web_GL.disableVertexAttribArray=function(e){clay_opengl_web_GL.gl.disableVertexAttribArray(e)},clay_opengl_web_GL.drawArrays=function(e,n,t){clay_opengl_web_GL.gl.drawArrays(e,n,t)},clay_opengl_web_GL.drawElements=function(e,n,t,i){clay_opengl_web_GL.gl.drawElements(e,n,t,i)},clay_opengl_web_GL.enable=function(e){clay_opengl_web_GL.gl.enable(e)},clay_opengl_web_GL.enableVertexAttribArray=function(e){clay_opengl_web_GL.gl.enableVertexAttribArray(e)},clay_opengl_web_GL.finish=function(){clay_opengl_web_GL.gl.finish()},clay_opengl_web_GL.flush=function(){clay_opengl_web_GL.gl.flush()},clay_opengl_web_GL.framebufferRenderbuffer=function(e,n,t,i){clay_opengl_web_GL.gl.framebufferRenderbuffer(e,n,t,i)},clay_opengl_web_GL.framebufferTexture2D=function(e,n,t,i,s){clay_opengl_web_GL.gl.framebufferTexture2D(e,n,t,i,s)},clay_opengl_web_GL.frontFace=function(e){clay_opengl_web_GL.gl.frontFace(e)},clay_opengl_web_GL.generateMipmap=function(e){clay_opengl_web_GL.gl.generateMipmap(e)},clay_opengl_web_GL.getActiveAttrib=function(e,n){return clay_opengl_web_GL.gl.getActiveAttrib(e,n)},clay_opengl_web_GL.getActiveUniform=function(e,n){return clay_opengl_web_GL.gl.getActiveUniform(e,n)},clay_opengl_web_GL.getAttachedShaders=function(e){return clay_opengl_web_GL.gl.getAttachedShaders(e)},clay_opengl_web_GL.getAttribLocation=function(e,n){return clay_opengl_web_GL.gl.getAttribLocation(e,n)},clay_opengl_web_GL.getBufferParameter=function(e,n){return clay_opengl_web_GL.gl.getBufferParameter(e,n)},clay_opengl_web_GL.getContextAttributes=function(){return clay_opengl_web_GL.gl.getContextAttributes()},clay_opengl_web_GL.getError=function(){return clay_opengl_web_GL.gl.getError()},clay_opengl_web_GL.getExtension=function(e){return clay_opengl_web_GL.gl.getExtension(e)},clay_opengl_web_GL.getFramebufferAttachmentParameter=function(e,n,t){return clay_opengl_web_GL.gl.getFramebufferAttachmentParameter(e,n,t)},clay_opengl_web_GL.getParameter=function(e){return clay_opengl_web_GL.gl.getParameter(e)},clay_opengl_web_GL.getProgramInfoLog=function(e){return clay_opengl_web_GL.gl.getProgramInfoLog(e)},clay_opengl_web_GL.getProgramParameter=function(e,n){return clay_opengl_web_GL.gl.getProgramParameter(e,n)},clay_opengl_web_GL.getRenderbufferParameter=function(e,n){return clay_opengl_web_GL.gl.getRenderbufferParameter(e,n)},clay_opengl_web_GL.getShaderInfoLog=function(e){return clay_opengl_web_GL.gl.getShaderInfoLog(e)},clay_opengl_web_GL.getShaderParameter=function(e,n){return clay_opengl_web_GL.gl.getShaderParameter(e,n)},clay_opengl_web_GL.getShaderPrecisionFormat=function(e,n){return clay_opengl_web_GL.gl.getShaderPrecisionFormat(e,n)},clay_opengl_web_GL.getShaderSource=function(e){return clay_opengl_web_GL.gl.getShaderSource(e)},clay_opengl_web_GL.getSupportedExtensions=function(){return clay_opengl_web_GL.gl.getSupportedExtensions()},clay_opengl_web_GL.getTexParameter=function(e,n){return clay_opengl_web_GL.gl.getTexParameter(e,n)},clay_opengl_web_GL.getUniform=function(e,n){return clay_opengl_web_GL.gl.getUniform(e,n)},clay_opengl_web_GL.getUniformLocation=function(e,n){return clay_opengl_web_GL.gl.getUniformLocation(e,n)},clay_opengl_web_GL.getVertexAttrib=function(e,n){return clay_opengl_web_GL.gl.getVertexAttrib(e,n)},clay_opengl_web_GL.getVertexAttribOffset=function(e,n){return clay_opengl_web_GL.gl.getVertexAttribOffset(e,n)},clay_opengl_web_GL.hint=function(e,n){clay_opengl_web_GL.gl.hint(e,n)},clay_opengl_web_GL.isBuffer=function(e){return clay_opengl_web_GL.gl.isBuffer(e)},clay_opengl_web_GL.isEnabled=function(e){return clay_opengl_web_GL.gl.isEnabled(e)},clay_opengl_web_GL.isFramebuffer=function(e){return clay_opengl_web_GL.gl.isFramebuffer(e)},clay_opengl_web_GL.isProgram=function(e){return clay_opengl_web_GL.gl.isProgram(e)},clay_opengl_web_GL.isRenderbuffer=function(e){return clay_opengl_web_GL.gl.isRenderbuffer(e)},clay_opengl_web_GL.isShader=function(e){return clay_opengl_web_GL.gl.isShader(e)},clay_opengl_web_GL.isTexture=function(e){return clay_opengl_web_GL.gl.isTexture(e)},clay_opengl_web_GL.lineWidth=function(e){clay_opengl_web_GL.gl.lineWidth(e)},clay_opengl_web_GL.linkProgram=function(e){clay_opengl_web_GL.gl.linkProgram(e)},clay_opengl_web_GL.pixelStorei=function(e,n){clay_opengl_web_GL.gl.pixelStorei(e,n)},clay_opengl_web_GL.polygonOffset=function(e,n){clay_opengl_web_GL.gl.polygonOffset(e,n)},clay_opengl_web_GL.readPixels=function(e,n,t,i,s,r,l){clay_opengl_web_GL.gl.readPixels(e,n,t,i,s,r,l)},clay_opengl_web_GL.renderbufferStorage=function(e,n,t,i){clay_opengl_web_GL.gl.renderbufferStorage(e,n,t,i)},clay_opengl_web_GL.renderbufferStorageMultisample=function(e,n,t,i,s){clay_opengl_web_GL.gl.renderbufferStorageMultisample(e,n,t,i,s)},clay_opengl_web_GL.clearBufferfv=function(e,n,t,i){null==i&&(i=0),clay_opengl_web_GL.gl.clearBufferfv(e,n,t,i)},clay_opengl_web_GL.blitFramebuffer=function(e,n,t,i,s,r,l,a,o,h){clay_opengl_web_GL.gl.blitFramebuffer(e,n,t,i,s,r,l,a,o,h)},clay_opengl_web_GL.sampleCoverage=function(e,n){clay_opengl_web_GL.gl.sampleCoverage(e,n)},clay_opengl_web_GL.scissor=function(e,n,t,i){clay_opengl_web_GL.gl.scissor(e,n,t,i)},clay_opengl_web_GL.shaderSource=function(e,n){clay_opengl_web_GL.gl.shaderSource(e,n)},clay_opengl_web_GL.stencilFunc=function(e,n,t){clay_opengl_web_GL.gl.stencilFunc(e,n,t)},clay_opengl_web_GL.stencilFuncSeparate=function(e,n,t,i){clay_opengl_web_GL.gl.stencilFuncSeparate(e,n,t,i)},clay_opengl_web_GL.stencilMask=function(e){clay_opengl_web_GL.gl.stencilMask(e)},clay_opengl_web_GL.stencilMaskSeparate=function(e,n){clay_opengl_web_GL.gl.stencilMaskSeparate(e,n)},clay_opengl_web_GL.stencilOp=function(e,n,t){clay_opengl_web_GL.gl.stencilOp(e,n,t)},clay_opengl_web_GL.stencilOpSeparate=function(e,n,t,i){clay_opengl_web_GL.gl.stencilOpSeparate(e,n,t,i)},clay_opengl_web_GL.texImage2D=function(e,n,t,i,s,r,l,a,o){clay_opengl_web_GL.gl.texImage2D(e,n,t,i,s,r,l,a,o)},clay_opengl_web_GL.texParameterf=function(e,n,t){clay_opengl_web_GL.gl.texParameterf(e,n,t)},clay_opengl_web_GL.texParameteri=function(e,n,t){clay_opengl_web_GL.gl.texParameteri(e,n,t)},clay_opengl_web_GL.texSubImage2D=function(e,n,t,i,s,r,l,a,o){clay_opengl_web_GL.gl.texSubImage2D(e,n,t,i,s,r,l,a,o)},clay_opengl_web_GL.uniform1f=function(e,n){clay_opengl_web_GL.gl.uniform1f(e,n)},clay_opengl_web_GL.uniform1fv=function(e,n){clay_opengl_web_GL.gl.uniform1fv(e,n)},clay_opengl_web_GL.uniform1i=function(e,n){clay_opengl_web_GL.gl.uniform1i(e,n)},clay_opengl_web_GL.uniform1iv=function(e,n){clay_opengl_web_GL.gl.uniform1iv(e,n)},clay_opengl_web_GL.uniform2f=function(e,n,t){clay_opengl_web_GL.gl.uniform2f(e,n,t)},clay_opengl_web_GL.uniform2fv=function(e,n){clay_opengl_web_GL.gl.uniform2fv(e,n)},clay_opengl_web_GL.uniform2i=function(e,n,t){clay_opengl_web_GL.gl.uniform2i(e,n,t)},clay_opengl_web_GL.uniform2iv=function(e,n){clay_opengl_web_GL.gl.uniform2iv(e,n)},clay_opengl_web_GL.uniform3f=function(e,n,t,i){clay_opengl_web_GL.gl.uniform3f(e,n,t,i)},clay_opengl_web_GL.uniform3fv=function(e,n){clay_opengl_web_GL.gl.uniform3fv(e,n)},clay_opengl_web_GL.uniform3i=function(e,n,t,i){clay_opengl_web_GL.gl.uniform3i(e,n,t,i)},clay_opengl_web_GL.uniform3iv=function(e,n){clay_opengl_web_GL.gl.uniform3iv(e,n)},clay_opengl_web_GL.uniform4f=function(e,n,t,i,s){clay_opengl_web_GL.gl.uniform4f(e,n,t,i,s)},clay_opengl_web_GL.uniform4fv=function(e,n){clay_opengl_web_GL.gl.uniform4fv(e,n)},clay_opengl_web_GL.uniform4i=function(e,n,t,i,s){clay_opengl_web_GL.gl.uniform4i(e,n,t,i,s)},clay_opengl_web_GL.uniform4iv=function(e,n){clay_opengl_web_GL.gl.uniform4iv(e,n)},clay_opengl_web_GL.uniformMatrix2fv=function(e,n,t){clay_opengl_web_GL.gl.uniformMatrix2fv(e,n,t)},clay_opengl_web_GL.uniformMatrix3fv=function(e,n,t){clay_opengl_web_GL.gl.uniformMatrix3fv(e,n,t)},clay_opengl_web_GL.uniformMatrix4fv=function(e,n,t){clay_opengl_web_GL.gl.uniformMatrix4fv(e,n,t)},clay_opengl_web_GL.useProgram=function(e){clay_opengl_web_GL.gl.useProgram(e)},clay_opengl_web_GL.validateProgram=function(e){clay_opengl_web_GL.gl.validateProgram(e)},clay_opengl_web_GL.vertexAttrib1f=function(e,n){clay_opengl_web_GL.gl.vertexAttrib1f(e,n)},clay_opengl_web_GL.vertexAttrib1fv=function(e,n){clay_opengl_web_GL.gl.vertexAttrib1fv(e,n)},clay_opengl_web_GL.vertexAttrib2f=function(e,n,t){clay_opengl_web_GL.gl.vertexAttrib2f(e,n,t)},clay_opengl_web_GL.vertexAttrib2fv=function(e,n){clay_opengl_web_GL.gl.vertexAttrib2fv(e,n)},clay_opengl_web_GL.vertexAttrib3f=function(e,n,t,i){clay_opengl_web_GL.gl.vertexAttrib3f(e,n,t,i)},clay_opengl_web_GL.vertexAttrib3fv=function(e,n){clay_opengl_web_GL.gl.vertexAttrib3fv(e,n)},clay_opengl_web_GL.vertexAttrib4f=function(e,n,t,i,s){clay_opengl_web_GL.gl.vertexAttrib4f(e,n,t,i,s)},clay_opengl_web_GL.vertexAttrib4fv=function(e,n){clay_opengl_web_GL.gl.vertexAttrib4fv(e,n)},clay_opengl_web_GL.vertexAttribPointer=function(e,n,t,i,s,r){clay_opengl_web_GL.gl.vertexAttribPointer(e,n,t,i,s,r)},clay_opengl_web_GL.viewport=function(e,n,t,i){clay_opengl_web_GL.gl.viewport(e,n,t,i)},clay_opengl_web_GL.get_version=function(){return 7938};var clay_web_WebAssets=function(e){clay_base_BaseAssets.call(this,e)};t["clay.web.WebAssets"]=clay_web_WebAssets,clay_web_WebAssets.__name__="clay.web.WebAssets",clay_web_WebAssets.__super__=clay_base_BaseAssets,clay_web_WebAssets.prototype=$extend(clay_base_BaseAssets.prototype,{isSynchronous:function(){return!1},loadImage:function(e,n,t,i){null==t&&(t=!1),null==n&&(n=4);var s=this;if(null==e)throw haxe_Exception.thrown("Image path is null!");var r=ceramic_Path.extension(e);return this.app.io.loadData(e,!0,null,(function(e){null!=e?s.imageFromBytesUsingImageElement(e,r,4,null,(function(e){null!=i&&clay_Immediate.push((function(){i(e)}))})):null!=i&&clay_Immediate.push((function(){i(null)}))})),null},decodeImageFromElement:function(e,n){null==n&&(n=!0);var t=n?this.nearestPowerOfTwo(e.width):e.width,i=n?this.nearestPowerOfTwo(e.height):e.height,s=this.paddedBytesFromElement(e.width,e.height,t,i,e),r=new clay_Image(e.width,e.height,t,i,4,4,s);return s=null,r},imageFromBytes:function(e,n,t,i,s){return null==i&&(i=!0),null==t&&(t=4),this.imageFromBytesUsingImageElement(e,n,t,i,s)},imageFromBytesUsingImageElement:function(e,n,t,i,s){null==i&&(i=!0),null==t&&(t=4);var r=this;if(null==e)throw haxe_Exception.thrown("Image bytes are null!");for(var l="",a=0,o=e.length;a<o;){var h=255&e[a++];l+=String.fromCodePoint(h)}var c="data:image/"+n+";base64,"+window.btoa(l),u=new Image;return u.onload=function(e){var n=r.decodeImageFromElement(u,i);null!=s&&clay_Immediate.push((function(){s(n)}))},u.onerror=function(e){clay_Log.error("failed to load image from bytes, on error: "+e,{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebAssets.hx",lineNumber:216,className:"clay.web.WebAssets",methodName:"imageFromBytesUsingImageElement"})},u.src=c,null},pixelsToPngData:function(e,n,t,i){var s=window.document.createElement("canvas");s.width=e,s.height=n;var r=s.getContext("2d",null);r.clearRect(0,0,s.width,s.height);var l=new Uint8ClampedArray(t.buffer),a=r.createImageData(e,n);a.data.set(l);try{r.putImageData(a,0,0),s.toBlob((function(e){e.arrayBuffer().then((function(e){var n=new Uint8Array(e,0,e.byteLength);i(n),s=null,r=null,a=null}))}),"image/png")}catch(e){var o=haxe_Exception.caught(e).unwrap();throw haxe_Exception.thrown(o)}},paddedBytesFromPixels:function(e,n,t,i,s){var r=window.document.createElement("canvas");r.width=t,r.height=i;var l=r.getContext("2d",null);l.clearRect(0,0,r.width,r.height);var a=null,o=new Uint8ClampedArray(s.buffer),h=l.createImageData(e,n);h.data.set(o);try{l.putImageData(h,0,0),a=l.getImageData(0,0,r.width,r.height)}catch(e){var c=haxe_Exception.caught(e).unwrap();throw haxe_Exception.thrown(c)}return r=null,l=null,h=null,new Uint8Array(a.data)},paddedBytesFromElement:function(e,n,t,i,s){var r=window.document.createElement("canvas");r.width=t,r.height=i;var l=r.getContext("2d",null);l.clearRect(0,0,r.width,r.height),l.drawImage(s,0,0,e,n);var a=null;try{a=l.getImageData(0,0,r.width,r.height)}catch(e){var o=haxe_Exception.caught(e).unwrap();throw"- textures served over http:// work for cross origin byte requests",clay_Log.info("- textures served from file:/// throw security errors\n- textures served over http:// work for cross origin byte requests",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebAssets.hx",lineNumber:333,className:"clay.web.WebAssets",methodName:"paddedBytesFromElement"}),haxe_Exception.thrown(o)}return r=null,l=null,new Uint8Array(a.data)},nearestPowerOfTwo:function(e){return clay_web_WebAssets.POT?(--e,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e):e},__class__:clay_web_WebAssets});var clay_web_WebAudio=function(e){this.active=!1,this.ignoreEndedSoundsTick1=[],this.ignoreEndedSoundsTick0=[],this.handleSeq=0,this.suspended=!1,clay_base_BaseAudio.call(this,e),this.instances=new haxe_ds_IntMap};t["clay.web.WebAudio"]=clay_web_WebAudio,clay_web_WebAudio.__name__="clay.web.WebAudio",clay_web_WebAudio.__super__=clay_base_BaseAudio,clay_web_WebAudio.prototype=$extend(clay_base_BaseAudio.prototype,{init:function(){this.initWebAudio()},tick:function(e){for(var n=this.instances,t=n,i=n.keys();i.hasNext();){var s=i.next(),r={value:t.get(s),key:s},l=r.key;if((h=r.value).loop&&1==h.state){var a=1==h.state?h.timeResume+(this.app.timestamp-h.timeResumeAppTime)*h.pitch:0,o=h.source.getDuration();if(o>0&&a>=o)for(this.app.events.audioEvent(0,l);a>=o;)a-=o,h.timeResumeAppTime+=o/h.pitch}}for(;this.ignoreEndedSoundsTick1.length>0;){(h=this.ignoreEndedSoundsTick1.shift()).ignoreNextEnded>0&&h.ignoreNextEnded--}for(;this.ignoreEndedSoundsTick0.length>0;){var h=this.ignoreEndedSoundsTick0.shift();this.ignoreEndedSoundsTick1.push(h)}},initWebAudio:function(){try{this.context=new AudioContext}catch(e){try{this.context=new window.webkitAudioContext}catch(e){return void clay_Log.debug("Audio / webaudio / no AudioContext could be created! No audio loading or playback will be available.",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:119,className:"clay.web.WebAudio",methodName:"initWebAudio"})}}if(null==this.context)throw haxe_Exception.thrown("Audio / webaudio / no AudioContext could be created, is the Web Audio API supported?");var e="channelCount: "+this.context.destination.channelCount+', channelCountMode: "'+this.context.destination.channelCountMode+'", channelInterpretation: "'+this.context.destination.channelInterpretation+'", maxChannelCount: '+this.context.destination.maxChannelCount+", numberOfInputs: "+this.context.destination.numberOfInputs+", numberOfOutputs: "+this.context.destination.numberOfOutputs;clay_Log.debug("Audio / webaudio: "+Std.string(this.context)+" / sampleRate: "+this.context.sampleRate+" / destination: "+e,{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:135,className:"clay.web.WebAudio",methodName:"initWebAudio"}),this.active=!0},shutdown:function(){this.context.close()},soundOf:function(e){return this.instances.h[e]},playBuffer:function(e){var n=this.context.createBufferSource();return n.buffer=e.buffer,n},playBufferAgain:function(e,n,t){var i=this;n.bufferNode=this.playBuffer(n.source.data),n.bufferNode.playbackRate.value=n.pitch,n.bufferNode.connect(n.panNode),n.bufferNode.loop=n.loop,n.panNode.connect(n.gainNode),n.gainNode.connect(this.context.destination),n.bufferNode.start(0,t),n.bufferNode.onended=function(){i.soundEnded(n)}},playInstance:function(e,n,t,i,s,r,l){var a=this,o=this.context.createGain(),h=this.context.createPanner(),c=null;o.gain.value=r,h.panningModel="equalpower",h.setPosition(Math.cos(-1.5707),0,Math.sin(1.5707)),null!=s&&(c=s,s.loop=l),null!=i.mediaNode&&(c=i.mediaNode,i.mediaElem.loop=l),c.connect(h),h.connect(o),o.connect(this.context.destination);var u={handle:e,source:n,instance:t,bufferNode:s,mediaNode:i.mediaNode,mediaElem:i.mediaElem,gainNode:o,panNode:h,state:1,loop:l,pan:0,pitch:1,ignoreNextEnded:0,timeResumeAppTime:window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,timeResume:0,timePause:null};this.instances.h[e]=u,null!=s&&(s.start(0),s.onended=function(){a.soundEnded(u)}),null!=i.mediaNode&&(i.mediaElem.play(),i.mediaElem.onended=function(){a.soundEnded(u)})},play:function(e,n,t){var i=e.data,s=this.handleSeq,r=e.instance(s);return e.data.isStream?(i.mediaElem.play(),i.mediaElem.volume=1,this.playInstance(s,e,r,i,null,n,!1)):this.playInstance(s,e,r,i,this.playBuffer(i),n,!1),this.handleSeq++,t&&this.pause(s),s},loop:function(e,n,t){var i=e.data,s=this.handleSeq,r=e.instance(s);return e.data.isStream?(i.mediaElem.play(),i.mediaElem.volume=1,this.playInstance(s,e,r,i,null,n,!0)):this.playInstance(s,e,r,i,this.playBuffer(i),n,!0),this.handleSeq++,t&&this.pause(s),s},stopBuffer:function(e){e.bufferNode.stop(),e.bufferNode.disconnect(),e.gainNode.disconnect(),e.panNode.disconnect(),e.bufferNode=null},pause:function(e){var n=this.instances.h[e];if(null!=n&&1==n.state){clay_Log.debug("Audio / pause handle="+e+", "+n.source.data.id,{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:319,className:"clay.web.WebAudio",methodName:"pause"});var t=this.positionOf(e);n.timePause=t,n.state=0,null!=n.bufferNode?this.stopBuffer(n):null!=n.mediaNode&&n.mediaElem.pause()}},unPause:function(e){var n=this.instances.h[e];null!=n&&0==n.state&&(clay_Log.debug("Audio / unpause handle="+e+", "+n.source.data.id,{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:342,className:"clay.web.WebAudio",methodName:"unPause"}),n.timeResume=null!=n.timePause?n.timePause:0,n.timeResumeAppTime=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,null==n.mediaNode?this.playBufferAgain(e,n,n.timePause):n.mediaElem.play(),n.state=1)},soundEnded:function(e){e.ignoreNextEnded>0?e.ignoreNextEnded--:0!=e.state&&(1!=e.state||this.positionOf(e.handle)+.1>=e.source.getDuration())&&this.destroySound(e)},destroySound:function(e){null!=e.source&&this.instances.h.hasOwnProperty(e.handle)&&this.positionOf(e.handle)+.1>=e.source.getDuration()&&this.app.events.audioEvent(0,e.handle),null!=e.bufferNode&&(e.bufferNode.stop(),e.bufferNode.disconnect(),e.gainNode.disconnect(),e.panNode.disconnect(),e.bufferNode=null),null!=e.mediaNode&&(e.mediaElem.pause(),e.mediaElem.currentTime=0,e.mediaNode.disconnect(),e.mediaElem=null,e.mediaNode=null),null!=e.gainNode&&(e.gainNode.disconnect(),e.gainNode=null),null!=e.panNode&&(e.panNode.disconnect(),e.panNode=null),this.instances.h.hasOwnProperty(e.handle)&&(this.instances.remove(e.handle),this.app.events.audioEvent(1,e.handle)),e=null},stop:function(e){var n=this.instances.h[e];null!=n&&(2!=n.state&&clay_Log.debug("Audio / stop handle="+e+(null!=n.source&&null!=n.source.data?", "+n.source.data.id:""),{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:416,className:"clay.web.WebAudio",methodName:"stop"}),this.destroySound(n),n.state=2)},volume:function(e,n){var t=this.instances.h[e];null!=t&&(clay_Log.debug("Audio / volume="+n+" handle="+e+", "+t.source.data.id,{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:429,className:"clay.web.WebAudio",methodName:"volume"}),t.gainNode.gain.value=n)},pan:function(e,n){var t=this.instances.h[e];null!=t&&(clay_Log.debug("Audio / pan="+n+" handle="+e+", "+t.source.data.id,{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:441,className:"clay.web.WebAudio",methodName:"pan"}),t.pan=n,t.panNode.setPosition(Math.cos(1.5707*(n-1)),0,Math.sin(1.5707*(n+1))))},pitch:function(e,n){var t=this.instances.h[e];if(null!=t){if(clay_Log.debug("Audio / pitch="+n+" handle="+e+", "+t.source.data.id,{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:457,className:"clay.web.WebAudio",methodName:"pitch"}),null==t.mediaNode){var i=this.positionOf(e);t.pitch=n,1==t.state&&(t.timeResumeAppTime=t.timeResume+(window.performance.now()/1e3-clay_web_WebRuntime.timestampStart)-i/t.pitch)}if(null!=t.bufferNode)t.bufferNode.playbackRate.value=n;else t.mediaNode}},position:function(e,n){var t=this.instances.h[e];null!=t&&(clay_Log.debug("Audio / position="+n+" handle="+e+", "+t.source.data.id,{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:482,className:"clay.web.WebAudio",methodName:"position"}),0==t.state?t.timePause=n:(t.timeResume=n,t.timeResumeAppTime=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,null!=t.bufferNode?(t.ignoreNextEnded++,this.ignoreEndedSoundsTick0.push(t),this.stopBuffer(t),this.playBufferAgain(e,t,n)):t.mediaElem.currentTime=n))},volumeOf:function(e){var n=this.instances.h[e];return null==n?0:n.gainNode.gain.value},panOf:function(e){var n=this.instances.h[e];return null==n?0:n.pan},pitchOf:function(e){var n=this.instances.h[e];return null==n?1:n.pitch},positionOf:function(e){var n=this.instances.h[e];if(null==n)return 0;if(null!=n.mediaElem)return n.mediaElem.currentTime;switch(n.state){case 0:case 1:var t;switch(n.state){case 0:t=n.timePause;break;case 1:t=n.timeResume+(window.performance.now()/1e3-clay_web_WebRuntime.timestampStart-n.timeResumeAppTime)*n.pitch;break;default:t=0}var i=n.source.getDuration();return i>0&&(n.loop?t%=i:t>i&&(t=i)),t;case-1:case 2:return 0}},stateOf:function(e){var n=this.instances.h[e];return null==n?-1:n.state},loopOf:function(e){var n=this.instances.h[e];return null!=n&&n.loop},instanceOf:function(e){var n=this.instances.h[e];return null==n?null:n.instance},suspend:function(){this.active&&(this.suspended||(this.suspended=!0,this.active=!1,this.context.suspend()))},resume:function(){this.active||this.suspended&&(this.suspended=!1,this.active=!0,this.context.resume())},loadData:function(e,n,t,i,s){if(null==i&&(i=!1),null==e)throw haxe_Exception.thrown("path is null!");return this.active?n?(this.loadDataFromStream(e,t,s),null):(this.loadDataFromSound(e,t,s),null):(clay_Log.error("Audio / WebAudio context unavailable",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:628,className:"clay.web.WebAudio",methodName:"loadData"}),null!=s&&clay_Immediate.push((function(){s(null)})),null)},dataFromBytes:function(e,n,t,i){var s=this;if(this.active){if(null==e)throw haxe_Exception.thrown("id is null!");if(null==n)throw haxe_Exception.thrown("bytes is null!");this.context.decodeAudioData(n.buffer,(function(n){var r=new clay_web__$WebAudio_WebAudioData(s.app,n,null,null,new clay_audio_AudioDataOptions(e,0|n.sampleRate,n.length,n.duration,n.numberOfChannels,null,t,null,!1));null!=i&&clay_Immediate.push((function(){i(r)}))}),(function(){clay_Log.error("Audio / failed to decode audio for `"+e+"`",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:685,className:"clay.web.WebAudio",methodName:"dataFromBytes"}),null!=i&&clay_Immediate.push((function(){i(null)}))}))}else null!=i&&clay_Immediate.push((function(){i(null)}))},handleSourceDestroyed:function(e){},handleInstanceDestroyed:function(e){this.stop(e)},loadDataFromSound:function(e,n,t){var i=this;this.app.io.loadData(e,!0,null,(function(s){null!=s?i.dataFromBytes(e,s,n,t):null!=t&&clay_Immediate.push((function(){t(null)}))}))},loadDataFromStream:function(e,n,t){var i=this,s=new Audio(e);s.autoplay=!1,s.controls=!1,s.preload="auto",s.onerror=function(n){var i;switch(s.error.code){case 1:i="MEDIA_ERR_ABORTED";break;case 2:i="MEDIA_ERR_NETWORK";break;case 3:i="MEDIA_ERR_DECODE";break;case 4:i="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:i="MEDIA_ERR_ENCRYPTED";break;default:i="unknown error"}clay_Log.error("Audio / failed to load `"+e+"` as stream : `"+i+"`",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebAudio.hx",lineNumber:748,className:"clay.web.WebAudio",methodName:"loadDataFromStream"}),null!=t&&clay_Immediate.push((function(){t(null)}))},s.onloadedmetadata=function(r){var l=i.context.createMediaElementSource(s),a=0|i.context.sampleRate,o=l.channelCount,h=a*o*2,c=s.duration*h|0,u=new clay_web__$WebAudio_WebAudioData(i.app,null,l,s,new clay_audio_AudioDataOptions(e,a,c,s.duration,o,null,n,null,!0));null!=t&&clay_Immediate.push((function(){t(u)}))}},__class__:clay_web_WebAudio});var clay_web__$WebAudio_WebAudioData=function(e,n,t,i,s){this.buffer=n,this.mediaNode=t,this.mediaElem=i,clay_audio_AudioData.call(this,e,s)};t["clay.web._WebAudio.WebAudioData"]=clay_web__$WebAudio_WebAudioData,clay_web__$WebAudio_WebAudioData.__name__="clay.web._WebAudio.WebAudioData",clay_web__$WebAudio_WebAudioData.__super__=clay_audio_AudioData,clay_web__$WebAudio_WebAudioData.prototype=$extend(clay_audio_AudioData.prototype,{destroy:function(){this.buffer=null,this.mediaNode=null,this.mediaElem=null,clay_audio_AudioData.prototype.destroy.call(this)},__class__:clay_web__$WebAudio_WebAudioData});var clay_web_WebConfig=function(e,n,t,i,s,r,l){this.mouseUseBrowserWindowEvents=!0,this.preventDefaultKeys=[1073741904,1073741903,1073741906,1073741905,8,9,127,32],this.preventDefaultTouches=!0,this.preventDefaultMouseWheel=!0,this.preventDefaultContextMenu=!0,this.windowParent=window.document.body,this.windowId="app",null!=e&&(this.windowId=e),null!=n&&(this.windowParent=n),null!=t&&(this.preventDefaultContextMenu=t),null!=i&&(this.preventDefaultMouseWheel=i),null!=s&&(this.preventDefaultTouches=s),null!=r&&(this.preventDefaultKeys=r),null!=l&&(this.mouseUseBrowserWindowEvents=l)};t["clay.web.WebConfig"]=clay_web_WebConfig,clay_web_WebConfig.__name__="clay.web.WebConfig",clay_web_WebConfig.prototype={__class__:clay_web_WebConfig};var clay_web_WebIO=function(e){clay_base_BaseIO.call(this,e)};t["clay.web.WebIO"]=clay_web_WebIO,clay_web_WebIO.__name__="clay.web.WebIO",clay_web_WebIO.__super__=clay_base_BaseIO,clay_web_WebIO.prototype=$extend(clay_base_BaseIO.prototype,{isSynchronous:function(){return!1},loadData:function(e,n,t,i){if(null==t&&(t=!1),null==n&&(n=!1),null==e)throw haxe_Exception.thrown("Path is null!");var s=new XMLHttpRequest;return s.open("GET",e,true),n?s.overrideMimeType("text/plain; charset=x-user-defined"):s.overrideMimeType("text/plain; charset=UTF-8"),s.responseType="arraybuffer",s.onload=function(e){if(200==s.status){var n=new Uint8Array(s.response);null!=i&&clay_Immediate.push((function(){i(n)}))}else clay_Log.error("Request status was "+s.status+" / "+s.statusText,{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebIO.hx",lineNumber:136,className:"clay.web.WebIO",methodName:"loadData"}),null!=i&&clay_Immediate.push((function(){i(e)}))},s.send(),null},__class__:clay_web_WebIO});var clay_web_WebRuntime=function(e){this.didEmitTickOnce=!1,this.keyDownStates=new ceramic_IntMap,this.pendingKeyUps=[],this.touches=new ceramic_IntMap,this.windowDpr=1,this.windowY=0,this.windowX=0,this.skipKeyboardEvents=!1,this.skipMouseEvents=!1,this.webglVersion=1,this.gamepadsSupported=!1,clay_base_BaseRuntime.call(this,e)};t["clay.web.WebRuntime"]=clay_web_WebRuntime,clay_web_WebRuntime.__name__="clay.web.WebRuntime",clay_web_WebRuntime.timestamp=function(){return window.performance.now()/1e3-clay_web_WebRuntime.timestampStart},clay_web_WebRuntime.defaultConfig=function(){return new clay_web_WebConfig("app",window.document.body,!0,!0,!0,[1073741904,1073741903,1073741906,1073741905,8,9,127,32],!0)},clay_web_WebRuntime.__super__=clay_base_BaseRuntime,clay_web_WebRuntime.prototype=$extend(clay_base_BaseRuntime.prototype,{init:function(){clay_web_WebRuntime.timestampStart=window.performance.now()/1e3,this.name="web",this.initGamepads()},ready:function(){this.createWindow(),clay_Log.debug("Web / ready",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebRuntime.hx",lineNumber:85,className:"clay.web.WebRuntime",methodName:"ready"})},run:function(){return clay_Log.debug("Web / run",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebRuntime.hx",lineNumber:91,className:"clay.web.WebRuntime",methodName:"run"}),this.loop(0),!1},loop:function(e){if(null==e&&(e=.016),this.app.hasShutdown)return!1;this.app.shuttingDown||window.requestAnimationFrame($bind(this,this.loop)),this.app.ready&&(this.gamepadsSupported&&this.pollGamepads(),this.updateWindowBounds());var n=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;return this.app.shouldUpdate(n)&&(this.didEmitTickOnce=!0,this.app.emitTick(n)),this.clearPendingKeyUps(),this.app.emitRender(),!0},createWindow:function(){var e=this.app.config.window;this.window=window.document.createElement("canvas"),this.windowDpr=this.windowDevicePixelRatio(),this.window.width=Math.floor(e.width*this.windowDpr),this.window.height=Math.floor(e.height*this.windowDpr),this.windowW=e.width,this.windowH=e.height,this.window.style.width=e.width+"px",this.window.style.height=e.height+"px",this.window.style.background="#000000",clay_Log.debug("Web / Created window at "+this.windowX+","+this.windowY+" - "+this.window.width+"x"+this.window.height+" pixels ("+e.width+"x"+e.height+"@"+this.windowDpr+"x)",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebRuntime.hx",lineNumber:155,className:"clay.web.WebRuntime",methodName:"createWindow"}),this.window.id=this.app.config.runtime.windowId,this.app.config.runtime.windowParent.appendChild(this.window),null!=e.title&&(window.document.title=e.title),this.createRenderContext(this.window)?(this.postRenderContext(this.window),this.setupEvents()):this.createRenderContextFailed()},createRenderContext:function(e){var n=this.app.config.render,t=this.applyGLAttributes(n),i=null;return 1!=n.webgl.version&&(null==(i=e.getContext("webgl"+n.webgl.version,t))&&(i=e.getContext("experimental-webgl"+n.webgl.version,t)),null!=i&&(this.webglVersion=n.webgl.version)),null==i&&(i=js_html__$CanvasElement_CanvasUtil.getContextWebGL(e,t),this.webglVersion=1),clay_opengl_web_GL.gl=i,clay_Log.debug("GL / context: "+Std.string(null!=i),{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebRuntime.hx",lineNumber:201,className:"clay.web.WebRuntime",methodName:"createRenderContext"}),null!=i},createRenderContextFailed:function(){var e=window.document.createElement("div"),n=window.document.createElement("div");throw e.style.marginLeft="auto",e.style.marginRight="auto",e.style.color="#d3d3d3",e.style.marginTop="5em",e.style.fontSize="1.4em",e.style.fontFamily="Helvetica, sans-serif",e.innerHTML='WebGL is required to run this!<br/><br/>visit <a style="color:#06b4fb; text-decoration:none;" href="http://get.webgl.org/">get.webgl.com</a> for info<br/>and contact the developer of this app',n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n.style.display="block",n.style.minWidth="100%",n.style.minHeight="100%",n.style.textAlign="center",n.style.position="absolute",n.style.background="rgba(1,1,1,0.90)",n.appendChild(e),window.document.body.appendChild(n),haxe_Exception.thrown("Web / Failed to create render context")},applyGLAttributes:function(e){var n={alpha:e.webgl.alpha,antialias:e.webgl.antialias,depth:e.webgl.depth,stencil:e.webgl.stencil,failIfMajorPerformanceCaveat:e.webgl.failIfMajorPerformanceCaveat,premultipliedAlpha:e.webgl.premultipliedAlpha,preserveDrawingBuffer:e.webgl.preserveDrawingBuffer};return e.antialiasing>0&&(n.antialias=!0),e.depth>0&&(n.depth=!0),e.stencil>0&&(n.stencil=!0),n},postRenderContext:function(e){var n=this.app.config.render.defaultClear;clay_opengl_web_GL.gl.clearDepth(1),clay_opengl_web_GL.gl.clearStencil(0),clay_opengl_web_GL.gl.clearColor(n.r,n.g,n.b,n.a),clay_opengl_web_GL.gl.clear(17664)},setupEvents:function(){window.document.addEventListener("fullscreenchange",$bind(this,this.handleFullscreenChange)),window.document.addEventListener("fullscreenerror",$bind(this,this.handleFullscreenError)),this.window.addEventListener("mouseenter",$bind(this,this.handleMouseEnter)),this.window.addEventListener("mouseleave",$bind(this,this.handleMouseLeave)),window.document.addEventListener("visibilitychange",$bind(this,this.handleVisibilityChange)),window.document.addEventListener("keydown",$bind(this,this.handleKeyDown)),window.document.addEventListener("keyup",$bind(this,this.handleKeyUp)),window.document.addEventListener("keypress",$bind(this,this.handleKeyPress)),this.window.addEventListener("contextmenu",$bind(this,this.handleContextMenu));var e=this.app.config.runtime.mouseUseBrowserWindowEvents?window:this.window;e.addEventListener("mousedown",$bind(this,this.handleMouseDown)),e.addEventListener("mouseup",$bind(this,this.handleMouseUp)),e.addEventListener("mousemove",$bind(this,this.handleMouseMove)),this.window.addEventListener("wheel",$bind(this,this.handleWheel)),this.window.addEventListener("touchstart",$bind(this,this.handleTouchStart)),this.window.addEventListener("touchend",$bind(this,this.handleTouchEnd)),this.window.addEventListener("touchmove",$bind(this,this.handleTouchMove)),window.addEventListener("gamepadconnected",$bind(this,this.handleGamepadConnected)),window.addEventListener("gamepaddisconnected",$bind(this,this.handleGamepadDisconnected))},handleVisibilityChange:function(e){window.document.hidden?(this.app.emitWindowEvent(2,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,0,0),this.app.emitWindowEvent(7,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,0,0),this.app.emitWindowEvent(13,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,0,0)):(this.app.emitWindowEvent(1,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,0,0),this.app.emitWindowEvent(9,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,0,0),this.app.emitWindowEvent(12,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,0,0))},bindCustomElementTouchEvents:function(e){e.addEventListener("touchstart",$bind(this,this.handleTouchStart)),e.addEventListener("touchend",$bind(this,this.handleTouchEnd)),e.addEventListener("touchmove",$bind(this,this.handleTouchMove))},handleContextMenu:function(e){this.app.config.runtime.preventDefaultContextMenu&&e.preventDefault()},handleFullscreenChange:function(e){var n=window.document.fullscreenElement;null!=n?(clay_Log.debug("Web / Entering fullscreen (id="+n.id+")",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebRuntime.hx",lineNumber:374,className:"clay.web.WebRuntime",methodName:"handleFullscreenChange"}),this.app.config.window.fullscreen=!0,this.app.emitWindowEvent(15,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,0,0)):(clay_Log.debug("Web / Leaving fullscreen",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebRuntime.hx",lineNumber:379,className:"clay.web.WebRuntime",methodName:"handleFullscreenChange"}),this.app.config.window.fullscreen=!1,this.app.emitWindowEvent(16,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,0,0))},handleFullscreenError:function(e){clay_Log.warning("Web / Failed to change fullscreen setting: "+Std.string(e),{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebRuntime.hx",lineNumber:388,className:"clay.web.WebRuntime",methodName:"handleFullscreenError"})},handleMouseEnter:function(e){this.app.emitWindowEvent(10,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,0,0)},handleMouseLeave:function(e){this.app.emitWindowEvent(11,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,0,0)},handleMouseDown:function(e){if(!this.skipMouseEvents){var n=this.app.input,t=Math.floor(this.windowDpr*(e.pageX-this.windowX)),i=Math.floor(this.windowDpr*(e.pageY-this.windowY)),s=e.button,r=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;n.app.events.mouseDown(t,i,s,r,1)}},handleMouseUp:function(e){if(!this.skipMouseEvents){var n=this.app.input,t=Math.floor(this.windowDpr*(e.pageX-this.windowX)),i=Math.floor(this.windowDpr*(e.pageY-this.windowY)),s=e.button,r=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;n.app.events.mouseUp(t,i,s,r,1)}},handleMouseMove:function(e){if(!this.skipMouseEvents){var n=null==e.movementX?0:e.movementX,t=null==e.movementY?0:e.movementY;n=Math.floor(n*this.windowDpr),t=Math.floor(t*this.windowDpr);var i=this.app.input,s=Math.floor(this.windowDpr*(e.pageX-this.windowX)),r=Math.floor(this.windowDpr*(e.pageY-this.windowY)),l=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;i.app.events.mouseMove(s,r,n,t,l,1)}},handleWheel:function(e){if(this.app.config.runtime.preventDefaultMouseWheel&&e.preventDefault(),!this.skipMouseEvents){var n=this.app.input,t=Math.round(.1*e.deltaX),i=Math.round(.1*e.deltaY),s=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;n.app.events.mouseWheel(t,i,s,1)}},handleTouchStart:function(e){this.app.config.runtime.preventDefaultTouches&&e.preventDefault();for(var n=this.window.getBoundingClientRect(),t=0,i=e.changedTouches;t<i.length;){var s=i[t];++t;var r=s.clientX-n.left,l=s.clientY-n.top;r/=n.width,l/=n.height;var a=this.touches.get(s.identifier);null==a?(a={x:r,y:l},this.touches.set(s.identifier,a)):(a.x=r,a.y=l);var o=this.app.input,h=s.identifier,c=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;o.app.events.touchDown(r,l,0,0,h,c)}},handleTouchEnd:function(e){this.app.config.runtime.preventDefaultTouches&&e.preventDefault();for(var n=this.window.getBoundingClientRect(),t=0,i=e.changedTouches;t<i.length;){var s=i[t];++t;var r=s.clientX-n.left,l=s.clientY-n.top;r/=n.width,l/=n.height;var a=this.touches.get(s.identifier);null==a&&(a={x:r,y:l},this.touches.set(s.identifier,a));var o=this.app.input,h=r-a.x,c=l-a.y,u=s.identifier,_=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;o.app.events.touchUp(r,l,h,c,u,_),a.x=r,a.y=l}},handleTouchMove:function(e){this.app.config.runtime.preventDefaultTouches&&e.preventDefault();for(var n=this.window.getBoundingClientRect(),t=0,i=e.changedTouches;t<i.length;){var s=i[t];++t;var r=s.clientX-n.left,l=s.clientY-n.top;r/=n.width,l/=n.height;var a=this.touches.get(s.identifier);null==a&&(a={x:r,y:l},this.touches.set(s.identifier,a));var o=this.app.input,h=r-a.x,c=l-a.y,u=s.identifier,_=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;o.app.events.touchMove(r,l,h,c,u,_),a.x=r,a.y=l}},clearPendingKeyUps:function(){for(;this.pendingKeyUps.length>0;){var e=this.pendingKeyUps.shift();if(1==this.keyDownStates.get(e.keyCode)){this.keyDownStates.set(e.keyCode,!1);var n=this.app.input,t=e.keyCode,i=e.scanCode,s=e.repeat,r=e.modState,l=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;n.app.events.keyUp(t,i,s,r,l,e.windowId)}}},handleKeyDown:function(e){if(!this.skipKeyboardEvents){var n=this.convertKeyCode(e.keyCode),t=this.convertScanCode(e.code,n),i=this.modStateFromEvent(e);if(!i.none)switch(n){case 1073742048:case 1073742049:case 1073742050:case 1073742051:case 1073742052:case 1073742053:case 1073742054:case 1073742055:break;default:(i.lctrl||i.rctrl||i.lalt||i.ralt||i.lmeta||i.rmeta)&&this.pendingKeyUps.push({keyCode:n,scanCode:t,repeat:e.repeat,modState:i,windowId:1})}-1!=this.app.config.runtime.preventDefaultKeys.indexOf(n)&&e.preventDefault(),this.keyDownStates.set(n,!0);var s=this.app.input,r=e.repeat,l=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;s.app.events.keyDown(n,t,r,i,l,1)}},handleKeyUp:function(e){if(!this.skipKeyboardEvents){var n=this.convertKeyCode(e.keyCode),t=this.convertScanCode(e.code,n),i=this.modStateFromEvent(e);if(-1!=this.app.config.runtime.preventDefaultKeys.indexOf(n)&&e.preventDefault(),1==this.keyDownStates.get(n)){this.keyDownStates.set(n,!1);var s=this.app.input,r=e.repeat,l=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;s.app.events.keyUp(n,t,r,i,l,1)}}},handleKeyPress:function(e){if(!this.skipKeyboardEvents&&0!=e.which&&8!=e.keyCode&&13!=e.keyCode){var n=e.charCode,t=String.fromCodePoint(n),i=this.app.input,s=t.length,r=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;i.app.events.text(t,0,s,2,r,1)}},handleGamepadConnected:function(e){clay_Log.debug("Gamepad connected at index "+e.gamepad.index+": "+e.gamepad.id+". "+e.gamepad.buttons.length+" buttons, "+e.gamepad.axes.length+" axes",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebRuntime.hx",lineNumber:703,className:"clay.web.WebRuntime",methodName:"handleGamepadConnected"});var n=e.gamepad;if(null==this.gamepadButtonCache[n.index]){this.gamepadButtonCache[n.index]=[];for(var t=0,i=n.buttons.length;t<i;){t++;this.gamepadButtonCache[n.index].push(0)}this.gamepadAxisCache[n.index]=[];for(t=0,i=n.axes.length;t<i;){t++;this.gamepadAxisCache[n.index].push(0)}}var s=this.app.input,r=(n=e.gamepad.index,e.gamepad.id),l=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;s.app.events.gamepadDevice(n,r,1,l)},handleGamepadDisconnected:function(e){clay_Log.debug("Gamepad disconnected at index "+e.gamepad.index+": "+e.gamepad.id,{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebRuntime.hx",lineNumber:718,className:"clay.web.WebRuntime",methodName:"handleGamepadDisconnected"});var n=e.gamepad;this.gamepadButtonCache[n.index]=null,this.gamepadAxisCache[n.index]=null;var t=this.app.input,i=(n=e.gamepad.index,e.gamepad.id),s=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;t.app.events.gamepadDevice(n,i,2,s)},convertKeyCode:function(e){return e>=65&&e<=90?e+32:clay_web__$WebRuntime_DOMKeys.domKeyToKeyCode(e)},convertScanCode:function(e,n){if(null==e)return C.toScanCode(n);switch(e){case"AltLeft":return 226;case"AltRight":return 230;case"ArrowDown":return 81;case"ArrowLeft":return 80;case"ArrowRight":return 79;case"ArrowUp":return 82;case"AudioVolumeDown":case"VolumeDown":return 129;case"AudioVolumeMute":return 262;case"AudioVolumeUp":case"VolumeUp":return 128;case"Backquote":return 53;case"Backslash":return 49;case"Backspace":return 42;case"BracketLeft":return 47;case"BracketRight":return 48;case"BrowserBack":return 270;case"BrowserFavorites":return 274;case"BrowserForward":return 271;case"BrowserHome":return 269;case"BrowserRefresh":return 273;case"BrowserSearch":return 268;case"BrowserStop":return 272;case"Cancel":return 155;case"CapsLock":return 57;case"Comma":return 54;case"ContextMenu":return 118;case"ControlLeft":return 224;case"ControlRight":return 228;case"Delete":return 76;case"Digit0":return 39;case"Digit1":return 30;case"Digit2":return 31;case"Digit3":return 32;case"Digit4":return 33;case"Digit5":return 34;case"Digit6":return 35;case"Digit7":return 36;case"Digit8":return 37;case"Digit9":return 38;case"End":return 77;case"Enter":return 40;case"Equal":return 46;case"Escape":return 41;case"F1":return 58;case"F10":return 67;case"F11":return 68;case"F12":return 69;case"F2":return 59;case"F3":return 60;case"F4":return 61;case"F5":return 62;case"F6":return 63;case"F7":return 64;case"F8":return 65;case"F9":return 66;case"Help":case"Insert":return 73;case"Home":return 74;case"IntlBackslash":return 100;case"KanaMode":case"Lang1":return 144;case"KeyA":return 4;case"KeyB":return 5;case"KeyC":return 6;case"KeyD":return 7;case"KeyE":return 8;case"KeyF":return 9;case"KeyG":return 10;case"KeyH":return 11;case"KeyI":return 12;case"KeyJ":return 13;case"KeyK":return 14;case"KeyL":return 15;case"KeyM":return 16;case"KeyN":return 17;case"KeyO":return 18;case"KeyP":return 19;case"KeyQ":return 20;case"KeyR":return 21;case"KeyS":return 22;case"KeyT":return 23;case"KeyU":return 24;case"KeyV":return 25;case"KeyW":return 26;case"KeyX":return 27;case"KeyY":return 28;case"KeyZ":return 29;case"Lang2":return 145;case"Lang3":return 146;case"Lang4":return 147;case"Lang5":return 148;case"Lang6":return 149;case"Lang7":return 150;case"Lang8":return 151;case"Lang9":return 152;case"LaunchApp1":return 283;case"LaunchApp2":return 284;case"LaunchMail":return 265;case"MediaPlayPause":return 261;case"MediaSelect":return 263;case"MediaStop":return 260;case"MediaTrackNext":return 258;case"MediaTrackPrevious":return 259;case"MetaLeft":case"OSLeft":return 227;case"MetaRight":case"OSRight":return 231;case"Minus":return 45;case"NumLock":return 83;case"Numpad0":return 98;case"Numpad1":return 89;case"Numpad2":return 90;case"Numpad3":return 91;case"Numpad4":return 92;case"Numpad5":return 93;case"Numpad6":return 94;case"Numpad7":return 95;case"Numpad8":return 96;case"Numpad9":return 97;case"NumpadAdd":return 87;case"NumpadComma":return 133;case"NumpadDecimal":return 220;case"NumpadDivide":return 84;case"NumpadEnter":return 88;case"NumpadEqual":return 103;case"NumpadMultiply":return 85;case"NumpadSubtract":return 86;case"PageDown":return 78;case"PageUp":return 75;case"Pause":return 72;case"Period":return 55;case"Power":return 102;case"PrintScreen":return 70;case"Quote":return 52;case"ScrollLock":return 71;case"Semicolon":return 51;case"ShiftLeft":return 225;case"ShiftRight":return 229;case"Slash":return 56;case"Space":return 44;case"Tab":return 43;default:return C.toScanCode(n)}},modStateFromEvent:function(e){var n=!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey);return this.app.input.modState.none=n,this.app.input.modState.lshift=e.shiftKey,this.app.input.modState.rshift=e.shiftKey,this.app.input.modState.lctrl=e.ctrlKey,this.app.input.modState.rctrl=e.ctrlKey,this.app.input.modState.lalt=e.altKey,this.app.input.modState.ralt=e.altKey,this.app.input.modState.lmeta=e.metaKey,this.app.input.modState.rmeta=e.metaKey,this.app.input.modState.num=!1,this.app.input.modState.caps=!1,this.app.input.modState.mode=!1,this.app.input.modState.ctrl=e.ctrlKey,this.app.input.modState.shift=e.shiftKey,this.app.input.modState.alt=e.altKey,this.app.input.modState.meta=e.metaKey,this.app.input.modState},getWindowX:function(e){return Math.round(e.left+window.pageXOffset-window.document.body.clientTop)},getWindowY:function(e){return Math.round(e.top+window.pageYOffset-window.document.body.clientLeft)},translateMouseX:function(e){return Math.floor(this.windowDpr*(e.pageX-this.windowX))},translateMouseY:function(e){return Math.floor(this.windowDpr*(e.pageY-this.windowY))},updateWindowBounds:function(){var e=this.windowDpr;this.windowDpr=this.windowDevicePixelRatio();var n=this.window.getBoundingClientRect(),t=Math.round(n.left+window.pageXOffset-window.document.body.clientTop),i=Math.round(n.top+window.pageYOffset-window.document.body.clientLeft),s=Math.round(n.width),r=Math.round(n.height);t==this.windowX&&i==this.windowY||(this.windowX=t,this.windowY=i,this.app.emitWindowEvent(4,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,this.windowX,this.windowY)),s==this.windowW&&r==this.windowH&&e==this.windowDpr||(this.windowW=s,this.windowH=r,this.window.width=Math.floor(this.windowW*this.windowDpr),this.window.height=Math.floor(this.windowH*this.windowDpr),this.app.emitWindowEvent(6,window.performance.now()/1e3-clay_web_WebRuntime.timestampStart,1,this.window.width,this.window.height))},initGamepads:function(){var e=this.getGamepadList();if(null!=e){this.gamepadsSupported=!0,this.gamepadButtonCache=[],this.gamepadAxisCache=[];for(var n=0;n<e.length;){var t=e[n];if(++n,null!=t&&null==this.gamepadButtonCache[t.index]){this.gamepadButtonCache[t.index]=[];for(var i=0,s=t.buttons.length;i<s;){i++;this.gamepadButtonCache[t.index].push(0)}this.gamepadAxisCache[t.index]=[];for(var r=0,l=t.axes.length;r<l;){r++;this.gamepadAxisCache[t.index].push(0)}}}}else clay_Log.warning("Gamepads are not supported in this browser :(",{fileName:"/Users/jeremyfa/Developer/ceramic/git/clay/src/clay/web/WebRuntime.hx",lineNumber:986,className:"clay.web.WebRuntime",methodName:"initGamepads"})},getGamepadList:function(){return null!=e.navigator.getGamepads?e.navigator.getGamepads():null!=e.navigator.webkitGetGamepads?e.navigator.webkitGetGamepads():null},initGamepadCacheIfNeeded:function(e){if(null==this.gamepadButtonCache[e.index]){this.gamepadButtonCache[e.index]=[];for(var n=0,t=e.buttons.length;n<t;){n++;this.gamepadButtonCache[e.index].push(0)}this.gamepadAxisCache[e.index]=[];for(n=0,t=e.axes.length;n<t;){n++;this.gamepadAxisCache[e.index].push(0)}}},deleteGamepadCache:function(e){this.gamepadButtonCache[e.index]=null,this.gamepadAxisCache[e.index]=null},pollGamepads:function(){var e=this.getGamepadList();if(null!=e)for(var n=e.length,t=0;t<n;){var i=e[t];if(null!=i){if(null==this.gamepadButtonCache[i.index]){this.gamepadButtonCache[i.index]=[];for(var s=0,r=i.buttons.length;s<r;){s++;this.gamepadButtonCache[i.index].push(0)}this.gamepadAxisCache[i.index]=[];for(var l=0,a=i.axes.length;l<a;){l++;this.gamepadAxisCache[i.index].push(0)}}for(var o=this.gamepadAxisCache[i.index],h=0,c=i.axes.length;h<c;){var u=h++,_=i.axes[u];if(_!=o[u]){o[u]=_;var d=this.app.input,f=i.index,p=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;d.app.events.gamepadAxis(f,u,_,p)}}for(var b=this.gamepadButtonCache[i.index],y=0,g=i.buttons.length;y<g;){var O=y++,x=i.buttons[O];if(x.value!=b[O])if(b[O]=x.value,x.pressed){var v=this.app.input,m=i.index,w=x.value,U=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;v.app.events.gamepadDown(m,O,w,U)}else{var C=this.app.input,T=i.index,D=x.value,E=window.performance.now()/1e3-clay_web_WebRuntime.timestampStart;C.app.events.gamepadUp(T,O,D,E)}}++t}else++t}},windowDevicePixelRatio:function(){return null==window.devicePixelRatio?1:window.devicePixelRatio},windowWidth:function(){return Math.round(this.windowW*this.windowDevicePixelRatio())},windowHeight:function(){return Math.round(this.windowH*this.windowDevicePixelRatio())},setWindowFullscreen:function(e){return e?this.window.requestFullscreen():window.document.exitFullscreen(),!0},setWindowTitle:function(e){this.app.config.window.title=e,window.document.title=e},clamp:function(e){return Math.max(0,Math.min(e,1))},startGamepadRumble:function(e,n,t,i){var s=this.getGamepadList()[e];if(null!=s){var r=s.vibrationActuator;null!=r&&r.playEffect("dual-rumble",{duration:1e3*i,weakMagnitude:Math.max(0,Math.min(n,1)),strongMagnitude:Math.max(0,Math.min(t,1))})}},stopGamepadRumble:function(e){var n=this.getGamepadList()[e];if(null!=n){var t=n.vibrationActuator;null!=t&&t.playEffect("dual-rumble",{duration:1,weakMagnitude:0,strongMagnitude:0})}},getGamepadName:function(e){var n=this.getGamepadList();if(null!=n)for(var t=0;t<n.length;){var i=n[t];if(++t,null!=i&&i.index==e)return i.id}return null},__class__:clay_web_WebRuntime});var clay_web__$WebRuntime_DOMKeys=function(){};t["clay.web._WebRuntime.DOMKeys"]=clay_web__$WebRuntime_DOMKeys,clay_web__$WebRuntime_DOMKeys.__name__="clay.web._WebRuntime.DOMKeys",clay_web__$WebRuntime_DOMKeys.domKeyToKeyCode=function(e){switch(e){case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 20:return 1073741881;case 33:return 1073741899;case 34:return 1073741902;case 35:return 1073741901;case 36:return 1073741898;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 44:return 1073741894;case 45:return 1073741897;case 46:return 127;case 91:return 1073742051;case 93:return 1073742055;case 96:return 1073741922;case 97:return 1073741913;case 98:return 1073741914;case 99:return 1073741915;case 100:return 1073741916;case 101:return 1073741917;case 102:return 1073741918;case 103:return 1073741919;case 104:return 1073741920;case 105:return 1073741921;case 106:return 1073741909;case 107:return 1073741911;case 109:return 1073741910;case 110:return 1073742044;case 111:return 1073741908;case 112:return 1073741882;case 113:return 1073741883;case 114:return 1073741884;case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 127:return 1073741931;case 128:return 1073741932;case 129:return 1073741933;case 130:return 1073741934;case 131:return 1073741935;case 132:return 1073741936;case 133:return 1073741937;case 134:return 1073741938;case 135:return 1073741939;case 144:return 1073741907;case 160:return 94;case 161:return 33;case 162:return 34;case 163:return 35;case 164:return 36;case 165:return 37;case 166:return 38;case 167:return 95;case 168:return 40;case 169:return 41;case 170:return 42;case 171:return 43;case 172:return 92;case 173:return 45;case 174:return 91;case 175:return 93;case 176:return 96;case 181:return 1073742086;case 182:return 1073741953;case 183:return 1073741952;case 188:return 44;case 190:return 46;case 191:return 47;case 192:return 96;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39;case 224:return 1073742051}return e};var earcut_Earcut=function(){};t["earcut.Earcut"]=earcut_Earcut,earcut_Earcut.__name__="earcut.Earcut",earcut_Earcut.earcut=function(e,n,t,i){null==t&&(t=2);var s=null!=n&&n.length>0,r=s?n[0]*t|0:e.length,l=earcut_Earcut.linkedList(e,0,r,t,!0);if(null==i&&(i=[]),i.length>0&&i.splice(0,i.length),null==l||l.next==l.prev)return i;var a=0,o=0,h=0,c=0,u=0,_=0,d=0;if(s&&(l=earcut_Earcut.eliminateHoles(e,n,l,t)),e.length>80*t){a=h=e[0],o=c=e[1];for(var f=t;f<r;)(u=e[f])<a&&(a=u),(_=e[f+1])<o&&(o=_),u>h&&(h=u),_>c&&(c=_),f+=t;d=0!=(d=Math.max(h-a,c-o))?1/d:0}return earcut_Earcut.earcutLinked(l,i,t,a,o,d),earcut_Node.recycleAllNodes(),i},earcut_Earcut.linkedList=function(e,n,t,i,s){var r,l=null;if(s==earcut_Earcut.signedArea(e,n,t,i)>0)for(var a=n;a<t;)l=earcut_Earcut.insertNode(a,e[a],e[a+1],l),a+=i;else for(a=t-i;a>=n;)l=earcut_Earcut.insertNode(a,e[a],e[a+1],l),a-=i;if(null!=l){var o=l.next;r=l.x==o.x&&l.y==o.y}else r=!1;return r&&(earcut_Earcut.removeNode(l),l=l.next),l},earcut_Earcut.filterPoints=function(e,n){if(null==e)return e;null==n&&(n=e);var t=e,i=!1;do{var s;if(i=!1,t.steiner)s=!1;else{var r=t.next;if(t.x!=r.x||t.y!=r.y){var l=t.prev,a=t.next;s=(t.y-l.y)*(a.x-t.x)-(t.x-l.x)*(a.y-t.y)==0}else s=!0}if(s){if(earcut_Earcut.removeNode(t),(t=n=t.prev)==t.next)break;i=!0}else t=t.next}while(i||t!=n);return n},earcut_Earcut.earcutLinked=function(e,n,t,i,s,r,l){if(null!=e){null==l&&null!=r&&earcut_Earcut.indexCurve(e,i,s,r);for(var a=e,o=null,h=null;e.prev!=e.next;)if(o=e.prev,h=e.next,null!=r?earcut_Earcut.isEarHashed(e,i,s,r):earcut_Earcut.isEar(e))n.push(o.i/t|0),n.push(e.i/t|0),n.push(h.i/t|0),earcut_Earcut.removeNode(e),e=h.next,a=h.next;else if((e=h)==a){null==l?earcut_Earcut.earcutLinked(earcut_Earcut.filterPoints(e),n,t,i,s,r,1):1==l?(e=earcut_Earcut.cureLocalIntersections(earcut_Earcut.filterPoints(e),n,t),earcut_Earcut.earcutLinked(e,n,t,i,s,r,2)):2==l&&earcut_Earcut.splitEarcut(e,n,t,i,s,r);break}}},earcut_Earcut.isEar=function(e){var n=e.prev,t=e,i=e.next;if((t.y-n.y)*(i.x-t.x)-(t.x-n.x)*(i.y-t.y)>=0)return!1;for(var s=e.next.next;s!=e.prev;){var r,l=n.x,a=n.y,o=t.x,h=t.y,c=i.x,u=i.y,_=s.x,d=s.y;if((c-_)*(a-d)-(l-_)*(u-d)>=0&&(l-_)*(h-d)-(o-_)*(a-d)>=0&&(o-_)*(u-d)-(c-_)*(h-d)>=0){var f=s.prev,p=s.next;r=(s.y-f.y)*(p.x-s.x)-(s.x-f.x)*(p.y-s.y)>=0}else r=!1;if(r)return!1;s=s.next}return!0},earcut_Earcut.isEarHashed=function(e,n,t,i){var s=e.prev,r=e,l=e.next;if((r.y-s.y)*(l.x-r.x)-(r.x-s.x)*(l.y-r.y)>=0)return!1;for(var a=s.x<r.x?s.x<l.x?s.x:l.x:r.x<l.x?r.x:l.x,o=s.y<r.y?s.y<l.y?s.y:l.y:r.y<l.y?r.y:l.y,h=s.x>r.x?s.x>l.x?s.x:l.x:r.x>l.x?r.x:l.x,c=s.y>r.y?s.y>l.y?s.y:l.y:r.y>l.y?r.y:l.y,u=earcut_Earcut.zOrder(0|a,0|o,0|n,0|t,0|i),_=earcut_Earcut.zOrder(0|h,0|c,0|n,0|t,0|i),d=e.prevZ,f=e.nextZ;null!=d&&d.z>=u&&null!=f&&f.z<=_;){var p,b;if(d!=e.prev&&d!=e.next){var y=s.x,g=s.y,O=r.x,x=r.y,v=l.x,m=l.y;I=(v-(N=d.x))*(g-(L=d.y))-(y-N)*(m-L)>=0&&(y-N)*(x-L)-(O-N)*(g-L)>=0&&(O-N)*(m-L)-(v-N)*(x-L)>=0}else I=!1;if(I){var w=d.prev,U=d.next;R=(d.y-w.y)*(U.x-d.x)-(d.x-w.x)*(U.y-d.y)>=0}else R=!1;if(R)return!1;if(d=d.prevZ,f!=e.prev&&f!=e.next){var C=s.x,T=s.y,D=r.x,E=r.y,A=l.x,S=l.y,M=f.x,P=f.y;b=(A-M)*(T-P)-(C-M)*(S-P)>=0&&(C-M)*(E-P)-(D-M)*(T-P)>=0&&(D-M)*(S-P)-(A-M)*(E-P)>=0}else b=!1;if(b){var F=f.prev,k=f.next;p=(f.y-F.y)*(k.x-f.x)-(f.x-F.x)*(k.y-f.y)>=0}else p=!1;if(p)return!1;f=f.nextZ}for(;null!=d&&d.z>=u;){if(d!=e.prev&&d!=e.next){y=s.x,g=s.y,O=r.x,x=r.y,v=l.x,m=l.y;I=(v-(N=d.x))*(g-(L=d.y))-(y-N)*(m-L)>=0&&(y-N)*(x-L)-(O-N)*(g-L)>=0&&(O-N)*(m-L)-(v-N)*(x-L)>=0}else I=!1;if(I){w=d.prev,U=d.next;R=(d.y-w.y)*(U.x-d.x)-(d.x-w.x)*(U.y-d.y)>=0}else R=!1;if(R)return!1;d=d.prevZ}for(;null!=f&&f.z<=_;){var R,I;if(f!=e.prev&&f!=e.next){var N,L;y=s.x,g=s.y,O=r.x,x=r.y,v=l.x,m=l.y;I=(v-(N=f.x))*(g-(L=f.y))-(y-N)*(m-L)>=0&&(y-N)*(x-L)-(O-N)*(g-L)>=0&&(O-N)*(m-L)-(v-N)*(x-L)>=0}else I=!1;if(I){d=f.prev,U=f.next;R=(f.y-d.y)*(U.x-f.x)-(f.x-d.x)*(U.y-f.y)>=0}else R=!1;if(R)return!1;f=f.nextZ}return!0},earcut_Earcut.cureLocalIntersections=function(e,n,t){var i=e;do{var s,r,l,a=i.prev,o=i.next.next;if(a.x!=o.x||a.y!=o.y){var h=i.next,c=(i.y-a.y)*(h.x-i.x)-(i.x-a.x)*(h.y-i.y),u=c>0?1:c<0?-1:0,_=(i.y-a.y)*(o.x-i.x)-(i.x-a.x)*(o.y-i.y),d=_>0?1:_<0?-1:0,f=(o.y-h.y)*(a.x-o.x)-(o.x-h.x)*(a.y-o.y),p=f>0?1:f<0?-1:0,b=(o.y-h.y)*(i.x-o.x)-(o.x-h.x)*(i.y-o.y),y=b>0?1:b<0?-1:0;l=u!=d&&p!=y||(0==u&&h.x<=Math.max(a.x,i.x)&&h.x>=Math.min(a.x,i.x)&&h.y<=Math.max(a.y,i.y)&&h.y>=Math.min(a.y,i.y)||(0==d&&o.x<=Math.max(a.x,i.x)&&o.x>=Math.min(a.x,i.x)&&o.y<=Math.max(a.y,i.y)&&o.y>=Math.min(a.y,i.y)||(0==p&&a.x<=Math.max(h.x,o.x)&&a.x>=Math.min(h.x,o.x)&&a.y<=Math.max(h.y,o.y)&&a.y>=Math.min(h.y,o.y)||0==y&&i.x<=Math.max(h.x,o.x)&&i.x>=Math.min(h.x,o.x)&&i.y<=Math.max(h.y,o.y)&&i.y>=Math.min(h.y,o.y))))}else l=!1;if(l){var g=a.prev,O=a.next;if((a.y-g.y)*(O.x-a.x)-(a.x-g.x)*(O.y-a.y)<0){var x=a.next;if((o.y-a.y)*(x.x-o.x)-(o.x-a.x)*(x.y-o.y)>=0){var v=a.prev;r=(v.y-a.y)*(o.x-v.x)-(v.x-a.x)*(o.y-v.y)>=0}else r=!1}else{var m=a.prev;if((o.y-a.y)*(m.x-o.x)-(o.x-a.x)*(m.y-o.y)<0)r=!0;else{var w=a.next;r=(w.y-a.y)*(o.x-w.x)-(w.x-a.x)*(o.y-w.y)<0}}}else r=!1;if(r){var U=o.prev,C=o.next;if((o.y-U.y)*(C.x-o.x)-(o.x-U.x)*(C.y-o.y)<0){var T=o.next;if((a.y-o.y)*(T.x-a.x)-(a.x-o.x)*(T.y-a.y)>=0){var D=o.prev;s=(D.y-o.y)*(a.x-D.x)-(D.x-o.x)*(a.y-D.y)>=0}else s=!1}else{var E=o.prev;if((a.y-o.y)*(E.x-a.x)-(a.x-o.x)*(E.y-a.y)<0)s=!0;else{var A=o.next;s=(A.y-o.y)*(a.x-A.x)-(A.x-o.x)*(a.y-A.y)<0}}}else s=!1;s&&(n.push(a.i/t|0),n.push(i.i/t|0),n.push(o.i/t|0),earcut_Earcut.removeNode(i),earcut_Earcut.removeNode(i.next),i=e=o),i=i.next}while(i!=e);return earcut_Earcut.filterPoints(i)},earcut_Earcut.splitEarcut=function(e,n,t,i,s,r){var l=e;do{for(var a=l.next.next;a!=l.prev;){var o;if(l.i!=a.i)if(l.next.i==a.i||l.prev.i==a.i||earcut_Earcut.intersectsPolygon(l,a))o=!1;else{var h,c,u,_=l.prev,d=l.next;if((l.y-_.y)*(d.x-l.x)-(l.x-_.x)*(d.y-l.y)<0){var f=l.next;if((a.y-l.y)*(f.x-a.x)-(a.x-l.x)*(f.y-a.y)>=0){var p=l.prev;u=(p.y-l.y)*(a.x-p.x)-(p.x-l.x)*(a.y-p.y)>=0}else u=!1}else{var b=l.prev;if((a.y-l.y)*(b.x-a.x)-(a.x-l.x)*(b.y-a.y)<0)u=!0;else{var y=l.next;u=(y.y-l.y)*(a.x-y.x)-(y.x-l.x)*(a.y-y.y)<0}}if(u){var g=a.prev,O=a.next;if((a.y-g.y)*(O.x-a.x)-(a.x-g.x)*(O.y-a.y)<0){var x=a.next;if((l.y-a.y)*(x.x-l.x)-(l.x-a.x)*(x.y-l.y)>=0){var v=a.prev;c=(v.y-a.y)*(l.x-v.x)-(v.x-a.x)*(l.y-v.y)>=0}else c=!1}else{var m=a.prev;if((l.y-a.y)*(m.x-l.x)-(l.x-a.x)*(m.y-l.y)<0)c=!0;else{var w=a.next;c=(w.y-a.y)*(l.x-w.x)-(w.x-a.x)*(l.y-w.y)<0}}}else c=!1;if(c&&earcut_Earcut.middleInside(l,a)){var U=l.prev,C=a.prev;if((l.y-U.y)*(C.x-l.x)-(l.x-U.x)*(C.y-l.y)==0){var T=a.prev;h=(T.y-l.y)*(a.x-T.x)-(T.x-l.x)*(a.y-T.y)!=0}else h=!0}else h=!1;if(h)o=!0;else{var D;if(l.x==a.x&&l.y==a.y){var E=l.prev,A=l.next;D=(l.y-E.y)*(A.x-l.x)-(l.x-E.x)*(A.y-l.y)>0}else D=!1;if(D){var S=a.prev,M=a.next;o=(a.y-S.y)*(M.x-a.x)-(a.x-S.x)*(M.y-a.y)>0}else o=!1}}else o=!1;if(o){var P=earcut_Earcut.splitPolygon(l,a);return l=earcut_Earcut.filterPoints(l,l.next),P=earcut_Earcut.filterPoints(P,P.next),earcut_Earcut.earcutLinked(l,n,t,i,s,r),void earcut_Earcut.earcutLinked(P,n,t,i,s,r)}a=a.next}l=l.next}while(l!=e)},earcut_Earcut.eliminateHoles=function(e,n,t,i){for(var s=[],r=n.length,l=0,a=0,o=null,h=0,c=r;h<c;){l=n[u=h++]*i|0,a=u<r-1?n[u+1]*i|0:e.length,(o=earcut_Earcut.linkedList(e,l,a,i,!1))==o.next&&(o.steiner=!0),s.push(earcut_Earcut.getLeftmost(o))}s.sort(earcut_Earcut.compareX);for(h=0,c=s.length;h<c;){var u,_=s[u=h++],d=t;if(null!=(d=earcut_Earcut.findHoleBridge(_,d))){var f=earcut_Earcut.splitPolygon(d,_);earcut_Earcut.filterPoints(d,d.next),earcut_Earcut.filterPoints(f,f.next)}t=earcut_Earcut.filterPoints(t,t.next)}return t},earcut_Earcut.compareX=function(e,n){return e.x-n.x|0},earcut_Earcut.eliminateHole=function(e,n){if(null!=(n=earcut_Earcut.findHoleBridge(e,n))){var t=earcut_Earcut.splitPolygon(n,e);earcut_Earcut.filterPoints(n,n.next),earcut_Earcut.filterPoints(t,t.next)}},earcut_Earcut.findHoleBridge=function(e,n){var t=n,i=e.x,s=e.y,r=-1/0,l=null;do{if(s<=t.y&&s>=t.next.y&&t.next.y!=t.y){var a=t.x+(s-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(a<=i&&a>r){if(r=a,a==i){if(s==t.y)return t;if(s==t.next.y)return t.next}l=t.x<t.next.x?t:t.next}}t=t.next}while(t!=n);if(null==l)return null;if(i==r)return l.prev;var o=l,h=l.x,c=l.y,u=1/0,_=0;t=l;do{var d;if(i>=t.x&&t.x>=h&&i!=t.x){var f=s<c?i:r,p=s<c?r:i,b=t.x,y=t.y;d=(p-b)*(s-y)-(f-b)*(s-y)>=0&&(f-b)*(c-y)-(h-b)*(s-y)>=0&&(h-b)*(s-y)-(p-b)*(c-y)>=0}else d=!1;if(d){var g,O;_=Math.abs(s-t.y)/(i-t.x);var x=t.prev,v=t.next;if((t.y-x.y)*(v.x-t.x)-(t.x-x.x)*(v.y-t.y)<0){var m=t.next;if((e.y-t.y)*(m.x-e.x)-(e.x-t.x)*(m.y-e.y)>=0){var w=t.prev;O=(w.y-t.y)*(e.x-w.x)-(w.x-t.x)*(e.y-w.y)>=0}else O=!1}else{var U=t.prev;if((e.y-t.y)*(U.x-e.x)-(e.x-t.x)*(U.y-e.y)<0)O=!0;else{var C=t.next;O=(C.y-t.y)*(e.x-C.x)-(C.x-t.x)*(e.y-C.y)<0}}if(O)if(_<u)g=!0;else if(_==u)if(t.x>l.x)g=!0;else if(t.x==l.x){var T=l.prev,D=t.prev;if((l.y-T.y)*(D.x-l.x)-(l.x-T.x)*(D.y-l.y)<0){var E=t.next,A=l.next;g=(l.y-E.y)*(A.x-l.x)-(l.x-E.x)*(A.y-l.y)<0}else g=!1}else g=!1;else g=!1;else g=!1;g&&(l=t,u=_)}t=t.next}while(t!=o);return l},earcut_Earcut.sectorContainsSector=function(e,n){var t=e.prev,i=n.prev;if((e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)<0){t=n.next,i=e.next;return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)<0}return!1},earcut_Earcut.indexCurve=function(e,n,t,i){var s=e;do{-99999999==s.z&&(s.z=earcut_Earcut.zOrder(0|s.x,0|s.y,0|n,0|t,0|i)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next}while(s!=e);s.prevZ.nextZ=null,s.prevZ=null,earcut_Earcut.sortLinked(s)},earcut_Earcut.sortLinked=function(e){var n,t=null,i=null,s=null,r=0,l=0,a=0,o=1;do{for(t=e,e=null,n=null,r=0;null!=t;){++r,i=t,l=0;for(var h=0,c=o;h<c;){h++;if(++l,null==(i=i.nextZ))break}for(a=o;l>0||a>0&&null!=i;)0!=l&&(0==a||null==i||t.z<=i.z)?(s=t,t=t.nextZ,--l):(s=i,i=i.nextZ,--a),null!=n?n.nextZ=s:e=s,s.prevZ=n,n=s;t=i}n.nextZ=null,o*=2}while(r>1);return e},earcut_Earcut.zOrder=function(e,n,t,i,s){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-t)*s|0)|e<<8))|e<<4))|e<<2))|e<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-i)*s|0)|n<<8))|n<<4))|n<<2))|n<<1))<<1},earcut_Earcut.getLeftmost=function(e){var n=e,t=e;do{(n.x<t.x||n.x==t.x&&n.y<t.y)&&(t=n),n=n.next}while(n!=e);return t},earcut_Earcut.pointInTriangle=function(e,n,t,i,s,r,l,a){return(s-l)*(n-a)-(e-l)*(r-a)>=0&&(e-l)*(i-a)-(t-l)*(n-a)>=0&&(t-l)*(r-a)-(s-l)*(i-a)>=0},earcut_Earcut.isValidDiagonal=function(e,n){if(e.next.i==n.i||e.prev.i==n.i||earcut_Earcut.intersectsPolygon(e,n))return!1;var t,i,s,r=e.prev,l=e.next;if((e.y-r.y)*(l.x-e.x)-(e.x-r.x)*(l.y-e.y)<0){l=e.next;if((n.y-e.y)*(l.x-n.x)-(n.x-e.x)*(l.y-n.y)>=0)i=((a=e.prev).y-e.y)*(n.x-a.x)-(a.x-e.x)*(n.y-a.y)>=0;else i=!1}else{l=e.prev;if((n.y-e.y)*(l.x-n.x)-(n.x-e.x)*(l.y-n.y)<0)i=!0;else i=((a=e.next).y-e.y)*(n.x-a.x)-(a.x-e.x)*(n.y-a.y)<0}if(i){r=n.prev,l=n.next;if((n.y-r.y)*(l.x-n.x)-(n.x-r.x)*(l.y-n.y)<0){l=n.next;if((e.y-n.y)*(l.x-e.x)-(e.x-n.x)*(l.y-e.y)>=0)t=((a=n.prev).y-n.y)*(e.x-a.x)-(a.x-n.x)*(e.y-a.y)>=0;else t=!1}else{l=n.prev;if((e.y-n.y)*(l.x-e.x)-(e.x-n.x)*(l.y-e.y)<0)t=!0;else t=((a=n.next).y-n.y)*(e.x-a.x)-(a.x-n.x)*(e.y-a.y)<0}}else t=!1;if(t&&earcut_Earcut.middleInside(e,n)){var a;r=e.prev,l=n.prev;if((e.y-r.y)*(l.x-e.x)-(e.x-r.x)*(l.y-e.y)==0)s=((a=n.prev).y-e.y)*(n.x-a.x)-(a.x-e.x)*(n.y-a.y)!=0;else s=!0}else s=!1;if(s)return!0;if(e.x==n.x&&e.y==n.y){r=e.prev,l=e.next;s=(e.y-r.y)*(l.x-e.x)-(e.x-r.x)*(l.y-e.y)>0}else s=!1;if(s){r=n.prev,l=n.next;return(n.y-r.y)*(l.x-n.x)-(n.x-r.x)*(l.y-n.y)>0}return!1},earcut_Earcut.area=function(e,n,t){return(n.y-e.y)*(t.x-n.x)-(n.x-e.x)*(t.y-n.y)},earcut_Earcut.equals=function(e,n){return e.x==n.x&&e.y==n.y},earcut_Earcut.intersects=function(e,n,t,i){var s,r=(s=(n.y-e.y)*(t.x-n.x)-(n.x-e.x)*(t.y-n.y))>0?1:s<0?-1:0,l=(s=(n.y-e.y)*(i.x-n.x)-(n.x-e.x)*(i.y-n.y))>0?1:s<0?-1:0,a=(s=(i.y-t.y)*(e.x-i.x)-(i.x-t.x)*(e.y-i.y))>0?1:s<0?-1:0,o=(s=(i.y-t.y)*(n.x-i.x)-(i.x-t.x)*(n.y-i.y))>0?1:s<0?-1:0;return r!=l&&a!=o||(0==r&&t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)||(0==l&&i.x<=Math.max(e.x,n.x)&&i.x>=Math.min(e.x,n.x)&&i.y<=Math.max(e.y,n.y)&&i.y>=Math.min(e.y,n.y)||(0==a&&e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)||0==o&&n.x<=Math.max(t.x,i.x)&&n.x>=Math.min(t.x,i.x)&&n.y<=Math.max(t.y,i.y)&&n.y>=Math.min(t.y,i.y))))},earcut_Earcut.onSegment=function(e,n,t){return n.x<=Math.max(e.x,t.x)&&n.x>=Math.min(e.x,t.x)&&n.y<=Math.max(e.y,t.y)&&n.y>=Math.min(e.y,t.y)},earcut_Earcut.sign=function(e){return e>0?1:e<0?-1:0},earcut_Earcut.intersectsPolygon=function(e,n){var t=e;do{var i;if(t.i!=e.i&&t.next.i!=e.i&&t.i!=n.i&&t.next.i!=n.i){var s=t.next,r=(s.y-t.y)*(e.x-s.x)-(s.x-t.x)*(e.y-s.y),l=r>0?1:r<0?-1:0,a=(s.y-t.y)*(n.x-s.x)-(s.x-t.x)*(n.y-s.y),o=a>0?1:a<0?-1:0,h=(n.y-e.y)*(t.x-n.x)-(n.x-e.x)*(t.y-n.y),c=h>0?1:h<0?-1:0,u=(n.y-e.y)*(s.x-n.x)-(n.x-e.x)*(s.y-n.y),_=u>0?1:u<0?-1:0;i=l!=o&&c!=_||(0==l&&e.x<=Math.max(t.x,s.x)&&e.x>=Math.min(t.x,s.x)&&e.y<=Math.max(t.y,s.y)&&e.y>=Math.min(t.y,s.y)||(0==o&&n.x<=Math.max(t.x,s.x)&&n.x>=Math.min(t.x,s.x)&&n.y<=Math.max(t.y,s.y)&&n.y>=Math.min(t.y,s.y)||(0==c&&t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)||0==_&&s.x<=Math.max(e.x,n.x)&&s.x>=Math.min(e.x,n.x)&&s.y<=Math.max(e.y,n.y)&&s.y>=Math.min(e.y,n.y))))}else i=!1;if(i)return!0;t=t.next}while(t!=e);return!1},earcut_Earcut.locallyInside=function(e,n){var t=e.prev,i=e.next;if((e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)<0){i=e.next;return(n.y-e.y)*(i.x-n.x)-(n.x-e.x)*(i.y-n.y)>=0&&((s=e.prev).y-e.y)*(n.x-s.x)-(s.x-e.x)*(n.y-s.y)>=0}var s;i=e.prev;return(n.y-e.y)*(i.x-n.x)-(n.x-e.x)*(i.y-n.y)<0||((s=e.next).y-e.y)*(n.x-s.x)-(s.x-e.x)*(n.y-s.y)<0},earcut_Earcut.middleInside=function(e,n){var t=e,i=!1,s=(e.x+n.x)/2,r=(e.y+n.y)/2;do{t.y>r!=t.next.y>r&&t.next.y!=t.y&&s<(t.next.x-t.x)*(r-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next}while(t!=e);return i},earcut_Earcut.splitPolygon=function(e,n){var t=earcut_Node.get(e.i,e.x,e.y),i=earcut_Node.get(n.i,n.x,n.y),s=e.next,r=n.prev;return e.next=n,n.prev=e,t.next=s,s.prev=t,i.next=t,t.prev=i,r.next=i,i.prev=r,i},earcut_Earcut.insertNode=function(e,n,t,i){var s=earcut_Node.get(e,n,t);return null==i?(s.prev=s,s.next=s):(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s),s},earcut_Earcut.removeNode=function(e){e.next.prev=e.prev,e.prev.next=e.next,null!=e.prevZ&&(e.prevZ.nextZ=e.nextZ),null!=e.nextZ&&(e.nextZ.prevZ=e.prevZ)},earcut_Earcut.signedArea=function(e,n,t,i){for(var s=0,r=n,l=t-i;r<t;)s+=(e[l]-e[r])*(e[r+1]+e[l+1]),l=r,r+=i;return s},earcut_Earcut.deviation=function(e,n,t,i){var s=null!=n&&n.length>0,r=s?n[0]*t|0:e.length,l=Math.abs(earcut_Earcut.signedArea(e,0,r,t));if(s)for(var a=n.length,o=0,h=a;o<h;){var c=n[d=o++]*t,u=d<a-1?n[d+1]*t:e.length;l-=Math.abs(earcut_Earcut.signedArea(e,c,u,t))}for(var _=0,d=0;d<i.length;){var f=i[d]*t,p=i[d+1]*t,b=i[d+2]*t;_+=Math.abs((e[f]-e[b])*(e[p+1]-e[f+1])-(e[f]-e[p])*(e[b+1]-e[f+1])),d+=3}return 0==l&&0==_?0:Math.abs((_-l)/l)},earcut_Earcut.flatten=function(e){var n=e[0][0].length,t={vertices:[],holes:[]};t.dimensions=n;for(var i=0,s=0,r=e.length;s<r;){for(var l=s++,a=0,o=e[l].length;a<o;)for(var h=a++,c=0,u=n;c<u;){var _=c++;t.vertices.push(e[l][h][_])}l>0&&(i+=e[l-1].length,t.holes.push(i))}return t};var earcut_Node=function(e,n,t){this.z=-99999999,this.i=e,this.x=n,this.y=t,this.prev=null,this.next=null,this.z=-99999999,this.prevZ=null,this.nextZ=null,this.steiner=!1};t["earcut.Node"]=earcut_Node,earcut_Node.__name__="earcut.Node",earcut_Node.clearPool=function(){earcut_Node.nextPoolIndex=0,earcut_Node.pool=[]},earcut_Node.recycleAllNodes=function(){earcut_Node.nextPoolIndex=0},earcut_Node.get=function(e,n,t){if(earcut_Node.recyclingEnabled){if(earcut_Node.nextPoolIndex==earcut_Node.pool.length){var i=new earcut_Node(e,n,t);return earcut_Node.nextPoolIndex++,earcut_Node.pool.push(i),i}i=earcut_Node.pool[earcut_Node.nextPoolIndex];return earcut_Node.nextPoolIndex++,i}return new earcut_Node(e,n,t)},earcut_Node.prototype={reset:function(e,n,t){this.i=e,this.x=n,this.y=t,this.prev=null,this.next=null,this.z=-99999999,this.prevZ=null,this.nextZ=null,this.steiner=!1},__class__:earcut_Node};var L=i["haxe.StackItem"]={__ename__:"haxe.StackItem",__constructs__:null,CFunction:{_hx_name:"CFunction",_hx_index:0,__enum__:"haxe.StackItem",toString:$estr},Module:(n=function(e){return{_hx_index:1,m:e,__enum__:"haxe.StackItem",toString:$estr}},n._hx_name="Module",n.__params__=["m"],n),FilePos:(n=function(e,n,t,i){return{_hx_index:2,s:e,file:n,line:t,column:i,__enum__:"haxe.StackItem",toString:$estr}},n._hx_name="FilePos",n.__params__=["s","file","line","column"],n),Method:(n=function(e,n){return{_hx_index:3,classname:e,method:n,__enum__:"haxe.StackItem",toString:$estr}},n._hx_name="Method",n.__params__=["classname","method"],n),LocalFunction:(n=function(e){return{_hx_index:4,v:e,__enum__:"haxe.StackItem",toString:$estr}},n._hx_name="LocalFunction",n.__params__=["v"],n)};L.__constructs__=[L.CFunction,L.Module,L.FilePos,L.Method,L.LocalFunction];var haxe_IMap=function(){};t["haxe.IMap"]=haxe_IMap,haxe_IMap.__name__="haxe.IMap",haxe_IMap.__isInterface__=!0,haxe_IMap.prototype={__class__:haxe_IMap};var haxe_Exception=function(e,n,t){Error.call(this,e),this.message=e,this.__previousException=n,this.__nativeException=null!=t?t:this,this.__skipStack=0;var i=Error.prepareStackTrace;if(Error.prepareStackTrace=function(e){return e.stack},t instanceof Error)this.stack=t.stack;else{var s=null;if(Error.captureStackTrace)Error.captureStackTrace(this,haxe_Exception),s=this;else if(void 0===(s=new Error).stack){try{throw s}catch(e){}this.__skipStack++}this.stack=s.stack}Error.prepareStackTrace=i};t["haxe.Exception"]=haxe_Exception,haxe_Exception.__name__="haxe.Exception",haxe_Exception.caught=function(e){return e instanceof haxe_Exception?e:e instanceof Error?new haxe_Exception(e.message,null,e):new haxe_ValueException(e,null,e)},haxe_Exception.thrown=function(e){if(e instanceof haxe_Exception)return e.get_native();if(e instanceof Error)return e;var n=new haxe_ValueException(e);return n.__skipStack++,n},haxe_Exception.__super__=Error,haxe_Exception.prototype=$extend(Error.prototype,{unwrap:function(){return this.__nativeException},__shiftStack:function(){this.__skipStack++},get_native:function(){return this.__nativeException},get_stack:function(){var e=this.__exceptionStack;if(null==e){var n=haxe_NativeStackTrace.toHaxe(haxe_NativeStackTrace.normalize(this.stack),this.__skipStack);return this.setProperty("__exceptionStack",n),n}return e},setProperty:function(e,n){try{Object.defineProperty(this,e,{value:n})}catch(t){this[e]=n}},__class__:haxe_Exception,__properties__:{get_native:"get_native",get_stack:"get_stack"}});var haxe_Log=function(){};t["haxe.Log"]=haxe_Log,haxe_Log.__name__="haxe.Log",haxe_Log.formatOutput=function(e,n){var t=Std.string(e);if(null==n)return t;var i=n.fileName+":"+n.lineNumber;if(null!=n.customParams)for(var s=0,r=n.customParams;s<r.length;){e=r[s];++s,t+=", "+Std.string(e)}return i+": "+t},haxe_Log.trace=function(e,n){var t=haxe_Log.formatOutput(e,n);"undefined"!=typeof console&&null!=console.log&&console.log(t)};var haxe_NativeStackTrace=function(){};t["haxe.NativeStackTrace"]=haxe_NativeStackTrace,haxe_NativeStackTrace.__name__="haxe.NativeStackTrace",haxe_NativeStackTrace.toHaxe=function(e,n){if(null==n&&(n=0),null==e)return[];if("string"==typeof e){var t=e.split("\n");"Error"==t[0]&&t.shift();for(var i=[],s=0,r=t.length;s<r;){var l=s++;if(!(n>l)){var a=t[l],o=a.match(/^    at ([$A-Za-z0-9_. ]+) \(([^)]+):([0-9]+):([0-9]+)\)$/);if(null!=o){var h=o[1].split(".");"$hxClasses"==h[0]&&h.shift();var c=h.pop(),u=o[2],_=Std.parseInt(o[3]),d=Std.parseInt(o[4]);i.push(L.FilePos("Anonymous function"==c?L.LocalFunction():"Global code"==c?null:L.Method(h.join("."),c),u,_,d))}else i.push(L.Module(StringTools.trim(a)))}}return i}return n>0&&Array.isArray(e)?e.slice(n):e},haxe_NativeStackTrace.normalize=function(e,n){if(null==n&&(n=0),Array.isArray(e)&&n>0)return e.slice(n);if("string"==typeof e){switch(e.substring(0,6)){case"Error\n":case"Error:":++n}return haxe_NativeStackTrace.skipLines(e,n)}return e},haxe_NativeStackTrace.skipLines=function(e,n,t){return null==t&&(t=0),n>0?(t=e.indexOf("\n",t))<0?"":haxe_NativeStackTrace.skipLines(e,--n,t+1):e.substring(t)};var haxe_Serializer=function(){this.buf=new StringBuf,this.cache=[],this.useCache=haxe_Serializer.USE_CACHE,this.useEnumIndex=haxe_Serializer.USE_ENUM_INDEX,this.shash=new haxe_ds_StringMap,this.scount=0};t["haxe.Serializer"]=haxe_Serializer,haxe_Serializer.__name__="haxe.Serializer",haxe_Serializer.prototype={toString:function(){return this.buf.b},serializeString:function(e){var n=this.shash.h[e];if(null!=n)return this.buf.b+="R",void(this.buf.b+=null==n?"null":""+n);this.shash.h[e]=this.scount++,this.buf.b+="y",e=encodeURIComponent(e),this.buf.b+=Std.string(e.length),this.buf.b+=":",this.buf.b+=null==e?"null":""+e},serializeRef:function(e){for(var n=typeof e,t=0,i=this.cache.length;t<i;){var s=t++,r=this.cache[s];if(typeof r==n&&r==e)return this.buf.b+="r",this.buf.b+=null==s?"null":""+s,!0}return this.cache.push(e),!1},serializeFields:function(e){for(var n=0,t=Reflect.fields(e);n<t.length;){var i=t[n];++n,this.serializeString(i),this.serialize(Reflect.field(e,i))}this.buf.b+="g"},serialize:function(e){switch((D=Type.typeof(e))._hx_index){case 0:this.buf.b+="n";break;case 1:if(0==(n=e))return void(this.buf.b+="z");this.buf.b+="i",this.buf.b+=null==n?"null":""+n;break;case 2:var n=e;isNaN(n)?this.buf.b+="k":isFinite(n)?(this.buf.b+="d",this.buf.b+=null==n?"null":""+n):this.buf.b+=n<0?"m":"p";break;case 3:this.buf.b+=e?"t":"f";break;case 4:if(js_Boot.__instanceof(e,re)){var t=e.__name__;this.buf.b+="A",this.serializeString(t)}else if(js_Boot.__instanceof(e,le))this.buf.b+="B",this.serializeString(e.__ename__);else{if(this.useCache&&this.serializeRef(e))return;this.buf.b+="o",this.serializeFields(e)}break;case 5:throw haxe_Exception.thrown("Cannot serialize function");case 6:var s=D.c;if(s==String)return void this.serializeString(e);if(this.useCache&&this.serializeRef(e))return;switch(s){case Array:var r=0;this.buf.b+="a";for(var l=0,a=e.length;l<a;){null==e[d=l++]?++r:(r>0&&(1==r?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==r?"null":""+r),r=0),this.serialize(e[d]))}r>0&&(1==r?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==r?"null":""+r)),this.buf.b+="h";break;case Date:var o=e;this.buf.b+="v",this.buf.b+=Std.string(o.getTime());break;case haxe_ds_IntMap:this.buf.b+="q";for(var h=(n=e).keys();h.hasNext();){var c=h.next();this.buf.b+=":",this.buf.b+=null==c?"null":""+c,this.serialize(n.h[c])}this.buf.b+="h";break;case haxe_ds_List:this.buf.b+="l";for(var u=(n=e).h;null!=u;){var _=u.item;u=u.next;var d=_;this.serialize(d)}this.buf.b+="h";break;case haxe_ds_ObjectMap:this.buf.b+="M";for(h=(n=e).keys();h.hasNext();){c=h.next();var f=Reflect.field(c,"__id__");Reflect.deleteField(c,"__id__"),this.serialize(c),c.__id__=f,this.serialize(n.h[c.__id__])}this.buf.b+="h";break;case haxe_ds_StringMap:this.buf.b+="b";for(var p=(n=e).h,b=Object.keys(p),y=b.length,g=0;g<y;){h=b[g++];this.serializeString(h),this.serialize(n.h[h])}this.buf.b+="h";break;case haxe_io_Bytes:n=e;this.buf.b+="s",this.buf.b+=Std.string(Math.ceil(8*n.length/6)),this.buf.b+=":";d=0;var O=n.length-2,x=haxe_Serializer.BASE64_CODES;if(null==x){x=new Array(haxe_Serializer.BASE64.length);for(l=0,a=haxe_Serializer.BASE64.length;l<a;){var v=l++;x[v]=HxOverrides.cca(haxe_Serializer.BASE64,v)}haxe_Serializer.BASE64_CODES=x}for(;d<O;){var m=n.b[d++],w=n.b[d++],U=n.b[d++];this.buf.b+=String.fromCodePoint(x[m>>2]),this.buf.b+=String.fromCodePoint(x[63&(m<<4|w>>4)]),this.buf.b+=String.fromCodePoint(x[63&(w<<2|U>>6)]),this.buf.b+=String.fromCodePoint(x[63&U])}if(d==O){m=n.b[d++],w=n.b[d++];this.buf.b+=String.fromCodePoint(x[m>>2]),this.buf.b+=String.fromCodePoint(x[63&(m<<4|w>>4)]),this.buf.b+=String.fromCodePoint(x[w<<2&63])}else if(d==O+1){m=n.b[d++];this.buf.b+=String.fromCodePoint(x[m>>2]),this.buf.b+=String.fromCodePoint(x[m<<4&63])}break;default:this.useCache&&this.cache.pop(),null!=e.hxSerialize?(this.buf.b+="C",this.serializeString(s.__name__),this.useCache&&this.cache.push(e),e.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(s.__name__),this.useCache&&this.cache.push(e),this.serializeFields(e))}break;case 7:var C=D.e;if(this.useCache){if(this.serializeRef(e))return;this.cache.pop()}if(this.buf.b+=Std.string(this.useEnumIndex?"j":"w"),this.serializeString(C.__ename__),this.useEnumIndex)this.buf.b+=":",this.buf.b+=Std.string(e._hx_index);else{C=e;this.serializeString(i[C.__enum__].__constructs__[C._hx_index]._hx_name)}this.buf.b+=":";var T=Type.enumParameters(e);this.buf.b+=Std.string(T.length);for(var D=0;D<T.length;){var E=T[D];++D,this.serialize(E)}this.useCache&&this.cache.push(e);break;default:throw haxe_Exception.thrown("Cannot serialize "+Std.string(e))}},__class__:haxe_Serializer};var haxe__$Unserializer_DefaultResolver=function(){};t["haxe._Unserializer.DefaultResolver"]=haxe__$Unserializer_DefaultResolver,haxe__$Unserializer_DefaultResolver.__name__="haxe._Unserializer.DefaultResolver",haxe__$Unserializer_DefaultResolver.prototype={resolveClass:function(e){return t[e]},resolveEnum:function(e){return i[e]},__class__:haxe__$Unserializer_DefaultResolver};var haxe_Unserializer=function(e){this.buf=e,this.length=this.buf.length,this.pos=0,this.scache=[],this.cache=[];var n=haxe_Unserializer.DEFAULT_RESOLVER;null==n&&(n=new haxe__$Unserializer_DefaultResolver,haxe_Unserializer.DEFAULT_RESOLVER=n),this.resolver=n};t["haxe.Unserializer"]=haxe_Unserializer,haxe_Unserializer.__name__="haxe.Unserializer",haxe_Unserializer.initCodes=function(){for(var e=[],n=0,t=haxe_Unserializer.BASE64.length;n<t;){var i=n++;e[haxe_Unserializer.BASE64.charCodeAt(i)]=i}return e},haxe_Unserializer.prototype={readDigits:function(){for(var e=0,n=!1,t=this.pos;;){var i=this.buf.charCodeAt(this.pos);if(i!=i)break;if(45!=i){if(i<48||i>57)break;e=10*e+(i-48),this.pos++}else{if(this.pos!=t)break;n=!0,this.pos++}}return n&&(e*=-1),e},readFloat:function(){for(var e=this.pos;;){var n=this.buf.charCodeAt(this.pos);if(n!=n)break;if(!(n>=43&&n<58||101==n||69==n))break;this.pos++}return parseFloat(HxOverrides.substr(this.buf,e,this.pos-e))},unserializeObject:function(e){for(;;){if(this.pos>=this.length)throw haxe_Exception.thrown("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var n=this.unserialize();if("string"!=typeof n)throw haxe_Exception.thrown("Invalid object key");var t=this.unserialize();e[n]=t}this.pos++},unserializeEnum:function(e,n){if(58!=this.buf.charCodeAt(this.pos++))throw haxe_Exception.thrown("Invalid enum format");var t=this.readDigits();if(0==t)return Type.createEnum(e,n);for(var i=[];t-- >0;)i.push(this.unserialize());return Type.createEnum(e,n,i)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var e=this.unserialize();if(null==(o=this.resolver.resolveClass(e)))throw haxe_Exception.thrown("Class not found "+e);return o;case 66:e=this.unserialize();if(null==(p=this.resolver.resolveEnum(e)))throw haxe_Exception.thrown("Enum not found "+e);return p;case 67:e=this.unserialize();if(null==(o=this.resolver.resolveClass(e)))throw haxe_Exception.thrown("Class not found "+e);var n=Object.create(o.prototype);if(this.cache.push(n),n.hxUnserialize(this),103!=this.buf.charCodeAt(this.pos++))throw haxe_Exception.thrown("Invalid custom data");return n;case 77:var t=new haxe_ds_ObjectMap;this.cache.push(t);for(var i=this.buf;104!=this.buf.charCodeAt(this.pos);){var s=this.unserialize();t.set(s,this.unserialize())}return this.pos++,t;case 82:if((l=this.readDigits())<0||l>=this.scache.length)throw haxe_Exception.thrown("Invalid string reference");return this.scache[l];case 97:i=this.buf;var r=[];for(this.cache.push(r);;){if(104==(y=this.buf.charCodeAt(this.pos))){this.pos++;break}if(117==y){this.pos++;var l=this.readDigits();r[r.length+l-1]=null}else r.push(this.unserialize())}return r;case 98:t=new haxe_ds_StringMap;this.cache.push(t);for(i=this.buf;104!=this.buf.charCodeAt(this.pos);){s=this.unserialize();var a=this.unserialize();t.h[s]=a}return this.pos++,t;case 99:var o;e=this.unserialize();if(null==(o=this.resolver.resolveClass(e)))throw haxe_Exception.thrown("Class not found "+e);n=Object.create(o.prototype);return this.cache.push(n),this.unserializeObject(n),n;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:e=this.unserialize();if(null==(S=this.resolver.resolveEnum(e)))throw haxe_Exception.thrown("Enum not found "+e);this.pos++;for(var h=this.readDigits(),c=S.__constructs__,u=new Array(c.length),_=0,d=c.length;_<d;){u[g=_++]=c[g]._hx_name}var f=u[h];if(null==f)throw haxe_Exception.thrown("Unknown enum index "+e+"@"+h);var p=this.unserializeEnum(S,f);return this.cache.push(p),p;case 107:return NaN;case 108:var b=new haxe_ds_List;this.cache.push(b);for(i=this.buf;104!=this.buf.charCodeAt(this.pos);)b.add(this.unserialize());return this.pos++,b;case 109:return-1/0;case 110:return null;case 111:n={};return this.cache.push(n),this.unserializeObject(n),n;case 112:return 1/0;case 113:t=new haxe_ds_IntMap;this.cache.push(t);i=this.buf;for(var y=this.buf.charCodeAt(this.pos++);58==y;){var g=this.readDigits();a=this.unserialize();t.h[g]=a,y=this.buf.charCodeAt(this.pos++)}if(104!=y)throw haxe_Exception.thrown("Invalid IntMap format");return t;case 114:if((l=this.readDigits())<0||l>=this.cache.length)throw haxe_Exception.thrown("Invalid reference");return this.cache[l];case 115:var O=this.readDigits();i=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<O)throw haxe_Exception.thrown("Invalid bytes length");var x=haxe_Unserializer.CODES;null==x&&(x=haxe_Unserializer.initCodes(),haxe_Unserializer.CODES=x);for(var v=3&O,m=(g=this.pos)+(O-v),w=new haxe_io_Bytes(new ArrayBuffer(3*(O>>2)+(v>=2?v-1:0))),U=0;g<m;){var C=x[i.charCodeAt(g++)],T=x[i.charCodeAt(g++)];w.b[U++]=C<<2|T>>4;var D=x[i.charCodeAt(g++)];w.b[U++]=T<<4|D>>2;var E=x[i.charCodeAt(g++)];w.b[U++]=D<<6|E}if(v>=2){C=x[i.charCodeAt(g++)],T=x[i.charCodeAt(g++)];if(w.b[U++]=C<<2|T>>4,3==v){D=x[i.charCodeAt(g++)];w.b[U++]=T<<4|D>>2}}return this.pos+=O,this.cache.push(w),w;case 116:return!0;case 118:var A;return this.buf.charCodeAt(this.pos)>=48&&this.buf.charCodeAt(this.pos)<=57&&this.buf.charCodeAt(this.pos+1)>=48&&this.buf.charCodeAt(this.pos+1)<=57&&this.buf.charCodeAt(this.pos+2)>=48&&this.buf.charCodeAt(this.pos+2)<=57&&this.buf.charCodeAt(this.pos+3)>=48&&this.buf.charCodeAt(this.pos+3)<=57&&45==this.buf.charCodeAt(this.pos+4)?(A=HxOverrides.strDate(HxOverrides.substr(this.buf,this.pos,19)),this.pos+=19):A=new Date(this.readFloat()),this.cache.push(A),A;case 119:var S;e=this.unserialize();if(null==(S=this.resolver.resolveEnum(e)))throw haxe_Exception.thrown("Enum not found "+e);p=this.unserializeEnum(S,this.unserialize());return this.cache.push(p),p;case 120:throw haxe_Exception.thrown(this.unserialize());case 121:O=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<O)throw haxe_Exception.thrown("Invalid string length");s=HxOverrides.substr(this.buf,this.pos,O);return this.pos+=O,s=decodeURIComponent(s.split("+").join(" ")),this.scache.push(s),s;case 122:return 0}throw this.pos--,haxe_Exception.thrown("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)},__class__:haxe_Unserializer};var haxe_ValueException=function(e,n,t){haxe_Exception.call(this,String(e),n,t),this.value=e,this.__skipStack++};t["haxe.ValueException"]=haxe_ValueException,haxe_ValueException.__name__="haxe.ValueException",haxe_ValueException.__super__=haxe_Exception,haxe_ValueException.prototype=$extend(haxe_Exception.prototype,{unwrap:function(){return this.value},__class__:haxe_ValueException});var haxe_crypto_Md5=function(){};t["haxe.crypto.Md5"]=haxe_crypto_Md5,haxe_crypto_Md5.__name__="haxe.crypto.Md5",haxe_crypto_Md5.encode=function(e){var n=new haxe_crypto_Md5,t=n.doEncode(haxe_crypto_Md5.str2blks(e));return n.hex(t)},haxe_crypto_Md5.str2blks=function(e){for(var n=haxe_io_Bytes.ofString(e),t=1+(n.length+8>>6),i=[],s=0,r=16*t;s<r;){i[l=s++]=0}for(var l=0,a=n.length,o=8*a;l<a;)i[l>>2]|=n.b[l]<<(o+l)%4*8,++l;i[l>>2]|=128<<(o+l)%4*8;var h=16*t-2;return i[h]=255&o,i[h]|=(o>>>8&255)<<8,i[h]|=(o>>>16&255)<<16,i[h]|=(o>>>24&255)<<24,i},haxe_crypto_Md5.prototype={bitOR:function(e,n){return(e>>>1|n>>>1)<<1|(1&e|1&n)},bitXOR:function(e,n){return(e>>>1^n>>>1)<<1|1&e^1&n},bitAND:function(e,n){return(e>>>1&n>>>1)<<1|1&e&n},addme:function(e,n){var t=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(t>>16)<<16|65535&t},hex:function(e){for(var n="",t="0123456789abcdef",i=0;i<e.length;){var s=e[i];++i,n+=t.charAt(s>>4&15)+t.charAt(15&s),n+=t.charAt(s>>12&15)+t.charAt(s>>8&15),n+=t.charAt(s>>20&15)+t.charAt(s>>16&15),n+=t.charAt(s>>28&15)+t.charAt(s>>24&15)}return n},rol:function(e,n){return e<<n|e>>>32-n},cmn:function(e,n,t,i,s,r){return this.addme(this.rol(this.addme(this.addme(n,e),this.addme(i,r)),s),t)},ff:function(e,n,t,i,s,r,l){return this.cmn(this.bitOR(this.bitAND(n,t),this.bitAND(~n,i)),e,n,s,r,l)},gg:function(e,n,t,i,s,r,l){return this.cmn(this.bitOR(this.bitAND(n,i),this.bitAND(t,~i)),e,n,s,r,l)},hh:function(e,n,t,i,s,r,l){return this.cmn(this.bitXOR(this.bitXOR(n,t),i),e,n,s,r,l)},ii:function(e,n,t,i,s,r,l){return this.cmn(this.bitXOR(t,this.bitOR(n,~i)),e,n,s,r,l)},doEncode:function(e){for(var n=1732584193,t=-271733879,i=-1732584194,s=271733878,r=0;r<e.length;){var l=n,a=t,o=i,h=s;0,n=this.ff(n,t,i,s,e[r],7,-680876936),s=this.ff(s,n,t,i,e[r+1],12,-389564586),i=this.ff(i,s,n,t,e[r+2],17,606105819),t=this.ff(t,i,s,n,e[r+3],22,-1044525330),n=this.ff(n,t,i,s,e[r+4],7,-176418897),s=this.ff(s,n,t,i,e[r+5],12,1200080426),i=this.ff(i,s,n,t,e[r+6],17,-1473231341),t=this.ff(t,i,s,n,e[r+7],22,-45705983),n=this.ff(n,t,i,s,e[r+8],7,1770035416),s=this.ff(s,n,t,i,e[r+9],12,-1958414417),i=this.ff(i,s,n,t,e[r+10],17,-42063),t=this.ff(t,i,s,n,e[r+11],22,-1990404162),n=this.ff(n,t,i,s,e[r+12],7,1804603682),s=this.ff(s,n,t,i,e[r+13],12,-40341101),i=this.ff(i,s,n,t,e[r+14],17,-1502002290),t=this.ff(t,i,s,n,e[r+15],22,1236535329),n=this.gg(n,t,i,s,e[r+1],5,-165796510),s=this.gg(s,n,t,i,e[r+6],9,-1069501632),i=this.gg(i,s,n,t,e[r+11],14,643717713),t=this.gg(t,i,s,n,e[r],20,-373897302),n=this.gg(n,t,i,s,e[r+5],5,-701558691),s=this.gg(s,n,t,i,e[r+10],9,38016083),i=this.gg(i,s,n,t,e[r+15],14,-660478335),t=this.gg(t,i,s,n,e[r+4],20,-405537848),n=this.gg(n,t,i,s,e[r+9],5,568446438),s=this.gg(s,n,t,i,e[r+14],9,-1019803690),i=this.gg(i,s,n,t,e[r+3],14,-187363961),t=this.gg(t,i,s,n,e[r+8],20,1163531501),n=this.gg(n,t,i,s,e[r+13],5,-1444681467),s=this.gg(s,n,t,i,e[r+2],9,-51403784),i=this.gg(i,s,n,t,e[r+7],14,1735328473),t=this.gg(t,i,s,n,e[r+12],20,-1926607734),n=this.hh(n,t,i,s,e[r+5],4,-378558),s=this.hh(s,n,t,i,e[r+8],11,-2022574463),i=this.hh(i,s,n,t,e[r+11],16,1839030562),t=this.hh(t,i,s,n,e[r+14],23,-35309556),n=this.hh(n,t,i,s,e[r+1],4,-1530992060),s=this.hh(s,n,t,i,e[r+4],11,1272893353),i=this.hh(i,s,n,t,e[r+7],16,-155497632),t=this.hh(t,i,s,n,e[r+10],23,-1094730640),n=this.hh(n,t,i,s,e[r+13],4,681279174),s=this.hh(s,n,t,i,e[r],11,-358537222),i=this.hh(i,s,n,t,e[r+3],16,-722521979),t=this.hh(t,i,s,n,e[r+6],23,76029189),n=this.hh(n,t,i,s,e[r+9],4,-640364487),s=this.hh(s,n,t,i,e[r+12],11,-421815835),i=this.hh(i,s,n,t,e[r+15],16,530742520),t=this.hh(t,i,s,n,e[r+2],23,-995338651),n=this.ii(n,t,i,s,e[r],6,-198630844),s=this.ii(s,n,t,i,e[r+7],10,1126891415),i=this.ii(i,s,n,t,e[r+14],15,-1416354905),t=this.ii(t,i,s,n,e[r+5],21,-57434055),n=this.ii(n,t,i,s,e[r+12],6,1700485571),s=this.ii(s,n,t,i,e[r+3],10,-1894986606),i=this.ii(i,s,n,t,e[r+10],15,-1051523),t=this.ii(t,i,s,n,e[r+1],21,-2054922799),n=this.ii(n,t,i,s,e[r+8],6,1873313359),s=this.ii(s,n,t,i,e[r+15],10,-30611744),i=this.ii(i,s,n,t,e[r+6],15,-1560198380),t=this.ii(t,i,s,n,e[r+13],21,1309151649),n=this.ii(n,t,i,s,e[r+4],6,-145523070),s=this.ii(s,n,t,i,e[r+11],10,-1120210379),i=this.ii(i,s,n,t,e[r+2],15,718787259),t=this.ii(t,i,s,n,e[r+9],21,-343485551),n=this.addme(n,l),t=this.addme(t,a),i=this.addme(i,o),s=this.addme(s,h),r+=16}return[n,t,i,s]},__class__:haxe_crypto_Md5};var haxe_ds_ArraySort=function(){};t["haxe.ds.ArraySort"]=haxe_ds_ArraySort,haxe_ds_ArraySort.__name__="haxe.ds.ArraySort",haxe_ds_ArraySort.sort=function(e,n){haxe_ds_ArraySort.rec(e,n,0,e.length)},haxe_ds_ArraySort.rec=function(e,n,t,i){var s=t+i>>1;if(i-t<12){if(i<=t)return;for(var r=t+1,l=i;r<l;)for(var a=r++;a>t&&n(e[a],e[a-1])<0;)haxe_ds_ArraySort.swap(e,a-1,a),--a}else haxe_ds_ArraySort.rec(e,n,t,s),haxe_ds_ArraySort.rec(e,n,s,i),haxe_ds_ArraySort.doMerge(e,n,t,s,i,s-t,i-s)},haxe_ds_ArraySort.doMerge=function(e,n,t,i,s,r,l){var a,o,h,c;if(0!=r&&0!=l)if(r+l!=2){r>l?(a=t+(h=r>>1),c=(o=haxe_ds_ArraySort.lower(e,n,i,s,a))-i):(o=i+(c=l>>1),h=(a=haxe_ds_ArraySort.upper(e,n,t,i,o))-t),haxe_ds_ArraySort.rotate(e,n,a,i,o);var u=a+c;haxe_ds_ArraySort.doMerge(e,n,t,a,u,h,c),haxe_ds_ArraySort.doMerge(e,n,u,o,s,r-h,l-c)}else n(e[i],e[t])<0&&haxe_ds_ArraySort.swap(e,i,t)},haxe_ds_ArraySort.rotate=function(e,n,t,i,s){if(t!=i&&i!=s)for(var r=haxe_ds_ArraySort.gcd(s-t,i-t);0!=r--;){for(var l=e[t+r],a=i-t,o=t+r,h=t+r+a;h!=t+r;)e[o]=e[h],o=h,s-h>a?h+=a:h=t+(a-(s-h));e[o]=l}},haxe_ds_ArraySort.gcd=function(e,n){for(;0!=n;){var t=e%n;e=n,n=t}return e},haxe_ds_ArraySort.upper=function(e,n,t,i,s){for(var r,l,a=i-t;a>0;)l=t+(r=a>>1),n(e[s],e[l])<0?a=r:(t=l+1,a=a-r-1);return t},haxe_ds_ArraySort.lower=function(e,n,t,i,s){for(var r,l,a=i-t;a>0;)n(e[l=t+(r=a>>1)],e[s])<0?(t=l+1,a=a-r-1):a=r;return t},haxe_ds_ArraySort.swap=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i};var haxe_ds_IntMap=function(){this.h={}};t["haxe.ds.IntMap"]=haxe_ds_IntMap,haxe_ds_IntMap.__name__="haxe.ds.IntMap",haxe_ds_IntMap.__interfaces__=[haxe_IMap],haxe_ds_IntMap.prototype={get:function(e){return this.h[e]},remove:function(e){return!!this.h.hasOwnProperty(e)&&(delete this.h[e],!0)},keys:function(){var e=[];for(var n in this.h)this.h.hasOwnProperty(n)&&e.push(+n);return new haxe_iterators_ArrayIterator(e)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var e=this.it.next();return this.ref[e]}}},keyValueIterator:function(){return new haxe_iterators_MapKeyValueIterator(this)},copy:function(){for(var e=new haxe_ds_IntMap,n=this.keys();n.hasNext();){var t=n.next();e.h[t]=this.h[t]}return e},__class__:haxe_ds_IntMap};var haxe_ds_List=function(){this.length=0};t["haxe.ds.List"]=haxe_ds_List,haxe_ds_List.__name__="haxe.ds.List",haxe_ds_List.prototype={add:function(e){var n=new haxe_ds__$List_ListNode(e,null);null==this.h?this.h=n:this.q.next=n,this.q=n,this.length++},__class__:haxe_ds_List};var haxe_ds__$List_ListNode=function(e,n){this.item=e,this.next=n};t["haxe.ds._List.ListNode"]=haxe_ds__$List_ListNode,haxe_ds__$List_ListNode.__name__="haxe.ds._List.ListNode",haxe_ds__$List_ListNode.prototype={__class__:haxe_ds__$List_ListNode};var haxe_ds_ObjectMap=function(){this.h={__keys__:{}}};t["haxe.ds.ObjectMap"]=haxe_ds_ObjectMap,haxe_ds_ObjectMap.__name__="haxe.ds.ObjectMap",haxe_ds_ObjectMap.__interfaces__=[haxe_IMap],haxe_ds_ObjectMap.prototype={set:function(n,t){var i=n.__id__;null==i&&(i=n.__id__=e.$haxeUID++),this.h[i]=t,this.h.__keys__[i]=n},get:function(e){return this.h[e.__id__]},keys:function(){var e=[];for(var n in this.h.__keys__)this.h.hasOwnProperty(n)&&e.push(this.h.__keys__[n]);return new haxe_iterators_ArrayIterator(e)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var e=this.it.next();return this.ref[e.__id__]}}},keyValueIterator:function(){return new haxe_iterators_MapKeyValueIterator(this)},__class__:haxe_ds_ObjectMap};var haxe_ds_StringMap=function(){this.h=Object.create(null)};t["haxe.ds.StringMap"]=haxe_ds_StringMap,haxe_ds_StringMap.__name__="haxe.ds.StringMap",haxe_ds_StringMap.__interfaces__=[haxe_IMap],haxe_ds_StringMap.prototype={get:function(e){return this.h[e]},keys:function(){return new haxe_ds__$StringMap_StringMapKeyIterator(this.h)},iterator:function(){return new haxe_ds__$StringMap_StringMapValueIterator(this.h)},keyValueIterator:function(){return new haxe_ds__$StringMap_StringMapKeyValueIterator(this.h)},__class__:haxe_ds_StringMap};var haxe_ds__$StringMap_StringMapKeyIterator=function(e){this.h=e,this.keys=Object.keys(e),this.length=this.keys.length,this.current=0};t["haxe.ds._StringMap.StringMapKeyIterator"]=haxe_ds__$StringMap_StringMapKeyIterator,haxe_ds__$StringMap_StringMapKeyIterator.__name__="haxe.ds._StringMap.StringMapKeyIterator",haxe_ds__$StringMap_StringMapKeyIterator.prototype={hasNext:function(){return this.current<this.length},next:function(){return this.keys[this.current++]},__class__:haxe_ds__$StringMap_StringMapKeyIterator};var haxe_ds__$StringMap_StringMapValueIterator=function(e){this.h=e,this.keys=Object.keys(e),this.length=this.keys.length,this.current=0};t["haxe.ds._StringMap.StringMapValueIterator"]=haxe_ds__$StringMap_StringMapValueIterator,haxe_ds__$StringMap_StringMapValueIterator.__name__="haxe.ds._StringMap.StringMapValueIterator",haxe_ds__$StringMap_StringMapValueIterator.prototype={hasNext:function(){return this.current<this.length},next:function(){return this.h[this.keys[this.current++]]},__class__:haxe_ds__$StringMap_StringMapValueIterator};var haxe_ds__$StringMap_StringMapKeyValueIterator=function(e){this.h=e,this.keys=Object.keys(e),this.length=this.keys.length,this.current=0};t["haxe.ds._StringMap.StringMapKeyValueIterator"]=haxe_ds__$StringMap_StringMapKeyValueIterator,haxe_ds__$StringMap_StringMapKeyValueIterator.__name__="haxe.ds._StringMap.StringMapKeyValueIterator",haxe_ds__$StringMap_StringMapKeyValueIterator.prototype={hasNext:function(){return this.current<this.length},next:function(){var e=this.keys[this.current++];return{key:e,value:this.h[e]}},__class__:haxe_ds__$StringMap_StringMapKeyValueIterator};var B={blit:function(e,n,t,i,s){if(e==t){if(n<i)for(var r=n+s,l=i+s,a=0,o=s;a<o;){a++;--r,e[--l]=e[r]}else if(n>i)for(r=n,l=i,a=0,o=s;a<o;){a++;e[l]=e[r],++r,++l}}else for(a=0,o=s;a<o;){t[i+(r=a++)]=e[n+r]}}},haxe_io_Bytes=function(e){this.length=e.byteLength,this.b=new Uint8Array(e),this.b.bufferValue=e,e.hxBytes=this,e.bytes=this.b};t["haxe.io.Bytes"]=haxe_io_Bytes,haxe_io_Bytes.__name__="haxe.io.Bytes",haxe_io_Bytes.ofString=function(e,n){if(n==G.RawNative){for(var t=new Uint8Array(e.length<<1),i=0,s=e.length;i<s;){var r=i++,l=e.charCodeAt(r);t[r<<1]=255&l,t[r<<1|1]=l>>8}return new haxe_io_Bytes(t.buffer)}var a=[];for(r=0;r<e.length;){55296<=(l=e.charCodeAt(r++))&&l<=56319&&(l=l-55232<<10|1023&e.charCodeAt(r++)),l<=127?a.push(l):l<=2047?(a.push(192|l>>6),a.push(128|63&l)):l<=65535?(a.push(224|l>>12),a.push(128|l>>6&63),a.push(128|63&l)):(a.push(240|l>>18),a.push(128|l>>12&63),a.push(128|l>>6&63),a.push(128|63&l))}return new haxe_io_Bytes(new Uint8Array(a).buffer)},haxe_io_Bytes.prototype={getString:function(e,n,t){if(e<0||n<0||e+n>this.length)throw haxe_Exception.thrown(W.OutsideBounds);null==t&&(t=G.UTF8);var i="",s=this.b,r=e,l=e+n;switch(t._hx_index){case 0:for(;r<l;){if((c=s[r++])<128){if(0==c)break;i+=String.fromCodePoint(c)}else if(c<224){var a=(63&c)<<6|127&s[r++];i+=String.fromCodePoint(a)}else if(c<240){var o=(31&c)<<12|(127&s[r++])<<6|127&s[r++];i+=String.fromCodePoint(o)}else{var h=(15&c)<<18|(127&s[r++])<<12|(127&s[r++])<<6|127&s[r++];i+=String.fromCodePoint(h)}}break;case 1:for(;r<l;){var c=s[r++]|s[r++]<<8;i+=String.fromCodePoint(c)}}return i},toString:function(){return this.getString(0,this.length)},__class__:haxe_io_Bytes};var G=i["haxe.io.Encoding"]={__ename__:"haxe.io.Encoding",__constructs__:null,UTF8:{_hx_name:"UTF8",_hx_index:0,__enum__:"haxe.io.Encoding",toString:$estr},RawNative:{_hx_name:"RawNative",_hx_index:1,__enum__:"haxe.io.Encoding",toString:$estr}};G.__constructs__=[G.UTF8,G.RawNative];var W=i["haxe.io.Error"]={__ename__:"haxe.io.Error",__constructs__:null,Blocked:{_hx_name:"Blocked",_hx_index:0,__enum__:"haxe.io.Error",toString:$estr},Overflow:{_hx_name:"Overflow",_hx_index:1,__enum__:"haxe.io.Error",toString:$estr},OutsideBounds:{_hx_name:"OutsideBounds",_hx_index:2,__enum__:"haxe.io.Error",toString:$estr},Custom:(n=function(e){return{_hx_index:3,e:e,__enum__:"haxe.io.Error",toString:$estr}},n._hx_name="Custom",n.__params__=["e"],n)};W.__constructs__=[W.Blocked,W.Overflow,W.OutsideBounds,W.Custom];var haxe_iterators_ArrayIterator=function(e){this.current=0,this.array=e};t["haxe.iterators.ArrayIterator"]=haxe_iterators_ArrayIterator,haxe_iterators_ArrayIterator.__name__="haxe.iterators.ArrayIterator",haxe_iterators_ArrayIterator.prototype={hasNext:function(){return this.current<this.array.length},next:function(){return this.array[this.current++]},__class__:haxe_iterators_ArrayIterator};var haxe_iterators_MapKeyValueIterator=function(e){this.map=e,this.keys=e.keys()};t["haxe.iterators.MapKeyValueIterator"]=haxe_iterators_MapKeyValueIterator,haxe_iterators_MapKeyValueIterator.__name__="haxe.iterators.MapKeyValueIterator",haxe_iterators_MapKeyValueIterator.prototype={hasNext:function(){return this.keys.hasNext()},next:function(){var e=this.keys.next();return{value:this.map.get(e),key:e}},__class__:haxe_iterators_MapKeyValueIterator};var K=i["haxe.rtti.CType"]={__ename__:"haxe.rtti.CType",__constructs__:null,CUnknown:{_hx_name:"CUnknown",_hx_index:0,__enum__:"haxe.rtti.CType",toString:$estr},CEnum:(n=function(e,n){return{_hx_index:1,name:e,params:n,__enum__:"haxe.rtti.CType",toString:$estr}},n._hx_name="CEnum",n.__params__=["name","params"],n),CClass:(n=function(e,n){return{_hx_index:2,name:e,params:n,__enum__:"haxe.rtti.CType",toString:$estr}},n._hx_name="CClass",n.__params__=["name","params"],n),CTypedef:(n=function(e,n){return{_hx_index:3,name:e,params:n,__enum__:"haxe.rtti.CType",toString:$estr}},n._hx_name="CTypedef",n.__params__=["name","params"],n),CFunction:(n=function(e,n){return{_hx_index:4,args:e,ret:n,__enum__:"haxe.rtti.CType",toString:$estr}},n._hx_name="CFunction",n.__params__=["args","ret"],n),CAnonymous:(n=function(e){return{_hx_index:5,fields:e,__enum__:"haxe.rtti.CType",toString:$estr}},n._hx_name="CAnonymous",n.__params__=["fields"],n),CDynamic:(n=function(e){return{_hx_index:6,t:e,__enum__:"haxe.rtti.CType",toString:$estr}},n._hx_name="CDynamic",n.__params__=["t"],n),CAbstract:(n=function(e,n){return{_hx_index:7,name:e,params:n,__enum__:"haxe.rtti.CType",toString:$estr}},n._hx_name="CAbstract",n.__params__=["name","params"],n)};K.__constructs__=[K.CUnknown,K.CEnum,K.CClass,K.CTypedef,K.CFunction,K.CAnonymous,K.CDynamic,K.CAbstract];var Y=i["haxe.rtti.Rights"]={__ename__:"haxe.rtti.Rights",__constructs__:null,RNormal:{_hx_name:"RNormal",_hx_index:0,__enum__:"haxe.rtti.Rights",toString:$estr},RNo:{_hx_name:"RNo",_hx_index:1,__enum__:"haxe.rtti.Rights",toString:$estr},RCall:(n=function(e){return{_hx_index:2,m:e,__enum__:"haxe.rtti.Rights",toString:$estr}},n._hx_name="RCall",n.__params__=["m"],n),RMethod:{_hx_name:"RMethod",_hx_index:3,__enum__:"haxe.rtti.Rights",toString:$estr},RDynamic:{_hx_name:"RDynamic",_hx_index:4,__enum__:"haxe.rtti.Rights",toString:$estr},RInline:{_hx_name:"RInline",_hx_index:5,__enum__:"haxe.rtti.Rights",toString:$estr}};Y.__constructs__=[Y.RNormal,Y.RNo,Y.RCall,Y.RMethod,Y.RDynamic,Y.RInline];var H=i["haxe.rtti.TypeTree"]={__ename__:"haxe.rtti.TypeTree",__constructs__:null,TPackage:(n=function(e,n,t){return{_hx_index:0,name:e,full:n,subs:t,__enum__:"haxe.rtti.TypeTree",toString:$estr}},n._hx_name="TPackage",n.__params__=["name","full","subs"],n),TClassdecl:(n=function(e){return{_hx_index:1,c:e,__enum__:"haxe.rtti.TypeTree",toString:$estr}},n._hx_name="TClassdecl",n.__params__=["c"],n),TEnumdecl:(n=function(e){return{_hx_index:2,e:e,__enum__:"haxe.rtti.TypeTree",toString:$estr}},n._hx_name="TEnumdecl",n.__params__=["e"],n),TTypedecl:(n=function(e){return{_hx_index:3,t:e,__enum__:"haxe.rtti.TypeTree",toString:$estr}},n._hx_name="TTypedecl",n.__params__=["t"],n),TAbstractdecl:(n=function(e){return{_hx_index:4,a:e,__enum__:"haxe.rtti.TypeTree",toString:$estr}},n._hx_name="TAbstractdecl",n.__params__=["a"],n)};H.__constructs__=[H.TPackage,H.TClassdecl,H.TEnumdecl,H.TTypedecl,H.TAbstractdecl];var haxe_rtti_Meta=function(){};t["haxe.rtti.Meta"]=haxe_rtti_Meta,haxe_rtti_Meta.__name__="haxe.rtti.Meta",haxe_rtti_Meta.getMeta=function(e){return e.__meta__},haxe_rtti_Meta.getFields=function(e){var n=haxe_rtti_Meta.getMeta(e);return null==n||null==n.fields?{}:n.fields};var haxe_rtti_Rtti=function(){};t["haxe.rtti.Rtti"]=haxe_rtti_Rtti,haxe_rtti_Rtti.__name__="haxe.rtti.Rtti",haxe_rtti_Rtti.getRtti=function(e){var n=Reflect.field(e,"__rtti");if(null==n)throw haxe_Exception.thrown("Class "+e.__name__+" has no RTTI information, consider adding @:rtti");var t=Xml.parse(n).firstElement(),i=(new haxe_rtti_XmlParser).processElement(t);if(1==i._hx_index)return e=i.c;var s=i;throw haxe_Exception.thrown("Enum mismatch: expected TClassDecl but found "+Std.string(s))};var haxe_rtti_XmlParser=function(){this.root=[]};t["haxe.rtti.XmlParser"]=haxe_rtti_XmlParser,haxe_rtti_XmlParser.__name__="haxe.rtti.XmlParser",haxe_rtti_XmlParser.prototype={mkPath:function(e){return e},mkTypeParams:function(e){var n=e.split(":");return""==n[0]?[]:n},mkRights:function(e){switch(e){case"dynamic":return Y.RDynamic;case"inline":return Y.RInline;case"method":return Y.RMethod;case"null":return Y.RNo;default:return Y.RCall(e)}},xerror:function(e){var n;if(e.nodeType==Xml.Document)n="Document";else{if(e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));n=e.nodeName}throw haxe_Exception.thrown("Invalid "+n)},processElement:function(e){if(e.nodeType!=Xml.Document&&e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Invalid nodeType "+(null==e.nodeType?"null":r.toString(e.nodeType)));var n,t=e;if(t.nodeType==Xml.Document)n="Document";else{if(t.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==t.nodeType?"null":r.toString(t.nodeType)));n=t.nodeName}switch(n){case"abstract":return H.TAbstractdecl(this.xabstract(t));case"class":return H.TClassdecl(this.xclass(t));case"enum":return H.TEnumdecl(this.xenum(t));case"typedef":return H.TTypedecl(this.xtypedef(t));default:return this.xerror(t)}},xmeta:function(e){for(var n=[],t=0,i=$.resolve(e,"m");t<i.length;){var s=i[t];++t;for(var r=[],l=0,a=$.resolve(s,"e");l<a.length;){var o=a[l];++l,r.push(Q.get_innerHTML(o))}n.push({name:V.resolve(s,"n"),params:r})}return n},xoverloads:function(e){for(var n=[],t=e.elements();t.hasNext();){var i=t.next();n.push(this.xclassfield(i))}return n},xpath:function(e){for(var n=this.mkPath(V.resolve(e,"path")),t=[],i=e.elements();i.hasNext();){var s=i.next();t.push(this.xtype(s))}return{path:n,params:t}},xclass:function(e){for(var n=null,t=null,i=null,s=[],l=[],a=[],o=[],h=e.exists("interface"),c=e.elements();c.hasNext();){var u,_=c.next();if(_.nodeType==Xml.Document)u="Document";else{if(_.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==_.nodeType?"null":r.toString(_.nodeType)));u=_.nodeName}switch(u){case"extends":h?s.push(this.xpath(_)):n=this.xpath(_);break;case"haxe_doc":t=Q.get_innerData(_);break;case"haxe_dynamic":var d=_.firstElement();if(d.nodeType!=Xml.Document&&d.nodeType!=Xml.Element)throw haxe_Exception.thrown("Invalid nodeType "+(null==d.nodeType?"null":r.toString(d.nodeType)));i=this.xtype(d);break;case"implements":s.push(this.xpath(_));break;case"meta":o=this.xmeta(_);break;default:_.exists("static")?a.push(this.xclassfield(_)):l.push(this.xclassfield(_))}}return{file:z.resolve(e,"file")?V.resolve(e,"file"):null,path:this.mkPath(V.resolve(e,"path")),module:z.resolve(e,"module")?this.mkPath(V.resolve(e,"module")):null,doc:t,isPrivate:e.exists("private"),isExtern:e.exists("extern"),isFinal:e.exists("final"),isInterface:h,params:this.mkTypeParams(V.resolve(e,"params")),superClass:n,interfaces:s,fields:l,statics:a,tdynamic:i,platforms:this.defplat(),meta:o}},xclassfield:function(e,n){null==n&&(n=!1);for(var t,i=e.elements(),s=this.xtype(i.next()),l=null,a=[],o=null,h=i;h.hasNext();){var c,u=h.next();if(u.nodeType==Xml.Document)c="Document";else{if(u.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==u.nodeType?"null":r.toString(u.nodeType)));c=u.nodeName}switch(c){case"haxe_doc":l=Q.get_innerData(u);break;case"meta":a=this.xmeta(u);break;case"overloads":o=this.xoverloads(u);break;default:this.xerror(u)}}if(e.nodeType==Xml.Document)t="Document";else{if(e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));t=e.nodeName}return{name:t,type:s,isPublic:e.exists("public")||n,isFinal:e.exists("final"),isOverride:e.exists("override"),line:z.resolve(e,"line")?Std.parseInt(V.resolve(e,"line")):null,doc:l,get:z.resolve(e,"get")?this.mkRights(V.resolve(e,"get")):Y.RNormal,set:z.resolve(e,"set")?this.mkRights(V.resolve(e,"set")):Y.RNormal,params:z.resolve(e,"params")?this.mkTypeParams(V.resolve(e,"params")):[],platforms:this.defplat(),meta:a,overloads:o,expr:z.resolve(e,"expr")?V.resolve(e,"expr"):null}},xenum:function(e){for(var n=[],t=null,i=[],s=e.elements();s.hasNext();){var l,a=s.next();if(a.nodeType==Xml.Document)l="Document";else{if(a.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==a.nodeType?"null":r.toString(a.nodeType)));l=a.nodeName}if("haxe_doc"==l)t=Q.get_innerData(a);else{var o;if(a.nodeType==Xml.Document)o="Document";else{if(a.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==a.nodeType?"null":r.toString(a.nodeType)));o=a.nodeName}"meta"==o?i=this.xmeta(a):n.push(this.xenumfield(a))}}return{file:z.resolve(e,"file")?V.resolve(e,"file"):null,path:this.mkPath(V.resolve(e,"path")),module:z.resolve(e,"module")?this.mkPath(V.resolve(e,"module")):null,doc:t,isPrivate:e.exists("private"),isExtern:e.exists("extern"),params:this.mkTypeParams(V.resolve(e,"params")),constructors:n,platforms:this.defplat(),meta:i}},xenumfield:function(e){var n,t,i=null,s=e.elementsNamed("haxe_doc"),l=s.hasNext()?s.next():null,a=j.resolve(e,"meta")?this.xmeta(X.resolve(e,"meta")):[];if(z.resolve(e,"a")){var o=V.resolve(e,"a").split(":"),h=e.elements();i=[];for(var c=0;c<o.length;){var u=o[c];++c;var _=!1;"?"==u.charAt(0)&&(_=!0,u=HxOverrides.substr(u,1,null)),i.push({name:u,opt:_,t:this.xtype(h.next())})}}if(e.nodeType==Xml.Document)n="Document";else{if(e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));n=e.nodeName}if(null==l)t=null;else{if(l.nodeType!=Xml.Document&&l.nodeType!=Xml.Element)throw haxe_Exception.thrown("Invalid nodeType "+(null==l.nodeType?"null":r.toString(l.nodeType)));t=Q.get_innerData(l)}return{name:n,args:i,doc:t,meta:a,platforms:this.defplat()}},xabstract:function(e){for(var n=null,t=null,i=null,s=[],l=[],a=[],o=e.elements();o.hasNext();){var h,c=o.next();if(c.nodeType==Xml.Document)h="Document";else{if(c.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==c.nodeType?"null":r.toString(c.nodeType)));h=c.nodeName}switch(h){case"from":for(var u=c.elements();u.hasNext();){var _=u.next(),d=_.firstElement();if(d.nodeType!=Xml.Document&&d.nodeType!=Xml.Element)throw haxe_Exception.thrown("Invalid nodeType "+(null==d.nodeType?"null":r.toString(d.nodeType)));a.push({t:this.xtype(d),field:z.resolve(_,"field")?V.resolve(_,"field"):null})}break;case"haxe_doc":n=Q.get_innerData(c);break;case"impl":t=this.xclass(X.resolve(c,"class"));break;case"meta":s=this.xmeta(c);break;case"this":var f=c.firstElement();if(f.nodeType!=Xml.Document&&f.nodeType!=Xml.Element)throw haxe_Exception.thrown("Invalid nodeType "+(null==f.nodeType?"null":r.toString(f.nodeType)));i=this.xtype(f);break;case"to":for(var p=c.elements();p.hasNext();){var b=p.next(),y=b.firstElement();if(y.nodeType!=Xml.Document&&y.nodeType!=Xml.Element)throw haxe_Exception.thrown("Invalid nodeType "+(null==y.nodeType?"null":r.toString(y.nodeType)));l.push({t:this.xtype(y),field:z.resolve(b,"field")?V.resolve(b,"field"):null})}break;default:this.xerror(c)}}return{file:z.resolve(e,"file")?V.resolve(e,"file"):null,path:this.mkPath(V.resolve(e,"path")),module:z.resolve(e,"module")?this.mkPath(V.resolve(e,"module")):null,doc:n,isPrivate:e.exists("private"),params:this.mkTypeParams(V.resolve(e,"params")),platforms:this.defplat(),meta:s,athis:i,to:l,from:a,impl:t}},xtypedef:function(e){for(var n=null,t=null,i=[],s=e.elements();s.hasNext();){var l,a=s.next();if(a.nodeType==Xml.Document)l="Document";else{if(a.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==a.nodeType?"null":r.toString(a.nodeType)));l=a.nodeName}if("haxe_doc"==l)n=Q.get_innerData(a);else{var o;if(a.nodeType==Xml.Document)o="Document";else{if(a.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==a.nodeType?"null":r.toString(a.nodeType)));o=a.nodeName}"meta"==o?i=this.xmeta(a):t=this.xtype(a)}}var h=new haxe_ds_StringMap;return null!=this.curplatform&&(h.h[this.curplatform]=t),{file:z.resolve(e,"file")?V.resolve(e,"file"):null,path:this.mkPath(V.resolve(e,"path")),module:z.resolve(e,"module")?this.mkPath(V.resolve(e,"module")):null,doc:n,isPrivate:e.exists("private"),params:this.mkTypeParams(V.resolve(e,"params")),type:t,types:h,platforms:this.defplat(),meta:i}},xtype:function(e){var n;if(e.nodeType==Xml.Document)n="Document";else{if(e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));n=e.nodeName}switch(n){case"a":for(var t=[],i=e.elements();i.hasNext();){var s=i.next(),l=this.xclassfield(s,!0);l.platforms=[],t.push(l)}return K.CAnonymous(t);case"c":return K.CClass(this.mkPath(V.resolve(e,"path")),this.xtypeparams(e));case"d":var a=null,o=e.firstElement();if(null!=o){if(o.nodeType!=Xml.Document&&o.nodeType!=Xml.Element)throw haxe_Exception.thrown("Invalid nodeType "+(null==o.nodeType?"null":r.toString(o.nodeType)));a=this.xtype(o)}return K.CDynamic(a);case"e":return K.CEnum(this.mkPath(V.resolve(e,"path")),this.xtypeparams(e));case"f":for(var h=[],c=0,u=V.resolve(e,"a").split(":"),_=z.resolve(e,"v")?new haxe_iterators_ArrayIterator(V.resolve(e,"v").split(":")):null,d=e.elements();d.hasNext();){var f=d.next(),p=!1,b=c<u.length?u[c++]:null;null==b&&(b=""),"?"==b.charAt(0)&&(p=!0,b=HxOverrides.substr(b,1,null));var y=null==_||_.current>=_.array.length?null:_.array[_.current++];h.push({name:b,opt:p,t:this.xtype(f),value:""==y?null:y})}var g=h[h.length-1];return HxOverrides.remove(h,g),K.CFunction(h,g.t);case"t":return K.CTypedef(this.mkPath(V.resolve(e,"path")),this.xtypeparams(e));case"unknown":return K.CUnknown;case"x":return K.CAbstract(this.mkPath(V.resolve(e,"path")),this.xtypeparams(e));default:return this.xerror(e)}},xtypeparams:function(e){for(var n=[],t=e.elements();t.hasNext();){var i=t.next();n.push(this.xtype(i))}return n},defplat:function(){var e=[];return null!=this.curplatform&&e.push(this.curplatform),e},__class__:haxe_rtti_XmlParser};var X={resolve:function(e,n){var t=e.elementsNamed(n).next();if(null==t){var i;if(e.nodeType==Xml.Document)i="Document";else{if(e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));i=e.nodeName}throw haxe_Exception.thrown(i+" is missing element "+n)}if(t.nodeType!=Xml.Document&&t.nodeType!=Xml.Element)throw haxe_Exception.thrown("Invalid nodeType "+(null==t.nodeType?"null":r.toString(t.nodeType)));return t}},V={resolve:function(e,n){if(e.nodeType==Xml.Document)throw haxe_Exception.thrown("Cannot access document attribute "+n);var t=e.get(n);if(null==t){if(e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));throw haxe_Exception.thrown(e.nodeName+" is missing attribute "+n)}return t}},z={resolve:function(e,n){if(e.nodeType==Xml.Document)throw haxe_Exception.thrown("Cannot access document attribute "+n);return e.exists(n)}},j={resolve:function(e,n){return e.elementsNamed(n).hasNext()}},$={resolve:function(e,n){for(var t=[],i=e.elementsNamed(n);i.hasNext();){var s=i.next();if(s.nodeType!=Xml.Document&&s.nodeType!=Xml.Element)throw haxe_Exception.thrown("Invalid nodeType "+(null==s.nodeType?"null":r.toString(s.nodeType)));t.push(s)}return t}},Q={__properties__:{get_innerHTML:"get_innerHTML",get_innerData:"get_innerData"},get_innerData:function(e){if(e.nodeType!=Xml.Document&&e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));var n=0,t=e.children;if(n>=t.length){if(e.nodeType==Xml.Document)a="Document";else{if(e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));a=e.nodeName}throw haxe_Exception.thrown(a+" does not have data")}var i=t[n++];if(n<t.length){var s=t[n++];if(i.nodeType==Xml.PCData&&s.nodeType==Xml.CData){if(i.nodeType==Xml.Document||i.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==i.nodeType?"null":r.toString(i.nodeType)));a=""==StringTools.trim(i.nodeValue)}else a=!1;if(a){if(n>=t.length){if(s.nodeType==Xml.Document||s.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==s.nodeType?"null":r.toString(s.nodeType)));return s.nodeValue}var l=t[n++];if(l.nodeType==Xml.PCData){if(l.nodeType==Xml.Document||l.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==l.nodeType?"null":r.toString(l.nodeType)));a=""==StringTools.trim(l.nodeValue)}else a=!1;if(a&&n>=t.length){if(s.nodeType==Xml.Document||s.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==s.nodeType?"null":r.toString(s.nodeType)));return s.nodeValue}}if(e.nodeType==Xml.Document)a="Document";else{if(e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));a=e.nodeName}throw haxe_Exception.thrown(a+" does not only have data")}if(i.nodeType!=Xml.PCData&&i.nodeType!=Xml.CData){var a;if(e.nodeType==Xml.Document)a="Document";else{if(e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));a=e.nodeName}throw haxe_Exception.thrown(a+" does not have data")}if(i.nodeType==Xml.Document||i.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==i.nodeType?"null":r.toString(i.nodeType)));return i.nodeValue},get_innerHTML:function(e){var n="";if(e.nodeType!=Xml.Document&&e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));for(var t=0,i=e.children;t<i.length;){var s=i[t++];n+=Std.string(haxe_xml_Printer.print(s))}return n}},haxe_xml_XmlParserException=function(e,n,t){this.xml=n,this.message=e,this.position=t,this.lineNumber=1,this.positionAtLine=0;for(var i=0,s=t;i<s;){var r=i++,l=n.charCodeAt(r);10==l?(this.lineNumber++,this.positionAtLine=0):13!=l&&this.positionAtLine++}};t["haxe.xml.XmlParserException"]=haxe_xml_XmlParserException,haxe_xml_XmlParserException.__name__="haxe.xml.XmlParserException",haxe_xml_XmlParserException.prototype={toString:function(){return js_Boot.getClass(this).__name__+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:haxe_xml_XmlParserException};var haxe_xml_Parser=function(){};t["haxe.xml.Parser"]=haxe_xml_Parser,haxe_xml_Parser.__name__="haxe.xml.Parser",haxe_xml_Parser.parse=function(e,n){null==n&&(n=!1);var t=Xml.createDocument();return haxe_xml_Parser.doParse(e,n,0,t),t},haxe_xml_Parser.doParse=function(e,n,t,i){null==t&&(t=0);for(var s=null,l=1,a=1,o=null,h=0,c=0,u=0,_=new StringBuf,d=1,f=-1;t<e.length;){var p=e.charCodeAt(t);switch(l){case 0:switch(p){case 9:case 10:case 13:case 32:break;default:l=a;continue}break;case 1:if(60!=p){h=t,l=13;continue}l=0,a=2;break;case 2:switch(p){case 33:if(91==e.charCodeAt(t+1)){if("CDATA["!=HxOverrides.substr(e,t+=2,6).toUpperCase())throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected <![CDATA[",e,t));l=17,h=(t+=5)+1}else if(68==e.charCodeAt(t+1)||100==e.charCodeAt(t+1)){if("OCTYPE"!=HxOverrides.substr(e,t+2,6).toUpperCase())throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected <!DOCTYPE",e,t));l=16,h=(t+=8)+1}else{if(45!=e.charCodeAt(t+1)||45!=e.charCodeAt(t+2))throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected \x3c!--",e,t));l=15,h=(t+=2)+1}break;case 47:if(null==i)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected node name",e,t));h=t+1,l=0,a=10;break;case 63:l=14,h=t;break;default:l=3,h=t;continue}break;case 3:if(!(p>=97&&p<=122||p>=65&&p<=90||p>=48&&p<=57||58==p||46==p||95==p||45==p)){if(t==h)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected node name",e,t));s=Xml.createElement(HxOverrides.substr(e,h,t-h)),i.addChild(s),++c,l=0,a=4;continue}break;case 4:switch(p){case 47:l=11;break;case 62:l=9;break;default:l=5,h=t;continue}break;case 5:if(!(p>=97&&p<=122||p>=65&&p<=90||p>=48&&p<=57||58==p||46==p||95==p||45==p)){if(h==t)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected attribute name",e,t));if(o=HxOverrides.substr(e,h,t-h),s.exists(o))throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Duplicate attribute ["+o+"]",e,t));l=0,a=6;continue}break;case 6:if(61!=p)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected =",e,t));l=0,a=7;break;case 7:switch(p){case 34:case 39:_=new StringBuf,l=8,h=t+1,f=p;break;default:throw haxe_Exception.thrown(new haxe_xml_XmlParserException('Expected "',e,t))}break;case 8:switch(p){case 38:var b=t-h;_.b+=HxOverrides.substr(e,h,null==b?null:b),l=18,d=8,h=t+1;break;case 60:case 62:if(n)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Invalid unescaped "+String.fromCodePoint(p)+" in attribute value",e,t));if(p==f){var y=t-h;_.b+=HxOverrides.substr(e,h,null==y?null:y);var g=_.b;_=new StringBuf,s.set(o,g),l=0,a=4}break;default:if(p==f){var O=t-h;_.b+=HxOverrides.substr(e,h,null==O?null:O);var x=_.b;_=new StringBuf,s.set(o,x),l=0,a=4}}break;case 9:h=t=haxe_xml_Parser.doParse(e,n,t,s),l=1;break;case 10:if(!(p>=97&&p<=122||p>=65&&p<=90||p>=48&&p<=57||58==p||46==p||95==p||45==p)){if(h==t)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected node name",e,t));var v=HxOverrides.substr(e,h,t-h);if(null==i||0!=i.nodeType)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Unexpected </"+v+">, tag is not open",e,t));if(i.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":r.toString(i.nodeType)));if(v!=i.nodeName){if(i.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":r.toString(i.nodeType)));throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected </"+i.nodeName+">",e,t))}l=0,a=12;continue}break;case 11:if(62!=p)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected >",e,t));l=1;break;case 12:if(62==p)return 0==c&&i.addChild(Xml.createPCData("")),t;throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Expected >",e,t));case 13:if(60==p){var m=t-h;_.b+=HxOverrides.substr(e,h,null==m?null:m);var w=Xml.createPCData(_.b);_=new StringBuf,i.addChild(w),++c,l=0,a=2}else if(38==p){var U=t-h;_.b+=HxOverrides.substr(e,h,null==U?null:U),l=18,d=13,h=t+1}break;case 14:if(63==p&&62==e.charCodeAt(t+1)){++t;var C=HxOverrides.substr(e,h+1,t-h-2);i.addChild(Xml.createProcessingInstruction(C)),++c,l=1}break;case 15:45==p&&45==e.charCodeAt(t+1)&&62==e.charCodeAt(t+2)&&(i.addChild(Xml.createComment(HxOverrides.substr(e,h,t-h))),++c,t+=2,l=1);break;case 16:91==p?++u:93==p?--u:62==p&&0==u&&(i.addChild(Xml.createDocType(HxOverrides.substr(e,h,t-h))),++c,l=1);break;case 17:if(93==p&&93==e.charCodeAt(t+1)&&62==e.charCodeAt(t+2)){var T=Xml.createCData(HxOverrides.substr(e,h,t-h));i.addChild(T),++c,t+=2,l=1}break;case 18:if(59==p){var D=HxOverrides.substr(e,h,t-h);if(35==D.charCodeAt(0)){var E=120==D.charCodeAt(1)?Std.parseInt("0"+HxOverrides.substr(D,1,D.length-1)):Std.parseInt(HxOverrides.substr(D,1,D.length-1));_.b+=String.fromCodePoint(E)}else if(Object.prototype.hasOwnProperty.call(haxe_xml_Parser.escapes.h,D))_.b+=Std.string(haxe_xml_Parser.escapes.h[D]);else{if(n)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Undefined entity: "+D,e,t));_.b+=Std.string("&"+D+";")}h=t+1,l=d}else if(!(p>=97&&p<=122||p>=65&&p<=90||p>=48&&p<=57||58==p||46==p||95==p||45==p)&&35!=p){if(n)throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Invalid character in entity: "+String.fromCodePoint(p),e,t));_.b+=String.fromCodePoint(38);var A=t-h;_.b+=HxOverrides.substr(e,h,null==A?null:A),h=--t+1,l=d}}++t}if(1==l&&(h=t,l=13),13==l){if(0==i.nodeType){if(i.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":r.toString(i.nodeType)));throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Unclosed node <"+i.nodeName+">",e,t))}if(t!=h||0==c){b=t-h;_.b+=HxOverrides.substr(e,h,null==b?null:b),i.addChild(Xml.createPCData(_.b)),++c}return t}if(!n&&18==l&&13==d){_.b+=String.fromCodePoint(38);b=t-h;return _.b+=HxOverrides.substr(e,h,null==b?null:b),i.addChild(Xml.createPCData(_.b)),++c,t}throw haxe_Exception.thrown(new haxe_xml_XmlParserException("Unexpected end",e,t))};var haxe_xml_Printer=function(e){this.output=new StringBuf,this.pretty=e};t["haxe.xml.Printer"]=haxe_xml_Printer,haxe_xml_Printer.__name__="haxe.xml.Printer",haxe_xml_Printer.print=function(e,n){null==n&&(n=!1);var t=new haxe_xml_Printer(n);return t.writeNode(e,""),t.output.b},haxe_xml_Printer.prototype={writeNode:function(e,n){switch(e.nodeType){case 0:if(this.output.b+=Std.string(n+"<"),e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));this.output.b+=Std.string(e.nodeName);for(var t=e.attributes();t.hasNext();){var i=t.next();this.output.b+=Std.string(" "+i+'="');var s=StringTools.htmlEscape(e.get(i),!0);this.output.b+=Std.string(s),this.output.b+='"'}if(this.hasChildren(e)){if(this.output.b+=">",this.pretty&&(this.output.b+="\n"),e.nodeType!=Xml.Document&&e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));for(var l=0,a=e.children;l<a.length;){var o=a[l++];this.writeNode(o,this.pretty?n+"\t":n)}if(this.output.b+=Std.string(n+"</"),e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));this.output.b+=Std.string(e.nodeName),this.output.b+=">",this.pretty&&(this.output.b+="\n")}else this.output.b+="/>",this.pretty&&(this.output.b+="\n");break;case 1:if(e.nodeType==Xml.Document||e.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":r.toString(e.nodeType)));var h=e.nodeValue;if(0!=h.length){s=n+StringTools.htmlEscape(h);this.output.b+=Std.string(s),this.pretty&&(this.output.b+="\n")}break;case 2:if(this.output.b+=Std.string(n+"<![CDATA["),e.nodeType==Xml.Document||e.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":r.toString(e.nodeType)));this.output.b+=Std.string(e.nodeValue),this.output.b+="]]>",this.pretty&&(this.output.b+="\n");break;case 3:if(e.nodeType==Xml.Document||e.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":r.toString(e.nodeType)));var c=e.nodeValue,u=new RegExp("[\n\r\t]+","g".split("u").join(""));c="\x3c!--"+(c=c.replace(u,""))+"--\x3e",this.output.b+=null==n?"null":""+n;s=StringTools.trim(c);this.output.b+=Std.string(s),this.pretty&&(this.output.b+="\n");break;case 4:if(e.nodeType==Xml.Document||e.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":r.toString(e.nodeType)));this.output.b+=Std.string("<!DOCTYPE "+e.nodeValue+">"),this.pretty&&(this.output.b+="\n");break;case 5:if(e.nodeType==Xml.Document||e.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":r.toString(e.nodeType)));this.output.b+=Std.string("<?"+e.nodeValue+"?>"),this.pretty&&(this.output.b+="\n");break;case 6:if(e.nodeType!=Xml.Document&&e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));for(l=0,a=e.children;l<a.length;){o=a[l++];this.writeNode(o,n)}}},hasChildren:function(e){if(e.nodeType!=Xml.Document&&e.nodeType!=Xml.Element)throw haxe_Exception.thrown("Bad node type, expected Element or Document but found "+(null==e.nodeType?"null":r.toString(e.nodeType)));for(var n=0,t=e.children;n<t.length;){var i=t[n++];switch(i.nodeType){case 0:case 1:return!0;case 2:case 3:if(i.nodeType==Xml.Document||i.nodeType==Xml.Element)throw haxe_Exception.thrown("Bad node type, unexpected "+(null==i.nodeType?"null":r.toString(i.nodeType)));if(0!=StringTools.ltrim(i.nodeValue).length)return!0}}return!1},__class__:haxe_xml_Printer};var hsluv_Geometry=function(){};t["hsluv.Geometry"]=hsluv_Geometry,hsluv_Geometry.__name__="hsluv.Geometry",hsluv_Geometry.intersectLineLine=function(e,n){var t=(e.intercept-n.intercept)/(n.slope-e.slope);return{x:t,y:e.slope*t+e.intercept}},hsluv_Geometry.distanceFromOrigin=function(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))},hsluv_Geometry.distanceLineFromOrigin=function(e){return Math.abs(e.intercept)/Math.sqrt(Math.pow(e.slope,2)+1)},hsluv_Geometry.perpendicularThroughPoint=function(e,n){var t=-1/e.slope;return{slope:t,intercept:n.y-t*n.x}},hsluv_Geometry.angleFromOrigin=function(e){return Math.atan2(e.y,e.x)},hsluv_Geometry.normalizeAngle=function(e){var n=2*Math.PI;return(e%n+n)%n},hsluv_Geometry.lengthOfRayUntilIntersect=function(e,n){return n.intercept/(Math.sin(e)-n.slope*Math.cos(e))};var hsluv_Hsluv=function(){};t["hsluv.Hsluv"]=hsluv_Hsluv,hsluv_Hsluv.__name__="hsluv.Hsluv",hsluv_Hsluv.getBounds=function(e){for(var n=[],t=Math.pow(e+16,3)/1560896,i=t>hsluv_Hsluv.epsilon?t:e/hsluv_Hsluv.kappa,s=0;s<3;){var r=s++,l=hsluv_Hsluv.m[r][0],a=hsluv_Hsluv.m[r][1],o=hsluv_Hsluv.m[r][2],h=(284517*l-94839*o)*i,c=(838422*o+769860*a+731718*l)*e*i-0*e,u=(632260*o-126452*a)*i;n.push({slope:h/u,intercept:c/u});var _=(284517*l-94839*o)*i,d=(838422*o+769860*a+731718*l)*e*i-769860*e,f=(632260*o-126452*a)*i+126452;n.push({slope:_/f,intercept:d/f})}return n},hsluv_Hsluv.maxSafeChromaForL=function(e){for(var n=hsluv_Hsluv.getBounds(e),t=1/0,i=0;i<n.length;){var s=n[i];++i;var r=hsluv_Geometry.distanceLineFromOrigin(s);t=Math.min(t,r)}return t},hsluv_Hsluv.maxChromaForLH=function(e,n){for(var t=n/360*Math.PI*2,i=hsluv_Hsluv.getBounds(e),s=1/0,r=0;r<i.length;){var l=i[r];++r;var a=hsluv_Geometry.lengthOfRayUntilIntersect(t,l);a>=0&&(s=Math.min(s,a))}return s},hsluv_Hsluv.dotProduct=function(e,n){for(var t=0,i=0,s=e.length;i<s;){var r=i++;t+=e[r]*n[r]}return t},hsluv_Hsluv.fromLinear=function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,.4166666666666667)-.055},hsluv_Hsluv.toLinear=function(e){return e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92},hsluv_Hsluv.xyzToRgb=function(e,n){var t=hsluv_Hsluv.fromLinear(hsluv_Hsluv.dotProduct(hsluv_Hsluv.m[0],e)),i=hsluv_Hsluv.fromLinear(hsluv_Hsluv.dotProduct(hsluv_Hsluv.m[1],e)),s=hsluv_Hsluv.fromLinear(hsluv_Hsluv.dotProduct(hsluv_Hsluv.m[2],e));return null==n&&(n=[0,0,0]),n[0]=t,n[1]=i,n[2]=s,n},hsluv_Hsluv.rgbToXyz=function(e,n){var t=e[0],i=e[1],s=e[2];null==n&&(n=[0,0,0]),n[0]=hsluv_Hsluv.toLinear(t),n[1]=hsluv_Hsluv.toLinear(i),n[2]=hsluv_Hsluv.toLinear(s);var r=hsluv_Hsluv.dotProduct(hsluv_Hsluv.minv[0],n),l=hsluv_Hsluv.dotProduct(hsluv_Hsluv.minv[1],n),a=hsluv_Hsluv.dotProduct(hsluv_Hsluv.minv[2],n);return n[0]=r,n[1]=l,n[2]=a,n},hsluv_Hsluv.yToL=function(e){return e<=hsluv_Hsluv.epsilon?e/hsluv_Hsluv.refY*hsluv_Hsluv.kappa:116*Math.pow(e/hsluv_Hsluv.refY,.3333333333333333)-16},hsluv_Hsluv.lToY=function(e){return e<=8?hsluv_Hsluv.refY*e/hsluv_Hsluv.kappa:hsluv_Hsluv.refY*Math.pow((e+16)/116,3)},hsluv_Hsluv.xyzToLuv=function(e,n){var t=e[0],i=e[1];null==n&&(n=[0,0,0]);var s=t+15*i+3*e[2],r=4*t,l=9*i;0!=s?(r/=s,l/=s):(r=NaN,l=NaN);var a=hsluv_Hsluv.yToL(i);if(0==a)return n[0]=0,n[1]=0,n[2]=0,n;var o=13*a*(r-hsluv_Hsluv.refU),h=13*a*(l-hsluv_Hsluv.refV);return n[0]=a,n[1]=o,n[2]=h,n},hsluv_Hsluv.luvToXyz=function(e,n){null==n&&(n=[0,0,0]);var t=e[0],i=e[1],s=e[2];if(0==t)return n[0]=0,n[1]=1,n[2]=2,n;var r=i/(13*t)+hsluv_Hsluv.refU,l=s/(13*t)+hsluv_Hsluv.refV,a=hsluv_Hsluv.lToY(t),o=0-9*a*r/((r-4)*l-r*l),h=(9*a-15*l*a-l*o)/(3*l);return n[0]=o,n[1]=a,n[2]=h,n},hsluv_Hsluv.luvToLch=function(e,n){var t=e[0],i=e[1],s=e[2];null==n&&(n=[0,0,0]);var r,l=Math.sqrt(i*i+s*s);l<1e-8?r=0:(r=180*Math.atan2(s,i)/Math.PI)<0&&(r=360+r);return n[0]=t,n[1]=l,n[2]=r,n},hsluv_Hsluv.lchToLuv=function(e,n){var t=e[0],i=e[1];null==n&&(n=[0,0,0]);var s=e[2]/360*2*Math.PI,r=Math.cos(s)*i,l=Math.sin(s)*i;return n[0]=t,n[1]=r,n[2]=l,n},hsluv_Hsluv.hsluvToLch=function(e,n){var t=e[0],i=e[1],s=e[2];if(null==n&&(n=[0,0,0]),s>99.9999999)return n[0]=100,n[1]=0,n[2]=t,n;if(s<1e-8)return n[0]=0,n[1]=0,n[2]=t,n;var r=hsluv_Hsluv.maxChromaForLH(s,t)/100*i;return n[0]=s,n[1]=r,n[2]=t,n},hsluv_Hsluv.lchToHsluv=function(e,n){var t=e[0],i=e[1],s=e[2];if(null==n&&(n=[0,0,0]),t>99.9999999)return n[0]=s,n[1]=0,n[2]=100,n;if(t<1e-8)return n[0]=s,n[1]=0,n[2]=0,n;var r=i/hsluv_Hsluv.maxChromaForLH(t,s)*100;return n[0]=s,n[1]=r,n[2]=t,n},hsluv_Hsluv.hpluvToLch=function(e){var n=e[0],t=e[1],i=e[2];return i>99.9999999?[100,0,n]:i<1e-8?[0,0,n]:[i,hsluv_Hsluv.maxSafeChromaForL(i)/100*t,n]},hsluv_Hsluv.lchToHpluv=function(e){var n=e[0],t=e[1],i=e[2];return n>99.9999999?[i,0,100]:n<1e-8?[i,0,0]:[i,t/hsluv_Hsluv.maxSafeChromaForL(n)*100,n]},hsluv_Hsluv.rgbToHex=function(e){var n="#",t=e[0],i=((s=Math.round(255*t))-(r=s%16))/16|0;n+=hsluv_Hsluv.hexChars.charAt(i)+hsluv_Hsluv.hexChars.charAt(r);t=e[1],i=((s=Math.round(255*t))-(r=s%16))/16|0;n+=hsluv_Hsluv.hexChars.charAt(i)+hsluv_Hsluv.hexChars.charAt(r);var s,r;t=e[2],i=((s=Math.round(255*t))-(r=s%16))/16|0;return n+=hsluv_Hsluv.hexChars.charAt(i)+hsluv_Hsluv.hexChars.charAt(r)},hsluv_Hsluv.hexToRgb=function(e){e=e.toLowerCase();var n=[],t=16*hsluv_Hsluv.hexChars.indexOf(e.charAt(1))+hsluv_Hsluv.hexChars.indexOf(e.charAt(2));n.push(t/255);t=16*hsluv_Hsluv.hexChars.indexOf(e.charAt(3))+hsluv_Hsluv.hexChars.indexOf(e.charAt(4));n.push(t/255);t=16*hsluv_Hsluv.hexChars.indexOf(e.charAt(5))+hsluv_Hsluv.hexChars.indexOf(e.charAt(6));return n.push(t/255),n},hsluv_Hsluv.lchToRgb=function(e,n){return null==n&&(n=[0,0,0]),hsluv_Hsluv.lchToLuv(e,n),hsluv_Hsluv.luvToXyz(n,n),hsluv_Hsluv.xyzToRgb(n,n),n},hsluv_Hsluv.rgbToLch=function(e,n){return null==n&&(n=[0,0,0]),hsluv_Hsluv.rgbToXyz(e,n),hsluv_Hsluv.xyzToLuv(n,n),hsluv_Hsluv.luvToLch(n,n),n},hsluv_Hsluv.hsluvToRgb=function(e,n){return null==n&&(n=[0,0,0]),hsluv_Hsluv.hsluvToLch(e,n),hsluv_Hsluv.lchToRgb(n,n),n},hsluv_Hsluv.rgbToHsluv=function(e,n){return null==n&&(n=[0,0,0]),hsluv_Hsluv.rgbToLch(e,n),hsluv_Hsluv.lchToHsluv(n,n),n},hsluv_Hsluv.hpluvToRgb=function(e){return hsluv_Hsluv.lchToRgb(hsluv_Hsluv.hpluvToLch(e))},hsluv_Hsluv.rgbToHpluv=function(e){return hsluv_Hsluv.lchToHpluv(hsluv_Hsluv.rgbToLch(e))},hsluv_Hsluv.hsluvToHex=function(e){return hsluv_Hsluv.rgbToHex(hsluv_Hsluv.hsluvToRgb(e))},hsluv_Hsluv.hpluvToHex=function(e){return hsluv_Hsluv.rgbToHex(hsluv_Hsluv.hpluvToRgb(e))},hsluv_Hsluv.hexToHsluv=function(e){return hsluv_Hsluv.rgbToHsluv(hsluv_Hsluv.hexToRgb(e))},hsluv_Hsluv.hexToHpluv=function(e){return hsluv_Hsluv.rgbToHpluv(hsluv_Hsluv.hexToRgb(e))};var js_Boot=function(){};t["js.Boot"]=js_Boot,js_Boot.__name__="js.Boot",js_Boot.getClass=function(e){if(null==e)return null;if(e instanceof Array)return Array;var n=e.__class__;if(null!=n)return n;var t=js_Boot.__nativeClassName(e);return null!=t?js_Boot.__resolveNativeClass(t):null},js_Boot.__string_rec=function(e,n){if(null==e)return"null";if(n.length>=5)return"<...>";var t=typeof e;switch("function"==t&&(e.__name__||e.__ename__)&&(t="object"),t){case"function":return"<function>";case"object":if(e.__enum__){var s=i[e.__enum__].__constructs__[e._hx_index],r=s._hx_name;return s.__params__?(n+="\t",r+"("+function(t){for(var i=[],r=0,l=s.__params__;r<l.length;){var a=l[r];r+=1,i.push(js_Boot.__string_rec(e[a],n))}return i}().join(",")+")"):r}if(e instanceof Array){var l="[";n+="\t";for(var a=0,o=e.length;a<o;){var h=a++;l+=(h>0?",":"")+js_Boot.__string_rec(e[h],n)}return l+="]"}var c;try{c=e.toString}catch(a){return"???"}if(null!=c&&c!=Object.toString&&"function"==typeof c){var u=e.toString();if("[object Object]"!=u)return u}l="{\n";n+="\t";var _=null!=e.hasOwnProperty,d=null;for(d in e)_&&!e.hasOwnProperty(d)||"prototype"!=d&&"__class__"!=d&&"__super__"!=d&&"__interfaces__"!=d&&"__properties__"!=d&&(2!=l.length&&(l+=", \n"),l+=n+d+" : "+js_Boot.__string_rec(e[d],n));return l+="\n"+(n=n.substring(1))+"}";case"string":return e;default:return String(e)}},js_Boot.__interfLoop=function(e,n){if(null==e)return!1;if(e==n)return!0;var t=e.__interfaces__;if(null!=t)for(var i=0,s=t.length;i<s;){var r=t[i++];if(r==n||js_Boot.__interfLoop(r,n))return!0}return js_Boot.__interfLoop(e.__super__,n)},js_Boot.__instanceof=function(e,n){if(null==n)return!1;switch(n){case Array:return e instanceof Array;case se:return"boolean"==typeof e;case te:return null!=e;case ie:return"number"==typeof e;case ne:return"number"==typeof e&&(0|e)===e;case String:return"string"==typeof e;default:if(null==e)return!1;if("function"==typeof n){if(js_Boot.__downcastCheck(e,n))return!0}else if("object"==typeof n&&js_Boot.__isNativeObj(n)&&e instanceof n)return!0;return n==re&&null!=e.__name__||(n==le&&null!=e.__ename__||null!=e.__enum__&&i[e.__enum__]==n)}},js_Boot.__downcastCheck=function(e,n){return e instanceof n||!!n.__isInterface__&&js_Boot.__interfLoop(js_Boot.getClass(e),n)},js_Boot.__nativeClassName=function(e){var n=js_Boot.__toStr.call(e).slice(8,-1);return"Object"==n||"Function"==n||"Math"==n||"JSON"==n?null:n},js_Boot.__isNativeObj=function(e){return null!=js_Boot.__nativeClassName(e)},js_Boot.__resolveNativeClass=function(n){return e[n]};var js_html__$CanvasElement_CanvasUtil=function(){};t["js.html._CanvasElement.CanvasUtil"]=js_html__$CanvasElement_CanvasUtil,js_html__$CanvasElement_CanvasUtil.__name__="js.html._CanvasElement.CanvasUtil",js_html__$CanvasElement_CanvasUtil.getContextWebGL=function(e,n){var t="webgl";if(null!=(i=e.getContext(t,n)))return i;var i;t="experimental-webgl";return null!=(i=e.getContext(t,n))?i:null};var poly2tri_AdvancingFront=function(e,n){this.search_node=this.head=e,this.tail=n};t["poly2tri.AdvancingFront"]=poly2tri_AdvancingFront,poly2tri_AdvancingFront.__name__="poly2tri.AdvancingFront",poly2tri_AdvancingFront.prototype={reset:function(e,n){this.search_node=this.head=e,this.tail=n},locateNode:function(e){var n=this.search_node,t=null;if(e<n.value){for(;null!=(n=n.prev);)if(e>=n.value){this.search_node=n,t=n;break}}else for(;null!=(n=n.next);)if(e<n.value){this.search_node=n.prev,t=n.prev;break}return t},locatePoint:function(e){var n=e.x,t=this.search_node,i=t.point.x;if(n==i){var s=t.point;if(e.x!=s.x||e.y!=s.y){s=t.prev.point;if(e.x==s.x&&e.y==s.y)t=t.prev;else{s=t.next.point;if(e.x!=s.x||e.y!=s.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");t=t.next}}}else if(n<i)for(;null!=(t=t.prev);){s=t.point;if(e.x==s.x&&e.y==s.y)break}else for(;null!=(t=t.next);){s=t.point;if(e.x==s.x&&e.y==s.y)break}return null!=t&&(this.search_node=t),t},__class__:poly2tri_AdvancingFront};var poly2tri_Basin=function(){this.left_node=null,this.bottom_node=null,this.right_node=null,this.width=0,this.left_highest=!1};t["poly2tri.Basin"]=poly2tri_Basin,poly2tri_Basin.__name__="poly2tri.Basin",poly2tri_Basin.prototype={clear:function(){this.left_node=null,this.bottom_node=null,this.right_node=null,this.width=0,this.left_highest=!1},__class__:poly2tri_Basin};var poly2tri_Constants=function(){};t["poly2tri.Constants"]=poly2tri_Constants,poly2tri_Constants.__name__="poly2tri.Constants";var poly2tri_Edge=function(e,n){if(null==e||null==n)throw haxe_Exception.thrown("Edge::new p1 or p2 is null");var t=!1;if(e.y>n.y)t=!0;else if(e.y==n.y){if(e.x==n.x)throw haxe_Exception.thrown("Edge::repeat points "+Std.string(e));t=e.x>n.x}t?(this.q=e,this.p=n):(this.p=e,this.q=n);var i=this.q;null==i.edge_list&&(i.edge_list=poly2tri_Pool.getEdgeArray()),i.edge_list.push(this)};t["poly2tri.Edge"]=poly2tri_Edge,poly2tri_Edge.__name__="poly2tri.Edge",poly2tri_Edge.prototype={reset:function(e,n){if(null==e||null==n)throw haxe_Exception.thrown("Edge::new p1 or p2 is null");var t=!1;if(e.y>n.y)t=!0;else if(e.y==n.y){if(e.x==n.x)throw haxe_Exception.thrown("Edge::repeat points "+Std.string(e));t=e.x>n.x}t?(this.q=e,this.p=n):(this.p=e,this.q=n);var i=this.q;null==i.edge_list&&(i.edge_list=poly2tri_Pool.getEdgeArray()),i.edge_list.push(this)},toString:function(){return"Edge("+Std.string(this.p)+", "+Std.string(this.q)+")"},__class__:poly2tri_Edge};var poly2tri_EdgeEvent=function(){this.right=!1,this.constrained_edge=null};t["poly2tri.EdgeEvent"]=poly2tri_EdgeEvent,poly2tri_EdgeEvent.__name__="poly2tri.EdgeEvent",poly2tri_EdgeEvent.prototype={clear:function(){this.constrained_edge=null,this.right=!1},__class__:poly2tri_EdgeEvent};var poly2tri_Node=function(e,n){this.point=e,this.triangle=n,this.value=this.point.x};t["poly2tri.Node"]=poly2tri_Node,poly2tri_Node.__name__="poly2tri.Node",poly2tri_Node.prototype={reset:function(e,n){this.point=e,this.triangle=n,this.value=this.point.x,this.next=null,this.prev=null},getHoleAngle:function(){var e=this.next.point.x-this.point.x,n=this.next.point.y-this.point.y,t=this.prev.point.x-this.point.x,i=this.prev.point.y-this.point.y;return Math.atan2(e*i-n*t,e*t+n*i)},getBasinAngle:function(){return Math.atan2(this.point.y-this.next.next.point.y,this.point.x-this.next.next.point.x)},__class__:poly2tri_Node};var poly2tri_Orientation=function(){};t["poly2tri.Orientation"]=poly2tri_Orientation,poly2tri_Orientation.__name__="poly2tri.Orientation",poly2tri_Orientation.orient2d=function(e,n,t){var i=(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x);return i>-poly2tri_Constants.EPSILON&&i<poly2tri_Constants.EPSILON?0:i>0?-1:1};var poly2tri_Point=function(e,n){this.x=e,this.y=n,this.id=poly2tri_Point.C_ID,poly2tri_Point.C_ID++};t["poly2tri.Point"]=poly2tri_Point,poly2tri_Point.__name__="poly2tri.Point",poly2tri_Point.sortPoints=function(e){poly2tri_SortPoints.rec(e,0,e.length)},poly2tri_Point.cmpPoints=function(e,n){var t=0,i=e.y-n.y;return 0==i&&(i=e.x-n.x),i<0?t=-1:i>0&&(t=1),t},poly2tri_Point.prototype={reset:function(e,n){this.x=e,this.y=n,null==this.edge_list&&(this.edge_list=poly2tri_Pool.getEdgeArray());var t=this.edge_list;if(t.length>0&&0!=t.length)if(t.length>0)t.splice(0,t.length);else for(var i=t;i.length<0;)i.push(null)},get_edge_list:function(){return null==this.edge_list&&(this.edge_list=poly2tri_Pool.getEdgeArray()),this.edge_list},equals:function(e){return this.x==e.x&&this.y==e.y},toString:function(){return"Point("+this.x+", "+this.y+")"},__class__:poly2tri_Point,__properties__:{get_edge_list:"get_edge_list"}};var poly2tri_Pool=function(){};t["poly2tri.Pool"]=poly2tri_Pool,poly2tri_Pool.__name__="poly2tri.Pool",poly2tri_Pool.recycleAll=function(){poly2tri_Pool.pointArrayIndex=0},poly2tri_Pool.clearAll=function(){poly2tri_Pool.pointArrayIndex=0,poly2tri_Pool.pointArrayPool=[]},poly2tri_Pool.getPointArray=function(){if(poly2tri_Pool.enabled){if(poly2tri_Pool.pointArrayIndex==poly2tri_Pool.pointArrayPool.length){var e=[];return poly2tri_Pool.pointArrayIndex++,poly2tri_Pool.pointArrayPool.push(e),e}if((e=poly2tri_Pool.pointArrayPool[poly2tri_Pool.pointArrayIndex]).length>0&&0!=e.length)if(e.length>0)e.splice(0,e.length);else for(var n=e;n.length<0;)n.push(null);return poly2tri_Pool.pointArrayIndex++,e}return[]},poly2tri_Pool.getTriangleArray=function(){if(poly2tri_Pool.enabled){if(poly2tri_Pool.triangleArrayIndex==poly2tri_Pool.triangleArrayPool.length){var e=[];return poly2tri_Pool.triangleArrayIndex++,poly2tri_Pool.triangleArrayPool.push(e),e}if((e=poly2tri_Pool.triangleArrayPool[poly2tri_Pool.triangleArrayIndex]).length>0&&0!=e.length)if(e.length>0)e.splice(0,e.length);else for(var n=e;n.length<0;)n.push(null);return poly2tri_Pool.triangleArrayIndex++,e}return[]},poly2tri_Pool.getEdgeArray=function(){if(poly2tri_Pool.enabled){if(poly2tri_Pool.edgeArrayIndex==poly2tri_Pool.edgeArrayPool.length){var e=[];return poly2tri_Pool.edgeArrayIndex++,poly2tri_Pool.edgeArrayPool.push(e),e}if((e=poly2tri_Pool.edgeArrayPool[poly2tri_Pool.edgeArrayIndex]).length>0&&0!=e.length)if(e.length>0)e.splice(0,e.length);else for(var n=e;n.length<0;)n.push(null);return poly2tri_Pool.edgeArrayIndex++,e}return[]},poly2tri_Pool.getEdge=function(e,n){if(poly2tri_Pool.enabled){if(poly2tri_Pool.edgeIndex==poly2tri_Pool.edgePool.length){var t=new poly2tri_Edge(e,n);return poly2tri_Pool.edgeIndex++,poly2tri_Pool.edgePool.push(t),t}t=poly2tri_Pool.edgePool[poly2tri_Pool.edgeIndex];if(null==e||null==n)throw haxe_Exception.thrown("Edge::new p1 or p2 is null");var i=!1;if(e.y>n.y)i=!0;else if(e.y==n.y){if(e.x==n.x)throw haxe_Exception.thrown("Edge::repeat points "+Std.string(e));i=e.x>n.x}i?(t.q=e,t.p=n):(t.p=e,t.q=n);var s=t.q;return null==s.edge_list&&(s.edge_list=poly2tri_Pool.getEdgeArray()),s.edge_list.push(t),poly2tri_Pool.edgeIndex++,t}return new poly2tri_Edge(e,n)},poly2tri_Pool.getPoint=function(e,n){if(poly2tri_Pool.enabled){if(poly2tri_Pool.pointIndex==poly2tri_Pool.pointPool.length){var t=new poly2tri_Point(e,n);return poly2tri_Pool.pointIndex++,poly2tri_Pool.pointPool.push(t),t}(t=poly2tri_Pool.pointPool[poly2tri_Pool.pointIndex]).x=e,t.y=n,null==t.edge_list&&(t.edge_list=poly2tri_Pool.getEdgeArray());var i=t.edge_list;if(i.length>0&&0!=i.length)if(i.length>0)i.splice(0,i.length);else for(var s=i;s.length<0;)s.push(null);return poly2tri_Pool.pointIndex++,t}return new poly2tri_Point(e,n)},poly2tri_Pool.getTriangle=function(e,n,t,i,s){if(null==s&&(s=!0),null==i&&(i=!1),poly2tri_Pool.enabled){if(poly2tri_Pool.triangleIndex==poly2tri_Pool.trianglePool.length){var r=new poly2tri_Triangle(e,n,t,i,s);return poly2tri_Pool.triangleIndex++,poly2tri_Pool.trianglePool.push(r),r}r=poly2tri_Pool.trianglePool[poly2tri_Pool.triangleIndex];var l,a=n,o=t,h=i,c=s;if(null==c&&(c=!0),null==h&&(h=!1),h&&1==((l=(e.x-o.x)*(a.y-o.y)-(e.y-o.y)*(a.x-o.x))>-poly2tri_Constants.EPSILON&&l<poly2tri_Constants.EPSILON?0:l>0?-1:1)){var u=o;o=a,a=u}if(!!c&&1!=((l=(o.x-e.x)*(a.y-e.y)-(o.y-e.y)*(a.x-e.x))>-poly2tri_Constants.EPSILON&&l<poly2tri_Constants.EPSILON?0:l>0?-1:1))throw haxe_Exception.thrown("Triangle::Triangle must defined with Orientation.CW");return null==r.points?r.points=[e,a,o]:(r.points[0]=e,r.points[1]=e,r.points[2]=e),null==r.neighbors?r.neighbors=[null,null,null]:(r.neighbors[0]=null,r.neighbors[1]=null,r.neighbors[2]=null),null==r.constrained_edge?r.constrained_edge=[!1,!1,!1]:(r.constrained_edge[0]=!1,r.constrained_edge[1]=!1,r.constrained_edge[2]=!1),null==r.delaunay_edge?r.delaunay_edge=[!1,!1,!1]:(r.delaunay_edge[0]=!1,r.delaunay_edge[1]=!1,r.delaunay_edge[2]=!1),poly2tri_Pool.triangleIndex++,r}return new poly2tri_Triangle(e,n,t,i,s)},poly2tri_Pool.getNode=function(e,n){if(poly2tri_Pool.enabled){if(poly2tri_Pool.nodeIndex==poly2tri_Pool.nodePool.length){var t=new poly2tri_Node(e,n);return poly2tri_Pool.nodeIndex++,poly2tri_Pool.nodePool.push(t),t}return(t=poly2tri_Pool.nodePool[poly2tri_Pool.nodeIndex]).point=e,t.triangle=n,t.value=t.point.x,t.next=null,t.prev=null,poly2tri_Pool.nodeIndex++,t}return new poly2tri_Node(e,n)},poly2tri_Pool.setArrayLength=function(e,n){if(e.length!=n)if(e.length>n)e.splice(n,e.length-n);else for(var t=e;t.length<n;)t.push(null)};var poly2tri_SortPoints=function(){};t["poly2tri.SortPoints"]=poly2tri_SortPoints,poly2tri_SortPoints.__name__="poly2tri.SortPoints",poly2tri_SortPoints.cmp=function(e,n){var t=0,i=e.y-n.y;return 0==i&&(i=e.x-n.x),i<0?t=-1:i>0&&(t=1),t},poly2tri_SortPoints.sort=function(e){poly2tri_SortPoints.rec(e,0,e.length)},poly2tri_SortPoints.rec=function(e,n,t){var i=n+t>>1;if(t-n<12){if(t<=n)return;for(var s=n+1,r=t;s<r;)for(var l=s++;l>n;){var a=e[l],o=e[l-1],h=0,c=a.y-o.y;if(0==c&&(c=a.x-o.x),c<0?h=-1:c>0&&(h=1),!(h<0))break;var u=l-1,_=e[u];e[u]=e[l],e[l]=_,--l}}else poly2tri_SortPoints.rec(e,n,i),poly2tri_SortPoints.rec(e,i,t),poly2tri_SortPoints.doMerge(e,n,i,t,i-n,t-i)},poly2tri_SortPoints.doMerge=function(e,n,t,i,s,r){var l,a,o,h;if(0!=s&&0!=r)if(s+r!=2){if(s>r){l=n+(o=s>>1);for(var c=i-(u=t);c>0;){U=e[d=u+(_=c>>1)],C=e[l],T=0;0==(w=U.y-C.y)&&(w=U.x-C.x),w<0?T=-1:w>0&&(T=1),T<0?(u=d+1,c=c-_-1):c=_}h=(a=u)-t}else{a=t+(h=r>>1);var u,_,d;for(c=t-(u=n);c>0;){d=u+(_=c>>1);U=e[a],C=e[d],T=0;0==(w=U.y-C.y)&&(w=U.x-C.x),w<0?T=-1:w>0&&(T=1),T<0?c=_:(u=d+1,c=c-_-1)}o=(l=u)-n}var f;if(l!=t&&t!=a){for(var p=a-l,b=t-l;0!=b;){var y=p%b;p=b,b=y}for(f=p;0!=f--;){for(var g=e[l+f],O=t-l,x=l+f,v=l+f+O;v!=l+f;)e[x]=e[v],x=v,a-v>O?v+=O:v=l+(O-(a-v));e[x]=g}}var m=l+h;poly2tri_SortPoints.doMerge(e,n,l,m,o,h),poly2tri_SortPoints.doMerge(e,m,a,i,s-o,r-h)}else{var w,U=e[t],C=e[n],T=0;if(0==(w=U.y-C.y)&&(w=U.x-C.x),w<0?T=-1:w>0&&(T=1),T<0){var D=e[t];e[t]=e[n],e[n]=D}}},poly2tri_SortPoints.rotate=function(e,n,t,i){if(n!=t&&t!=i){for(var s=i-n,r=t-n;0!=r;){var l=s%r;s=r,r=l}for(r=s;0!=r--;){for(var a=e[n+r],o=t-n,h=n+r,c=n+r+o;c!=n+r;)e[h]=e[c],h=c,i-c>o?c+=o:c=n+(o-(i-c));e[h]=a}}},poly2tri_SortPoints.gcd=function(e,n){for(;0!=n;){var t=e%n;e=n,n=t}return e},poly2tri_SortPoints.upper=function(e,n,t,i){for(var s,r,l=t-n;l>0;){r=n+(s=l>>1);var a=e[i],o=e[r],h=0,c=a.y-o.y;0==c&&(c=a.x-o.x),c<0?h=-1:c>0&&(h=1),h<0?l=s:(n=r+1,l=l-s-1)}return n},poly2tri_SortPoints.lower=function(e,n,t,i){for(var s,r,l=t-n;l>0;){var a=e[r=n+(s=l>>1)],o=e[i],h=0,c=a.y-o.y;0==c&&(c=a.x-o.x),c<0?h=-1:c>0&&(h=1),h<0?(n=r+1,l=l-s-1):l=s}return n},poly2tri_SortPoints.swap=function(e,n,t){var i=e[n];e[n]=e[t],e[t]=i},poly2tri_SortPoints.compare=function(e,n,t){var i=e[n],s=e[t],r=0,l=i.y-s.y;return 0==l&&(l=i.x-s.x),l<0?r=-1:l>0&&(r=1),r};var poly2tri_Sweep=function(e){this.context=e};t["poly2tri.Sweep"]=poly2tri_Sweep,poly2tri_Sweep.__name__="poly2tri.Sweep",poly2tri_Sweep.nextFlipPoint=function(e,n,t,i){var s=(n.x-e.x)*(i.y-e.y)-(n.y-e.y)*(i.x-e.x),r=s>-poly2tri_Constants.EPSILON&&s<poly2tri_Constants.EPSILON?0:s>0?-1:1;if(1==r){var l=t.points;null==(_=1)&&(_=0);for(var a=_,o=!1,h=0;h<3;){for(var c=h++;a<0;)a+=3;for(;a>2;)a-=3;var u=t.points[c];if(i.x==u.x&&i.y==u.y){o=!0;break}++a}if(!o)throw haxe_Exception.thrown("Triangle::Point not in triangle");return l[a]}if(-1==r){var _;l=t.points;null==(_=-1)&&(_=0);for(a=_,o=!1,h=0;h<3;){for(c=h++;a<0;)a+=3;for(;a>2;)a-=3;u=t.points[c];if(i.x==u.x&&i.y==u.y){o=!0;break}++a}if(!o)throw haxe_Exception.thrown("Triangle::Point not in triangle");return l[a]}throw haxe_Exception.thrown("Sweep:: [Unsupported] Sweep.NextFlipPoint: opposing point on constrained edge!")},poly2tri_Sweep.prototype={triangulate:function(){for(var e=(c=this.context).points[0].x,n=c.points[0].x,t=c.points[0].y,i=c.points[0].y,s=0,r=c.points.length;s<r;){var l=s++;(dn=c.points[l]).x>n&&(n=dn.x),dn.x<e&&(e=dn.x),dn.y>i&&(i=dn.y),dn.y<t&&(t=dn.y)}var a=poly2tri_Constants.kAlpha*(n-e),o=poly2tri_Constants.kAlpha*(i-t);c.head=poly2tri_Pool.getPoint(n+a,t-o),c.tail=poly2tri_Pool.getPoint(e-o,t-o);var h=c.points;poly2tri_SortPoints.rec(h,0,h.length);var c=this.context,u=poly2tri_Pool.getTriangle(c.points[0],c.tail,c.head),_=poly2tri_Pool.getNode(u.points[1],u),d=poly2tri_Pool.getNode(u.points[0],u),f=poly2tri_Pool.getNode(u.points[2]);null==c.front?c.front=new poly2tri_AdvancingFront(_,f):((un=c.front).search_node=un.head=_,un.tail=f);_.next=d,d.next=f,d.prev=_,f.prev=d;for(s=1,r=this.context.points.length;s<r;){l=s++;var p=this.context.points[l],b=(c=this.context.front,p.x),y=c.search_node,g=null;if(b<y.value){for(;null!=(y=y.prev);)if(b>=y.value){c.search_node=y,g=y;break}}else for(;null!=(y=y.next);)if(b<y.value){c.search_node=y.prev,g=y.prev;break}var O,x,v,m=g,w=(u=poly2tri_Pool.getTriangle(p,m.point,m.next.point),m.triangle),U=u.points[1],C=u.points[2],T=w.points[0];if(U.x!=T.x||U.y!=T.y){var D=w.points[1];v=U.x==D.x&&U.y==D.y}else v=!0;if(v)x=!0;else{var E=w.points[2];x=U.x==E.x&&U.y==E.y}if(x){var A,S=w.points[0];if(C.x!=S.x||C.y!=S.y){var M=w.points[1];A=C.x==M.x&&C.y==M.y}else A=!0;if(A)O=!0;else{var P=w.points[2];O=C.x==P.x&&C.y==P.y}}else O=!1;if(O){u.neighbors[0]=w;var F,k,R=u.points[1],I=u.points[2],N=w.points[2];if(R.x==N.x&&R.y==N.y){var L=w.points[1];k=I.x==L.x&&I.y==L.y}else k=!1;if(k)F=!0;else{var B=w.points[1];if(R.x==B.x&&R.y==B.y){var G=w.points[2];F=I.x==G.x&&I.y==G.y}else F=!1}if(F)w.neighbors[0]=u;else{var W,K,Y=w.points[0];if(R.x==Y.x&&R.y==Y.y){var H=w.points[2];K=I.x==H.x&&I.y==H.y}else K=!1;if(K)W=!0;else{var X=w.points[2];if(R.x==X.x&&R.y==X.y){var V=w.points[0];W=I.x==V.x&&I.y==V.y}else W=!1}if(W)w.neighbors[1]=u;else{var z,j,$=w.points[0];if(R.x==$.x&&R.y==$.y){var Q=w.points[1];j=I.x==Q.x&&I.y==Q.y}else j=!1;if(j)z=!0;else{var q=w.points[1];if(R.x==q.x&&R.y==q.y){var Z=w.points[0];z=I.x==Z.x&&I.y==Z.y}else z=!1}if(!z)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");w.neighbors[2]=u}}}else{var J,ee,ne,te=u.points[0],ie=u.points[2],se=w.points[0];if(te.x!=se.x||te.y!=se.y){var re=w.points[1];ne=te.x==re.x&&te.y==re.y}else ne=!0;if(ne)ee=!0;else{var le=w.points[2];ee=te.x==le.x&&te.y==le.y}if(ee){var ae,oe=w.points[0];if(ie.x!=oe.x||ie.y!=oe.y){var he=w.points[1];ae=ie.x==he.x&&ie.y==he.y}else ae=!0;if(ae)J=!0;else{var ce=w.points[2];J=ie.x==ce.x&&ie.y==ce.y}}else J=!1;if(J){u.neighbors[1]=w;var ue,_e,de=u.points[0],fe=u.points[2],pe=w.points[2];if(de.x==pe.x&&de.y==pe.y){var be=w.points[1];_e=fe.x==be.x&&fe.y==be.y}else _e=!1;if(_e)ue=!0;else{var ye=w.points[1];if(de.x==ye.x&&de.y==ye.y){var ge=w.points[2];ue=fe.x==ge.x&&fe.y==ge.y}else ue=!1}if(ue)w.neighbors[0]=u;else{var Oe,xe,ve=w.points[0];if(de.x==ve.x&&de.y==ve.y){var me=w.points[2];xe=fe.x==me.x&&fe.y==me.y}else xe=!1;if(xe)Oe=!0;else{var we=w.points[2];if(de.x==we.x&&de.y==we.y){var Ue=w.points[0];Oe=fe.x==Ue.x&&fe.y==Ue.y}else Oe=!1}if(Oe)w.neighbors[1]=u;else{var Ce,Te,De=w.points[0];if(de.x==De.x&&de.y==De.y){var Ee=w.points[1];Te=fe.x==Ee.x&&fe.y==Ee.y}else Te=!1;if(Te)Ce=!0;else{var Ae=w.points[1];if(de.x==Ae.x&&de.y==Ae.y){var Se=w.points[0];Ce=fe.x==Se.x&&fe.y==Se.y}else Ce=!1}if(!Ce)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");w.neighbors[2]=u}}}else{var Me,Pe,Fe,ke=u.points[0],Re=u.points[1],Ie=w.points[0];if(ke.x!=Ie.x||ke.y!=Ie.y){var Ne=w.points[1];Fe=ke.x==Ne.x&&ke.y==Ne.y}else Fe=!0;if(Fe)Pe=!0;else{var Le=w.points[2];Pe=ke.x==Le.x&&ke.y==Le.y}if(Pe){var Be,Ge=w.points[0];if(Re.x!=Ge.x||Re.y!=Ge.y){var We=w.points[1];Be=Re.x==We.x&&Re.y==We.y}else Be=!0;if(Be)Me=!0;else{var Ke=w.points[2];Me=Re.x==Ke.x&&Re.y==Ke.y}}else Me=!1;if(Me){u.neighbors[2]=w;var Ye,He,Xe=u.points[0],Ve=u.points[1],ze=w.points[2];if(Xe.x==ze.x&&Xe.y==ze.y){var je=w.points[1];He=Ve.x==je.x&&Ve.y==je.y}else He=!1;if(He)Ye=!0;else{var $e=w.points[1];if(Xe.x==$e.x&&Xe.y==$e.y){var Qe=w.points[2];Ye=Ve.x==Qe.x&&Ve.y==Qe.y}else Ye=!1}if(Ye)w.neighbors[0]=u;else{var qe,Ze,Je=w.points[0];if(Xe.x==Je.x&&Xe.y==Je.y){var en=w.points[2];Ze=Ve.x==en.x&&Ve.y==en.y}else Ze=!1;if(Ze)qe=!0;else{var nn=w.points[2];if(Xe.x==nn.x&&Xe.y==nn.y){var tn=w.points[0];qe=Ve.x==tn.x&&Ve.y==tn.y}else qe=!1}if(qe)w.neighbors[1]=u;else{var sn,rn,ln=w.points[0];if(Xe.x==ln.x&&Xe.y==ln.y){var an=w.points[1];rn=Ve.x==an.x&&Ve.y==an.y}else rn=!1;if(rn)sn=!0;else{var on=w.points[1];if(Xe.x==on.x&&Xe.y==on.y){var hn=w.points[0];sn=Ve.x==hn.x&&Ve.y==hn.y}else sn=!1}if(!sn)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");w.neighbors[2]=u}}}}}var cn=poly2tri_Pool.getNode(p);if(cn.next=m.next,cn.prev=m,m.next.prev=cn,m.next=cn,!this.legalize(u)){var un=this.context;if(null==u.neighbors[0]){var _n=un.front,dn=u.points[0],pn=u.points;null==(RO=-1)&&(RO=0);for(var bn=RO,yn=!1,gn=0;gn<3;){for(var On=gn++;bn<0;)bn+=3;for(;bn>2;)bn-=3;var xn=u.points[On];if(dn.x==xn.x&&dn.y==xn.y){yn=!0;break}++bn}if(!yn)throw haxe_Exception.thrown("Triangle::Point not in triangle");var vn=pn[bn],mn=vn.x,wn=_n.search_node,Un=wn.point.x;if(mn==Un){var Cn=wn.point;if(vn.x!=Cn.x||vn.y!=Cn.y){var Tn=wn.prev.point;if(vn.x==Tn.x&&vn.y==Tn.y)wn=wn.prev;else{var Dn=wn.next.point;if(vn.x!=Dn.x||vn.y!=Dn.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");wn=wn.next}}}else if(mn<Un)for(;null!=(wn=wn.prev);){var En=wn.point;if(vn.x==En.x&&vn.y==En.y)break}else for(;null!=(wn=wn.next);){var An=wn.point;if(vn.x==An.x&&vn.y==An.y)break}null!=wn&&(_n.search_node=wn);null!=wn&&(wn.triangle=u)}if(null==u.neighbors[1]){var Sn=un.front,Mn=u.points[1],Pn=u.points;null==(NO=-1)&&(NO=0);for(var Fn=NO,kn=!1,Rn=0;Rn<3;){for(var In=Rn++;Fn<0;)Fn+=3;for(;Fn>2;)Fn-=3;var Nn=u.points[In];if(Mn.x==Nn.x&&Mn.y==Nn.y){kn=!0;break}++Fn}if(!kn)throw haxe_Exception.thrown("Triangle::Point not in triangle");var Ln=Pn[Fn],Bn=Ln.x,Gn=Sn.search_node,Wn=Gn.point.x;if(Bn==Wn){var Kn=Gn.point;if(Ln.x!=Kn.x||Ln.y!=Kn.y){var Yn=Gn.prev.point;if(Ln.x==Yn.x&&Ln.y==Yn.y)Gn=Gn.prev;else{var Hn=Gn.next.point;if(Ln.x!=Hn.x||Ln.y!=Hn.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");Gn=Gn.next}}}else if(Bn<Wn)for(;null!=(Gn=Gn.prev);){var Xn=Gn.point;if(Ln.x==Xn.x&&Ln.y==Xn.y)break}else for(;null!=(Gn=Gn.next);){var Vn=Gn.point;if(Ln.x==Vn.x&&Ln.y==Vn.y)break}null!=Gn&&(Sn.search_node=Gn);null!=Gn&&(Gn.triangle=u)}if(null==u.neighbors[2]){var zn=un.front,jn=u.points[2],$n=u.points,Qn=-1;null==Qn&&(Qn=0);for(var qn=Qn,Zn=!1,Jn=0;Jn<3;){for(var et=Jn++;qn<0;)qn+=3;for(;qn>2;)qn-=3;var nt=u.points[et];if(jn.x==nt.x&&jn.y==nt.y){Zn=!0;break}++qn}if(!Zn)throw haxe_Exception.thrown("Triangle::Point not in triangle");var tt=$n[qn],it=tt.x,st=zn.search_node,rt=st.point.x;if(it==rt){var lt=st.point;if(tt.x!=lt.x||tt.y!=lt.y){var at=st.prev.point;if(tt.x==at.x&&tt.y==at.y)st=st.prev;else{var ot=st.next.point;if(tt.x!=ot.x||tt.y!=ot.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");st=st.next}}}else if(it<rt)for(;null!=(st=st.prev);){var ht=st.point;if(tt.x==ht.x&&tt.y==ht.y)break}else for(;null!=(st=st.next);){var ct=st.point;if(tt.x==ct.x&&tt.y==ct.y)break}null!=st&&(zn.search_node=st);null!=st&&(st.triangle=u)}}var ut,_t=cn;if(p.x<=m.point.x+poly2tri_Constants.EPSILON){var dt,ft,pt,bt=poly2tri_Pool.getTriangle(m.prev.point,m.point,m.next.point),yt=m.prev.triangle,gt=bt.points[1],Ot=bt.points[2],xt=yt.points[0];if(gt.x!=xt.x||gt.y!=xt.y){var vt=yt.points[1];pt=gt.x==vt.x&&gt.y==vt.y}else pt=!0;if(pt)ft=!0;else{var mt=yt.points[2];ft=gt.x==mt.x&&gt.y==mt.y}if(ft){var wt,Ut=yt.points[0];if(Ot.x!=Ut.x||Ot.y!=Ut.y){var Ct=yt.points[1];wt=Ot.x==Ct.x&&Ot.y==Ct.y}else wt=!0;if(wt)dt=!0;else{var Tt=yt.points[2];dt=Ot.x==Tt.x&&Ot.y==Tt.y}}else dt=!1;if(dt){bt.neighbors[0]=yt;var Dt,Et,At=bt.points[1],St=bt.points[2],Mt=yt.points[2];if(At.x==Mt.x&&At.y==Mt.y){var Pt=yt.points[1];Et=St.x==Pt.x&&St.y==Pt.y}else Et=!1;if(Et)Dt=!0;else{var Ft=yt.points[1];if(At.x==Ft.x&&At.y==Ft.y){var kt=yt.points[2];Dt=St.x==kt.x&&St.y==kt.y}else Dt=!1}if(Dt)yt.neighbors[0]=bt;else{var Rt,It,Nt=yt.points[0];if(At.x==Nt.x&&At.y==Nt.y){var Lt=yt.points[2];It=St.x==Lt.x&&St.y==Lt.y}else It=!1;if(It)Rt=!0;else{var Bt=yt.points[2];if(At.x==Bt.x&&At.y==Bt.y){var Gt=yt.points[0];Rt=St.x==Gt.x&&St.y==Gt.y}else Rt=!1}if(Rt)yt.neighbors[1]=bt;else{var Wt,Kt,Yt=yt.points[0];if(At.x==Yt.x&&At.y==Yt.y){var Ht=yt.points[1];Kt=St.x==Ht.x&&St.y==Ht.y}else Kt=!1;if(Kt)Wt=!0;else{var Xt=yt.points[1];if(At.x==Xt.x&&At.y==Xt.y){var Vt=yt.points[0];Wt=St.x==Vt.x&&St.y==Vt.y}else Wt=!1}if(!Wt)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");yt.neighbors[2]=bt}}}else{var zt,jt,$t,Qt=bt.points[0],qt=bt.points[2],Zt=yt.points[0];if(Qt.x!=Zt.x||Qt.y!=Zt.y){var Jt=yt.points[1];$t=Qt.x==Jt.x&&Qt.y==Jt.y}else $t=!0;if($t)jt=!0;else{var ei=yt.points[2];jt=Qt.x==ei.x&&Qt.y==ei.y}if(jt){var ni,ti=yt.points[0];if(qt.x!=ti.x||qt.y!=ti.y){var ii=yt.points[1];ni=qt.x==ii.x&&qt.y==ii.y}else ni=!0;if(ni)zt=!0;else{var si=yt.points[2];zt=qt.x==si.x&&qt.y==si.y}}else zt=!1;if(zt){bt.neighbors[1]=yt;var ri,li,ai=bt.points[0],oi=bt.points[2],hi=yt.points[2];if(ai.x==hi.x&&ai.y==hi.y){var ci=yt.points[1];li=oi.x==ci.x&&oi.y==ci.y}else li=!1;if(li)ri=!0;else{var ui=yt.points[1];if(ai.x==ui.x&&ai.y==ui.y){var _i=yt.points[2];ri=oi.x==_i.x&&oi.y==_i.y}else ri=!1}if(ri)yt.neighbors[0]=bt;else{var di,fi,pi=yt.points[0];if(ai.x==pi.x&&ai.y==pi.y){var bi=yt.points[2];fi=oi.x==bi.x&&oi.y==bi.y}else fi=!1;if(fi)di=!0;else{var yi=yt.points[2];if(ai.x==yi.x&&ai.y==yi.y){var gi=yt.points[0];di=oi.x==gi.x&&oi.y==gi.y}else di=!1}if(di)yt.neighbors[1]=bt;else{var Oi,xi,vi=yt.points[0];if(ai.x==vi.x&&ai.y==vi.y){var mi=yt.points[1];xi=oi.x==mi.x&&oi.y==mi.y}else xi=!1;if(xi)Oi=!0;else{var wi=yt.points[1];if(ai.x==wi.x&&ai.y==wi.y){var Ui=yt.points[0];Oi=oi.x==Ui.x&&oi.y==Ui.y}else Oi=!1}if(!Oi)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");yt.neighbors[2]=bt}}}else{var Ci,Ti,Di,Ei=bt.points[0],Ai=bt.points[1],Si=yt.points[0];if(Ei.x!=Si.x||Ei.y!=Si.y){var Mi=yt.points[1];Di=Ei.x==Mi.x&&Ei.y==Mi.y}else Di=!0;if(Di)Ti=!0;else{var Pi=yt.points[2];Ti=Ei.x==Pi.x&&Ei.y==Pi.y}if(Ti){var Fi,ki=yt.points[0];if(Ai.x!=ki.x||Ai.y!=ki.y){var Ri=yt.points[1];Fi=Ai.x==Ri.x&&Ai.y==Ri.y}else Fi=!0;if(Fi)Ci=!0;else{var Ii=yt.points[2];Ci=Ai.x==Ii.x&&Ai.y==Ii.y}}else Ci=!1;if(Ci){bt.neighbors[2]=yt;var Ni,Li,Bi=bt.points[0],Gi=bt.points[1],Wi=yt.points[2];if(Bi.x==Wi.x&&Bi.y==Wi.y){var Ki=yt.points[1];Li=Gi.x==Ki.x&&Gi.y==Ki.y}else Li=!1;if(Li)Ni=!0;else{var Yi=yt.points[1];if(Bi.x==Yi.x&&Bi.y==Yi.y){var Hi=yt.points[2];Ni=Gi.x==Hi.x&&Gi.y==Hi.y}else Ni=!1}if(Ni)yt.neighbors[0]=bt;else{var Xi,Vi,zi=yt.points[0];if(Bi.x==zi.x&&Bi.y==zi.y){var ji=yt.points[2];Vi=Gi.x==ji.x&&Gi.y==ji.y}else Vi=!1;if(Vi)Xi=!0;else{var $i=yt.points[2];if(Bi.x==$i.x&&Bi.y==$i.y){var Qi=yt.points[0];Xi=Gi.x==Qi.x&&Gi.y==Qi.y}else Xi=!1}if(Xi)yt.neighbors[1]=bt;else{var qi,Zi,Ji=yt.points[0];if(Bi.x==Ji.x&&Bi.y==Ji.y){var es=yt.points[1];Zi=Gi.x==es.x&&Gi.y==es.y}else Zi=!1;if(Zi)qi=!0;else{var ns=yt.points[1];if(Bi.x==ns.x&&Bi.y==ns.y){var ts=yt.points[0];qi=Gi.x==ts.x&&Gi.y==ts.y}else qi=!1}if(!qi)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");yt.neighbors[2]=bt}}}}}var is,ss,rs,ls=m.triangle,as=bt.points[1],os=bt.points[2],hs=ls.points[0];if(as.x!=hs.x||as.y!=hs.y){var cs=ls.points[1];rs=as.x==cs.x&&as.y==cs.y}else rs=!0;if(rs)ss=!0;else{var us=ls.points[2];ss=as.x==us.x&&as.y==us.y}if(ss){var _s,ds=ls.points[0];if(os.x!=ds.x||os.y!=ds.y){var fs=ls.points[1];_s=os.x==fs.x&&os.y==fs.y}else _s=!0;if(_s)is=!0;else{var ps=ls.points[2];is=os.x==ps.x&&os.y==ps.y}}else is=!1;if(is){bt.neighbors[0]=ls;var bs,ys,gs=bt.points[1],Os=bt.points[2],xs=ls.points[2];if(gs.x==xs.x&&gs.y==xs.y){var vs=ls.points[1];ys=Os.x==vs.x&&Os.y==vs.y}else ys=!1;if(ys)bs=!0;else{var ms=ls.points[1];if(gs.x==ms.x&&gs.y==ms.y){var ws=ls.points[2];bs=Os.x==ws.x&&Os.y==ws.y}else bs=!1}if(bs)ls.neighbors[0]=bt;else{var Us,Cs,Ts=ls.points[0];if(gs.x==Ts.x&&gs.y==Ts.y){var Ds=ls.points[2];Cs=Os.x==Ds.x&&Os.y==Ds.y}else Cs=!1;if(Cs)Us=!0;else{var Es=ls.points[2];if(gs.x==Es.x&&gs.y==Es.y){var As=ls.points[0];Us=Os.x==As.x&&Os.y==As.y}else Us=!1}if(Us)ls.neighbors[1]=bt;else{var Ss,Ms,Ps=ls.points[0];if(gs.x==Ps.x&&gs.y==Ps.y){var Fs=ls.points[1];Ms=Os.x==Fs.x&&Os.y==Fs.y}else Ms=!1;if(Ms)Ss=!0;else{var ks=ls.points[1];if(gs.x==ks.x&&gs.y==ks.y){var Rs=ls.points[0];Ss=Os.x==Rs.x&&Os.y==Rs.y}else Ss=!1}if(!Ss)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");ls.neighbors[2]=bt}}}else{var Is,Ns,Ls,Bs=bt.points[0],Gs=bt.points[2],Ws=ls.points[0];if(Bs.x!=Ws.x||Bs.y!=Ws.y){var Ks=ls.points[1];Ls=Bs.x==Ks.x&&Bs.y==Ks.y}else Ls=!0;if(Ls)Ns=!0;else{var Ys=ls.points[2];Ns=Bs.x==Ys.x&&Bs.y==Ys.y}if(Ns){var Hs,Xs=ls.points[0];if(Gs.x!=Xs.x||Gs.y!=Xs.y){var Vs=ls.points[1];Hs=Gs.x==Vs.x&&Gs.y==Vs.y}else Hs=!0;if(Hs)Is=!0;else{var zs=ls.points[2];Is=Gs.x==zs.x&&Gs.y==zs.y}}else Is=!1;if(Is){bt.neighbors[1]=ls;var js,$s,Qs=bt.points[0],qs=bt.points[2],Zs=ls.points[2];if(Qs.x==Zs.x&&Qs.y==Zs.y){var Js=ls.points[1];$s=qs.x==Js.x&&qs.y==Js.y}else $s=!1;if($s)js=!0;else{var er=ls.points[1];if(Qs.x==er.x&&Qs.y==er.y){var nr=ls.points[2];js=qs.x==nr.x&&qs.y==nr.y}else js=!1}if(js)ls.neighbors[0]=bt;else{var tr,ir,sr=ls.points[0];if(Qs.x==sr.x&&Qs.y==sr.y){var rr=ls.points[2];ir=qs.x==rr.x&&qs.y==rr.y}else ir=!1;if(ir)tr=!0;else{var lr=ls.points[2];if(Qs.x==lr.x&&Qs.y==lr.y){var ar=ls.points[0];tr=qs.x==ar.x&&qs.y==ar.y}else tr=!1}if(tr)ls.neighbors[1]=bt;else{var or,hr,cr=ls.points[0];if(Qs.x==cr.x&&Qs.y==cr.y){var ur=ls.points[1];hr=qs.x==ur.x&&qs.y==ur.y}else hr=!1;if(hr)or=!0;else{var _r=ls.points[1];if(Qs.x==_r.x&&Qs.y==_r.y){var dr=ls.points[0];or=qs.x==dr.x&&qs.y==dr.y}else or=!1}if(!or)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");ls.neighbors[2]=bt}}}else{var fr,pr,br,yr=bt.points[0],gr=bt.points[1],Or=ls.points[0];if(yr.x!=Or.x||yr.y!=Or.y){var xr=ls.points[1];br=yr.x==xr.x&&yr.y==xr.y}else br=!0;if(br)pr=!0;else{var vr=ls.points[2];pr=yr.x==vr.x&&yr.y==vr.y}if(pr){var mr,wr=ls.points[0];if(gr.x!=wr.x||gr.y!=wr.y){var Ur=ls.points[1];mr=gr.x==Ur.x&&gr.y==Ur.y}else mr=!0;if(mr)fr=!0;else{var Cr=ls.points[2];fr=gr.x==Cr.x&&gr.y==Cr.y}}else fr=!1;if(fr){bt.neighbors[2]=ls;var Tr,Dr,Er=bt.points[0],Ar=bt.points[1],Sr=ls.points[2];if(Er.x==Sr.x&&Er.y==Sr.y){var Mr=ls.points[1];Dr=Ar.x==Mr.x&&Ar.y==Mr.y}else Dr=!1;if(Dr)Tr=!0;else{var Pr=ls.points[1];if(Er.x==Pr.x&&Er.y==Pr.y){var Fr=ls.points[2];Tr=Ar.x==Fr.x&&Ar.y==Fr.y}else Tr=!1}if(Tr)ls.neighbors[0]=bt;else{var kr,Rr,Ir=ls.points[0];if(Er.x==Ir.x&&Er.y==Ir.y){var Nr=ls.points[2];Rr=Ar.x==Nr.x&&Ar.y==Nr.y}else Rr=!1;if(Rr)kr=!0;else{var Lr=ls.points[2];if(Er.x==Lr.x&&Er.y==Lr.y){var Br=ls.points[0];kr=Ar.x==Br.x&&Ar.y==Br.y}else kr=!1}if(kr)ls.neighbors[1]=bt;else{var Gr,Wr,Kr=ls.points[0];if(Er.x==Kr.x&&Er.y==Kr.y){var Yr=ls.points[1];Wr=Ar.x==Yr.x&&Ar.y==Yr.y}else Wr=!1;if(Wr)Gr=!0;else{var Hr=ls.points[1];if(Er.x==Hr.x&&Er.y==Hr.y){var Xr=ls.points[0];Gr=Ar.x==Xr.x&&Ar.y==Xr.y}else Gr=!1}if(!Gr)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");ls.neighbors[2]=bt}}}}}if(m.prev.next=m.next,m.next.prev=m.prev,!this.legalize(bt)){var Vr=this.context;if(null==bt.neighbors[0]){var zr=Vr.front,jr=bt.points[0],$r=bt.points,Qr=-1;null==Qr&&(Qr=0);for(var qr=Qr,Zr=!1,Jr=0;Jr<3;){for(var el=Jr++;qr<0;)qr+=3;for(;qr>2;)qr-=3;var nl=bt.points[el];if(jr.x==nl.x&&jr.y==nl.y){Zr=!0;break}++qr}if(!Zr)throw haxe_Exception.thrown("Triangle::Point not in triangle");var tl=$r[qr],il=tl.x,sl=zr.search_node,rl=sl.point.x;if(il==rl){var ll=sl.point;if(tl.x!=ll.x||tl.y!=ll.y){var al=sl.prev.point;if(tl.x==al.x&&tl.y==al.y)sl=sl.prev;else{var ol=sl.next.point;if(tl.x!=ol.x||tl.y!=ol.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");sl=sl.next}}}else if(il<rl)for(;null!=(sl=sl.prev);){var hl=sl.point;if(tl.x==hl.x&&tl.y==hl.y)break}else for(;null!=(sl=sl.next);){var cl=sl.point;if(tl.x==cl.x&&tl.y==cl.y)break}null!=sl&&(zr.search_node=sl);null!=sl&&(sl.triangle=bt)}if(null==bt.neighbors[1]){var ul=Vr.front,_l=bt.points[1],dl=bt.points,fl=-1;null==fl&&(fl=0);for(var pl=fl,bl=!1,yl=0;yl<3;){for(var gl=yl++;pl<0;)pl+=3;for(;pl>2;)pl-=3;var Ol=bt.points[gl];if(_l.x==Ol.x&&_l.y==Ol.y){bl=!0;break}++pl}if(!bl)throw haxe_Exception.thrown("Triangle::Point not in triangle");var xl=dl[pl],vl=xl.x,ml=ul.search_node,wl=ml.point.x;if(vl==wl){var Ul=ml.point;if(xl.x!=Ul.x||xl.y!=Ul.y){var Cl=ml.prev.point;if(xl.x==Cl.x&&xl.y==Cl.y)ml=ml.prev;else{var Tl=ml.next.point;if(xl.x!=Tl.x||xl.y!=Tl.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");ml=ml.next}}}else if(vl<wl)for(;null!=(ml=ml.prev);){var Dl=ml.point;if(xl.x==Dl.x&&xl.y==Dl.y)break}else for(;null!=(ml=ml.next);){var El=ml.point;if(xl.x==El.x&&xl.y==El.y)break}null!=ml&&(ul.search_node=ml);null!=ml&&(ml.triangle=bt)}if(null==bt.neighbors[2]){var Al=Vr.front,Sl=bt.points[2],Ml=bt.points,Pl=-1;null==Pl&&(Pl=0);for(var Fl=Pl,kl=!1,Rl=0;Rl<3;){for(var Il=Rl++;Fl<0;)Fl+=3;for(;Fl>2;)Fl-=3;var Nl=bt.points[Il];if(Sl.x==Nl.x&&Sl.y==Nl.y){kl=!0;break}++Fl}if(!kl)throw haxe_Exception.thrown("Triangle::Point not in triangle");var Ll=Ml[Fl],Bl=Ll.x,Gl=Al.search_node,Wl=Gl.point.x;if(Bl==Wl){var Kl=Gl.point;if(Ll.x!=Kl.x||Ll.y!=Kl.y){var Yl=Gl.prev.point;if(Ll.x==Yl.x&&Ll.y==Yl.y)Gl=Gl.prev;else{var Hl=Gl.next.point;if(Ll.x!=Hl.x||Ll.y!=Hl.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");Gl=Gl.next}}}else if(Bl<Wl)for(;null!=(Gl=Gl.prev);){var Xl=Gl.point;if(Ll.x==Xl.x&&Ll.y==Xl.y)break}else for(;null!=(Gl=Gl.next);){var Vl=Gl.point;if(Ll.x==Vl.x&&Ll.y==Vl.y)break}null!=Gl&&(Al.search_node=Gl);null!=Gl&&(Gl.triangle=bt)}}}for(var zl=_t.next;null!=zl.next;){var jl=zl.next.point.x-zl.point.x,$l=zl.next.point.y-zl.point.y,Ql=zl.prev.point.x-zl.point.x,ql=zl.prev.point.y-zl.point.y;if((ut=Math.atan2(jl*ql-$l*Ql,jl*Ql+$l*ql))>poly2tri_Constants.PI_2||ut<-poly2tri_Constants.PI_2)break;var Zl,Jl,ea,na=poly2tri_Pool.getTriangle(zl.prev.point,zl.point,zl.next.point),ta=zl.prev.triangle,ia=na.points[1],sa=na.points[2],ra=ta.points[0];if(ia.x!=ra.x||ia.y!=ra.y){var la=ta.points[1];ea=ia.x==la.x&&ia.y==la.y}else ea=!0;if(ea)Jl=!0;else{var aa=ta.points[2];Jl=ia.x==aa.x&&ia.y==aa.y}if(Jl){var oa,ha=ta.points[0];if(sa.x!=ha.x||sa.y!=ha.y){var ca=ta.points[1];oa=sa.x==ca.x&&sa.y==ca.y}else oa=!0;if(oa)Zl=!0;else{var ua=ta.points[2];Zl=sa.x==ua.x&&sa.y==ua.y}}else Zl=!1;if(Zl){na.neighbors[0]=ta;var _a,da,fa=na.points[1],pa=na.points[2],ba=ta.points[2];if(fa.x==ba.x&&fa.y==ba.y){var ya=ta.points[1];da=pa.x==ya.x&&pa.y==ya.y}else da=!1;if(da)_a=!0;else{var ga=ta.points[1];if(fa.x==ga.x&&fa.y==ga.y){var Oa=ta.points[2];_a=pa.x==Oa.x&&pa.y==Oa.y}else _a=!1}if(_a)ta.neighbors[0]=na;else{var xa,va,ma=ta.points[0];if(fa.x==ma.x&&fa.y==ma.y){var wa=ta.points[2];va=pa.x==wa.x&&pa.y==wa.y}else va=!1;if(va)xa=!0;else{var Ua=ta.points[2];if(fa.x==Ua.x&&fa.y==Ua.y){var Ca=ta.points[0];xa=pa.x==Ca.x&&pa.y==Ca.y}else xa=!1}if(xa)ta.neighbors[1]=na;else{var Ta,Da,Ea=ta.points[0];if(fa.x==Ea.x&&fa.y==Ea.y){var Aa=ta.points[1];Da=pa.x==Aa.x&&pa.y==Aa.y}else Da=!1;if(Da)Ta=!0;else{var Sa=ta.points[1];if(fa.x==Sa.x&&fa.y==Sa.y){var Ma=ta.points[0];Ta=pa.x==Ma.x&&pa.y==Ma.y}else Ta=!1}if(!Ta)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");ta.neighbors[2]=na}}}else{var Pa,Fa,ka,Ra=na.points[0],Ia=na.points[2],Na=ta.points[0];if(Ra.x!=Na.x||Ra.y!=Na.y){var La=ta.points[1];ka=Ra.x==La.x&&Ra.y==La.y}else ka=!0;if(ka)Fa=!0;else{var Ba=ta.points[2];Fa=Ra.x==Ba.x&&Ra.y==Ba.y}if(Fa){var Ga,Wa=ta.points[0];if(Ia.x!=Wa.x||Ia.y!=Wa.y){var Ka=ta.points[1];Ga=Ia.x==Ka.x&&Ia.y==Ka.y}else Ga=!0;if(Ga)Pa=!0;else{var Ya=ta.points[2];Pa=Ia.x==Ya.x&&Ia.y==Ya.y}}else Pa=!1;if(Pa){na.neighbors[1]=ta;var Ha,Xa,Va=na.points[0],za=na.points[2],ja=ta.points[2];if(Va.x==ja.x&&Va.y==ja.y){var $a=ta.points[1];Xa=za.x==$a.x&&za.y==$a.y}else Xa=!1;if(Xa)Ha=!0;else{var Qa=ta.points[1];if(Va.x==Qa.x&&Va.y==Qa.y){var qa=ta.points[2];Ha=za.x==qa.x&&za.y==qa.y}else Ha=!1}if(Ha)ta.neighbors[0]=na;else{var Za,Ja,eo=ta.points[0];if(Va.x==eo.x&&Va.y==eo.y){var no=ta.points[2];Ja=za.x==no.x&&za.y==no.y}else Ja=!1;if(Ja)Za=!0;else{var to=ta.points[2];if(Va.x==to.x&&Va.y==to.y){var io=ta.points[0];Za=za.x==io.x&&za.y==io.y}else Za=!1}if(Za)ta.neighbors[1]=na;else{var so,ro,lo=ta.points[0];if(Va.x==lo.x&&Va.y==lo.y){var ao=ta.points[1];ro=za.x==ao.x&&za.y==ao.y}else ro=!1;if(ro)so=!0;else{var oo=ta.points[1];if(Va.x==oo.x&&Va.y==oo.y){var ho=ta.points[0];so=za.x==ho.x&&za.y==ho.y}else so=!1}if(!so)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");ta.neighbors[2]=na}}}else{var co,uo,_o,fo=na.points[0],po=na.points[1],bo=ta.points[0];if(fo.x!=bo.x||fo.y!=bo.y){var yo=ta.points[1];_o=fo.x==yo.x&&fo.y==yo.y}else _o=!0;if(_o)uo=!0;else{var go=ta.points[2];uo=fo.x==go.x&&fo.y==go.y}if(uo){var Oo,xo=ta.points[0];if(po.x!=xo.x||po.y!=xo.y){var vo=ta.points[1];Oo=po.x==vo.x&&po.y==vo.y}else Oo=!0;if(Oo)co=!0;else{var mo=ta.points[2];co=po.x==mo.x&&po.y==mo.y}}else co=!1;if(co){na.neighbors[2]=ta;var wo,Uo,Co=na.points[0],To=na.points[1],Do=ta.points[2];if(Co.x==Do.x&&Co.y==Do.y){var Eo=ta.points[1];Uo=To.x==Eo.x&&To.y==Eo.y}else Uo=!1;if(Uo)wo=!0;else{var Ao=ta.points[1];if(Co.x==Ao.x&&Co.y==Ao.y){var So=ta.points[2];wo=To.x==So.x&&To.y==So.y}else wo=!1}if(wo)ta.neighbors[0]=na;else{var Mo,Po,Fo=ta.points[0];if(Co.x==Fo.x&&Co.y==Fo.y){var ko=ta.points[2];Po=To.x==ko.x&&To.y==ko.y}else Po=!1;if(Po)Mo=!0;else{var Ro=ta.points[2];if(Co.x==Ro.x&&Co.y==Ro.y){var Io=ta.points[0];Mo=To.x==Io.x&&To.y==Io.y}else Mo=!1}if(Mo)ta.neighbors[1]=na;else{var No,Lo,Bo=ta.points[0];if(Co.x==Bo.x&&Co.y==Bo.y){var Go=ta.points[1];Lo=To.x==Go.x&&To.y==Go.y}else Lo=!1;if(Lo)No=!0;else{var Wo=ta.points[1];if(Co.x==Wo.x&&Co.y==Wo.y){var Ko=ta.points[0];No=To.x==Ko.x&&To.y==Ko.y}else No=!1}if(!No)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");ta.neighbors[2]=na}}}}}var Yo,Ho,Xo,Vo=zl.triangle,zo=na.points[1],jo=na.points[2],$o=Vo.points[0];if(zo.x!=$o.x||zo.y!=$o.y){var Qo=Vo.points[1];Xo=zo.x==Qo.x&&zo.y==Qo.y}else Xo=!0;if(Xo)Ho=!0;else{var qo=Vo.points[2];Ho=zo.x==qo.x&&zo.y==qo.y}if(Ho){var Zo,Jo=Vo.points[0];if(jo.x!=Jo.x||jo.y!=Jo.y){var eh=Vo.points[1];Zo=jo.x==eh.x&&jo.y==eh.y}else Zo=!0;if(Zo)Yo=!0;else{var nh=Vo.points[2];Yo=jo.x==nh.x&&jo.y==nh.y}}else Yo=!1;if(Yo){na.neighbors[0]=Vo;var th,ih,sh=na.points[1],rh=na.points[2],lh=Vo.points[2];if(sh.x==lh.x&&sh.y==lh.y){var ah=Vo.points[1];ih=rh.x==ah.x&&rh.y==ah.y}else ih=!1;if(ih)th=!0;else{var oh=Vo.points[1];if(sh.x==oh.x&&sh.y==oh.y){var hh=Vo.points[2];th=rh.x==hh.x&&rh.y==hh.y}else th=!1}if(th)Vo.neighbors[0]=na;else{var ch,uh,_h=Vo.points[0];if(sh.x==_h.x&&sh.y==_h.y){var dh=Vo.points[2];uh=rh.x==dh.x&&rh.y==dh.y}else uh=!1;if(uh)ch=!0;else{var fh=Vo.points[2];if(sh.x==fh.x&&sh.y==fh.y){var ph=Vo.points[0];ch=rh.x==ph.x&&rh.y==ph.y}else ch=!1}if(ch)Vo.neighbors[1]=na;else{var bh,yh,gh=Vo.points[0];if(sh.x==gh.x&&sh.y==gh.y){var Oh=Vo.points[1];yh=rh.x==Oh.x&&rh.y==Oh.y}else yh=!1;if(yh)bh=!0;else{var xh=Vo.points[1];if(sh.x==xh.x&&sh.y==xh.y){var vh=Vo.points[0];bh=rh.x==vh.x&&rh.y==vh.y}else bh=!1}if(!bh)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");Vo.neighbors[2]=na}}}else{var mh,wh,Uh,Ch=na.points[0],Th=na.points[2],Dh=Vo.points[0];if(Ch.x!=Dh.x||Ch.y!=Dh.y){var Eh=Vo.points[1];Uh=Ch.x==Eh.x&&Ch.y==Eh.y}else Uh=!0;if(Uh)wh=!0;else{var Ah=Vo.points[2];wh=Ch.x==Ah.x&&Ch.y==Ah.y}if(wh){var Sh,Mh=Vo.points[0];if(Th.x!=Mh.x||Th.y!=Mh.y){var Ph=Vo.points[1];Sh=Th.x==Ph.x&&Th.y==Ph.y}else Sh=!0;if(Sh)mh=!0;else{var Fh=Vo.points[2];mh=Th.x==Fh.x&&Th.y==Fh.y}}else mh=!1;if(mh){na.neighbors[1]=Vo;var kh,Rh,Ih=na.points[0],Nh=na.points[2],Lh=Vo.points[2];if(Ih.x==Lh.x&&Ih.y==Lh.y){var Bh=Vo.points[1];Rh=Nh.x==Bh.x&&Nh.y==Bh.y}else Rh=!1;if(Rh)kh=!0;else{var Gh=Vo.points[1];if(Ih.x==Gh.x&&Ih.y==Gh.y){var Wh=Vo.points[2];kh=Nh.x==Wh.x&&Nh.y==Wh.y}else kh=!1}if(kh)Vo.neighbors[0]=na;else{var Kh,Yh,Hh=Vo.points[0];if(Ih.x==Hh.x&&Ih.y==Hh.y){var Xh=Vo.points[2];Yh=Nh.x==Xh.x&&Nh.y==Xh.y}else Yh=!1;if(Yh)Kh=!0;else{var Vh=Vo.points[2];if(Ih.x==Vh.x&&Ih.y==Vh.y){var zh=Vo.points[0];Kh=Nh.x==zh.x&&Nh.y==zh.y}else Kh=!1}if(Kh)Vo.neighbors[1]=na;else{var jh,$h,Qh=Vo.points[0];if(Ih.x==Qh.x&&Ih.y==Qh.y){var qh=Vo.points[1];$h=Nh.x==qh.x&&Nh.y==qh.y}else $h=!1;if($h)jh=!0;else{var Zh=Vo.points[1];if(Ih.x==Zh.x&&Ih.y==Zh.y){var Jh=Vo.points[0];jh=Nh.x==Jh.x&&Nh.y==Jh.y}else jh=!1}if(!jh)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");Vo.neighbors[2]=na}}}else{var ec,nc,tc,ic=na.points[0],sc=na.points[1],rc=Vo.points[0];if(ic.x!=rc.x||ic.y!=rc.y){var lc=Vo.points[1];tc=ic.x==lc.x&&ic.y==lc.y}else tc=!0;if(tc)nc=!0;else{var ac=Vo.points[2];nc=ic.x==ac.x&&ic.y==ac.y}if(nc){var oc,hc=Vo.points[0];if(sc.x!=hc.x||sc.y!=hc.y){var cc=Vo.points[1];oc=sc.x==cc.x&&sc.y==cc.y}else oc=!0;if(oc)ec=!0;else{var uc=Vo.points[2];ec=sc.x==uc.x&&sc.y==uc.y}}else ec=!1;if(ec){na.neighbors[2]=Vo;var _c,dc,fc=na.points[0],pc=na.points[1],bc=Vo.points[2];if(fc.x==bc.x&&fc.y==bc.y){var yc=Vo.points[1];dc=pc.x==yc.x&&pc.y==yc.y}else dc=!1;if(dc)_c=!0;else{var gc=Vo.points[1];if(fc.x==gc.x&&fc.y==gc.y){var Oc=Vo.points[2];_c=pc.x==Oc.x&&pc.y==Oc.y}else _c=!1}if(_c)Vo.neighbors[0]=na;else{var xc,vc,mc=Vo.points[0];if(fc.x==mc.x&&fc.y==mc.y){var wc=Vo.points[2];vc=pc.x==wc.x&&pc.y==wc.y}else vc=!1;if(vc)xc=!0;else{var Uc=Vo.points[2];if(fc.x==Uc.x&&fc.y==Uc.y){var Cc=Vo.points[0];xc=pc.x==Cc.x&&pc.y==Cc.y}else xc=!1}if(xc)Vo.neighbors[1]=na;else{var Tc,Dc,Ec=Vo.points[0];if(fc.x==Ec.x&&fc.y==Ec.y){var Ac=Vo.points[1];Dc=pc.x==Ac.x&&pc.y==Ac.y}else Dc=!1;if(Dc)Tc=!0;else{var Sc=Vo.points[1];if(fc.x==Sc.x&&fc.y==Sc.y){var Mc=Vo.points[0];Tc=pc.x==Mc.x&&pc.y==Mc.y}else Tc=!1}if(!Tc)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");Vo.neighbors[2]=na}}}}}if(zl.prev.next=zl.next,zl.next.prev=zl.prev,!this.legalize(na)){var Pc=this.context;if(null==na.neighbors[0]){var Fc=Pc.front,kc=na.points[0],Rc=na.points,Ic=-1;null==Ic&&(Ic=0);for(var Nc=Ic,Lc=!1,Bc=0;Bc<3;){for(var Gc=Bc++;Nc<0;)Nc+=3;for(;Nc>2;)Nc-=3;var Wc=na.points[Gc];if(kc.x==Wc.x&&kc.y==Wc.y){Lc=!0;break}++Nc}if(!Lc)throw haxe_Exception.thrown("Triangle::Point not in triangle");var Kc=Rc[Nc],Yc=Kc.x,Hc=Fc.search_node,Xc=Hc.point.x;if(Yc==Xc){var Vc=Hc.point;if(Kc.x!=Vc.x||Kc.y!=Vc.y){var zc=Hc.prev.point;if(Kc.x==zc.x&&Kc.y==zc.y)Hc=Hc.prev;else{var jc=Hc.next.point;if(Kc.x!=jc.x||Kc.y!=jc.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");Hc=Hc.next}}}else if(Yc<Xc)for(;null!=(Hc=Hc.prev);){var $c=Hc.point;if(Kc.x==$c.x&&Kc.y==$c.y)break}else for(;null!=(Hc=Hc.next);){var Qc=Hc.point;if(Kc.x==Qc.x&&Kc.y==Qc.y)break}null!=Hc&&(Fc.search_node=Hc);null!=Hc&&(Hc.triangle=na)}if(null==na.neighbors[1]){var qc=Pc.front,Zc=na.points[1],Jc=na.points,eu=-1;null==eu&&(eu=0);for(var nu=eu,tu=!1,iu=0;iu<3;){for(var su=iu++;nu<0;)nu+=3;for(;nu>2;)nu-=3;var ru=na.points[su];if(Zc.x==ru.x&&Zc.y==ru.y){tu=!0;break}++nu}if(!tu)throw haxe_Exception.thrown("Triangle::Point not in triangle");var lu=Jc[nu],au=lu.x,ou=qc.search_node,hu=ou.point.x;if(au==hu){var cu=ou.point;if(lu.x!=cu.x||lu.y!=cu.y){var uu=ou.prev.point;if(lu.x==uu.x&&lu.y==uu.y)ou=ou.prev;else{var _u=ou.next.point;if(lu.x!=_u.x||lu.y!=_u.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");ou=ou.next}}}else if(au<hu)for(;null!=(ou=ou.prev);){var du=ou.point;if(lu.x==du.x&&lu.y==du.y)break}else for(;null!=(ou=ou.next);){var fu=ou.point;if(lu.x==fu.x&&lu.y==fu.y)break}null!=ou&&(qc.search_node=ou);null!=ou&&(ou.triangle=na)}if(null==na.neighbors[2]){var pu=Pc.front,bu=na.points[2],yu=na.points,gu=-1;null==gu&&(gu=0);for(var Ou=gu,xu=!1,vu=0;vu<3;){for(var mu=vu++;Ou<0;)Ou+=3;for(;Ou>2;)Ou-=3;var wu=na.points[mu];if(bu.x==wu.x&&bu.y==wu.y){xu=!0;break}++Ou}if(!xu)throw haxe_Exception.thrown("Triangle::Point not in triangle");var Uu=yu[Ou],Cu=Uu.x,Tu=pu.search_node,Du=Tu.point.x;if(Cu==Du){var Eu=Tu.point;if(Uu.x!=Eu.x||Uu.y!=Eu.y){var Au=Tu.prev.point;if(Uu.x==Au.x&&Uu.y==Au.y)Tu=Tu.prev;else{var Su=Tu.next.point;if(Uu.x!=Su.x||Uu.y!=Su.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");Tu=Tu.next}}}else if(Cu<Du)for(;null!=(Tu=Tu.prev);){var Mu=Tu.point;if(Uu.x==Mu.x&&Uu.y==Mu.y)break}else for(;null!=(Tu=Tu.next);){var Pu=Tu.point;if(Uu.x==Pu.x&&Uu.y==Pu.y)break}null!=Tu&&(pu.search_node=Tu);null!=Tu&&(Tu.triangle=na)}}zl=zl.next}for(zl=_t.prev;null!=zl.prev;){var Fu=zl.next.point.x-zl.point.x,ku=zl.next.point.y-zl.point.y,Ru=zl.prev.point.x-zl.point.x,Iu=zl.prev.point.y-zl.point.y;if((ut=Math.atan2(Fu*Iu-ku*Ru,Fu*Ru+ku*Iu))>poly2tri_Constants.PI_2||ut<-poly2tri_Constants.PI_2)break;var Nu,Lu,Bu,Gu=poly2tri_Pool.getTriangle(zl.prev.point,zl.point,zl.next.point),Wu=zl.prev.triangle,Ku=Gu.points[1],Yu=Gu.points[2],Hu=Wu.points[0];if(Ku.x!=Hu.x||Ku.y!=Hu.y){var Xu=Wu.points[1];Bu=Ku.x==Xu.x&&Ku.y==Xu.y}else Bu=!0;if(Bu)Lu=!0;else{var Vu=Wu.points[2];Lu=Ku.x==Vu.x&&Ku.y==Vu.y}if(Lu){var zu,ju=Wu.points[0];if(Yu.x!=ju.x||Yu.y!=ju.y){var $u=Wu.points[1];zu=Yu.x==$u.x&&Yu.y==$u.y}else zu=!0;if(zu)Nu=!0;else{var Qu=Wu.points[2];Nu=Yu.x==Qu.x&&Yu.y==Qu.y}}else Nu=!1;if(Nu){Gu.neighbors[0]=Wu;var qu,Zu,Ju=Gu.points[1],e_=Gu.points[2],n_=Wu.points[2];if(Ju.x==n_.x&&Ju.y==n_.y){var t_=Wu.points[1];Zu=e_.x==t_.x&&e_.y==t_.y}else Zu=!1;if(Zu)qu=!0;else{var i_=Wu.points[1];if(Ju.x==i_.x&&Ju.y==i_.y){var s_=Wu.points[2];qu=e_.x==s_.x&&e_.y==s_.y}else qu=!1}if(qu)Wu.neighbors[0]=Gu;else{var r_,l_,a_=Wu.points[0];if(Ju.x==a_.x&&Ju.y==a_.y){var o_=Wu.points[2];l_=e_.x==o_.x&&e_.y==o_.y}else l_=!1;if(l_)r_=!0;else{var h_=Wu.points[2];if(Ju.x==h_.x&&Ju.y==h_.y){var c_=Wu.points[0];r_=e_.x==c_.x&&e_.y==c_.y}else r_=!1}if(r_)Wu.neighbors[1]=Gu;else{var u_,__,d_=Wu.points[0];if(Ju.x==d_.x&&Ju.y==d_.y){var f_=Wu.points[1];__=e_.x==f_.x&&e_.y==f_.y}else __=!1;if(__)u_=!0;else{var p_=Wu.points[1];if(Ju.x==p_.x&&Ju.y==p_.y){var b_=Wu.points[0];u_=e_.x==b_.x&&e_.y==b_.y}else u_=!1}if(!u_)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");Wu.neighbors[2]=Gu}}}else{var y_,g_,O_,x_=Gu.points[0],v_=Gu.points[2],m_=Wu.points[0];if(x_.x!=m_.x||x_.y!=m_.y){var w_=Wu.points[1];O_=x_.x==w_.x&&x_.y==w_.y}else O_=!0;if(O_)g_=!0;else{var U_=Wu.points[2];g_=x_.x==U_.x&&x_.y==U_.y}if(g_){var C_,T_=Wu.points[0];if(v_.x!=T_.x||v_.y!=T_.y){var D_=Wu.points[1];C_=v_.x==D_.x&&v_.y==D_.y}else C_=!0;if(C_)y_=!0;else{var E_=Wu.points[2];y_=v_.x==E_.x&&v_.y==E_.y}}else y_=!1;if(y_){Gu.neighbors[1]=Wu;var A_,S_,M_=Gu.points[0],P_=Gu.points[2],F_=Wu.points[2];if(M_.x==F_.x&&M_.y==F_.y){var k_=Wu.points[1];S_=P_.x==k_.x&&P_.y==k_.y}else S_=!1;if(S_)A_=!0;else{var R_=Wu.points[1];if(M_.x==R_.x&&M_.y==R_.y){var I_=Wu.points[2];A_=P_.x==I_.x&&P_.y==I_.y}else A_=!1}if(A_)Wu.neighbors[0]=Gu;else{var N_,L_,B_=Wu.points[0];if(M_.x==B_.x&&M_.y==B_.y){var G_=Wu.points[2];L_=P_.x==G_.x&&P_.y==G_.y}else L_=!1;if(L_)N_=!0;else{var W_=Wu.points[2];if(M_.x==W_.x&&M_.y==W_.y){var K_=Wu.points[0];N_=P_.x==K_.x&&P_.y==K_.y}else N_=!1}if(N_)Wu.neighbors[1]=Gu;else{var Y_,H_,X_=Wu.points[0];if(M_.x==X_.x&&M_.y==X_.y){var V_=Wu.points[1];H_=P_.x==V_.x&&P_.y==V_.y}else H_=!1;if(H_)Y_=!0;else{var z_=Wu.points[1];if(M_.x==z_.x&&M_.y==z_.y){var j_=Wu.points[0];Y_=P_.x==j_.x&&P_.y==j_.y}else Y_=!1}if(!Y_)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");Wu.neighbors[2]=Gu}}}else{var $_,Q_,q_,Z_=Gu.points[0],J_=Gu.points[1],ed=Wu.points[0];if(Z_.x!=ed.x||Z_.y!=ed.y){var nd=Wu.points[1];q_=Z_.x==nd.x&&Z_.y==nd.y}else q_=!0;if(q_)Q_=!0;else{var td=Wu.points[2];Q_=Z_.x==td.x&&Z_.y==td.y}if(Q_){var id,sd=Wu.points[0];if(J_.x!=sd.x||J_.y!=sd.y){var rd=Wu.points[1];id=J_.x==rd.x&&J_.y==rd.y}else id=!0;if(id)$_=!0;else{var ld=Wu.points[2];$_=J_.x==ld.x&&J_.y==ld.y}}else $_=!1;if($_){Gu.neighbors[2]=Wu;var ad,od,hd=Gu.points[0],cd=Gu.points[1],ud=Wu.points[2];if(hd.x==ud.x&&hd.y==ud.y){var _d=Wu.points[1];od=cd.x==_d.x&&cd.y==_d.y}else od=!1;if(od)ad=!0;else{var dd=Wu.points[1];if(hd.x==dd.x&&hd.y==dd.y){var fd=Wu.points[2];ad=cd.x==fd.x&&cd.y==fd.y}else ad=!1}if(ad)Wu.neighbors[0]=Gu;else{var pd,bd,yd=Wu.points[0];if(hd.x==yd.x&&hd.y==yd.y){var gd=Wu.points[2];bd=cd.x==gd.x&&cd.y==gd.y}else bd=!1;if(bd)pd=!0;else{var Od=Wu.points[2];if(hd.x==Od.x&&hd.y==Od.y){var xd=Wu.points[0];pd=cd.x==xd.x&&cd.y==xd.y}else pd=!1}if(pd)Wu.neighbors[1]=Gu;else{var vd,md,wd=Wu.points[0];if(hd.x==wd.x&&hd.y==wd.y){var Ud=Wu.points[1];md=cd.x==Ud.x&&cd.y==Ud.y}else md=!1;if(md)vd=!0;else{var Cd=Wu.points[1];if(hd.x==Cd.x&&hd.y==Cd.y){var Td=Wu.points[0];vd=cd.x==Td.x&&cd.y==Td.y}else vd=!1}if(!vd)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");Wu.neighbors[2]=Gu}}}}}var Dd,Ed,Ad,Sd=zl.triangle,Md=Gu.points[1],Pd=Gu.points[2],Fd=Sd.points[0];if(Md.x!=Fd.x||Md.y!=Fd.y){var kd=Sd.points[1];Ad=Md.x==kd.x&&Md.y==kd.y}else Ad=!0;if(Ad)Ed=!0;else{var Rd=Sd.points[2];Ed=Md.x==Rd.x&&Md.y==Rd.y}if(Ed){var Id,Nd=Sd.points[0];if(Pd.x!=Nd.x||Pd.y!=Nd.y){var Ld=Sd.points[1];Id=Pd.x==Ld.x&&Pd.y==Ld.y}else Id=!0;if(Id)Dd=!0;else{var Bd=Sd.points[2];Dd=Pd.x==Bd.x&&Pd.y==Bd.y}}else Dd=!1;if(Dd){Gu.neighbors[0]=Sd;var Gd,Wd,Kd=Gu.points[1],Yd=Gu.points[2],Hd=Sd.points[2];if(Kd.x==Hd.x&&Kd.y==Hd.y){var Xd=Sd.points[1];Wd=Yd.x==Xd.x&&Yd.y==Xd.y}else Wd=!1;if(Wd)Gd=!0;else{var Vd=Sd.points[1];if(Kd.x==Vd.x&&Kd.y==Vd.y){var zd=Sd.points[2];Gd=Yd.x==zd.x&&Yd.y==zd.y}else Gd=!1}if(Gd)Sd.neighbors[0]=Gu;else{var jd,$d,Qd=Sd.points[0];if(Kd.x==Qd.x&&Kd.y==Qd.y){var qd=Sd.points[2];$d=Yd.x==qd.x&&Yd.y==qd.y}else $d=!1;if($d)jd=!0;else{var Zd=Sd.points[2];if(Kd.x==Zd.x&&Kd.y==Zd.y){var Jd=Sd.points[0];jd=Yd.x==Jd.x&&Yd.y==Jd.y}else jd=!1}if(jd)Sd.neighbors[1]=Gu;else{var ef,nf,tf=Sd.points[0];if(Kd.x==tf.x&&Kd.y==tf.y){var sf=Sd.points[1];nf=Yd.x==sf.x&&Yd.y==sf.y}else nf=!1;if(nf)ef=!0;else{var rf=Sd.points[1];if(Kd.x==rf.x&&Kd.y==rf.y){var lf=Sd.points[0];ef=Yd.x==lf.x&&Yd.y==lf.y}else ef=!1}if(!ef)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");Sd.neighbors[2]=Gu}}}else{var af,of,hf,cf=Gu.points[0],uf=Gu.points[2],_f=Sd.points[0];if(cf.x!=_f.x||cf.y!=_f.y){var df=Sd.points[1];hf=cf.x==df.x&&cf.y==df.y}else hf=!0;if(hf)of=!0;else{var ff=Sd.points[2];of=cf.x==ff.x&&cf.y==ff.y}if(of){var pf,bf=Sd.points[0];if(uf.x!=bf.x||uf.y!=bf.y){var yf=Sd.points[1];pf=uf.x==yf.x&&uf.y==yf.y}else pf=!0;if(pf)af=!0;else{var gf=Sd.points[2];af=uf.x==gf.x&&uf.y==gf.y}}else af=!1;if(af){Gu.neighbors[1]=Sd;var Of,xf,vf=Gu.points[0],mf=Gu.points[2],wf=Sd.points[2];if(vf.x==wf.x&&vf.y==wf.y){var Uf=Sd.points[1];xf=mf.x==Uf.x&&mf.y==Uf.y}else xf=!1;if(xf)Of=!0;else{var Cf=Sd.points[1];if(vf.x==Cf.x&&vf.y==Cf.y){var Tf=Sd.points[2];Of=mf.x==Tf.x&&mf.y==Tf.y}else Of=!1}if(Of)Sd.neighbors[0]=Gu;else{var Df,Ef,Af=Sd.points[0];if(vf.x==Af.x&&vf.y==Af.y){var Sf=Sd.points[2];Ef=mf.x==Sf.x&&mf.y==Sf.y}else Ef=!1;if(Ef)Df=!0;else{var Mf=Sd.points[2];if(vf.x==Mf.x&&vf.y==Mf.y){var Pf=Sd.points[0];Df=mf.x==Pf.x&&mf.y==Pf.y}else Df=!1}if(Df)Sd.neighbors[1]=Gu;else{var Ff,kf,Rf=Sd.points[0];if(vf.x==Rf.x&&vf.y==Rf.y){var If=Sd.points[1];kf=mf.x==If.x&&mf.y==If.y}else kf=!1;if(kf)Ff=!0;else{var Nf=Sd.points[1];if(vf.x==Nf.x&&vf.y==Nf.y){var Lf=Sd.points[0];Ff=mf.x==Lf.x&&mf.y==Lf.y}else Ff=!1}if(!Ff)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");Sd.neighbors[2]=Gu}}}else{var Bf,Gf,Wf,Kf=Gu.points[0],Yf=Gu.points[1],Hf=Sd.points[0];if(Kf.x!=Hf.x||Kf.y!=Hf.y){var Xf=Sd.points[1];Wf=Kf.x==Xf.x&&Kf.y==Xf.y}else Wf=!0;if(Wf)Gf=!0;else{var Vf=Sd.points[2];Gf=Kf.x==Vf.x&&Kf.y==Vf.y}if(Gf){var zf,jf=Sd.points[0];if(Yf.x!=jf.x||Yf.y!=jf.y){var $f=Sd.points[1];zf=Yf.x==$f.x&&Yf.y==$f.y}else zf=!0;if(zf)Bf=!0;else{var Qf=Sd.points[2];Bf=Yf.x==Qf.x&&Yf.y==Qf.y}}else Bf=!1;if(Bf){Gu.neighbors[2]=Sd;var qf,Zf,Jf=Gu.points[0],ep=Gu.points[1],np=Sd.points[2];if(Jf.x==np.x&&Jf.y==np.y){var tp=Sd.points[1];Zf=ep.x==tp.x&&ep.y==tp.y}else Zf=!1;if(Zf)qf=!0;else{var ip=Sd.points[1];if(Jf.x==ip.x&&Jf.y==ip.y){var sp=Sd.points[2];qf=ep.x==sp.x&&ep.y==sp.y}else qf=!1}if(qf)Sd.neighbors[0]=Gu;else{var rp,lp,ap=Sd.points[0];if(Jf.x==ap.x&&Jf.y==ap.y){var op=Sd.points[2];lp=ep.x==op.x&&ep.y==op.y}else lp=!1;if(lp)rp=!0;else{var hp=Sd.points[2];if(Jf.x==hp.x&&Jf.y==hp.y){var cp=Sd.points[0];rp=ep.x==cp.x&&ep.y==cp.y}else rp=!1}if(rp)Sd.neighbors[1]=Gu;else{var up,_p,dp=Sd.points[0];if(Jf.x==dp.x&&Jf.y==dp.y){var fp=Sd.points[1];_p=ep.x==fp.x&&ep.y==fp.y}else _p=!1;if(_p)up=!0;else{var pp=Sd.points[1];if(Jf.x==pp.x&&Jf.y==pp.y){var bp=Sd.points[0];up=ep.x==bp.x&&ep.y==bp.y}else up=!1}if(!up)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");Sd.neighbors[2]=Gu}}}}}if(zl.prev.next=zl.next,zl.next.prev=zl.prev,!this.legalize(Gu)){var yp=this.context;if(null==Gu.neighbors[0]){var gp=yp.front,Op=Gu.points[0],xp=Gu.points,vp=-1;null==vp&&(vp=0);for(var mp=vp,wp=!1,Up=0;Up<3;){for(var Cp=Up++;mp<0;)mp+=3;for(;mp>2;)mp-=3;var Tp=Gu.points[Cp];if(Op.x==Tp.x&&Op.y==Tp.y){wp=!0;break}++mp}if(!wp)throw haxe_Exception.thrown("Triangle::Point not in triangle");var Dp=xp[mp],Ep=Dp.x,Ap=gp.search_node,Sp=Ap.point.x;if(Ep==Sp){var Mp=Ap.point;if(Dp.x!=Mp.x||Dp.y!=Mp.y){var Pp=Ap.prev.point;if(Dp.x==Pp.x&&Dp.y==Pp.y)Ap=Ap.prev;else{var Fp=Ap.next.point;if(Dp.x!=Fp.x||Dp.y!=Fp.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");Ap=Ap.next}}}else if(Ep<Sp)for(;null!=(Ap=Ap.prev);){var kp=Ap.point;if(Dp.x==kp.x&&Dp.y==kp.y)break}else for(;null!=(Ap=Ap.next);){var Rp=Ap.point;if(Dp.x==Rp.x&&Dp.y==Rp.y)break}null!=Ap&&(gp.search_node=Ap);null!=Ap&&(Ap.triangle=Gu)}if(null==Gu.neighbors[1]){var Ip=yp.front,Np=Gu.points[1],Lp=Gu.points,Bp=-1;null==Bp&&(Bp=0);for(var Gp=Bp,Wp=!1,Kp=0;Kp<3;){for(var Yp=Kp++;Gp<0;)Gp+=3;for(;Gp>2;)Gp-=3;var Hp=Gu.points[Yp];if(Np.x==Hp.x&&Np.y==Hp.y){Wp=!0;break}++Gp}if(!Wp)throw haxe_Exception.thrown("Triangle::Point not in triangle");var Xp=Lp[Gp],Vp=Xp.x,zp=Ip.search_node,jp=zp.point.x;if(Vp==jp){var $p=zp.point;if(Xp.x!=$p.x||Xp.y!=$p.y){var Qp=zp.prev.point;if(Xp.x==Qp.x&&Xp.y==Qp.y)zp=zp.prev;else{var qp=zp.next.point;if(Xp.x!=qp.x||Xp.y!=qp.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");zp=zp.next}}}else if(Vp<jp)for(;null!=(zp=zp.prev);){var Zp=zp.point;if(Xp.x==Zp.x&&Xp.y==Zp.y)break}else for(;null!=(zp=zp.next);){var Jp=zp.point;if(Xp.x==Jp.x&&Xp.y==Jp.y)break}null!=zp&&(Ip.search_node=zp);null!=zp&&(zp.triangle=Gu)}if(null==Gu.neighbors[2]){var eb=yp.front,nb=Gu.points[2],tb=Gu.points,ib=-1;null==ib&&(ib=0);for(var sb=ib,rb=!1,lb=0;lb<3;){for(var ab=lb++;sb<0;)sb+=3;for(;sb>2;)sb-=3;var ob=Gu.points[ab];if(nb.x==ob.x&&nb.y==ob.y){rb=!0;break}++sb}if(!rb)throw haxe_Exception.thrown("Triangle::Point not in triangle");var hb=tb[sb],cb=hb.x,ub=eb.search_node,_b=ub.point.x;if(cb==_b){var db=ub.point;if(hb.x!=db.x||hb.y!=db.y){var fb=ub.prev.point;if(hb.x==fb.x&&hb.y==fb.y)ub=ub.prev;else{var pb=ub.next.point;if(hb.x!=pb.x||hb.y!=pb.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");ub=ub.next}}}else if(cb<_b)for(;null!=(ub=ub.prev);){var bb=ub.point;if(hb.x==bb.x&&hb.y==bb.y)break}else for(;null!=(ub=ub.next);){var yb=ub.point;if(hb.x==yb.x&&hb.y==yb.y)break}null!=ub&&(eb.search_node=ub);null!=ub&&(ub.triangle=Gu)}}zl=zl.prev}if(null!=_t.next&&null!=_t.next.next&&(ut=Math.atan2(_t.point.y-_t.next.next.point.y,_t.point.x-_t.next.next.point.x))<poly2tri_Constants.PI_3div4){var gb=_t.point,Ob=_t.next.point,xb=_t.next.next.point,vb=(gb.x-xb.x)*(Ob.y-xb.y)-(gb.y-xb.y)*(Ob.x-xb.x);for(this.context.basin.left_node=-1==(vb>-poly2tri_Constants.EPSILON&&vb<poly2tri_Constants.EPSILON?0:vb>0?-1:1)?_t.next.next:_t.next,this.context.basin.bottom_node=this.context.basin.left_node;null!=this.context.basin.bottom_node.next&&this.context.basin.bottom_node.point.y>=this.context.basin.bottom_node.next.point.y;)this.context.basin.bottom_node=this.context.basin.bottom_node.next;if(this.context.basin.bottom_node!=this.context.basin.left_node){for(this.context.basin.right_node=this.context.basin.bottom_node;null!=this.context.basin.right_node.next&&this.context.basin.right_node.point.y<this.context.basin.right_node.next.point.y;)this.context.basin.right_node=this.context.basin.right_node.next;this.context.basin.right_node!=this.context.basin.bottom_node&&(this.context.basin.width=this.context.basin.right_node.point.x-this.context.basin.left_node.point.x,this.context.basin.left_highest=this.context.basin.left_node.point.y>this.context.basin.right_node.point.y,this.fillBasinReq(this.context.basin.bottom_node))}}var mb=_t,wb=0;null==p.edge_list&&(p.edge_list=poly2tri_Pool.getEdgeArray());for(var Ub=p.edge_list.length;wb<Ub;){var Cb=wb++;null==p.edge_list&&(p.edge_list=poly2tri_Pool.getEdgeArray());var Tb=p.edge_list[Cb];this.context.edge_event.constrained_edge=Tb,this.context.edge_event.right=Tb.p.x>Tb.q.x;var Db=mb.triangle,Eb=Tb.p,Ab=Tb.q,Sb=-1,Mb=Db.points[0];if(Eb.x==Mb.x&&Eb.y==Mb.y){var Pb=Db.points[1];if(Ab.x==Pb.x&&Ab.y==Pb.y)Sb=2;else{var Fb=Db.points[2];Ab.x==Fb.x&&Ab.y==Fb.y&&(Sb=1)}}else{var kb=Db.points[1];if(Eb.x==kb.x&&Eb.y==kb.y){var Rb=Db.points[2];if(Ab.x==Rb.x&&Ab.y==Rb.y)Sb=0;else{var Ib=Db.points[0];Ab.x==Ib.x&&Ab.y==Ib.y&&(Sb=2)}}else{var Nb=Db.points[2];if(Eb.x==Nb.x&&Eb.y==Nb.y){var Lb=Db.points[0];if(Ab.x==Lb.x&&Ab.y==Lb.y)Sb=1;else{var Bb=Db.points[1];Ab.x==Bb.x&&Ab.y==Bb.y&&(Sb=0)}}}}var Gb=Sb,Wb=!1;if(-1!=Gb){Db.constrained_edge[Gb]=!0;var Kb=Db.neighbors[Gb];if(null!=Kb){var Yb,Hb,Xb=Kb.points[0];if(Ab.x==Xb.x&&Ab.y==Xb.y){var Vb=Kb.points[1];Hb=Eb.x==Vb.x&&Eb.y==Vb.y}else Hb=!1;if(Hb)Yb=!0;else{var zb=Kb.points[1];if(Ab.x==zb.x&&Ab.y==zb.y){var jb=Kb.points[0];Yb=Eb.x==jb.x&&Eb.y==jb.y}else Yb=!1}if(Yb)Kb.constrained_edge[2]=!0;else{var $b,Qb,qb=Kb.points[0];if(Ab.x==qb.x&&Ab.y==qb.y){var Zb=Kb.points[2];Qb=Eb.x==Zb.x&&Eb.y==Zb.y}else Qb=!1;if(Qb)$b=!0;else{var Jb=Kb.points[2];if(Ab.x==Jb.x&&Ab.y==Jb.y){var ey=Kb.points[0];$b=Eb.x==ey.x&&Eb.y==ey.y}else $b=!1}if($b)Kb.constrained_edge[1]=!0;else{var ny,ty,iy=Kb.points[1];if(Ab.x==iy.x&&Ab.y==iy.y){var sy=Kb.points[2];ty=Eb.x==sy.x&&Eb.y==sy.y}else ty=!1;if(ty)ny=!0;else{var ry=Kb.points[2];if(Ab.x==ry.x&&Ab.y==ry.y){var ly=Kb.points[1];ny=Eb.x==ly.x&&Eb.y==ly.y}else ny=!1}ny&&(Kb.constrained_edge[0]=!0)}}}Wb=!0}if(!Wb){this.context.edge_event.right?this.fillRightAboveEdgeEvent(Tb,mb):this.fillLeftAboveEdgeEvent(Tb,mb);var ay=Tb.p,oy=Tb.q,hy=mb.triangle,cy=Tb.q,uy=-1,_y=hy.points[0];if(ay.x==_y.x&&ay.y==_y.y){var dy=hy.points[1];if(oy.x==dy.x&&oy.y==dy.y)uy=2;else{var fy=hy.points[2];oy.x==fy.x&&oy.y==fy.y&&(uy=1)}}else{var py=hy.points[1];if(ay.x==py.x&&ay.y==py.y){var by=hy.points[2];if(oy.x==by.x&&oy.y==by.y)uy=0;else{var yy=hy.points[0];oy.x==yy.x&&oy.y==yy.y&&(uy=2)}}else{var gy=hy.points[2];if(ay.x==gy.x&&ay.y==gy.y){var Oy=hy.points[0];if(oy.x==Oy.x&&oy.y==Oy.y)uy=1;else{var xy=hy.points[1];oy.x==xy.x&&oy.y==xy.y&&(uy=0)}}}}var vy=uy,my=!1;if(-1!=vy){hy.constrained_edge[vy]=!0;var wy=hy.neighbors[vy];if(null!=wy){var Uy,Cy,Ty=wy.points[0];if(oy.x==Ty.x&&oy.y==Ty.y){var Dy=wy.points[1];Cy=ay.x==Dy.x&&ay.y==Dy.y}else Cy=!1;if(Cy)Uy=!0;else{var Ey=wy.points[1];if(oy.x==Ey.x&&oy.y==Ey.y){var Ay=wy.points[0];Uy=ay.x==Ay.x&&ay.y==Ay.y}else Uy=!1}if(Uy)wy.constrained_edge[2]=!0;else{var Sy,My,Py=wy.points[0];if(oy.x==Py.x&&oy.y==Py.y){var Fy=wy.points[2];My=ay.x==Fy.x&&ay.y==Fy.y}else My=!1;if(My)Sy=!0;else{var ky=wy.points[2];if(oy.x==ky.x&&oy.y==ky.y){var Ry=wy.points[0];Sy=ay.x==Ry.x&&ay.y==Ry.y}else Sy=!1}if(Sy)wy.constrained_edge[1]=!0;else{var Iy,Ny,Ly=wy.points[1];if(oy.x==Ly.x&&oy.y==Ly.y){var By=wy.points[2];Ny=ay.x==By.x&&ay.y==By.y}else Ny=!1;if(Ny)Iy=!0;else{var Gy=wy.points[2];if(oy.x==Gy.x&&oy.y==Gy.y){var Wy=wy.points[1];Iy=ay.x==Wy.x&&ay.y==Wy.y}else Iy=!1}Iy&&(wy.constrained_edge[0]=!0)}}}my=!0}if(!my){var Ky=hy.points,Yy=1;null==Yy&&(Yy=0);for(var Hy=Yy,Xy=!1,Vy=0;Vy<3;){for(var zy=Vy++;Hy<0;)Hy+=3;for(;Hy>2;)Hy-=3;var jy=hy.points[zy];if(cy.x==jy.x&&cy.y==jy.y){Xy=!0;break}++Hy}if(!Xy)throw haxe_Exception.thrown("Triangle::Point not in triangle");var $y=Ky[Hy],Qy=(oy.x-ay.x)*($y.y-ay.y)-(oy.y-ay.y)*($y.x-ay.x),qy=Qy>-poly2tri_Constants.EPSILON&&Qy<poly2tri_Constants.EPSILON?0:Qy>0?-1:1;if(0==qy)throw haxe_Exception.thrown("Sweep.edgeEvent: Collinear not supported!");var Zy=hy.points,Jy=-1;null==Jy&&(Jy=0);for(var eg=Jy,ng=!1,tg=0;tg<3;){for(var ig=tg++;eg<0;)eg+=3;for(;eg>2;)eg-=3;var sg=hy.points[ig];if(cy.x==sg.x&&cy.y==sg.y){ng=!0;break}++eg}if(!ng)throw haxe_Exception.thrown("Triangle::Point not in triangle");var rg=Zy[eg],lg=(oy.x-ay.x)*(rg.y-ay.y)-(oy.y-ay.y)*(rg.x-ay.x),ag=lg>-poly2tri_Constants.EPSILON&&lg<poly2tri_Constants.EPSILON?0:lg>0?-1:1;if(0==ag)throw haxe_Exception.thrown("Sweep.edgeEvent: Collinear not supported!");if(qy==ag){if(1==qy){var og=hy.neighbors,hg=-1;null==hg&&(hg=0);for(var cg=hg,ug=!1,_g=0;_g<3;){for(var dg=_g++;cg<0;)cg+=3;for(;cg>2;)cg-=3;var fg=hy.points[dg];if(cy.x==fg.x&&cy.y==fg.y){ug=!0;break}++cg}if(!ug)throw haxe_Exception.thrown("Triangle::Point not in triangle");hy=og[cg]}else{var pg=hy.neighbors,bg=1;null==bg&&(bg=0);for(var yg=bg,gg=!1,Og=0;Og<3;){for(var xg=Og++;yg<0;)yg+=3;for(;yg>2;)yg-=3;var vg=hy.points[xg];if(cy.x==vg.x&&cy.y==vg.y){gg=!0;break}++yg}if(!gg)throw haxe_Exception.thrown("Triangle::Point not in triangle");hy=pg[yg]}var mg=hy,wg=-1,Ug=mg.points[0];if(ay.x==Ug.x&&ay.y==Ug.y){var Cg=mg.points[1];if(oy.x==Cg.x&&oy.y==Cg.y)wg=2;else{var Tg=mg.points[2];oy.x==Tg.x&&oy.y==Tg.y&&(wg=1)}}else{var Dg=mg.points[1];if(ay.x==Dg.x&&ay.y==Dg.y){var Eg=mg.points[2];if(oy.x==Eg.x&&oy.y==Eg.y)wg=0;else{var Ag=mg.points[0];oy.x==Ag.x&&oy.y==Ag.y&&(wg=2)}}else{var Sg=mg.points[2];if(ay.x==Sg.x&&ay.y==Sg.y){var Mg=mg.points[0];if(oy.x==Mg.x&&oy.y==Mg.y)wg=1;else{var Pg=mg.points[1];oy.x==Pg.x&&oy.y==Pg.y&&(wg=0)}}}}var Fg=wg,kg=!1;if(-1!=Fg){mg.constrained_edge[Fg]=!0;var Rg=mg.neighbors[Fg];if(null!=Rg){var Ig,Ng,Lg=Rg.points[0];if(oy.x==Lg.x&&oy.y==Lg.y){var Bg=Rg.points[1];Ng=ay.x==Bg.x&&ay.y==Bg.y}else Ng=!1;if(Ng)Ig=!0;else{var Gg=Rg.points[1];if(oy.x==Gg.x&&oy.y==Gg.y){var Wg=Rg.points[0];Ig=ay.x==Wg.x&&ay.y==Wg.y}else Ig=!1}if(Ig)Rg.constrained_edge[2]=!0;else{var Kg,Yg,Hg=Rg.points[0];if(oy.x==Hg.x&&oy.y==Hg.y){var Xg=Rg.points[2];Yg=ay.x==Xg.x&&ay.y==Xg.y}else Yg=!1;if(Yg)Kg=!0;else{var Vg=Rg.points[2];if(oy.x==Vg.x&&oy.y==Vg.y){var zg=Rg.points[0];Kg=ay.x==zg.x&&ay.y==zg.y}else Kg=!1}if(Kg)Rg.constrained_edge[1]=!0;else{var jg,$g,Qg=Rg.points[1];if(oy.x==Qg.x&&oy.y==Qg.y){var qg=Rg.points[2];$g=ay.x==qg.x&&ay.y==qg.y}else $g=!1;if($g)jg=!0;else{var Zg=Rg.points[2];if(oy.x==Zg.x&&oy.y==Zg.y){var Jg=Rg.points[1];jg=ay.x==Jg.x&&ay.y==Jg.y}else jg=!1}jg&&(Rg.constrained_edge[0]=!0)}}}kg=!0}if(!kg){var eO=mg.points,nO=1;null==nO&&(nO=0);for(var tO=nO,iO=!1,sO=0;sO<3;){for(var rO=sO++;tO<0;)tO+=3;for(;tO>2;)tO-=3;var lO=mg.points[rO];if(cy.x==lO.x&&cy.y==lO.y){iO=!0;break}++tO}if(!iO)throw haxe_Exception.thrown("Triangle::Point not in triangle");var aO=eO[tO],oO=(oy.x-ay.x)*(aO.y-ay.y)-(oy.y-ay.y)*(aO.x-ay.x),hO=oO>-poly2tri_Constants.EPSILON&&oO<poly2tri_Constants.EPSILON?0:oO>0?-1:1;if(0==hO)throw haxe_Exception.thrown("Sweep.edgeEvent: Collinear not supported!");var cO=mg.points,uO=-1;null==uO&&(uO=0);for(var _O=uO,dO=!1,fO=0;fO<3;){for(var pO=fO++;_O<0;)_O+=3;for(;_O>2;)_O-=3;var bO=mg.points[pO];if(cy.x==bO.x&&cy.y==bO.y){dO=!0;break}++_O}if(!dO)throw haxe_Exception.thrown("Triangle::Point not in triangle");var yO=cO[_O],gO=(oy.x-ay.x)*(yO.y-ay.y)-(oy.y-ay.y)*(yO.x-ay.x),OO=gO>-poly2tri_Constants.EPSILON&&gO<poly2tri_Constants.EPSILON?0:gO>0?-1:1;if(0==OO)throw haxe_Exception.thrown("Sweep.edgeEvent: Collinear not supported!");if(hO==OO){if(1==hO){var xO=mg.neighbors,vO=-1;null==vO&&(vO=0);for(var mO=vO,wO=!1,UO=0;UO<3;){for(var CO=UO++;mO<0;)mO+=3;for(;mO>2;)mO-=3;var TO=mg.points[CO];if(cy.x==TO.x&&cy.y==TO.y){wO=!0;break}++mO}if(!wO)throw haxe_Exception.thrown("Triangle::Point not in triangle");mg=xO[mO]}else{var DO=mg.neighbors,EO=1;null==EO&&(EO=0);for(var AO=EO,SO=!1,MO=0;MO<3;){for(var PO=MO++;AO<0;)AO+=3;for(;AO>2;)AO-=3;var FO=mg.points[PO];if(cy.x==FO.x&&cy.y==FO.y){SO=!0;break}++AO}if(!SO)throw haxe_Exception.thrown("Triangle::Point not in triangle");mg=DO[AO]}this.edgeEventByPoints(ay,oy,mg,cy)}else this.flipEdgeEvent(ay,oy,mg,cy)}}else this.flipEdgeEvent(ay,oy,hy,cy)}}}}var kO=this.context.front.head.next.triangle;for(dn=this.context.front.head.next.point;;){var RO,IO=kO.constrained_edge;null==(RO=1)&&(RO=0);for(bn=RO,yn=!1,s=0;s<3;){for(On=s++;bn<0;)bn+=3;for(;bn>2;)bn-=3;w=kO.points[On];if(dn.x==w.x&&dn.y==w.y){yn=!0;break}++bn}if(!yn)throw haxe_Exception.thrown("Triangle::Point not in triangle");if(IO[bn])break;var NO,LO=kO.neighbors;null==(NO=-1)&&(NO=0);for(Fn=NO,kn=!1,r=0;r<3;){for(In=r++;Fn<0;)Fn+=3;for(;Fn>2;)Fn-=3;T=kO.points[In];if(dn.x==T.x&&dn.y==T.y){kn=!0;break}++Fn}if(!kn)throw haxe_Exception.thrown("Triangle::Point not in triangle");kO=LO[Fn]}this.context.meshClean(kO)},sweepPoints:function(){for(var e=1,n=this.context.points.length;e<n;){var t=e++,i=this.context.points[t],s=this.context.front,r=i.x,l=s.search_node,a=null;if(r<l.value){for(;null!=(l=l.prev);)if(r>=l.value){s.search_node=l,a=l;break}}else for(;null!=(l=l.next);)if(r<l.value){s.search_node=l.prev,a=l.prev;break}var o,h,c,u=a,_=poly2tri_Pool.getTriangle(i,u.point,u.next.point),d=u.triangle,f=_.points[1],p=_.points[2],b=d.points[0];if(f.x!=b.x||f.y!=b.y){var y=d.points[1];c=f.x==y.x&&f.y==y.y}else c=!0;if(c)h=!0;else{var g=d.points[2];h=f.x==g.x&&f.y==g.y}if(h){var O,x=d.points[0];if(p.x!=x.x||p.y!=x.y){var v=d.points[1];O=p.x==v.x&&p.y==v.y}else O=!0;if(O)o=!0;else{var m=d.points[2];o=p.x==m.x&&p.y==m.y}}else o=!1;if(o){_.neighbors[0]=d;var w,U,C=_.points[1],T=_.points[2],D=d.points[2];if(C.x==D.x&&C.y==D.y){var E=d.points[1];U=T.x==E.x&&T.y==E.y}else U=!1;if(U)w=!0;else{var A=d.points[1];if(C.x==A.x&&C.y==A.y){var S=d.points[2];w=T.x==S.x&&T.y==S.y}else w=!1}if(w)d.neighbors[0]=_;else{var M,P,F=d.points[0];if(C.x==F.x&&C.y==F.y){var k=d.points[2];P=T.x==k.x&&T.y==k.y}else P=!1;if(P)M=!0;else{var R=d.points[2];if(C.x==R.x&&C.y==R.y){var I=d.points[0];M=T.x==I.x&&T.y==I.y}else M=!1}if(M)d.neighbors[1]=_;else{var N,L,B=d.points[0];if(C.x==B.x&&C.y==B.y){var G=d.points[1];L=T.x==G.x&&T.y==G.y}else L=!1;if(L)N=!0;else{var W=d.points[1];if(C.x==W.x&&C.y==W.y){var K=d.points[0];N=T.x==K.x&&T.y==K.y}else N=!1}if(!N)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");d.neighbors[2]=_}}}else{var Y,H,X,V=_.points[0],z=_.points[2],j=d.points[0];if(V.x!=j.x||V.y!=j.y){var $=d.points[1];X=V.x==$.x&&V.y==$.y}else X=!0;if(X)H=!0;else{var Q=d.points[2];H=V.x==Q.x&&V.y==Q.y}if(H){var q,Z=d.points[0];if(z.x!=Z.x||z.y!=Z.y){var J=d.points[1];q=z.x==J.x&&z.y==J.y}else q=!0;if(q)Y=!0;else{var ee=d.points[2];Y=z.x==ee.x&&z.y==ee.y}}else Y=!1;if(Y){_.neighbors[1]=d;var ne,te,ie=_.points[0],se=_.points[2],re=d.points[2];if(ie.x==re.x&&ie.y==re.y){var le=d.points[1];te=se.x==le.x&&se.y==le.y}else te=!1;if(te)ne=!0;else{var ae=d.points[1];if(ie.x==ae.x&&ie.y==ae.y){var oe=d.points[2];ne=se.x==oe.x&&se.y==oe.y}else ne=!1}if(ne)d.neighbors[0]=_;else{var he,ce,ue=d.points[0];if(ie.x==ue.x&&ie.y==ue.y){var _e=d.points[2];ce=se.x==_e.x&&se.y==_e.y}else ce=!1;if(ce)he=!0;else{var de=d.points[2];if(ie.x==de.x&&ie.y==de.y){var fe=d.points[0];he=se.x==fe.x&&se.y==fe.y}else he=!1}if(he)d.neighbors[1]=_;else{var pe,be,ye=d.points[0];if(ie.x==ye.x&&ie.y==ye.y){var ge=d.points[1];be=se.x==ge.x&&se.y==ge.y}else be=!1;if(be)pe=!0;else{var Oe=d.points[1];if(ie.x==Oe.x&&ie.y==Oe.y){var xe=d.points[0];pe=se.x==xe.x&&se.y==xe.y}else pe=!1}if(!pe)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");d.neighbors[2]=_}}}else{var ve,me,we,Ue=_.points[0],Ce=_.points[1],Te=d.points[0];if(Ue.x!=Te.x||Ue.y!=Te.y){var De=d.points[1];we=Ue.x==De.x&&Ue.y==De.y}else we=!0;if(we)me=!0;else{var Ee=d.points[2];me=Ue.x==Ee.x&&Ue.y==Ee.y}if(me){var Ae,Se=d.points[0];if(Ce.x!=Se.x||Ce.y!=Se.y){var Me=d.points[1];Ae=Ce.x==Me.x&&Ce.y==Me.y}else Ae=!0;if(Ae)ve=!0;else{var Pe=d.points[2];ve=Ce.x==Pe.x&&Ce.y==Pe.y}}else ve=!1;if(ve){_.neighbors[2]=d;var Fe,ke,Re=_.points[0],Ie=_.points[1],Ne=d.points[2];if(Re.x==Ne.x&&Re.y==Ne.y){var Le=d.points[1];ke=Ie.x==Le.x&&Ie.y==Le.y}else ke=!1;if(ke)Fe=!0;else{var Be=d.points[1];if(Re.x==Be.x&&Re.y==Be.y){var Ge=d.points[2];Fe=Ie.x==Ge.x&&Ie.y==Ge.y}else Fe=!1}if(Fe)d.neighbors[0]=_;else{var We,Ke,Ye=d.points[0];if(Re.x==Ye.x&&Re.y==Ye.y){var He=d.points[2];Ke=Ie.x==He.x&&Ie.y==He.y}else Ke=!1;if(Ke)We=!0;else{var Xe=d.points[2];if(Re.x==Xe.x&&Re.y==Xe.y){var Ve=d.points[0];We=Ie.x==Ve.x&&Ie.y==Ve.y}else We=!1}if(We)d.neighbors[1]=_;else{var ze,je,$e=d.points[0];if(Re.x==$e.x&&Re.y==$e.y){var Qe=d.points[1];je=Ie.x==Qe.x&&Ie.y==Qe.y}else je=!1;if(je)ze=!0;else{var qe=d.points[1];if(Re.x==qe.x&&Re.y==qe.y){var Ze=d.points[0];ze=Ie.x==Ze.x&&Ie.y==Ze.y}else ze=!1}if(!ze)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");d.neighbors[2]=_}}}}}var Je=poly2tri_Pool.getNode(i);if(Je.next=u.next,Je.prev=u,u.next.prev=Je,u.next=Je,!this.legalize(_)){var en=this.context;if(null==_.neighbors[0]){var nn=en.front,tn=_.points[0],sn=_.points,rn=-1;null==rn&&(rn=0);for(var ln=rn,an=!1,on=0;on<3;){for(var hn=on++;ln<0;)ln+=3;for(;ln>2;)ln-=3;var cn=_.points[hn];if(tn.x==cn.x&&tn.y==cn.y){an=!0;break}++ln}if(!an)throw haxe_Exception.thrown("Triangle::Point not in triangle");var un=sn[ln],_n=un.x,dn=nn.search_node,pn=dn.point.x;if(_n==pn){var bn=dn.point;if(un.x!=bn.x||un.y!=bn.y){var yn=dn.prev.point;if(un.x==yn.x&&un.y==yn.y)dn=dn.prev;else{var gn=dn.next.point;if(un.x!=gn.x||un.y!=gn.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");dn=dn.next}}}else if(_n<pn)for(;null!=(dn=dn.prev);){var On=dn.point;if(un.x==On.x&&un.y==On.y)break}else for(;null!=(dn=dn.next);){var xn=dn.point;if(un.x==xn.x&&un.y==xn.y)break}null!=dn&&(nn.search_node=dn);null!=dn&&(dn.triangle=_)}if(null==_.neighbors[1]){var vn=en.front,mn=_.points[1],wn=_.points,Un=-1;null==Un&&(Un=0);for(var Cn=Un,Tn=!1,Dn=0;Dn<3;){for(var En=Dn++;Cn<0;)Cn+=3;for(;Cn>2;)Cn-=3;var An=_.points[En];if(mn.x==An.x&&mn.y==An.y){Tn=!0;break}++Cn}if(!Tn)throw haxe_Exception.thrown("Triangle::Point not in triangle");var Sn=wn[Cn],Mn=Sn.x,Pn=vn.search_node,Fn=Pn.point.x;if(Mn==Fn){var kn=Pn.point;if(Sn.x!=kn.x||Sn.y!=kn.y){var Rn=Pn.prev.point;if(Sn.x==Rn.x&&Sn.y==Rn.y)Pn=Pn.prev;else{var In=Pn.next.point;if(Sn.x!=In.x||Sn.y!=In.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");Pn=Pn.next}}}else if(Mn<Fn)for(;null!=(Pn=Pn.prev);){var Nn=Pn.point;if(Sn.x==Nn.x&&Sn.y==Nn.y)break}else for(;null!=(Pn=Pn.next);){var Ln=Pn.point;if(Sn.x==Ln.x&&Sn.y==Ln.y)break}null!=Pn&&(vn.search_node=Pn);null!=Pn&&(Pn.triangle=_)}if(null==_.neighbors[2]){var Bn=en.front,Gn=_.points[2],Wn=_.points,Kn=-1;null==Kn&&(Kn=0);for(var Yn=Kn,Hn=!1,Xn=0;Xn<3;){for(var Vn=Xn++;Yn<0;)Yn+=3;for(;Yn>2;)Yn-=3;var zn=_.points[Vn];if(Gn.x==zn.x&&Gn.y==zn.y){Hn=!0;break}++Yn}if(!Hn)throw haxe_Exception.thrown("Triangle::Point not in triangle");var jn=Wn[Yn],$n=jn.x,Qn=Bn.search_node,qn=Qn.point.x;if($n==qn){var Zn=Qn.point;if(jn.x!=Zn.x||jn.y!=Zn.y){var Jn=Qn.prev.point;if(jn.x==Jn.x&&jn.y==Jn.y)Qn=Qn.prev;else{var et=Qn.next.point;if(jn.x!=et.x||jn.y!=et.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");Qn=Qn.next}}}else if($n<qn)for(;null!=(Qn=Qn.prev);){var nt=Qn.point;if(jn.x==nt.x&&jn.y==nt.y)break}else for(;null!=(Qn=Qn.next);){var tt=Qn.point;if(jn.x==tt.x&&jn.y==tt.y)break}null!=Qn&&(Bn.search_node=Qn);null!=Qn&&(Qn.triangle=_)}}var it,st=Je;if(i.x<=u.point.x+poly2tri_Constants.EPSILON){var rt,lt,at,ot=poly2tri_Pool.getTriangle(u.prev.point,u.point,u.next.point),ht=u.prev.triangle,ct=ot.points[1],ut=ot.points[2],_t=ht.points[0];if(ct.x!=_t.x||ct.y!=_t.y){var dt=ht.points[1];at=ct.x==dt.x&&ct.y==dt.y}else at=!0;if(at)lt=!0;else{var ft=ht.points[2];lt=ct.x==ft.x&&ct.y==ft.y}if(lt){var pt,bt=ht.points[0];if(ut.x!=bt.x||ut.y!=bt.y){var yt=ht.points[1];pt=ut.x==yt.x&&ut.y==yt.y}else pt=!0;if(pt)rt=!0;else{var gt=ht.points[2];rt=ut.x==gt.x&&ut.y==gt.y}}else rt=!1;if(rt){ot.neighbors[0]=ht;var Ot,xt,vt=ot.points[1],mt=ot.points[2],wt=ht.points[2];if(vt.x==wt.x&&vt.y==wt.y){var Ut=ht.points[1];xt=mt.x==Ut.x&&mt.y==Ut.y}else xt=!1;if(xt)Ot=!0;else{var Ct=ht.points[1];if(vt.x==Ct.x&&vt.y==Ct.y){var Tt=ht.points[2];Ot=mt.x==Tt.x&&mt.y==Tt.y}else Ot=!1}if(Ot)ht.neighbors[0]=ot;else{var Dt,Et,At=ht.points[0];if(vt.x==At.x&&vt.y==At.y){var St=ht.points[2];Et=mt.x==St.x&&mt.y==St.y}else Et=!1;if(Et)Dt=!0;else{var Mt=ht.points[2];if(vt.x==Mt.x&&vt.y==Mt.y){var Pt=ht.points[0];Dt=mt.x==Pt.x&&mt.y==Pt.y}else Dt=!1}if(Dt)ht.neighbors[1]=ot;else{var Ft,kt,Rt=ht.points[0];if(vt.x==Rt.x&&vt.y==Rt.y){var It=ht.points[1];kt=mt.x==It.x&&mt.y==It.y}else kt=!1;if(kt)Ft=!0;else{var Nt=ht.points[1];if(vt.x==Nt.x&&vt.y==Nt.y){var Lt=ht.points[0];Ft=mt.x==Lt.x&&mt.y==Lt.y}else Ft=!1}if(!Ft)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");ht.neighbors[2]=ot}}}else{var Bt,Gt,Wt,Kt=ot.points[0],Yt=ot.points[2],Ht=ht.points[0];if(Kt.x!=Ht.x||Kt.y!=Ht.y){var Xt=ht.points[1];Wt=Kt.x==Xt.x&&Kt.y==Xt.y}else Wt=!0;if(Wt)Gt=!0;else{var Vt=ht.points[2];Gt=Kt.x==Vt.x&&Kt.y==Vt.y}if(Gt){var zt,jt=ht.points[0];if(Yt.x!=jt.x||Yt.y!=jt.y){var $t=ht.points[1];zt=Yt.x==$t.x&&Yt.y==$t.y}else zt=!0;if(zt)Bt=!0;else{var Qt=ht.points[2];Bt=Yt.x==Qt.x&&Yt.y==Qt.y}}else Bt=!1;if(Bt){ot.neighbors[1]=ht;var qt,Zt,Jt=ot.points[0],ei=ot.points[2],ni=ht.points[2];if(Jt.x==ni.x&&Jt.y==ni.y){var ti=ht.points[1];Zt=ei.x==ti.x&&ei.y==ti.y}else Zt=!1;if(Zt)qt=!0;else{var ii=ht.points[1];if(Jt.x==ii.x&&Jt.y==ii.y){var si=ht.points[2];qt=ei.x==si.x&&ei.y==si.y}else qt=!1}if(qt)ht.neighbors[0]=ot;else{var ri,li,ai=ht.points[0];if(Jt.x==ai.x&&Jt.y==ai.y){var oi=ht.points[2];li=ei.x==oi.x&&ei.y==oi.y}else li=!1;if(li)ri=!0;else{var hi=ht.points[2];if(Jt.x==hi.x&&Jt.y==hi.y){var ci=ht.points[0];ri=ei.x==ci.x&&ei.y==ci.y}else ri=!1}if(ri)ht.neighbors[1]=ot;else{var ui,_i,di=ht.points[0];if(Jt.x==di.x&&Jt.y==di.y){var fi=ht.points[1];_i=ei.x==fi.x&&ei.y==fi.y}else _i=!1;if(_i)ui=!0;else{var pi=ht.points[1];if(Jt.x==pi.x&&Jt.y==pi.y){var bi=ht.points[0];ui=ei.x==bi.x&&ei.y==bi.y}else ui=!1}if(!ui)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");ht.neighbors[2]=ot}}}else{var yi,gi,Oi,xi=ot.points[0],vi=ot.points[1],mi=ht.points[0];if(xi.x!=mi.x||xi.y!=mi.y){var wi=ht.points[1];Oi=xi.x==wi.x&&xi.y==wi.y}else Oi=!0;if(Oi)gi=!0;else{var Ui=ht.points[2];gi=xi.x==Ui.x&&xi.y==Ui.y}if(gi){var Ci,Ti=ht.points[0];if(vi.x!=Ti.x||vi.y!=Ti.y){var Di=ht.points[1];Ci=vi.x==Di.x&&vi.y==Di.y}else Ci=!0;if(Ci)yi=!0;else{var Ei=ht.points[2];yi=vi.x==Ei.x&&vi.y==Ei.y}}else yi=!1;if(yi){ot.neighbors[2]=ht;var Ai,Si,Mi=ot.points[0],Pi=ot.points[1],Fi=ht.points[2];if(Mi.x==Fi.x&&Mi.y==Fi.y){var ki=ht.points[1];Si=Pi.x==ki.x&&Pi.y==ki.y}else Si=!1;if(Si)Ai=!0;else{var Ri=ht.points[1];if(Mi.x==Ri.x&&Mi.y==Ri.y){var Ii=ht.points[2];Ai=Pi.x==Ii.x&&Pi.y==Ii.y}else Ai=!1}if(Ai)ht.neighbors[0]=ot;else{var Ni,Li,Bi=ht.points[0];if(Mi.x==Bi.x&&Mi.y==Bi.y){var Gi=ht.points[2];Li=Pi.x==Gi.x&&Pi.y==Gi.y}else Li=!1;if(Li)Ni=!0;else{var Wi=ht.points[2];if(Mi.x==Wi.x&&Mi.y==Wi.y){var Ki=ht.points[0];Ni=Pi.x==Ki.x&&Pi.y==Ki.y}else Ni=!1}if(Ni)ht.neighbors[1]=ot;else{var Yi,Hi,Xi=ht.points[0];if(Mi.x==Xi.x&&Mi.y==Xi.y){var Vi=ht.points[1];Hi=Pi.x==Vi.x&&Pi.y==Vi.y}else Hi=!1;if(Hi)Yi=!0;else{var zi=ht.points[1];if(Mi.x==zi.x&&Mi.y==zi.y){var ji=ht.points[0];Yi=Pi.x==ji.x&&Pi.y==ji.y}else Yi=!1}if(!Yi)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");ht.neighbors[2]=ot}}}}}var $i,Qi,qi,Zi=u.triangle,Ji=ot.points[1],es=ot.points[2],ns=Zi.points[0];if(Ji.x!=ns.x||Ji.y!=ns.y){var ts=Zi.points[1];qi=Ji.x==ts.x&&Ji.y==ts.y}else qi=!0;if(qi)Qi=!0;else{var is=Zi.points[2];Qi=Ji.x==is.x&&Ji.y==is.y}if(Qi){var ss,rs=Zi.points[0];if(es.x!=rs.x||es.y!=rs.y){var ls=Zi.points[1];ss=es.x==ls.x&&es.y==ls.y}else ss=!0;if(ss)$i=!0;else{var as=Zi.points[2];$i=es.x==as.x&&es.y==as.y}}else $i=!1;if($i){ot.neighbors[0]=Zi;var os,hs,cs=ot.points[1],us=ot.points[2],_s=Zi.points[2];if(cs.x==_s.x&&cs.y==_s.y){var ds=Zi.points[1];hs=us.x==ds.x&&us.y==ds.y}else hs=!1;if(hs)os=!0;else{var fs=Zi.points[1];if(cs.x==fs.x&&cs.y==fs.y){var ps=Zi.points[2];os=us.x==ps.x&&us.y==ps.y}else os=!1}if(os)Zi.neighbors[0]=ot;else{var bs,ys,gs=Zi.points[0];if(cs.x==gs.x&&cs.y==gs.y){var Os=Zi.points[2];ys=us.x==Os.x&&us.y==Os.y}else ys=!1;if(ys)bs=!0;else{var xs=Zi.points[2];if(cs.x==xs.x&&cs.y==xs.y){var vs=Zi.points[0];bs=us.x==vs.x&&us.y==vs.y}else bs=!1}if(bs)Zi.neighbors[1]=ot;else{var ms,ws,Us=Zi.points[0];if(cs.x==Us.x&&cs.y==Us.y){var Cs=Zi.points[1];ws=us.x==Cs.x&&us.y==Cs.y}else ws=!1;if(ws)ms=!0;else{var Ts=Zi.points[1];if(cs.x==Ts.x&&cs.y==Ts.y){var Ds=Zi.points[0];ms=us.x==Ds.x&&us.y==Ds.y}else ms=!1}if(!ms)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");Zi.neighbors[2]=ot}}}else{var Es,As,Ss,Ms=ot.points[0],Ps=ot.points[2],Fs=Zi.points[0];if(Ms.x!=Fs.x||Ms.y!=Fs.y){var ks=Zi.points[1];Ss=Ms.x==ks.x&&Ms.y==ks.y}else Ss=!0;if(Ss)As=!0;else{var Rs=Zi.points[2];As=Ms.x==Rs.x&&Ms.y==Rs.y}if(As){var Is,Ns=Zi.points[0];if(Ps.x!=Ns.x||Ps.y!=Ns.y){var Ls=Zi.points[1];Is=Ps.x==Ls.x&&Ps.y==Ls.y}else Is=!0;if(Is)Es=!0;else{var Bs=Zi.points[2];Es=Ps.x==Bs.x&&Ps.y==Bs.y}}else Es=!1;if(Es){ot.neighbors[1]=Zi;var Gs,Ws,Ks=ot.points[0],Ys=ot.points[2],Hs=Zi.points[2];if(Ks.x==Hs.x&&Ks.y==Hs.y){var Xs=Zi.points[1];Ws=Ys.x==Xs.x&&Ys.y==Xs.y}else Ws=!1;if(Ws)Gs=!0;else{var Vs=Zi.points[1];if(Ks.x==Vs.x&&Ks.y==Vs.y){var zs=Zi.points[2];Gs=Ys.x==zs.x&&Ys.y==zs.y}else Gs=!1}if(Gs)Zi.neighbors[0]=ot;else{var js,$s,Qs=Zi.points[0];if(Ks.x==Qs.x&&Ks.y==Qs.y){var qs=Zi.points[2];$s=Ys.x==qs.x&&Ys.y==qs.y}else $s=!1;if($s)js=!0;else{var Zs=Zi.points[2];if(Ks.x==Zs.x&&Ks.y==Zs.y){var Js=Zi.points[0];js=Ys.x==Js.x&&Ys.y==Js.y}else js=!1}if(js)Zi.neighbors[1]=ot;else{var er,nr,tr=Zi.points[0];if(Ks.x==tr.x&&Ks.y==tr.y){var ir=Zi.points[1];nr=Ys.x==ir.x&&Ys.y==ir.y}else nr=!1;if(nr)er=!0;else{var sr=Zi.points[1];if(Ks.x==sr.x&&Ks.y==sr.y){var rr=Zi.points[0];er=Ys.x==rr.x&&Ys.y==rr.y}else er=!1}if(!er)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");Zi.neighbors[2]=ot}}}else{var lr,ar,or,hr=ot.points[0],cr=ot.points[1],ur=Zi.points[0];if(hr.x!=ur.x||hr.y!=ur.y){var _r=Zi.points[1];or=hr.x==_r.x&&hr.y==_r.y}else or=!0;if(or)ar=!0;else{var dr=Zi.points[2];ar=hr.x==dr.x&&hr.y==dr.y}if(ar){var fr,pr=Zi.points[0];if(cr.x!=pr.x||cr.y!=pr.y){var br=Zi.points[1];fr=cr.x==br.x&&cr.y==br.y}else fr=!0;if(fr)lr=!0;else{var yr=Zi.points[2];lr=cr.x==yr.x&&cr.y==yr.y}}else lr=!1;if(lr){ot.neighbors[2]=Zi;var gr,Or,xr=ot.points[0],vr=ot.points[1],mr=Zi.points[2];if(xr.x==mr.x&&xr.y==mr.y){var wr=Zi.points[1];Or=vr.x==wr.x&&vr.y==wr.y}else Or=!1;if(Or)gr=!0;else{var Ur=Zi.points[1];if(xr.x==Ur.x&&xr.y==Ur.y){var Cr=Zi.points[2];gr=vr.x==Cr.x&&vr.y==Cr.y}else gr=!1}if(gr)Zi.neighbors[0]=ot;else{var Tr,Dr,Er=Zi.points[0];if(xr.x==Er.x&&xr.y==Er.y){var Ar=Zi.points[2];Dr=vr.x==Ar.x&&vr.y==Ar.y}else Dr=!1;if(Dr)Tr=!0;else{var Sr=Zi.points[2];if(xr.x==Sr.x&&xr.y==Sr.y){var Mr=Zi.points[0];Tr=vr.x==Mr.x&&vr.y==Mr.y}else Tr=!1}if(Tr)Zi.neighbors[1]=ot;else{var Pr,Fr,kr=Zi.points[0];if(xr.x==kr.x&&xr.y==kr.y){var Rr=Zi.points[1];Fr=vr.x==Rr.x&&vr.y==Rr.y}else Fr=!1;if(Fr)Pr=!0;else{var Ir=Zi.points[1];if(xr.x==Ir.x&&xr.y==Ir.y){var Nr=Zi.points[0];Pr=vr.x==Nr.x&&vr.y==Nr.y}else Pr=!1}if(!Pr)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");Zi.neighbors[2]=ot}}}}}if(u.prev.next=u.next,u.next.prev=u.prev,!this.legalize(ot)){var Lr=this.context;if(null==ot.neighbors[0]){var Br=Lr.front,Gr=ot.points[0],Wr=ot.points,Kr=-1;null==Kr&&(Kr=0);for(var Yr=Kr,Hr=!1,Xr=0;Xr<3;){for(var Vr=Xr++;Yr<0;)Yr+=3;for(;Yr>2;)Yr-=3;var zr=ot.points[Vr];if(Gr.x==zr.x&&Gr.y==zr.y){Hr=!0;break}++Yr}if(!Hr)throw haxe_Exception.thrown("Triangle::Point not in triangle");var jr=Wr[Yr],$r=jr.x,Qr=Br.search_node,qr=Qr.point.x;if($r==qr){var Zr=Qr.point;if(jr.x!=Zr.x||jr.y!=Zr.y){var Jr=Qr.prev.point;if(jr.x==Jr.x&&jr.y==Jr.y)Qr=Qr.prev;else{var el=Qr.next.point;if(jr.x!=el.x||jr.y!=el.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");Qr=Qr.next}}}else if($r<qr)for(;null!=(Qr=Qr.prev);){var nl=Qr.point;if(jr.x==nl.x&&jr.y==nl.y)break}else for(;null!=(Qr=Qr.next);){var tl=Qr.point;if(jr.x==tl.x&&jr.y==tl.y)break}null!=Qr&&(Br.search_node=Qr);null!=Qr&&(Qr.triangle=ot)}if(null==ot.neighbors[1]){var il=Lr.front,sl=ot.points[1],rl=ot.points,ll=-1;null==ll&&(ll=0);for(var al=ll,ol=!1,hl=0;hl<3;){for(var cl=hl++;al<0;)al+=3;for(;al>2;)al-=3;var ul=ot.points[cl];if(sl.x==ul.x&&sl.y==ul.y){ol=!0;break}++al}if(!ol)throw haxe_Exception.thrown("Triangle::Point not in triangle");var _l=rl[al],dl=_l.x,fl=il.search_node,pl=fl.point.x;if(dl==pl){var bl=fl.point;if(_l.x!=bl.x||_l.y!=bl.y){var yl=fl.prev.point;if(_l.x==yl.x&&_l.y==yl.y)fl=fl.prev;else{var gl=fl.next.point;if(_l.x!=gl.x||_l.y!=gl.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");fl=fl.next}}}else if(dl<pl)for(;null!=(fl=fl.prev);){var Ol=fl.point;if(_l.x==Ol.x&&_l.y==Ol.y)break}else for(;null!=(fl=fl.next);){var xl=fl.point;if(_l.x==xl.x&&_l.y==xl.y)break}null!=fl&&(il.search_node=fl);null!=fl&&(fl.triangle=ot)}if(null==ot.neighbors[2]){var vl=Lr.front,ml=ot.points[2],wl=ot.points,Ul=-1;null==Ul&&(Ul=0);for(var Cl=Ul,Tl=!1,Dl=0;Dl<3;){for(var El=Dl++;Cl<0;)Cl+=3;for(;Cl>2;)Cl-=3;var Al=ot.points[El];if(ml.x==Al.x&&ml.y==Al.y){Tl=!0;break}++Cl}if(!Tl)throw haxe_Exception.thrown("Triangle::Point not in triangle");var Sl=wl[Cl],Ml=Sl.x,Pl=vl.search_node,Fl=Pl.point.x;if(Ml==Fl){var kl=Pl.point;if(Sl.x!=kl.x||Sl.y!=kl.y){var Rl=Pl.prev.point;if(Sl.x==Rl.x&&Sl.y==Rl.y)Pl=Pl.prev;else{var Il=Pl.next.point;if(Sl.x!=Il.x||Sl.y!=Il.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");Pl=Pl.next}}}else if(Ml<Fl)for(;null!=(Pl=Pl.prev);){var Nl=Pl.point;if(Sl.x==Nl.x&&Sl.y==Nl.y)break}else for(;null!=(Pl=Pl.next);){var Ll=Pl.point;if(Sl.x==Ll.x&&Sl.y==Ll.y)break}null!=Pl&&(vl.search_node=Pl);null!=Pl&&(Pl.triangle=ot)}}}for(var Bl=st.next;null!=Bl.next;){var Gl=Bl.next.point.x-Bl.point.x,Wl=Bl.next.point.y-Bl.point.y,Kl=Bl.prev.point.x-Bl.point.x,Yl=Bl.prev.point.y-Bl.point.y;if((it=Math.atan2(Gl*Yl-Wl*Kl,Gl*Kl+Wl*Yl))>poly2tri_Constants.PI_2||it<-poly2tri_Constants.PI_2)break;var Hl,Xl,Vl,zl=poly2tri_Pool.getTriangle(Bl.prev.point,Bl.point,Bl.next.point),jl=Bl.prev.triangle,$l=zl.points[1],Ql=zl.points[2],ql=jl.points[0];if($l.x!=ql.x||$l.y!=ql.y){var Zl=jl.points[1];Vl=$l.x==Zl.x&&$l.y==Zl.y}else Vl=!0;if(Vl)Xl=!0;else{var Jl=jl.points[2];Xl=$l.x==Jl.x&&$l.y==Jl.y}if(Xl){var ea,na=jl.points[0];if(Ql.x!=na.x||Ql.y!=na.y){var ta=jl.points[1];ea=Ql.x==ta.x&&Ql.y==ta.y}else ea=!0;if(ea)Hl=!0;else{var ia=jl.points[2];Hl=Ql.x==ia.x&&Ql.y==ia.y}}else Hl=!1;if(Hl){zl.neighbors[0]=jl;var sa,ra,la=zl.points[1],aa=zl.points[2],oa=jl.points[2];if(la.x==oa.x&&la.y==oa.y){var ha=jl.points[1];ra=aa.x==ha.x&&aa.y==ha.y}else ra=!1;if(ra)sa=!0;else{var ca=jl.points[1];if(la.x==ca.x&&la.y==ca.y){var ua=jl.points[2];sa=aa.x==ua.x&&aa.y==ua.y}else sa=!1}if(sa)jl.neighbors[0]=zl;else{var _a,da,fa=jl.points[0];if(la.x==fa.x&&la.y==fa.y){var pa=jl.points[2];da=aa.x==pa.x&&aa.y==pa.y}else da=!1;if(da)_a=!0;else{var ba=jl.points[2];if(la.x==ba.x&&la.y==ba.y){var ya=jl.points[0];_a=aa.x==ya.x&&aa.y==ya.y}else _a=!1}if(_a)jl.neighbors[1]=zl;else{var ga,Oa,xa=jl.points[0];if(la.x==xa.x&&la.y==xa.y){var va=jl.points[1];Oa=aa.x==va.x&&aa.y==va.y}else Oa=!1;if(Oa)ga=!0;else{var ma=jl.points[1];if(la.x==ma.x&&la.y==ma.y){var wa=jl.points[0];ga=aa.x==wa.x&&aa.y==wa.y}else ga=!1}if(!ga)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");jl.neighbors[2]=zl}}}else{var Ua,Ca,Ta,Da=zl.points[0],Ea=zl.points[2],Aa=jl.points[0];if(Da.x!=Aa.x||Da.y!=Aa.y){var Sa=jl.points[1];Ta=Da.x==Sa.x&&Da.y==Sa.y}else Ta=!0;if(Ta)Ca=!0;else{var Ma=jl.points[2];Ca=Da.x==Ma.x&&Da.y==Ma.y}if(Ca){var Pa,Fa=jl.points[0];if(Ea.x!=Fa.x||Ea.y!=Fa.y){var ka=jl.points[1];Pa=Ea.x==ka.x&&Ea.y==ka.y}else Pa=!0;if(Pa)Ua=!0;else{var Ra=jl.points[2];Ua=Ea.x==Ra.x&&Ea.y==Ra.y}}else Ua=!1;if(Ua){zl.neighbors[1]=jl;var Ia,Na,La=zl.points[0],Ba=zl.points[2],Ga=jl.points[2];if(La.x==Ga.x&&La.y==Ga.y){var Wa=jl.points[1];Na=Ba.x==Wa.x&&Ba.y==Wa.y}else Na=!1;if(Na)Ia=!0;else{var Ka=jl.points[1];if(La.x==Ka.x&&La.y==Ka.y){var Ya=jl.points[2];Ia=Ba.x==Ya.x&&Ba.y==Ya.y}else Ia=!1}if(Ia)jl.neighbors[0]=zl;else{var Ha,Xa,Va=jl.points[0];if(La.x==Va.x&&La.y==Va.y){var za=jl.points[2];Xa=Ba.x==za.x&&Ba.y==za.y}else Xa=!1;if(Xa)Ha=!0;else{var ja=jl.points[2];if(La.x==ja.x&&La.y==ja.y){var $a=jl.points[0];Ha=Ba.x==$a.x&&Ba.y==$a.y}else Ha=!1}if(Ha)jl.neighbors[1]=zl;else{var Qa,qa,Za=jl.points[0];if(La.x==Za.x&&La.y==Za.y){var Ja=jl.points[1];qa=Ba.x==Ja.x&&Ba.y==Ja.y}else qa=!1;if(qa)Qa=!0;else{var eo=jl.points[1];if(La.x==eo.x&&La.y==eo.y){var no=jl.points[0];Qa=Ba.x==no.x&&Ba.y==no.y}else Qa=!1}if(!Qa)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");jl.neighbors[2]=zl}}}else{var to,io,so,ro=zl.points[0],lo=zl.points[1],ao=jl.points[0];if(ro.x!=ao.x||ro.y!=ao.y){var oo=jl.points[1];so=ro.x==oo.x&&ro.y==oo.y}else so=!0;if(so)io=!0;else{var ho=jl.points[2];io=ro.x==ho.x&&ro.y==ho.y}if(io){var co,uo=jl.points[0];if(lo.x!=uo.x||lo.y!=uo.y){var _o=jl.points[1];co=lo.x==_o.x&&lo.y==_o.y}else co=!0;if(co)to=!0;else{var fo=jl.points[2];to=lo.x==fo.x&&lo.y==fo.y}}else to=!1;if(to){zl.neighbors[2]=jl;var po,bo,yo=zl.points[0],go=zl.points[1],Oo=jl.points[2];if(yo.x==Oo.x&&yo.y==Oo.y){var xo=jl.points[1];bo=go.x==xo.x&&go.y==xo.y}else bo=!1;if(bo)po=!0;else{var vo=jl.points[1];if(yo.x==vo.x&&yo.y==vo.y){var mo=jl.points[2];po=go.x==mo.x&&go.y==mo.y}else po=!1}if(po)jl.neighbors[0]=zl;else{var wo,Uo,Co=jl.points[0];if(yo.x==Co.x&&yo.y==Co.y){var To=jl.points[2];Uo=go.x==To.x&&go.y==To.y}else Uo=!1;if(Uo)wo=!0;else{var Do=jl.points[2];if(yo.x==Do.x&&yo.y==Do.y){var Eo=jl.points[0];wo=go.x==Eo.x&&go.y==Eo.y}else wo=!1}if(wo)jl.neighbors[1]=zl;else{var Ao,So,Mo=jl.points[0];if(yo.x==Mo.x&&yo.y==Mo.y){var Po=jl.points[1];So=go.x==Po.x&&go.y==Po.y}else So=!1;if(So)Ao=!0;else{var Fo=jl.points[1];if(yo.x==Fo.x&&yo.y==Fo.y){var ko=jl.points[0];Ao=go.x==ko.x&&go.y==ko.y}else Ao=!1}if(!Ao)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");jl.neighbors[2]=zl}}}}}var Ro,Io,No,Lo=Bl.triangle,Bo=zl.points[1],Go=zl.points[2],Wo=Lo.points[0];if(Bo.x!=Wo.x||Bo.y!=Wo.y){var Ko=Lo.points[1];No=Bo.x==Ko.x&&Bo.y==Ko.y}else No=!0;if(No)Io=!0;else{var Yo=Lo.points[2];Io=Bo.x==Yo.x&&Bo.y==Yo.y}if(Io){var Ho,Xo=Lo.points[0];if(Go.x!=Xo.x||Go.y!=Xo.y){var Vo=Lo.points[1];Ho=Go.x==Vo.x&&Go.y==Vo.y}else Ho=!0;if(Ho)Ro=!0;else{var zo=Lo.points[2];Ro=Go.x==zo.x&&Go.y==zo.y}}else Ro=!1;if(Ro){zl.neighbors[0]=Lo;var jo,$o,Qo=zl.points[1],qo=zl.points[2],Zo=Lo.points[2];if(Qo.x==Zo.x&&Qo.y==Zo.y){var Jo=Lo.points[1];$o=qo.x==Jo.x&&qo.y==Jo.y}else $o=!1;if($o)jo=!0;else{var eh=Lo.points[1];if(Qo.x==eh.x&&Qo.y==eh.y){var nh=Lo.points[2];jo=qo.x==nh.x&&qo.y==nh.y}else jo=!1}if(jo)Lo.neighbors[0]=zl;else{var th,ih,sh=Lo.points[0];if(Qo.x==sh.x&&Qo.y==sh.y){var rh=Lo.points[2];ih=qo.x==rh.x&&qo.y==rh.y}else ih=!1;if(ih)th=!0;else{var lh=Lo.points[2];if(Qo.x==lh.x&&Qo.y==lh.y){var ah=Lo.points[0];th=qo.x==ah.x&&qo.y==ah.y}else th=!1}if(th)Lo.neighbors[1]=zl;else{var oh,hh,ch=Lo.points[0];if(Qo.x==ch.x&&Qo.y==ch.y){var uh=Lo.points[1];hh=qo.x==uh.x&&qo.y==uh.y}else hh=!1;if(hh)oh=!0;else{var _h=Lo.points[1];if(Qo.x==_h.x&&Qo.y==_h.y){var dh=Lo.points[0];oh=qo.x==dh.x&&qo.y==dh.y}else oh=!1}if(!oh)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");Lo.neighbors[2]=zl}}}else{var fh,ph,bh,yh=zl.points[0],gh=zl.points[2],Oh=Lo.points[0];if(yh.x!=Oh.x||yh.y!=Oh.y){var xh=Lo.points[1];bh=yh.x==xh.x&&yh.y==xh.y}else bh=!0;if(bh)ph=!0;else{var vh=Lo.points[2];ph=yh.x==vh.x&&yh.y==vh.y}if(ph){var mh,wh=Lo.points[0];if(gh.x!=wh.x||gh.y!=wh.y){var Uh=Lo.points[1];mh=gh.x==Uh.x&&gh.y==Uh.y}else mh=!0;if(mh)fh=!0;else{var Ch=Lo.points[2];fh=gh.x==Ch.x&&gh.y==Ch.y}}else fh=!1;if(fh){zl.neighbors[1]=Lo;var Th,Dh,Eh=zl.points[0],Ah=zl.points[2],Sh=Lo.points[2];if(Eh.x==Sh.x&&Eh.y==Sh.y){var Mh=Lo.points[1];Dh=Ah.x==Mh.x&&Ah.y==Mh.y}else Dh=!1;if(Dh)Th=!0;else{var Ph=Lo.points[1];if(Eh.x==Ph.x&&Eh.y==Ph.y){var Fh=Lo.points[2];Th=Ah.x==Fh.x&&Ah.y==Fh.y}else Th=!1}if(Th)Lo.neighbors[0]=zl;else{var kh,Rh,Ih=Lo.points[0];if(Eh.x==Ih.x&&Eh.y==Ih.y){var Nh=Lo.points[2];Rh=Ah.x==Nh.x&&Ah.y==Nh.y}else Rh=!1;if(Rh)kh=!0;else{var Lh=Lo.points[2];if(Eh.x==Lh.x&&Eh.y==Lh.y){var Bh=Lo.points[0];kh=Ah.x==Bh.x&&Ah.y==Bh.y}else kh=!1}if(kh)Lo.neighbors[1]=zl;else{var Gh,Wh,Kh=Lo.points[0];if(Eh.x==Kh.x&&Eh.y==Kh.y){var Yh=Lo.points[1];Wh=Ah.x==Yh.x&&Ah.y==Yh.y}else Wh=!1;if(Wh)Gh=!0;else{var Hh=Lo.points[1];if(Eh.x==Hh.x&&Eh.y==Hh.y){var Xh=Lo.points[0];Gh=Ah.x==Xh.x&&Ah.y==Xh.y}else Gh=!1}if(!Gh)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");Lo.neighbors[2]=zl}}}else{var Vh,zh,jh,$h=zl.points[0],Qh=zl.points[1],qh=Lo.points[0];if($h.x!=qh.x||$h.y!=qh.y){var Zh=Lo.points[1];jh=$h.x==Zh.x&&$h.y==Zh.y}else jh=!0;if(jh)zh=!0;else{var Jh=Lo.points[2];zh=$h.x==Jh.x&&$h.y==Jh.y}if(zh){var ec,nc=Lo.points[0];if(Qh.x!=nc.x||Qh.y!=nc.y){var tc=Lo.points[1];ec=Qh.x==tc.x&&Qh.y==tc.y}else ec=!0;if(ec)Vh=!0;else{var ic=Lo.points[2];Vh=Qh.x==ic.x&&Qh.y==ic.y}}else Vh=!1;if(Vh){zl.neighbors[2]=Lo;var sc,rc,lc=zl.points[0],ac=zl.points[1],oc=Lo.points[2];if(lc.x==oc.x&&lc.y==oc.y){var hc=Lo.points[1];rc=ac.x==hc.x&&ac.y==hc.y}else rc=!1;if(rc)sc=!0;else{var cc=Lo.points[1];if(lc.x==cc.x&&lc.y==cc.y){var uc=Lo.points[2];sc=ac.x==uc.x&&ac.y==uc.y}else sc=!1}if(sc)Lo.neighbors[0]=zl;else{var _c,dc,fc=Lo.points[0];if(lc.x==fc.x&&lc.y==fc.y){var pc=Lo.points[2];dc=ac.x==pc.x&&ac.y==pc.y}else dc=!1;if(dc)_c=!0;else{var bc=Lo.points[2];if(lc.x==bc.x&&lc.y==bc.y){var yc=Lo.points[0];_c=ac.x==yc.x&&ac.y==yc.y}else _c=!1}if(_c)Lo.neighbors[1]=zl;else{var gc,Oc,xc=Lo.points[0];if(lc.x==xc.x&&lc.y==xc.y){var vc=Lo.points[1];Oc=ac.x==vc.x&&ac.y==vc.y}else Oc=!1;if(Oc)gc=!0;else{var mc=Lo.points[1];if(lc.x==mc.x&&lc.y==mc.y){var wc=Lo.points[0];gc=ac.x==wc.x&&ac.y==wc.y}else gc=!1}if(!gc)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");Lo.neighbors[2]=zl}}}}}if(Bl.prev.next=Bl.next,Bl.next.prev=Bl.prev,!this.legalize(zl)){var Uc=this.context;if(null==zl.neighbors[0]){var Cc=Uc.front,Tc=zl.points[0],Dc=zl.points,Ec=-1;null==Ec&&(Ec=0);for(var Ac=Ec,Sc=!1,Mc=0;Mc<3;){for(var Pc=Mc++;Ac<0;)Ac+=3;for(;Ac>2;)Ac-=3;var Fc=zl.points[Pc];if(Tc.x==Fc.x&&Tc.y==Fc.y){Sc=!0;break}++Ac}if(!Sc)throw haxe_Exception.thrown("Triangle::Point not in triangle");var kc=Dc[Ac],Rc=kc.x,Ic=Cc.search_node,Nc=Ic.point.x;if(Rc==Nc){var Lc=Ic.point;if(kc.x!=Lc.x||kc.y!=Lc.y){var Bc=Ic.prev.point;if(kc.x==Bc.x&&kc.y==Bc.y)Ic=Ic.prev;else{var Gc=Ic.next.point;if(kc.x!=Gc.x||kc.y!=Gc.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");Ic=Ic.next}}}else if(Rc<Nc)for(;null!=(Ic=Ic.prev);){var Wc=Ic.point;if(kc.x==Wc.x&&kc.y==Wc.y)break}else for(;null!=(Ic=Ic.next);){var Kc=Ic.point;if(kc.x==Kc.x&&kc.y==Kc.y)break}null!=Ic&&(Cc.search_node=Ic);null!=Ic&&(Ic.triangle=zl)}if(null==zl.neighbors[1]){var Yc=Uc.front,Hc=zl.points[1],Xc=zl.points,Vc=-1;null==Vc&&(Vc=0);for(var zc=Vc,jc=!1,$c=0;$c<3;){for(var Qc=$c++;zc<0;)zc+=3;for(;zc>2;)zc-=3;var qc=zl.points[Qc];if(Hc.x==qc.x&&Hc.y==qc.y){jc=!0;break}++zc}if(!jc)throw haxe_Exception.thrown("Triangle::Point not in triangle");var Zc=Xc[zc],Jc=Zc.x,eu=Yc.search_node,nu=eu.point.x;if(Jc==nu){var tu=eu.point;if(Zc.x!=tu.x||Zc.y!=tu.y){var iu=eu.prev.point;if(Zc.x==iu.x&&Zc.y==iu.y)eu=eu.prev;else{var su=eu.next.point;if(Zc.x!=su.x||Zc.y!=su.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");eu=eu.next}}}else if(Jc<nu)for(;null!=(eu=eu.prev);){var ru=eu.point;if(Zc.x==ru.x&&Zc.y==ru.y)break}else for(;null!=(eu=eu.next);){var lu=eu.point;if(Zc.x==lu.x&&Zc.y==lu.y)break}null!=eu&&(Yc.search_node=eu);null!=eu&&(eu.triangle=zl)}if(null==zl.neighbors[2]){var au=Uc.front,ou=zl.points[2],hu=zl.points,cu=-1;null==cu&&(cu=0);for(var uu=cu,_u=!1,du=0;du<3;){for(var fu=du++;uu<0;)uu+=3;for(;uu>2;)uu-=3;var pu=zl.points[fu];if(ou.x==pu.x&&ou.y==pu.y){_u=!0;break}++uu}if(!_u)throw haxe_Exception.thrown("Triangle::Point not in triangle");var bu=hu[uu],yu=bu.x,gu=au.search_node,Ou=gu.point.x;if(yu==Ou){var xu=gu.point;if(bu.x!=xu.x||bu.y!=xu.y){var vu=gu.prev.point;if(bu.x==vu.x&&bu.y==vu.y)gu=gu.prev;else{var mu=gu.next.point;if(bu.x!=mu.x||bu.y!=mu.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");gu=gu.next}}}else if(yu<Ou)for(;null!=(gu=gu.prev);){var wu=gu.point;if(bu.x==wu.x&&bu.y==wu.y)break}else for(;null!=(gu=gu.next);){var Uu=gu.point;if(bu.x==Uu.x&&bu.y==Uu.y)break}null!=gu&&(au.search_node=gu);null!=gu&&(gu.triangle=zl)}}Bl=Bl.next}for(Bl=st.prev;null!=Bl.prev;){var Cu=Bl.next.point.x-Bl.point.x,Tu=Bl.next.point.y-Bl.point.y,Du=Bl.prev.point.x-Bl.point.x,Eu=Bl.prev.point.y-Bl.point.y;if((it=Math.atan2(Cu*Eu-Tu*Du,Cu*Du+Tu*Eu))>poly2tri_Constants.PI_2||it<-poly2tri_Constants.PI_2)break;var Au,Su,Mu,Pu=poly2tri_Pool.getTriangle(Bl.prev.point,Bl.point,Bl.next.point),Fu=Bl.prev.triangle,ku=Pu.points[1],Ru=Pu.points[2],Iu=Fu.points[0];if(ku.x!=Iu.x||ku.y!=Iu.y){var Nu=Fu.points[1];Mu=ku.x==Nu.x&&ku.y==Nu.y}else Mu=!0;if(Mu)Su=!0;else{var Lu=Fu.points[2];Su=ku.x==Lu.x&&ku.y==Lu.y}if(Su){var Bu,Gu=Fu.points[0];if(Ru.x!=Gu.x||Ru.y!=Gu.y){var Wu=Fu.points[1];Bu=Ru.x==Wu.x&&Ru.y==Wu.y}else Bu=!0;if(Bu)Au=!0;else{var Ku=Fu.points[2];Au=Ru.x==Ku.x&&Ru.y==Ku.y}}else Au=!1;if(Au){Pu.neighbors[0]=Fu;var Yu,Hu,Xu=Pu.points[1],Vu=Pu.points[2],zu=Fu.points[2];if(Xu.x==zu.x&&Xu.y==zu.y){var ju=Fu.points[1];Hu=Vu.x==ju.x&&Vu.y==ju.y}else Hu=!1;if(Hu)Yu=!0;else{var $u=Fu.points[1];if(Xu.x==$u.x&&Xu.y==$u.y){var Qu=Fu.points[2];Yu=Vu.x==Qu.x&&Vu.y==Qu.y}else Yu=!1}if(Yu)Fu.neighbors[0]=Pu;else{var qu,Zu,Ju=Fu.points[0];if(Xu.x==Ju.x&&Xu.y==Ju.y){var e_=Fu.points[2];Zu=Vu.x==e_.x&&Vu.y==e_.y}else Zu=!1;if(Zu)qu=!0;else{var n_=Fu.points[2];if(Xu.x==n_.x&&Xu.y==n_.y){var t_=Fu.points[0];qu=Vu.x==t_.x&&Vu.y==t_.y}else qu=!1}if(qu)Fu.neighbors[1]=Pu;else{var i_,s_,r_=Fu.points[0];if(Xu.x==r_.x&&Xu.y==r_.y){var l_=Fu.points[1];s_=Vu.x==l_.x&&Vu.y==l_.y}else s_=!1;if(s_)i_=!0;else{var a_=Fu.points[1];if(Xu.x==a_.x&&Xu.y==a_.y){var o_=Fu.points[0];i_=Vu.x==o_.x&&Vu.y==o_.y}else i_=!1}if(!i_)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");Fu.neighbors[2]=Pu}}}else{var h_,c_,u_,__=Pu.points[0],d_=Pu.points[2],f_=Fu.points[0];if(__.x!=f_.x||__.y!=f_.y){var p_=Fu.points[1];u_=__.x==p_.x&&__.y==p_.y}else u_=!0;if(u_)c_=!0;else{var b_=Fu.points[2];c_=__.x==b_.x&&__.y==b_.y}if(c_){var y_,g_=Fu.points[0];if(d_.x!=g_.x||d_.y!=g_.y){var O_=Fu.points[1];y_=d_.x==O_.x&&d_.y==O_.y}else y_=!0;if(y_)h_=!0;else{var x_=Fu.points[2];h_=d_.x==x_.x&&d_.y==x_.y}}else h_=!1;if(h_){Pu.neighbors[1]=Fu;var v_,m_,w_=Pu.points[0],U_=Pu.points[2],C_=Fu.points[2];if(w_.x==C_.x&&w_.y==C_.y){var T_=Fu.points[1];m_=U_.x==T_.x&&U_.y==T_.y}else m_=!1;if(m_)v_=!0;else{var D_=Fu.points[1];if(w_.x==D_.x&&w_.y==D_.y){var E_=Fu.points[2];v_=U_.x==E_.x&&U_.y==E_.y}else v_=!1}if(v_)Fu.neighbors[0]=Pu;else{var A_,S_,M_=Fu.points[0];if(w_.x==M_.x&&w_.y==M_.y){var P_=Fu.points[2];S_=U_.x==P_.x&&U_.y==P_.y}else S_=!1;if(S_)A_=!0;else{var F_=Fu.points[2];if(w_.x==F_.x&&w_.y==F_.y){var k_=Fu.points[0];A_=U_.x==k_.x&&U_.y==k_.y}else A_=!1}if(A_)Fu.neighbors[1]=Pu;else{var R_,I_,N_=Fu.points[0];if(w_.x==N_.x&&w_.y==N_.y){var L_=Fu.points[1];I_=U_.x==L_.x&&U_.y==L_.y}else I_=!1;if(I_)R_=!0;else{var B_=Fu.points[1];if(w_.x==B_.x&&w_.y==B_.y){var G_=Fu.points[0];R_=U_.x==G_.x&&U_.y==G_.y}else R_=!1}if(!R_)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");Fu.neighbors[2]=Pu}}}else{var W_,K_,Y_,H_=Pu.points[0],X_=Pu.points[1],V_=Fu.points[0];if(H_.x!=V_.x||H_.y!=V_.y){var z_=Fu.points[1];Y_=H_.x==z_.x&&H_.y==z_.y}else Y_=!0;if(Y_)K_=!0;else{var j_=Fu.points[2];K_=H_.x==j_.x&&H_.y==j_.y}if(K_){var $_,Q_=Fu.points[0];if(X_.x!=Q_.x||X_.y!=Q_.y){var q_=Fu.points[1];$_=X_.x==q_.x&&X_.y==q_.y}else $_=!0;if($_)W_=!0;else{var Z_=Fu.points[2];W_=X_.x==Z_.x&&X_.y==Z_.y}}else W_=!1;if(W_){Pu.neighbors[2]=Fu;var J_,ed,nd=Pu.points[0],td=Pu.points[1],id=Fu.points[2];if(nd.x==id.x&&nd.y==id.y){var sd=Fu.points[1];ed=td.x==sd.x&&td.y==sd.y}else ed=!1;if(ed)J_=!0;else{var rd=Fu.points[1];if(nd.x==rd.x&&nd.y==rd.y){var ld=Fu.points[2];J_=td.x==ld.x&&td.y==ld.y}else J_=!1}if(J_)Fu.neighbors[0]=Pu;else{var ad,od,hd=Fu.points[0];if(nd.x==hd.x&&nd.y==hd.y){var cd=Fu.points[2];od=td.x==cd.x&&td.y==cd.y}else od=!1;if(od)ad=!0;else{var ud=Fu.points[2];if(nd.x==ud.x&&nd.y==ud.y){var _d=Fu.points[0];ad=td.x==_d.x&&td.y==_d.y}else ad=!1}if(ad)Fu.neighbors[1]=Pu;else{var dd,fd,pd=Fu.points[0];if(nd.x==pd.x&&nd.y==pd.y){var bd=Fu.points[1];fd=td.x==bd.x&&td.y==bd.y}else fd=!1;if(fd)dd=!0;else{var yd=Fu.points[1];if(nd.x==yd.x&&nd.y==yd.y){var gd=Fu.points[0];dd=td.x==gd.x&&td.y==gd.y}else dd=!1}if(!dd)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");Fu.neighbors[2]=Pu}}}}}var Od,xd,vd,md=Bl.triangle,wd=Pu.points[1],Ud=Pu.points[2],Cd=md.points[0];if(wd.x!=Cd.x||wd.y!=Cd.y){var Td=md.points[1];vd=wd.x==Td.x&&wd.y==Td.y}else vd=!0;if(vd)xd=!0;else{var Dd=md.points[2];xd=wd.x==Dd.x&&wd.y==Dd.y}if(xd){var Ed,Ad=md.points[0];if(Ud.x!=Ad.x||Ud.y!=Ad.y){var Sd=md.points[1];Ed=Ud.x==Sd.x&&Ud.y==Sd.y}else Ed=!0;if(Ed)Od=!0;else{var Md=md.points[2];Od=Ud.x==Md.x&&Ud.y==Md.y}}else Od=!1;if(Od){Pu.neighbors[0]=md;var Pd,Fd,kd=Pu.points[1],Rd=Pu.points[2],Id=md.points[2];if(kd.x==Id.x&&kd.y==Id.y){var Nd=md.points[1];Fd=Rd.x==Nd.x&&Rd.y==Nd.y}else Fd=!1;if(Fd)Pd=!0;else{var Ld=md.points[1];if(kd.x==Ld.x&&kd.y==Ld.y){var Bd=md.points[2];Pd=Rd.x==Bd.x&&Rd.y==Bd.y}else Pd=!1}if(Pd)md.neighbors[0]=Pu;else{var Gd,Wd,Kd=md.points[0];if(kd.x==Kd.x&&kd.y==Kd.y){var Yd=md.points[2];Wd=Rd.x==Yd.x&&Rd.y==Yd.y}else Wd=!1;if(Wd)Gd=!0;else{var Hd=md.points[2];if(kd.x==Hd.x&&kd.y==Hd.y){var Xd=md.points[0];Gd=Rd.x==Xd.x&&Rd.y==Xd.y}else Gd=!1}if(Gd)md.neighbors[1]=Pu;else{var Vd,zd,jd=md.points[0];if(kd.x==jd.x&&kd.y==jd.y){var $d=md.points[1];zd=Rd.x==$d.x&&Rd.y==$d.y}else zd=!1;if(zd)Vd=!0;else{var Qd=md.points[1];if(kd.x==Qd.x&&kd.y==Qd.y){var qd=md.points[0];Vd=Rd.x==qd.x&&Rd.y==qd.y}else Vd=!1}if(!Vd)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");md.neighbors[2]=Pu}}}else{var Zd,Jd,ef,nf=Pu.points[0],tf=Pu.points[2],sf=md.points[0];if(nf.x!=sf.x||nf.y!=sf.y){var rf=md.points[1];ef=nf.x==rf.x&&nf.y==rf.y}else ef=!0;if(ef)Jd=!0;else{var lf=md.points[2];Jd=nf.x==lf.x&&nf.y==lf.y}if(Jd){var af,of=md.points[0];if(tf.x!=of.x||tf.y!=of.y){var hf=md.points[1];af=tf.x==hf.x&&tf.y==hf.y}else af=!0;if(af)Zd=!0;else{var cf=md.points[2];Zd=tf.x==cf.x&&tf.y==cf.y}}else Zd=!1;if(Zd){Pu.neighbors[1]=md;var uf,_f,df=Pu.points[0],ff=Pu.points[2],pf=md.points[2];if(df.x==pf.x&&df.y==pf.y){var bf=md.points[1];_f=ff.x==bf.x&&ff.y==bf.y}else _f=!1;if(_f)uf=!0;else{var yf=md.points[1];if(df.x==yf.x&&df.y==yf.y){var gf=md.points[2];uf=ff.x==gf.x&&ff.y==gf.y}else uf=!1}if(uf)md.neighbors[0]=Pu;else{var Of,xf,vf=md.points[0];if(df.x==vf.x&&df.y==vf.y){var mf=md.points[2];xf=ff.x==mf.x&&ff.y==mf.y}else xf=!1;if(xf)Of=!0;else{var wf=md.points[2];if(df.x==wf.x&&df.y==wf.y){var Uf=md.points[0];Of=ff.x==Uf.x&&ff.y==Uf.y}else Of=!1}if(Of)md.neighbors[1]=Pu;else{var Cf,Tf,Df=md.points[0];if(df.x==Df.x&&df.y==Df.y){var Ef=md.points[1];Tf=ff.x==Ef.x&&ff.y==Ef.y}else Tf=!1;if(Tf)Cf=!0;else{var Af=md.points[1];if(df.x==Af.x&&df.y==Af.y){var Sf=md.points[0];Cf=ff.x==Sf.x&&ff.y==Sf.y}else Cf=!1}if(!Cf)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");md.neighbors[2]=Pu}}}else{var Mf,Pf,Ff,kf=Pu.points[0],Rf=Pu.points[1],If=md.points[0];if(kf.x!=If.x||kf.y!=If.y){var Nf=md.points[1];Ff=kf.x==Nf.x&&kf.y==Nf.y}else Ff=!0;if(Ff)Pf=!0;else{var Lf=md.points[2];Pf=kf.x==Lf.x&&kf.y==Lf.y}if(Pf){var Bf,Gf=md.points[0];if(Rf.x!=Gf.x||Rf.y!=Gf.y){var Wf=md.points[1];Bf=Rf.x==Wf.x&&Rf.y==Wf.y}else Bf=!0;if(Bf)Mf=!0;else{var Kf=md.points[2];Mf=Rf.x==Kf.x&&Rf.y==Kf.y}}else Mf=!1;if(Mf){Pu.neighbors[2]=md;var Yf,Hf,Xf=Pu.points[0],Vf=Pu.points[1],zf=md.points[2];if(Xf.x==zf.x&&Xf.y==zf.y){var jf=md.points[1];Hf=Vf.x==jf.x&&Vf.y==jf.y}else Hf=!1;if(Hf)Yf=!0;else{var $f=md.points[1];if(Xf.x==$f.x&&Xf.y==$f.y){var Qf=md.points[2];Yf=Vf.x==Qf.x&&Vf.y==Qf.y}else Yf=!1}if(Yf)md.neighbors[0]=Pu;else{var qf,Zf,Jf=md.points[0];if(Xf.x==Jf.x&&Xf.y==Jf.y){var ep=md.points[2];Zf=Vf.x==ep.x&&Vf.y==ep.y}else Zf=!1;if(Zf)qf=!0;else{var np=md.points[2];if(Xf.x==np.x&&Xf.y==np.y){var tp=md.points[0];qf=Vf.x==tp.x&&Vf.y==tp.y}else qf=!1}if(qf)md.neighbors[1]=Pu;else{var ip,sp,rp=md.points[0];if(Xf.x==rp.x&&Xf.y==rp.y){var lp=md.points[1];sp=Vf.x==lp.x&&Vf.y==lp.y}else sp=!1;if(sp)ip=!0;else{var ap=md.points[1];if(Xf.x==ap.x&&Xf.y==ap.y){var op=md.points[0];ip=Vf.x==op.x&&Vf.y==op.y}else ip=!1}if(!ip)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");md.neighbors[2]=Pu}}}}}if(Bl.prev.next=Bl.next,Bl.next.prev=Bl.prev,!this.legalize(Pu)){var hp=this.context;if(null==Pu.neighbors[0]){var cp=hp.front,up=Pu.points[0],_p=Pu.points,dp=-1;null==dp&&(dp=0);for(var fp=dp,pp=!1,bp=0;bp<3;){for(var yp=bp++;fp<0;)fp+=3;for(;fp>2;)fp-=3;var gp=Pu.points[yp];if(up.x==gp.x&&up.y==gp.y){pp=!0;break}++fp}if(!pp)throw haxe_Exception.thrown("Triangle::Point not in triangle");var Op=_p[fp],xp=Op.x,vp=cp.search_node,mp=vp.point.x;if(xp==mp){var wp=vp.point;if(Op.x!=wp.x||Op.y!=wp.y){var Up=vp.prev.point;if(Op.x==Up.x&&Op.y==Up.y)vp=vp.prev;else{var Cp=vp.next.point;if(Op.x!=Cp.x||Op.y!=Cp.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");vp=vp.next}}}else if(xp<mp)for(;null!=(vp=vp.prev);){var Tp=vp.point;if(Op.x==Tp.x&&Op.y==Tp.y)break}else for(;null!=(vp=vp.next);){var Dp=vp.point;if(Op.x==Dp.x&&Op.y==Dp.y)break}null!=vp&&(cp.search_node=vp);null!=vp&&(vp.triangle=Pu)}if(null==Pu.neighbors[1]){var Ep=hp.front,Ap=Pu.points[1],Sp=Pu.points,Mp=-1;null==Mp&&(Mp=0);for(var Pp=Mp,Fp=!1,kp=0;kp<3;){for(var Rp=kp++;Pp<0;)Pp+=3;for(;Pp>2;)Pp-=3;var Ip=Pu.points[Rp];if(Ap.x==Ip.x&&Ap.y==Ip.y){Fp=!0;break}++Pp}if(!Fp)throw haxe_Exception.thrown("Triangle::Point not in triangle");var Np=Sp[Pp],Lp=Np.x,Bp=Ep.search_node,Gp=Bp.point.x;if(Lp==Gp){var Wp=Bp.point;if(Np.x!=Wp.x||Np.y!=Wp.y){var Kp=Bp.prev.point;if(Np.x==Kp.x&&Np.y==Kp.y)Bp=Bp.prev;else{var Yp=Bp.next.point;if(Np.x!=Yp.x||Np.y!=Yp.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");Bp=Bp.next}}}else if(Lp<Gp)for(;null!=(Bp=Bp.prev);){var Hp=Bp.point;if(Np.x==Hp.x&&Np.y==Hp.y)break}else for(;null!=(Bp=Bp.next);){var Xp=Bp.point;if(Np.x==Xp.x&&Np.y==Xp.y)break}null!=Bp&&(Ep.search_node=Bp);null!=Bp&&(Bp.triangle=Pu)}if(null==Pu.neighbors[2]){var Vp=hp.front,zp=Pu.points[2],jp=Pu.points,$p=-1;null==$p&&($p=0);for(var Qp=$p,qp=!1,Zp=0;Zp<3;){for(var Jp=Zp++;Qp<0;)Qp+=3;for(;Qp>2;)Qp-=3;var eb=Pu.points[Jp];if(zp.x==eb.x&&zp.y==eb.y){qp=!0;break}++Qp}if(!qp)throw haxe_Exception.thrown("Triangle::Point not in triangle");var nb=jp[Qp],tb=nb.x,ib=Vp.search_node,sb=ib.point.x;if(tb==sb){var rb=ib.point;if(nb.x!=rb.x||nb.y!=rb.y){var lb=ib.prev.point;if(nb.x==lb.x&&nb.y==lb.y)ib=ib.prev;else{var ab=ib.next.point;if(nb.x!=ab.x||nb.y!=ab.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");ib=ib.next}}}else if(tb<sb)for(;null!=(ib=ib.prev);){var ob=ib.point;if(nb.x==ob.x&&nb.y==ob.y)break}else for(;null!=(ib=ib.next);){var hb=ib.point;if(nb.x==hb.x&&nb.y==hb.y)break}null!=ib&&(Vp.search_node=ib);null!=ib&&(ib.triangle=Pu)}}Bl=Bl.prev}if(null!=st.next&&null!=st.next.next&&(it=Math.atan2(st.point.y-st.next.next.point.y,st.point.x-st.next.next.point.x))<poly2tri_Constants.PI_3div4){var cb=st.point,ub=st.next.point,_b=st.next.next.point,db=(cb.x-_b.x)*(ub.y-_b.y)-(cb.y-_b.y)*(ub.x-_b.x);for(this.context.basin.left_node=-1==(db>-poly2tri_Constants.EPSILON&&db<poly2tri_Constants.EPSILON?0:db>0?-1:1)?st.next.next:st.next,this.context.basin.bottom_node=this.context.basin.left_node;null!=this.context.basin.bottom_node.next&&this.context.basin.bottom_node.point.y>=this.context.basin.bottom_node.next.point.y;)this.context.basin.bottom_node=this.context.basin.bottom_node.next;if(this.context.basin.bottom_node!=this.context.basin.left_node){for(this.context.basin.right_node=this.context.basin.bottom_node;null!=this.context.basin.right_node.next&&this.context.basin.right_node.point.y<this.context.basin.right_node.next.point.y;)this.context.basin.right_node=this.context.basin.right_node.next;this.context.basin.right_node!=this.context.basin.bottom_node&&(this.context.basin.width=this.context.basin.right_node.point.x-this.context.basin.left_node.point.x,this.context.basin.left_highest=this.context.basin.left_node.point.y>this.context.basin.right_node.point.y,this.fillBasinReq(this.context.basin.bottom_node))}}var fb=st,pb=0;null==i.edge_list&&(i.edge_list=poly2tri_Pool.getEdgeArray());for(var bb=i.edge_list.length;pb<bb;){var yb=pb++;null==i.edge_list&&(i.edge_list=poly2tri_Pool.getEdgeArray());var gb=i.edge_list[yb];this.context.edge_event.constrained_edge=gb,this.context.edge_event.right=gb.p.x>gb.q.x;var Ob=fb.triangle,xb=gb.p,vb=gb.q,mb=-1,wb=Ob.points[0];if(xb.x==wb.x&&xb.y==wb.y){var Ub=Ob.points[1];if(vb.x==Ub.x&&vb.y==Ub.y)mb=2;else{var Cb=Ob.points[2];vb.x==Cb.x&&vb.y==Cb.y&&(mb=1)}}else{var Tb=Ob.points[1];if(xb.x==Tb.x&&xb.y==Tb.y){var Db=Ob.points[2];if(vb.x==Db.x&&vb.y==Db.y)mb=0;else{var Eb=Ob.points[0];vb.x==Eb.x&&vb.y==Eb.y&&(mb=2)}}else{var Ab=Ob.points[2];if(xb.x==Ab.x&&xb.y==Ab.y){var Sb=Ob.points[0];if(vb.x==Sb.x&&vb.y==Sb.y)mb=1;else{var Mb=Ob.points[1];vb.x==Mb.x&&vb.y==Mb.y&&(mb=0)}}}}var Pb=mb,Fb=!1;if(-1!=Pb){Ob.constrained_edge[Pb]=!0;var kb=Ob.neighbors[Pb];if(null!=kb){var Rb,Ib,Nb=kb.points[0];if(vb.x==Nb.x&&vb.y==Nb.y){var Lb=kb.points[1];Ib=xb.x==Lb.x&&xb.y==Lb.y}else Ib=!1;if(Ib)Rb=!0;else{var Bb=kb.points[1];if(vb.x==Bb.x&&vb.y==Bb.y){var Gb=kb.points[0];Rb=xb.x==Gb.x&&xb.y==Gb.y}else Rb=!1}if(Rb)kb.constrained_edge[2]=!0;else{var Wb,Kb,Yb=kb.points[0];if(vb.x==Yb.x&&vb.y==Yb.y){var Hb=kb.points[2];Kb=xb.x==Hb.x&&xb.y==Hb.y}else Kb=!1;if(Kb)Wb=!0;else{var Xb=kb.points[2];if(vb.x==Xb.x&&vb.y==Xb.y){var Vb=kb.points[0];Wb=xb.x==Vb.x&&xb.y==Vb.y}else Wb=!1}if(Wb)kb.constrained_edge[1]=!0;else{var zb,jb,$b=kb.points[1];if(vb.x==$b.x&&vb.y==$b.y){var Qb=kb.points[2];jb=xb.x==Qb.x&&xb.y==Qb.y}else jb=!1;if(jb)zb=!0;else{var qb=kb.points[2];if(vb.x==qb.x&&vb.y==qb.y){var Zb=kb.points[1];zb=xb.x==Zb.x&&xb.y==Zb.y}else zb=!1}zb&&(kb.constrained_edge[0]=!0)}}}Fb=!0}if(!Fb){this.context.edge_event.right?this.fillRightAboveEdgeEvent(gb,fb):this.fillLeftAboveEdgeEvent(gb,fb);var Jb=gb.p,ey=gb.q,ny=fb.triangle,ty=gb.q,iy=-1,sy=ny.points[0];if(Jb.x==sy.x&&Jb.y==sy.y){var ry=ny.points[1];if(ey.x==ry.x&&ey.y==ry.y)iy=2;else{var ly=ny.points[2];ey.x==ly.x&&ey.y==ly.y&&(iy=1)}}else{var ay=ny.points[1];if(Jb.x==ay.x&&Jb.y==ay.y){var oy=ny.points[2];if(ey.x==oy.x&&ey.y==oy.y)iy=0;else{var hy=ny.points[0];ey.x==hy.x&&ey.y==hy.y&&(iy=2)}}else{var cy=ny.points[2];if(Jb.x==cy.x&&Jb.y==cy.y){var uy=ny.points[0];if(ey.x==uy.x&&ey.y==uy.y)iy=1;else{var _y=ny.points[1];ey.x==_y.x&&ey.y==_y.y&&(iy=0)}}}}var dy=iy,fy=!1;if(-1!=dy){ny.constrained_edge[dy]=!0;var py=ny.neighbors[dy];if(null!=py){var by,yy,gy=py.points[0];if(ey.x==gy.x&&ey.y==gy.y){var Oy=py.points[1];yy=Jb.x==Oy.x&&Jb.y==Oy.y}else yy=!1;if(yy)by=!0;else{var xy=py.points[1];if(ey.x==xy.x&&ey.y==xy.y){var vy=py.points[0];by=Jb.x==vy.x&&Jb.y==vy.y}else by=!1}if(by)py.constrained_edge[2]=!0;else{var my,wy,Uy=py.points[0];if(ey.x==Uy.x&&ey.y==Uy.y){var Cy=py.points[2];wy=Jb.x==Cy.x&&Jb.y==Cy.y}else wy=!1;if(wy)my=!0;else{var Ty=py.points[2];if(ey.x==Ty.x&&ey.y==Ty.y){var Dy=py.points[0];my=Jb.x==Dy.x&&Jb.y==Dy.y}else my=!1}if(my)py.constrained_edge[1]=!0;else{var Ey,Ay,Sy=py.points[1];if(ey.x==Sy.x&&ey.y==Sy.y){var My=py.points[2];Ay=Jb.x==My.x&&Jb.y==My.y}else Ay=!1;if(Ay)Ey=!0;else{var Py=py.points[2];if(ey.x==Py.x&&ey.y==Py.y){var Fy=py.points[1];Ey=Jb.x==Fy.x&&Jb.y==Fy.y}else Ey=!1}Ey&&(py.constrained_edge[0]=!0)}}}fy=!0}if(!fy){var ky=ny.points,Ry=1;null==Ry&&(Ry=0);for(var Iy=Ry,Ny=!1,Ly=0;Ly<3;){for(var By=Ly++;Iy<0;)Iy+=3;for(;Iy>2;)Iy-=3;var Gy=ny.points[By];if(ty.x==Gy.x&&ty.y==Gy.y){Ny=!0;break}++Iy}if(!Ny)throw haxe_Exception.thrown("Triangle::Point not in triangle");var Wy=ky[Iy],Ky=(ey.x-Jb.x)*(Wy.y-Jb.y)-(ey.y-Jb.y)*(Wy.x-Jb.x),Yy=Ky>-poly2tri_Constants.EPSILON&&Ky<poly2tri_Constants.EPSILON?0:Ky>0?-1:1;if(0==Yy)throw haxe_Exception.thrown("Sweep.edgeEvent: Collinear not supported!");var Hy=ny.points,Xy=-1;null==Xy&&(Xy=0);for(var Vy=Xy,zy=!1,jy=0;jy<3;){for(var $y=jy++;Vy<0;)Vy+=3;for(;Vy>2;)Vy-=3;var Qy=ny.points[$y];if(ty.x==Qy.x&&ty.y==Qy.y){zy=!0;break}++Vy}if(!zy)throw haxe_Exception.thrown("Triangle::Point not in triangle");var qy=Hy[Vy],Zy=(ey.x-Jb.x)*(qy.y-Jb.y)-(ey.y-Jb.y)*(qy.x-Jb.x),Jy=Zy>-poly2tri_Constants.EPSILON&&Zy<poly2tri_Constants.EPSILON?0:Zy>0?-1:1;if(0==Jy)throw haxe_Exception.thrown("Sweep.edgeEvent: Collinear not supported!");if(Yy==Jy){if(1==Yy){var eg=ny.neighbors,ng=-1;null==ng&&(ng=0);for(var tg=ng,ig=!1,sg=0;sg<3;){for(var rg=sg++;tg<0;)tg+=3;for(;tg>2;)tg-=3;var lg=ny.points[rg];if(ty.x==lg.x&&ty.y==lg.y){ig=!0;break}++tg}if(!ig)throw haxe_Exception.thrown("Triangle::Point not in triangle");ny=eg[tg]}else{var ag=ny.neighbors,og=1;null==og&&(og=0);for(var hg=og,cg=!1,ug=0;ug<3;){for(var _g=ug++;hg<0;)hg+=3;for(;hg>2;)hg-=3;var dg=ny.points[_g];if(ty.x==dg.x&&ty.y==dg.y){cg=!0;break}++hg}if(!cg)throw haxe_Exception.thrown("Triangle::Point not in triangle");ny=ag[hg]}var fg=ny,pg=-1,bg=fg.points[0];if(Jb.x==bg.x&&Jb.y==bg.y){var yg=fg.points[1];if(ey.x==yg.x&&ey.y==yg.y)pg=2;else{var gg=fg.points[2];ey.x==gg.x&&ey.y==gg.y&&(pg=1)}}else{var Og=fg.points[1];if(Jb.x==Og.x&&Jb.y==Og.y){var xg=fg.points[2];if(ey.x==xg.x&&ey.y==xg.y)pg=0;else{var vg=fg.points[0];ey.x==vg.x&&ey.y==vg.y&&(pg=2)}}else{var mg=fg.points[2];if(Jb.x==mg.x&&Jb.y==mg.y){var wg=fg.points[0];if(ey.x==wg.x&&ey.y==wg.y)pg=1;else{var Ug=fg.points[1];ey.x==Ug.x&&ey.y==Ug.y&&(pg=0)}}}}var Cg=pg,Tg=!1;if(-1!=Cg){fg.constrained_edge[Cg]=!0;var Dg=fg.neighbors[Cg];if(null!=Dg){var Eg,Ag,Sg=Dg.points[0];if(ey.x==Sg.x&&ey.y==Sg.y){var Mg=Dg.points[1];Ag=Jb.x==Mg.x&&Jb.y==Mg.y}else Ag=!1;if(Ag)Eg=!0;else{var Pg=Dg.points[1];if(ey.x==Pg.x&&ey.y==Pg.y){var Fg=Dg.points[0];Eg=Jb.x==Fg.x&&Jb.y==Fg.y}else Eg=!1}if(Eg)Dg.constrained_edge[2]=!0;else{var kg,Rg,Ig=Dg.points[0];if(ey.x==Ig.x&&ey.y==Ig.y){var Ng=Dg.points[2];Rg=Jb.x==Ng.x&&Jb.y==Ng.y}else Rg=!1;if(Rg)kg=!0;else{var Lg=Dg.points[2];if(ey.x==Lg.x&&ey.y==Lg.y){var Bg=Dg.points[0];kg=Jb.x==Bg.x&&Jb.y==Bg.y}else kg=!1}if(kg)Dg.constrained_edge[1]=!0;else{var Gg,Wg,Kg=Dg.points[1];if(ey.x==Kg.x&&ey.y==Kg.y){var Yg=Dg.points[2];Wg=Jb.x==Yg.x&&Jb.y==Yg.y}else Wg=!1;if(Wg)Gg=!0;else{var Hg=Dg.points[2];if(ey.x==Hg.x&&ey.y==Hg.y){var Xg=Dg.points[1];Gg=Jb.x==Xg.x&&Jb.y==Xg.y}else Gg=!1}Gg&&(Dg.constrained_edge[0]=!0)}}}Tg=!0}if(!Tg){var Vg=fg.points,zg=1;null==zg&&(zg=0);for(var jg=zg,$g=!1,Qg=0;Qg<3;){for(var qg=Qg++;jg<0;)jg+=3;for(;jg>2;)jg-=3;var Zg=fg.points[qg];if(ty.x==Zg.x&&ty.y==Zg.y){$g=!0;break}++jg}if(!$g)throw haxe_Exception.thrown("Triangle::Point not in triangle");var Jg=Vg[jg],eO=(ey.x-Jb.x)*(Jg.y-Jb.y)-(ey.y-Jb.y)*(Jg.x-Jb.x),nO=eO>-poly2tri_Constants.EPSILON&&eO<poly2tri_Constants.EPSILON?0:eO>0?-1:1;if(0==nO)throw haxe_Exception.thrown("Sweep.edgeEvent: Collinear not supported!");var tO=fg.points,iO=-1;null==iO&&(iO=0);for(var sO=iO,rO=!1,lO=0;lO<3;){for(var aO=lO++;sO<0;)sO+=3;for(;sO>2;)sO-=3;var oO=fg.points[aO];if(ty.x==oO.x&&ty.y==oO.y){rO=!0;break}++sO}if(!rO)throw haxe_Exception.thrown("Triangle::Point not in triangle");var hO=tO[sO],cO=(ey.x-Jb.x)*(hO.y-Jb.y)-(ey.y-Jb.y)*(hO.x-Jb.x),uO=cO>-poly2tri_Constants.EPSILON&&cO<poly2tri_Constants.EPSILON?0:cO>0?-1:1;if(0==uO)throw haxe_Exception.thrown("Sweep.edgeEvent: Collinear not supported!");if(nO==uO){if(1==nO){var _O=fg.neighbors,dO=-1;null==dO&&(dO=0);for(var fO=dO,pO=!1,bO=0;bO<3;){for(var yO=bO++;fO<0;)fO+=3;for(;fO>2;)fO-=3;var gO=fg.points[yO];if(ty.x==gO.x&&ty.y==gO.y){pO=!0;break}++fO}if(!pO)throw haxe_Exception.thrown("Triangle::Point not in triangle");fg=_O[fO]}else{var OO=fg.neighbors,xO=1;null==xO&&(xO=0);for(var vO=xO,mO=!1,wO=0;wO<3;){for(var UO=wO++;vO<0;)vO+=3;for(;vO>2;)vO-=3;var CO=fg.points[UO];if(ty.x==CO.x&&ty.y==CO.y){mO=!0;break}++vO}if(!mO)throw haxe_Exception.thrown("Triangle::Point not in triangle");fg=OO[vO]}this.edgeEventByPoints(Jb,ey,fg,ty)}else this.flipEdgeEvent(Jb,ey,fg,ty)}}else this.flipEdgeEvent(Jb,ey,ny,ty)}}}}},finalizationPolygon:function(){for(var e=this.context.front.head.next.triangle,n=this.context.front.head.next.point;;){var t=e.constrained_edge,i=1;null==i&&(i=0);for(var s=i,r=!1,l=0;l<3;){for(var a=l++;s<0;)s+=3;for(;s>2;)s-=3;var o=e.points[a];if(n.x==o.x&&n.y==o.y){r=!0;break}++s}if(!r)throw haxe_Exception.thrown("Triangle::Point not in triangle");if(t[s])break;var h=e.neighbors,c=-1;null==c&&(c=0);for(var u=c,_=!1,d=0;d<3;){for(var f=d++;u<0;)u+=3;for(;u>2;)u-=3;var p=e.points[f];if(n.x==p.x&&n.y==p.y){_=!0;break}++u}if(!_)throw haxe_Exception.thrown("Triangle::Point not in triangle");e=h[u]}this.context.meshClean(e)},pointEvent:function(e){var n=this.context.front,t=e.x,i=null;if(t<(s=n.search_node).value){for(;null!=(s=s.prev);)if(t>=s.value){n.search_node=s,i=s;break}}else for(;null!=(s=s.next);)if(t<s.value){n.search_node=s.prev,i=s.prev;break}var s=i,r=poly2tri_Pool.getTriangle(e,s.point,s.next.point),l=s.triangle,a=r.points[1],o=r.points[2],h=l.points[0];if(a.x!=h.x||a.y!=h.y){h=l.points[1];Et=a.x==h.x&&a.y==h.y}else Et=!0;if(Et)Dt=!0;else{h=l.points[2];Dt=a.x==h.x&&a.y==h.y}if(Dt){h=l.points[0];if(o.x!=h.x||o.y!=h.y){h=l.points[1];Dt=o.x==h.x&&o.y==h.y}else Dt=!0;if(Dt)Tt=!0;else{h=l.points[2];Tt=o.x==h.x&&o.y==h.y}}else Tt=!1;if(Tt){r.neighbors[0]=l;a=r.points[1],o=r.points[2],h=l.points[2];if(a.x==h.x&&a.y==h.y){h=l.points[1];Dt=o.x==h.x&&o.y==h.y}else Dt=!1;if(Dt)Tt=!0;else{h=l.points[1];if(a.x==h.x&&a.y==h.y){h=l.points[2];Tt=o.x==h.x&&o.y==h.y}else Tt=!1}if(Tt)l.neighbors[0]=r;else{h=l.points[0];if(a.x==h.x&&a.y==h.y){h=l.points[2];Dt=o.x==h.x&&o.y==h.y}else Dt=!1;if(Dt)Tt=!0;else{h=l.points[2];if(a.x==h.x&&a.y==h.y){h=l.points[0];Tt=o.x==h.x&&o.y==h.y}else Tt=!1}if(Tt)l.neighbors[1]=r;else{h=l.points[0];if(a.x==h.x&&a.y==h.y){h=l.points[1];Dt=o.x==h.x&&o.y==h.y}else Dt=!1;if(Dt)Tt=!0;else{h=l.points[1];if(a.x==h.x&&a.y==h.y){h=l.points[0];Tt=o.x==h.x&&o.y==h.y}else Tt=!1}if(!Tt)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");l.neighbors[2]=r}}}else{a=r.points[0],o=r.points[2],h=l.points[0];if(a.x!=h.x||a.y!=h.y){h=l.points[1];Et=a.x==h.x&&a.y==h.y}else Et=!0;if(Et)Dt=!0;else{h=l.points[2];Dt=a.x==h.x&&a.y==h.y}if(Dt){h=l.points[0];if(o.x!=h.x||o.y!=h.y){h=l.points[1];Dt=o.x==h.x&&o.y==h.y}else Dt=!0;if(Dt)Tt=!0;else{h=l.points[2];Tt=o.x==h.x&&o.y==h.y}}else Tt=!1;if(Tt){r.neighbors[1]=l;a=r.points[0],o=r.points[2],h=l.points[2];if(a.x==h.x&&a.y==h.y){h=l.points[1];Dt=o.x==h.x&&o.y==h.y}else Dt=!1;if(Dt)Tt=!0;else{h=l.points[1];if(a.x==h.x&&a.y==h.y){h=l.points[2];Tt=o.x==h.x&&o.y==h.y}else Tt=!1}if(Tt)l.neighbors[0]=r;else{h=l.points[0];if(a.x==h.x&&a.y==h.y){h=l.points[2];Dt=o.x==h.x&&o.y==h.y}else Dt=!1;if(Dt)Tt=!0;else{h=l.points[2];if(a.x==h.x&&a.y==h.y){h=l.points[0];Tt=o.x==h.x&&o.y==h.y}else Tt=!1}if(Tt)l.neighbors[1]=r;else{h=l.points[0];if(a.x==h.x&&a.y==h.y){h=l.points[1];Dt=o.x==h.x&&o.y==h.y}else Dt=!1;if(Dt)Tt=!0;else{h=l.points[1];if(a.x==h.x&&a.y==h.y){h=l.points[0];Tt=o.x==h.x&&o.y==h.y}else Tt=!1}if(!Tt)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");l.neighbors[2]=r}}}else{a=r.points[0],o=r.points[1],h=l.points[0];if(a.x!=h.x||a.y!=h.y){h=l.points[1];Et=a.x==h.x&&a.y==h.y}else Et=!0;if(Et)Dt=!0;else{h=l.points[2];Dt=a.x==h.x&&a.y==h.y}if(Dt){h=l.points[0];if(o.x!=h.x||o.y!=h.y){h=l.points[1];Dt=o.x==h.x&&o.y==h.y}else Dt=!0;if(Dt)Tt=!0;else{h=l.points[2];Tt=o.x==h.x&&o.y==h.y}}else Tt=!1;if(Tt){r.neighbors[2]=l;a=r.points[0],o=r.points[1],h=l.points[2];if(a.x==h.x&&a.y==h.y){h=l.points[1];Dt=o.x==h.x&&o.y==h.y}else Dt=!1;if(Dt)Tt=!0;else{h=l.points[1];if(a.x==h.x&&a.y==h.y){h=l.points[2];Tt=o.x==h.x&&o.y==h.y}else Tt=!1}if(Tt)l.neighbors[0]=r;else{h=l.points[0];if(a.x==h.x&&a.y==h.y){h=l.points[2];Dt=o.x==h.x&&o.y==h.y}else Dt=!1;if(Dt)Tt=!0;else{h=l.points[2];if(a.x==h.x&&a.y==h.y){h=l.points[0];Tt=o.x==h.x&&o.y==h.y}else Tt=!1}if(Tt)l.neighbors[1]=r;else{h=l.points[0];if(a.x==h.x&&a.y==h.y){h=l.points[1];Dt=o.x==h.x&&o.y==h.y}else Dt=!1;if(Dt)Tt=!0;else{h=l.points[1];if(a.x==h.x&&a.y==h.y){h=l.points[0];Tt=o.x==h.x&&o.y==h.y}else Tt=!1}if(!Tt)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");l.neighbors[2]=r}}}}}var c=poly2tri_Pool.getNode(e);if(c.next=s.next,c.prev=s,s.next.prev=c,s.next=c,!this.legalize(r)){n=this.context;if(null==r.neighbors[0]){var u=n.front,_=r.points[0],d=r.points;null==(Pi=-1)&&(Pi=0);for(var f=Pi,p=!1,b=0;b<3;){for(var y=b++;f<0;)f+=3;for(;f>2;)f-=3;l=r.points[y];if(_.x==l.x&&_.y==l.y){p=!0;break}++f}if(!p)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((Fi=(Li=d[f]).x)==(Ri=(ki=u.search_node).point.x)){l=ki.point;if(Li.x!=l.x||Li.y!=l.y){l=ki.prev.point;if(Li.x==l.x&&Li.y==l.y)ki=ki.prev;else{l=ki.next.point;if(Li.x!=l.x||Li.y!=l.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");ki=ki.next}}}else if(Fi<Ri)for(;null!=(ki=ki.prev);){l=ki.point;if(Li.x==l.x&&Li.y==l.y)break}else for(;null!=(ki=ki.next);){l=ki.point;if(Li.x==l.x&&Li.y==l.y)break}null!=ki&&(u.search_node=ki),null!=(Ii=ki)&&(Ii.triangle=r)}if(null==r.neighbors[1]){u=n.front,_=r.points[1],d=r.points;null==(Pi=-1)&&(Pi=0);for(f=Pi,p=!1,b=0;b<3;){for(y=b++;f<0;)f+=3;for(;f>2;)f-=3;l=r.points[y];if(_.x==l.x&&_.y==l.y){p=!0;break}++f}if(!p)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((Fi=(Li=d[f]).x)==(Ri=(ki=u.search_node).point.x)){l=ki.point;if(Li.x!=l.x||Li.y!=l.y){l=ki.prev.point;if(Li.x==l.x&&Li.y==l.y)ki=ki.prev;else{l=ki.next.point;if(Li.x!=l.x||Li.y!=l.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");ki=ki.next}}}else if(Fi<Ri)for(;null!=(ki=ki.prev);){l=ki.point;if(Li.x==l.x&&Li.y==l.y)break}else for(;null!=(ki=ki.next);){l=ki.point;if(Li.x==l.x&&Li.y==l.y)break}null!=ki&&(u.search_node=ki),null!=(Ii=ki)&&(Ii.triangle=r)}if(null==r.neighbors[2]){u=n.front,_=r.points[2],d=r.points;null==(Pi=-1)&&(Pi=0);for(f=Pi,p=!1,b=0;b<3;){for(y=b++;f<0;)f+=3;for(;f>2;)f-=3;l=r.points[y];if(_.x==l.x&&_.y==l.y){p=!0;break}++f}if(!p)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((Fi=(Li=d[f]).x)==(Ri=(ki=u.search_node).point.x)){l=ki.point;if(Li.x!=l.x||Li.y!=l.y){l=ki.prev.point;if(Li.x==l.x&&Li.y==l.y)ki=ki.prev;else{l=ki.next.point;if(Li.x!=l.x||Li.y!=l.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");ki=ki.next}}}else if(Fi<Ri)for(;null!=(ki=ki.prev);){l=ki.point;if(Li.x==l.x&&Li.y==l.y)break}else for(;null!=(ki=ki.next);){l=ki.point;if(Li.x==l.x&&Li.y==l.y)break}null!=ki&&(u.search_node=ki),null!=(Ii=ki)&&(Ii.triangle=r)}}var g,O=c;if(e.x<=s.point.x+poly2tri_Constants.EPSILON){r=poly2tri_Pool.getTriangle(s.prev.point,s.point,s.next.point),l=s.prev.triangle,a=r.points[1],o=r.points[2],h=l.points[0];if(a.x!=h.x||a.y!=h.y){h=l.points[1];Et=a.x==h.x&&a.y==h.y}else Et=!0;if(Et)Dt=!0;else{h=l.points[2];Dt=a.x==h.x&&a.y==h.y}if(Dt){h=l.points[0];if(o.x!=h.x||o.y!=h.y){h=l.points[1];Dt=o.x==h.x&&o.y==h.y}else Dt=!0;if(Dt)Tt=!0;else{h=l.points[2];Tt=o.x==h.x&&o.y==h.y}}else Tt=!1;if(Tt){r.neighbors[0]=l;a=r.points[1],o=r.points[2],h=l.points[2];if(a.x==h.x&&a.y==h.y){h=l.points[1];Dt=o.x==h.x&&o.y==h.y}else Dt=!1;if(Dt)Tt=!0;else{h=l.points[1];if(a.x==h.x&&a.y==h.y){h=l.points[2];Tt=o.x==h.x&&o.y==h.y}else Tt=!1}if(Tt)l.neighbors[0]=r;else{h=l.points[0];if(a.x==h.x&&a.y==h.y){h=l.points[2];Dt=o.x==h.x&&o.y==h.y}else Dt=!1;if(Dt)Tt=!0;else{h=l.points[2];if(a.x==h.x&&a.y==h.y){h=l.points[0];Tt=o.x==h.x&&o.y==h.y}else Tt=!1}if(Tt)l.neighbors[1]=r;else{h=l.points[0];if(a.x==h.x&&a.y==h.y){h=l.points[1];Dt=o.x==h.x&&o.y==h.y}else Dt=!1;if(Dt)Tt=!0;else{h=l.points[1];if(a.x==h.x&&a.y==h.y){h=l.points[0];Tt=o.x==h.x&&o.y==h.y}else Tt=!1}if(!Tt)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");l.neighbors[2]=r}}}else{a=r.points[0],o=r.points[2],h=l.points[0];if(a.x!=h.x||a.y!=h.y){h=l.points[1];Et=a.x==h.x&&a.y==h.y}else Et=!0;if(Et)Dt=!0;else{h=l.points[2];Dt=a.x==h.x&&a.y==h.y}if(Dt){h=l.points[0];if(o.x!=h.x||o.y!=h.y){h=l.points[1];Dt=o.x==h.x&&o.y==h.y}else Dt=!0;if(Dt)Tt=!0;else{h=l.points[2];Tt=o.x==h.x&&o.y==h.y}}else Tt=!1;if(Tt){r.neighbors[1]=l;a=r.points[0],o=r.points[2],h=l.points[2];if(a.x==h.x&&a.y==h.y){h=l.points[1];Dt=o.x==h.x&&o.y==h.y}else Dt=!1;if(Dt)Tt=!0;else{h=l.points[1];if(a.x==h.x&&a.y==h.y){h=l.points[2];Tt=o.x==h.x&&o.y==h.y}else Tt=!1}if(Tt)l.neighbors[0]=r;else{h=l.points[0];if(a.x==h.x&&a.y==h.y){h=l.points[2];Dt=o.x==h.x&&o.y==h.y}else Dt=!1;if(Dt)Tt=!0;else{h=l.points[2];if(a.x==h.x&&a.y==h.y){h=l.points[0];Tt=o.x==h.x&&o.y==h.y}else Tt=!1}if(Tt)l.neighbors[1]=r;else{h=l.points[0];if(a.x==h.x&&a.y==h.y){h=l.points[1];Dt=o.x==h.x&&o.y==h.y}else Dt=!1;if(Dt)Tt=!0;else{h=l.points[1];if(a.x==h.x&&a.y==h.y){h=l.points[0];Tt=o.x==h.x&&o.y==h.y}else Tt=!1}if(!Tt)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");l.neighbors[2]=r}}}else{a=r.points[0],o=r.points[1],h=l.points[0];if(a.x!=h.x||a.y!=h.y){h=l.points[1];Et=a.x==h.x&&a.y==h.y}else Et=!0;if(Et)Dt=!0;else{h=l.points[2];Dt=a.x==h.x&&a.y==h.y}if(Dt){h=l.points[0];if(o.x!=h.x||o.y!=h.y){h=l.points[1];Dt=o.x==h.x&&o.y==h.y}else Dt=!0;if(Dt)Tt=!0;else{h=l.points[2];Tt=o.x==h.x&&o.y==h.y}}else Tt=!1;if(Tt){r.neighbors[2]=l;a=r.points[0],o=r.points[1],h=l.points[2];if(a.x==h.x&&a.y==h.y){h=l.points[1];Dt=o.x==h.x&&o.y==h.y}else Dt=!1;if(Dt)Tt=!0;else{h=l.points[1];if(a.x==h.x&&a.y==h.y){h=l.points[2];Tt=o.x==h.x&&o.y==h.y}else Tt=!1}if(Tt)l.neighbors[0]=r;else{h=l.points[0];if(a.x==h.x&&a.y==h.y){h=l.points[2];Dt=o.x==h.x&&o.y==h.y}else Dt=!1;if(Dt)Tt=!0;else{h=l.points[2];if(a.x==h.x&&a.y==h.y){h=l.points[0];Tt=o.x==h.x&&o.y==h.y}else Tt=!1}if(Tt)l.neighbors[1]=r;else{h=l.points[0];if(a.x==h.x&&a.y==h.y){h=l.points[1];Dt=o.x==h.x&&o.y==h.y}else Dt=!1;if(Dt)Tt=!0;else{h=l.points[1];if(a.x==h.x&&a.y==h.y){h=l.points[0];Tt=o.x==h.x&&o.y==h.y}else Tt=!1}if(!Tt)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");l.neighbors[2]=r}}}}}l=s.triangle,a=r.points[1],o=r.points[2],h=l.points[0];if(a.x!=h.x||a.y!=h.y){h=l.points[1];Et=a.x==h.x&&a.y==h.y}else Et=!0;if(Et)Dt=!0;else{h=l.points[2];Dt=a.x==h.x&&a.y==h.y}if(Dt){h=l.points[0];if(o.x!=h.x||o.y!=h.y){h=l.points[1];Dt=o.x==h.x&&o.y==h.y}else Dt=!0;if(Dt)Tt=!0;else{h=l.points[2];Tt=o.x==h.x&&o.y==h.y}}else Tt=!1;if(Tt){r.neighbors[0]=l;a=r.points[1],o=r.points[2],h=l.points[2];if(a.x==h.x&&a.y==h.y){h=l.points[1];Dt=o.x==h.x&&o.y==h.y}else Dt=!1;if(Dt)Tt=!0;else{h=l.points[1];if(a.x==h.x&&a.y==h.y){h=l.points[2];Tt=o.x==h.x&&o.y==h.y}else Tt=!1}if(Tt)l.neighbors[0]=r;else{h=l.points[0];if(a.x==h.x&&a.y==h.y){h=l.points[2];Dt=o.x==h.x&&o.y==h.y}else Dt=!1;if(Dt)Tt=!0;else{h=l.points[2];if(a.x==h.x&&a.y==h.y){h=l.points[0];Tt=o.x==h.x&&o.y==h.y}else Tt=!1}if(Tt)l.neighbors[1]=r;else{h=l.points[0];if(a.x==h.x&&a.y==h.y){h=l.points[1];Dt=o.x==h.x&&o.y==h.y}else Dt=!1;if(Dt)Tt=!0;else{h=l.points[1];if(a.x==h.x&&a.y==h.y){h=l.points[0];Tt=o.x==h.x&&o.y==h.y}else Tt=!1}if(!Tt)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");l.neighbors[2]=r}}}else{a=r.points[0],o=r.points[2],h=l.points[0];if(a.x!=h.x||a.y!=h.y){h=l.points[1];Et=a.x==h.x&&a.y==h.y}else Et=!0;if(Et)Dt=!0;else{h=l.points[2];Dt=a.x==h.x&&a.y==h.y}if(Dt){h=l.points[0];if(o.x!=h.x||o.y!=h.y){h=l.points[1];Dt=o.x==h.x&&o.y==h.y}else Dt=!0;if(Dt)Tt=!0;else{h=l.points[2];Tt=o.x==h.x&&o.y==h.y}}else Tt=!1;if(Tt){r.neighbors[1]=l;a=r.points[0],o=r.points[2],h=l.points[2];if(a.x==h.x&&a.y==h.y){h=l.points[1];Dt=o.x==h.x&&o.y==h.y}else Dt=!1;if(Dt)Tt=!0;else{h=l.points[1];if(a.x==h.x&&a.y==h.y){h=l.points[2];Tt=o.x==h.x&&o.y==h.y}else Tt=!1}if(Tt)l.neighbors[0]=r;else{h=l.points[0];if(a.x==h.x&&a.y==h.y){h=l.points[2];Dt=o.x==h.x&&o.y==h.y}else Dt=!1;if(Dt)Tt=!0;else{h=l.points[2];if(a.x==h.x&&a.y==h.y){h=l.points[0];Tt=o.x==h.x&&o.y==h.y}else Tt=!1}if(Tt)l.neighbors[1]=r;else{h=l.points[0];if(a.x==h.x&&a.y==h.y){h=l.points[1];Dt=o.x==h.x&&o.y==h.y}else Dt=!1;if(Dt)Tt=!0;else{h=l.points[1];if(a.x==h.x&&a.y==h.y){h=l.points[0];Tt=o.x==h.x&&o.y==h.y}else Tt=!1}if(!Tt)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");l.neighbors[2]=r}}}else{a=r.points[0],o=r.points[1],h=l.points[0];if(a.x!=h.x||a.y!=h.y){h=l.points[1];Et=a.x==h.x&&a.y==h.y}else Et=!0;if(Et)Dt=!0;else{h=l.points[2];Dt=a.x==h.x&&a.y==h.y}if(Dt){h=l.points[0];if(o.x!=h.x||o.y!=h.y){h=l.points[1];Dt=o.x==h.x&&o.y==h.y}else Dt=!0;if(Dt)Tt=!0;else{h=l.points[2];Tt=o.x==h.x&&o.y==h.y}}else Tt=!1;if(Tt){r.neighbors[2]=l;a=r.points[0],o=r.points[1],h=l.points[2];if(a.x==h.x&&a.y==h.y){h=l.points[1];Dt=o.x==h.x&&o.y==h.y}else Dt=!1;if(Dt)Tt=!0;else{h=l.points[1];if(a.x==h.x&&a.y==h.y){h=l.points[2];Tt=o.x==h.x&&o.y==h.y}else Tt=!1}if(Tt)l.neighbors[0]=r;else{h=l.points[0];if(a.x==h.x&&a.y==h.y){h=l.points[2];Dt=o.x==h.x&&o.y==h.y}else Dt=!1;if(Dt)Tt=!0;else{h=l.points[2];if(a.x==h.x&&a.y==h.y){h=l.points[0];Tt=o.x==h.x&&o.y==h.y}else Tt=!1}if(Tt)l.neighbors[1]=r;else{h=l.points[0];if(a.x==h.x&&a.y==h.y){h=l.points[1];Dt=o.x==h.x&&o.y==h.y}else Dt=!1;if(Dt)Tt=!0;else{h=l.points[1];if(a.x==h.x&&a.y==h.y){h=l.points[0];Tt=o.x==h.x&&o.y==h.y}else Tt=!1}if(!Tt)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");l.neighbors[2]=r}}}}}if(s.prev.next=s.next,s.next.prev=s.prev,!this.legalize(r)){n=this.context;if(null==r.neighbors[0]){u=n.front,_=r.points[0],d=r.points;null==(Pi=-1)&&(Pi=0);for(f=Pi,p=!1,b=0;b<3;){for(y=b++;f<0;)f+=3;for(;f>2;)f-=3;l=r.points[y];if(_.x==l.x&&_.y==l.y){p=!0;break}++f}if(!p)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((Fi=(e=d[f]).x)==(Ri=(s=u.search_node).point.x)){l=s.point;if(e.x!=l.x||e.y!=l.y){l=s.prev.point;if(e.x==l.x&&e.y==l.y)s=s.prev;else{l=s.next.point;if(e.x!=l.x||e.y!=l.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");s=s.next}}}else if(Fi<Ri)for(;null!=(s=s.prev);){l=s.point;if(e.x==l.x&&e.y==l.y)break}else for(;null!=(s=s.next);){l=s.point;if(e.x==l.x&&e.y==l.y)break}null!=s&&(u.search_node=s),null!=(Ii=s)&&(Ii.triangle=r)}if(null==r.neighbors[1]){u=n.front,_=r.points[1],d=r.points;null==(Pi=-1)&&(Pi=0);for(f=Pi,p=!1,b=0;b<3;){for(y=b++;f<0;)f+=3;for(;f>2;)f-=3;l=r.points[y];if(_.x==l.x&&_.y==l.y){p=!0;break}++f}if(!p)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((Fi=(e=d[f]).x)==(Ri=(s=u.search_node).point.x)){l=s.point;if(e.x!=l.x||e.y!=l.y){l=s.prev.point;if(e.x==l.x&&e.y==l.y)s=s.prev;else{l=s.next.point;if(e.x!=l.x||e.y!=l.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");s=s.next}}}else if(Fi<Ri)for(;null!=(s=s.prev);){l=s.point;if(e.x==l.x&&e.y==l.y)break}else for(;null!=(s=s.next);){l=s.point;if(e.x==l.x&&e.y==l.y)break}null!=s&&(u.search_node=s),null!=(Ii=s)&&(Ii.triangle=r)}if(null==r.neighbors[2]){u=n.front,_=r.points[2],d=r.points;null==(Pi=-1)&&(Pi=0);for(f=Pi,p=!1,b=0;b<3;){for(y=b++;f<0;)f+=3;for(;f>2;)f-=3;l=r.points[y];if(_.x==l.x&&_.y==l.y){p=!0;break}++f}if(!p)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((Fi=(e=d[f]).x)==(Ri=(s=u.search_node).point.x)){l=s.point;if(e.x!=l.x||e.y!=l.y){l=s.prev.point;if(e.x==l.x&&e.y==l.y)s=s.prev;else{l=s.next.point;if(e.x!=l.x||e.y!=l.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");s=s.next}}}else if(Fi<Ri)for(;null!=(s=s.prev);){l=s.point;if(e.x==l.x&&e.y==l.y)break}else for(;null!=(s=s.next);){l=s.point;if(e.x==l.x&&e.y==l.y)break}null!=s&&(u.search_node=s),null!=(Ii=s)&&(Ii.triangle=r)}}}for(s=O.next;null!=s.next;){var x=s.next.point.x-s.point.x,v=s.next.point.y-s.point.y,m=s.prev.point.x-s.point.x,w=s.prev.point.y-s.point.y;if((g=Math.atan2(x*w-v*m,x*m+v*w))>poly2tri_Constants.PI_2||g<-poly2tri_Constants.PI_2)break;r=poly2tri_Pool.getTriangle(s.prev.point,s.point,s.next.point),l=s.prev.triangle,a=r.points[1],o=r.points[2],h=l.points[0];if(a.x!=h.x||a.y!=h.y){var U=l.points[1];Et=a.x==U.x&&a.y==U.y}else Et=!0;if(Et)Dt=!0;else{var C=l.points[2];Dt=a.x==C.x&&a.y==C.y}if(Dt){var T=l.points[0];if(o.x!=T.x||o.y!=T.y){var D=l.points[1];At=o.x==D.x&&o.y==D.y}else At=!0;if(At)Tt=!0;else{var E=l.points[2];Tt=o.x==E.x&&o.y==E.y}}else Tt=!1;if(Tt){r.neighbors[0]=l;var A=r.points[1],S=r.points[2],M=l.points[2];if(A.x==M.x&&A.y==M.y){var P=l.points[1];Mt=S.x==P.x&&S.y==P.y}else Mt=!1;if(Mt)St=!0;else{var F=l.points[1];if(A.x==F.x&&A.y==F.y){var k=l.points[2];St=S.x==k.x&&S.y==k.y}else St=!1}if(St)l.neighbors[0]=r;else{var R=l.points[0];if(A.x==R.x&&A.y==R.y){var I=l.points[2];Ft=S.x==I.x&&S.y==I.y}else Ft=!1;if(Ft)Pt=!0;else{var N=l.points[2];if(A.x==N.x&&A.y==N.y){var L=l.points[0];Pt=S.x==L.x&&S.y==L.y}else Pt=!1}if(Pt)l.neighbors[1]=r;else{var B=l.points[0];if(A.x==B.x&&A.y==B.y){var G=l.points[1];Rt=S.x==G.x&&S.y==G.y}else Rt=!1;if(Rt)kt=!0;else{var W=l.points[1];if(A.x==W.x&&A.y==W.y){var K=l.points[0];kt=S.x==K.x&&S.y==K.y}else kt=!1}if(!kt)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");l.neighbors[2]=r}}}else{var Y=r.points[0],H=r.points[2],X=l.points[0];if(Y.x!=X.x||Y.y!=X.y){var V=l.points[1];Lt=Y.x==V.x&&Y.y==V.y}else Lt=!0;if(Lt)Nt=!0;else{var z=l.points[2];Nt=Y.x==z.x&&Y.y==z.y}if(Nt){var j=l.points[0];if(H.x!=j.x||H.y!=j.y){var $=l.points[1];Bt=H.x==$.x&&H.y==$.y}else Bt=!0;if(Bt)It=!0;else{var Q=l.points[2];It=H.x==Q.x&&H.y==Q.y}}else It=!1;if(It){r.neighbors[1]=l;var q=r.points[0],Z=r.points[2],J=l.points[2];if(q.x==J.x&&q.y==J.y){var ee=l.points[1];Wt=Z.x==ee.x&&Z.y==ee.y}else Wt=!1;if(Wt)Gt=!0;else{var ne=l.points[1];if(q.x==ne.x&&q.y==ne.y){var te=l.points[2];Gt=Z.x==te.x&&Z.y==te.y}else Gt=!1}if(Gt)l.neighbors[0]=r;else{var ie=l.points[0];if(q.x==ie.x&&q.y==ie.y){var se=l.points[2];Yt=Z.x==se.x&&Z.y==se.y}else Yt=!1;if(Yt)Kt=!0;else{var re=l.points[2];if(q.x==re.x&&q.y==re.y){var le=l.points[0];Kt=Z.x==le.x&&Z.y==le.y}else Kt=!1}if(Kt)l.neighbors[1]=r;else{var ae=l.points[0];if(q.x==ae.x&&q.y==ae.y){var oe=l.points[1];Xt=Z.x==oe.x&&Z.y==oe.y}else Xt=!1;if(Xt)Ht=!0;else{var he=l.points[1];if(q.x==he.x&&q.y==he.y){var ce=l.points[0];Ht=Z.x==ce.x&&Z.y==ce.y}else Ht=!1}if(!Ht)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");l.neighbors[2]=r}}}else{var ue=r.points[0],_e=r.points[1],de=l.points[0];if(ue.x!=de.x||ue.y!=de.y){var fe=l.points[1];jt=ue.x==fe.x&&ue.y==fe.y}else jt=!0;if(jt)zt=!0;else{var pe=l.points[2];zt=ue.x==pe.x&&ue.y==pe.y}if(zt){var be=l.points[0];if(_e.x!=be.x||_e.y!=be.y){var ye=l.points[1];$t=_e.x==ye.x&&_e.y==ye.y}else $t=!0;if($t)Vt=!0;else{var ge=l.points[2];Vt=_e.x==ge.x&&_e.y==ge.y}}else Vt=!1;if(Vt){r.neighbors[2]=l;var Oe=r.points[0],xe=r.points[1],ve=l.points[2];if(Oe.x==ve.x&&Oe.y==ve.y){var me=l.points[1];qt=xe.x==me.x&&xe.y==me.y}else qt=!1;if(qt)Qt=!0;else{var we=l.points[1];if(Oe.x==we.x&&Oe.y==we.y){var Ue=l.points[2];Qt=xe.x==Ue.x&&xe.y==Ue.y}else Qt=!1}if(Qt)l.neighbors[0]=r;else{var Ce=l.points[0];if(Oe.x==Ce.x&&Oe.y==Ce.y){var Te=l.points[2];Jt=xe.x==Te.x&&xe.y==Te.y}else Jt=!1;if(Jt)Zt=!0;else{var De=l.points[2];if(Oe.x==De.x&&Oe.y==De.y){var Ee=l.points[0];Zt=xe.x==Ee.x&&xe.y==Ee.y}else Zt=!1}if(Zt)l.neighbors[1]=r;else{var Ae=l.points[0];if(Oe.x==Ae.x&&Oe.y==Ae.y){var Se=l.points[1];ni=xe.x==Se.x&&xe.y==Se.y}else ni=!1;if(ni)ei=!0;else{var Me=l.points[1];if(Oe.x==Me.x&&Oe.y==Me.y){var Pe=l.points[0];ei=xe.x==Pe.x&&xe.y==Pe.y}else ei=!1}if(!ei)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");l.neighbors[2]=r}}}}}var Fe=s.triangle,ke=r.points[1],Re=r.points[2],Ie=Fe.points[0];if(ke.x!=Ie.x||ke.y!=Ie.y){var Ne=Fe.points[1];si=ke.x==Ne.x&&ke.y==Ne.y}else si=!0;if(si)ii=!0;else{var Le=Fe.points[2];ii=ke.x==Le.x&&ke.y==Le.y}if(ii){var Be=Fe.points[0];if(Re.x!=Be.x||Re.y!=Be.y){var Ge=Fe.points[1];ri=Re.x==Ge.x&&Re.y==Ge.y}else ri=!0;if(ri)ti=!0;else{var We=Fe.points[2];ti=Re.x==We.x&&Re.y==We.y}}else ti=!1;if(ti){r.neighbors[0]=Fe;var Ke=r.points[1],Ye=r.points[2],He=Fe.points[2];if(Ke.x==He.x&&Ke.y==He.y){var Xe=Fe.points[1];ai=Ye.x==Xe.x&&Ye.y==Xe.y}else ai=!1;if(ai)li=!0;else{var Ve=Fe.points[1];if(Ke.x==Ve.x&&Ke.y==Ve.y){var ze=Fe.points[2];li=Ye.x==ze.x&&Ye.y==ze.y}else li=!1}if(li)Fe.neighbors[0]=r;else{var je=Fe.points[0];if(Ke.x==je.x&&Ke.y==je.y){var $e=Fe.points[2];hi=Ye.x==$e.x&&Ye.y==$e.y}else hi=!1;if(hi)oi=!0;else{var Qe=Fe.points[2];if(Ke.x==Qe.x&&Ke.y==Qe.y){var qe=Fe.points[0];oi=Ye.x==qe.x&&Ye.y==qe.y}else oi=!1}if(oi)Fe.neighbors[1]=r;else{var Ze=Fe.points[0];if(Ke.x==Ze.x&&Ke.y==Ze.y){var Je=Fe.points[1];ui=Ye.x==Je.x&&Ye.y==Je.y}else ui=!1;if(ui)ci=!0;else{var en=Fe.points[1];if(Ke.x==en.x&&Ke.y==en.y){var nn=Fe.points[0];ci=Ye.x==nn.x&&Ye.y==nn.y}else ci=!1}if(!ci)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");Fe.neighbors[2]=r}}}else{var tn=r.points[0],sn=r.points[2],rn=Fe.points[0];if(tn.x!=rn.x||tn.y!=rn.y){var ln=Fe.points[1];fi=tn.x==ln.x&&tn.y==ln.y}else fi=!0;if(fi)di=!0;else{var an=Fe.points[2];di=tn.x==an.x&&tn.y==an.y}if(di){var on=Fe.points[0];if(sn.x!=on.x||sn.y!=on.y){var hn=Fe.points[1];pi=sn.x==hn.x&&sn.y==hn.y}else pi=!0;if(pi)_i=!0;else{var cn=Fe.points[2];_i=sn.x==cn.x&&sn.y==cn.y}}else _i=!1;if(_i){r.neighbors[1]=Fe;var un=r.points[0],_n=r.points[2],dn=Fe.points[2];if(un.x==dn.x&&un.y==dn.y){var pn=Fe.points[1];yi=_n.x==pn.x&&_n.y==pn.y}else yi=!1;if(yi)bi=!0;else{var bn=Fe.points[1];if(un.x==bn.x&&un.y==bn.y){var yn=Fe.points[2];bi=_n.x==yn.x&&_n.y==yn.y}else bi=!1}if(bi)Fe.neighbors[0]=r;else{var gn=Fe.points[0];if(un.x==gn.x&&un.y==gn.y){var On=Fe.points[2];Oi=_n.x==On.x&&_n.y==On.y}else Oi=!1;if(Oi)gi=!0;else{var xn=Fe.points[2];if(un.x==xn.x&&un.y==xn.y){var vn=Fe.points[0];gi=_n.x==vn.x&&_n.y==vn.y}else gi=!1}if(gi)Fe.neighbors[1]=r;else{var mn=Fe.points[0];if(un.x==mn.x&&un.y==mn.y){var wn=Fe.points[1];vi=_n.x==wn.x&&_n.y==wn.y}else vi=!1;if(vi)xi=!0;else{var Un=Fe.points[1];if(un.x==Un.x&&un.y==Un.y){var Cn=Fe.points[0];xi=_n.x==Cn.x&&_n.y==Cn.y}else xi=!1}if(!xi)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");Fe.neighbors[2]=r}}}else{var Tn=r.points[0],Dn=r.points[1],En=Fe.points[0];if(Tn.x!=En.x||Tn.y!=En.y){var An=Fe.points[1];Ui=Tn.x==An.x&&Tn.y==An.y}else Ui=!0;if(Ui)wi=!0;else{var Sn=Fe.points[2];wi=Tn.x==Sn.x&&Tn.y==Sn.y}if(wi){var Mn=Fe.points[0];if(Dn.x!=Mn.x||Dn.y!=Mn.y){var Pn=Fe.points[1];Ci=Dn.x==Pn.x&&Dn.y==Pn.y}else Ci=!0;if(Ci)mi=!0;else{var Fn=Fe.points[2];mi=Dn.x==Fn.x&&Dn.y==Fn.y}}else mi=!1;if(mi){r.neighbors[2]=Fe;var kn=r.points[0],Rn=r.points[1],In=Fe.points[2];if(kn.x==In.x&&kn.y==In.y){var Nn=Fe.points[1];Di=Rn.x==Nn.x&&Rn.y==Nn.y}else Di=!1;if(Di)Ti=!0;else{var Ln=Fe.points[1];if(kn.x==Ln.x&&kn.y==Ln.y){var Bn=Fe.points[2];Ti=Rn.x==Bn.x&&Rn.y==Bn.y}else Ti=!1}if(Ti)Fe.neighbors[0]=r;else{var Gn=Fe.points[0];if(kn.x==Gn.x&&kn.y==Gn.y){var Wn=Fe.points[2];Ai=Rn.x==Wn.x&&Rn.y==Wn.y}else Ai=!1;if(Ai)Ei=!0;else{var Kn=Fe.points[2];if(kn.x==Kn.x&&kn.y==Kn.y){var Yn=Fe.points[0];Ei=Rn.x==Yn.x&&Rn.y==Yn.y}else Ei=!1}if(Ei)Fe.neighbors[1]=r;else{var Hn=Fe.points[0];if(kn.x==Hn.x&&kn.y==Hn.y){var Xn=Fe.points[1];Mi=Rn.x==Xn.x&&Rn.y==Xn.y}else Mi=!1;if(Mi)Si=!0;else{var Vn=Fe.points[1];if(kn.x==Vn.x&&kn.y==Vn.y){var zn=Fe.points[0];Si=Rn.x==zn.x&&Rn.y==zn.y}else Si=!1}if(!Si)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");Fe.neighbors[2]=r}}}}}if(s.prev.next=s.next,s.next.prev=s.prev,!this.legalize(r)){n=this.context;if(null==r.neighbors[0]){u=n.front,_=r.points[0],d=r.points;null==(Pi=-1)&&(Pi=0);for(f=Pi,p=!1,b=0;b<3;){for(y=b++;f<0;)f+=3;for(;f>2;)f-=3;var jn=r.points[y];if(_.x==jn.x&&_.y==jn.y){p=!0;break}++f}if(!p)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((Fi=(e=d[f]).x)==(Ri=(ki=u.search_node).point.x)){var $n=ki.point;if(e.x!=$n.x||e.y!=$n.y){var Qn=ki.prev.point;if(e.x==Qn.x&&e.y==Qn.y)ki=ki.prev;else{var qn=ki.next.point;if(e.x!=qn.x||e.y!=qn.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");ki=ki.next}}}else if(Fi<Ri)for(;null!=(ki=ki.prev);){var Zn=ki.point;if(e.x==Zn.x&&e.y==Zn.y)break}else for(;null!=(ki=ki.next);){var Jn=ki.point;if(e.x==Jn.x&&e.y==Jn.y)break}null!=ki&&(u.search_node=ki),null!=(Ii=ki)&&(Ii.triangle=r)}if(null==r.neighbors[1]){var et=n.front,nt=r.points[1],tt=r.points;null==(Ni=-1)&&(Ni=0);for(var it=Ni,st=!1,rt=0;rt<3;){for(var lt=rt++;it<0;)it+=3;for(;it>2;)it-=3;var at=r.points[lt];if(nt.x==at.x&&nt.y==at.y){st=!0;break}++it}if(!st)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((Bi=(Li=tt[it]).x)==(Wi=(Gi=et.search_node).point.x)){var ot=Gi.point;if(Li.x!=ot.x||Li.y!=ot.y){var ht=Gi.prev.point;if(Li.x==ht.x&&Li.y==ht.y)Gi=Gi.prev;else{var ct=Gi.next.point;if(Li.x!=ct.x||Li.y!=ct.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");Gi=Gi.next}}}else if(Bi<Wi)for(;null!=(Gi=Gi.prev);){var ut=Gi.point;if(Li.x==ut.x&&Li.y==ut.y)break}else for(;null!=(Gi=Gi.next);){var _t=Gi.point;if(Li.x==_t.x&&Li.y==_t.y)break}null!=Gi&&(et.search_node=Gi),null!=(Ki=Gi)&&(Ki.triangle=r)}if(null==r.neighbors[2]){var dt=n.front,ft=r.points[2],pt=r.points;null==(Yi=-1)&&(Yi=0);for(var bt=Yi,yt=!1,gt=0;gt<3;){for(var Ot=gt++;bt<0;)bt+=3;for(;bt>2;)bt-=3;var xt=r.points[Ot];if(ft.x==xt.x&&ft.y==xt.y){yt=!0;break}++bt}if(!yt)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((Xi=(Hi=pt[bt]).x)==(zi=(Vi=dt.search_node).point.x)){var vt=Vi.point;if(Hi.x!=vt.x||Hi.y!=vt.y){var mt=Vi.prev.point;if(Hi.x==mt.x&&Hi.y==mt.y)Vi=Vi.prev;else{var wt=Vi.next.point;if(Hi.x!=wt.x||Hi.y!=wt.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");Vi=Vi.next}}}else if(Xi<zi)for(;null!=(Vi=Vi.prev);){var Ut=Vi.point;if(Hi.x==Ut.x&&Hi.y==Ut.y)break}else for(;null!=(Vi=Vi.next);){var Ct=Vi.point;if(Hi.x==Ct.x&&Hi.y==Ct.y)break}null!=Vi&&(dt.search_node=Vi),null!=(ji=Vi)&&(ji.triangle=r)}}s=s.next}for(s=O.prev;null!=s.prev;){x=s.next.point.x-s.point.x,v=s.next.point.y-s.point.y,m=s.prev.point.x-s.point.x,w=s.prev.point.y-s.point.y;if((g=Math.atan2(x*w-v*m,x*m+v*w))>poly2tri_Constants.PI_2||g<-poly2tri_Constants.PI_2)break;var Tt,Dt,Et;r=poly2tri_Pool.getTriangle(s.prev.point,s.point,s.next.point),l=s.prev.triangle,a=r.points[1],o=r.points[2],h=l.points[0];if(a.x!=h.x||a.y!=h.y){U=l.points[1];Et=a.x==U.x&&a.y==U.y}else Et=!0;if(Et)Dt=!0;else{C=l.points[2];Dt=a.x==C.x&&a.y==C.y}if(Dt){var At;T=l.points[0];if(o.x!=T.x||o.y!=T.y){D=l.points[1];At=o.x==D.x&&o.y==D.y}else At=!0;if(At)Tt=!0;else{E=l.points[2];Tt=o.x==E.x&&o.y==E.y}}else Tt=!1;if(Tt){r.neighbors[0]=l;var St,Mt;A=r.points[1],S=r.points[2],M=l.points[2];if(A.x==M.x&&A.y==M.y){P=l.points[1];Mt=S.x==P.x&&S.y==P.y}else Mt=!1;if(Mt)St=!0;else{F=l.points[1];if(A.x==F.x&&A.y==F.y){k=l.points[2];St=S.x==k.x&&S.y==k.y}else St=!1}if(St)l.neighbors[0]=r;else{var Pt,Ft;R=l.points[0];if(A.x==R.x&&A.y==R.y){I=l.points[2];Ft=S.x==I.x&&S.y==I.y}else Ft=!1;if(Ft)Pt=!0;else{N=l.points[2];if(A.x==N.x&&A.y==N.y){L=l.points[0];Pt=S.x==L.x&&S.y==L.y}else Pt=!1}if(Pt)l.neighbors[1]=r;else{var kt,Rt;B=l.points[0];if(A.x==B.x&&A.y==B.y){G=l.points[1];Rt=S.x==G.x&&S.y==G.y}else Rt=!1;if(Rt)kt=!0;else{W=l.points[1];if(A.x==W.x&&A.y==W.y){K=l.points[0];kt=S.x==K.x&&S.y==K.y}else kt=!1}if(!kt)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");l.neighbors[2]=r}}}else{var It,Nt,Lt;Y=r.points[0],H=r.points[2],X=l.points[0];if(Y.x!=X.x||Y.y!=X.y){V=l.points[1];Lt=Y.x==V.x&&Y.y==V.y}else Lt=!0;if(Lt)Nt=!0;else{z=l.points[2];Nt=Y.x==z.x&&Y.y==z.y}if(Nt){var Bt;j=l.points[0];if(H.x!=j.x||H.y!=j.y){$=l.points[1];Bt=H.x==$.x&&H.y==$.y}else Bt=!0;if(Bt)It=!0;else{Q=l.points[2];It=H.x==Q.x&&H.y==Q.y}}else It=!1;if(It){r.neighbors[1]=l;var Gt,Wt;q=r.points[0],Z=r.points[2],J=l.points[2];if(q.x==J.x&&q.y==J.y){ee=l.points[1];Wt=Z.x==ee.x&&Z.y==ee.y}else Wt=!1;if(Wt)Gt=!0;else{ne=l.points[1];if(q.x==ne.x&&q.y==ne.y){te=l.points[2];Gt=Z.x==te.x&&Z.y==te.y}else Gt=!1}if(Gt)l.neighbors[0]=r;else{var Kt,Yt;ie=l.points[0];if(q.x==ie.x&&q.y==ie.y){se=l.points[2];Yt=Z.x==se.x&&Z.y==se.y}else Yt=!1;if(Yt)Kt=!0;else{re=l.points[2];if(q.x==re.x&&q.y==re.y){le=l.points[0];Kt=Z.x==le.x&&Z.y==le.y}else Kt=!1}if(Kt)l.neighbors[1]=r;else{var Ht,Xt;ae=l.points[0];if(q.x==ae.x&&q.y==ae.y){oe=l.points[1];Xt=Z.x==oe.x&&Z.y==oe.y}else Xt=!1;if(Xt)Ht=!0;else{he=l.points[1];if(q.x==he.x&&q.y==he.y){ce=l.points[0];Ht=Z.x==ce.x&&Z.y==ce.y}else Ht=!1}if(!Ht)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");l.neighbors[2]=r}}}else{var Vt,zt,jt;ue=r.points[0],_e=r.points[1],de=l.points[0];if(ue.x!=de.x||ue.y!=de.y){fe=l.points[1];jt=ue.x==fe.x&&ue.y==fe.y}else jt=!0;if(jt)zt=!0;else{pe=l.points[2];zt=ue.x==pe.x&&ue.y==pe.y}if(zt){var $t;be=l.points[0];if(_e.x!=be.x||_e.y!=be.y){ye=l.points[1];$t=_e.x==ye.x&&_e.y==ye.y}else $t=!0;if($t)Vt=!0;else{ge=l.points[2];Vt=_e.x==ge.x&&_e.y==ge.y}}else Vt=!1;if(Vt){r.neighbors[2]=l;var Qt,qt;Oe=r.points[0],xe=r.points[1],ve=l.points[2];if(Oe.x==ve.x&&Oe.y==ve.y){me=l.points[1];qt=xe.x==me.x&&xe.y==me.y}else qt=!1;if(qt)Qt=!0;else{we=l.points[1];if(Oe.x==we.x&&Oe.y==we.y){Ue=l.points[2];Qt=xe.x==Ue.x&&xe.y==Ue.y}else Qt=!1}if(Qt)l.neighbors[0]=r;else{var Zt,Jt;Ce=l.points[0];if(Oe.x==Ce.x&&Oe.y==Ce.y){Te=l.points[2];Jt=xe.x==Te.x&&xe.y==Te.y}else Jt=!1;if(Jt)Zt=!0;else{De=l.points[2];if(Oe.x==De.x&&Oe.y==De.y){Ee=l.points[0];Zt=xe.x==Ee.x&&xe.y==Ee.y}else Zt=!1}if(Zt)l.neighbors[1]=r;else{var ei,ni;Ae=l.points[0];if(Oe.x==Ae.x&&Oe.y==Ae.y){Se=l.points[1];ni=xe.x==Se.x&&xe.y==Se.y}else ni=!1;if(ni)ei=!0;else{Me=l.points[1];if(Oe.x==Me.x&&Oe.y==Me.y){Pe=l.points[0];ei=xe.x==Pe.x&&xe.y==Pe.y}else ei=!1}if(!ei)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");l.neighbors[2]=r}}}}}var ti,ii,si;Fe=s.triangle,ke=r.points[1],Re=r.points[2],Ie=Fe.points[0];if(ke.x!=Ie.x||ke.y!=Ie.y){Ne=Fe.points[1];si=ke.x==Ne.x&&ke.y==Ne.y}else si=!0;if(si)ii=!0;else{Le=Fe.points[2];ii=ke.x==Le.x&&ke.y==Le.y}if(ii){var ri;Be=Fe.points[0];if(Re.x!=Be.x||Re.y!=Be.y){Ge=Fe.points[1];ri=Re.x==Ge.x&&Re.y==Ge.y}else ri=!0;if(ri)ti=!0;else{We=Fe.points[2];ti=Re.x==We.x&&Re.y==We.y}}else ti=!1;if(ti){r.neighbors[0]=Fe;var li,ai;Ke=r.points[1],Ye=r.points[2],He=Fe.points[2];if(Ke.x==He.x&&Ke.y==He.y){Xe=Fe.points[1];ai=Ye.x==Xe.x&&Ye.y==Xe.y}else ai=!1;if(ai)li=!0;else{Ve=Fe.points[1];if(Ke.x==Ve.x&&Ke.y==Ve.y){ze=Fe.points[2];li=Ye.x==ze.x&&Ye.y==ze.y}else li=!1}if(li)Fe.neighbors[0]=r;else{var oi,hi;je=Fe.points[0];if(Ke.x==je.x&&Ke.y==je.y){$e=Fe.points[2];hi=Ye.x==$e.x&&Ye.y==$e.y}else hi=!1;if(hi)oi=!0;else{Qe=Fe.points[2];if(Ke.x==Qe.x&&Ke.y==Qe.y){qe=Fe.points[0];oi=Ye.x==qe.x&&Ye.y==qe.y}else oi=!1}if(oi)Fe.neighbors[1]=r;else{var ci,ui;Ze=Fe.points[0];if(Ke.x==Ze.x&&Ke.y==Ze.y){Je=Fe.points[1];ui=Ye.x==Je.x&&Ye.y==Je.y}else ui=!1;if(ui)ci=!0;else{en=Fe.points[1];if(Ke.x==en.x&&Ke.y==en.y){nn=Fe.points[0];ci=Ye.x==nn.x&&Ye.y==nn.y}else ci=!1}if(!ci)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");Fe.neighbors[2]=r}}}else{var _i,di,fi;tn=r.points[0],sn=r.points[2],rn=Fe.points[0];if(tn.x!=rn.x||tn.y!=rn.y){ln=Fe.points[1];fi=tn.x==ln.x&&tn.y==ln.y}else fi=!0;if(fi)di=!0;else{an=Fe.points[2];di=tn.x==an.x&&tn.y==an.y}if(di){var pi;on=Fe.points[0];if(sn.x!=on.x||sn.y!=on.y){hn=Fe.points[1];pi=sn.x==hn.x&&sn.y==hn.y}else pi=!0;if(pi)_i=!0;else{cn=Fe.points[2];_i=sn.x==cn.x&&sn.y==cn.y}}else _i=!1;if(_i){r.neighbors[1]=Fe;var bi,yi;un=r.points[0],_n=r.points[2],dn=Fe.points[2];if(un.x==dn.x&&un.y==dn.y){pn=Fe.points[1];yi=_n.x==pn.x&&_n.y==pn.y}else yi=!1;if(yi)bi=!0;else{bn=Fe.points[1];if(un.x==bn.x&&un.y==bn.y){yn=Fe.points[2];bi=_n.x==yn.x&&_n.y==yn.y}else bi=!1}if(bi)Fe.neighbors[0]=r;else{var gi,Oi;gn=Fe.points[0];if(un.x==gn.x&&un.y==gn.y){On=Fe.points[2];Oi=_n.x==On.x&&_n.y==On.y}else Oi=!1;if(Oi)gi=!0;else{xn=Fe.points[2];if(un.x==xn.x&&un.y==xn.y){vn=Fe.points[0];gi=_n.x==vn.x&&_n.y==vn.y}else gi=!1}if(gi)Fe.neighbors[1]=r;else{var xi,vi;mn=Fe.points[0];if(un.x==mn.x&&un.y==mn.y){wn=Fe.points[1];vi=_n.x==wn.x&&_n.y==wn.y}else vi=!1;if(vi)xi=!0;else{Un=Fe.points[1];if(un.x==Un.x&&un.y==Un.y){Cn=Fe.points[0];xi=_n.x==Cn.x&&_n.y==Cn.y}else xi=!1}if(!xi)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");Fe.neighbors[2]=r}}}else{var mi,wi,Ui;Tn=r.points[0],Dn=r.points[1],En=Fe.points[0];if(Tn.x!=En.x||Tn.y!=En.y){An=Fe.points[1];Ui=Tn.x==An.x&&Tn.y==An.y}else Ui=!0;if(Ui)wi=!0;else{Sn=Fe.points[2];wi=Tn.x==Sn.x&&Tn.y==Sn.y}if(wi){var Ci;Mn=Fe.points[0];if(Dn.x!=Mn.x||Dn.y!=Mn.y){Pn=Fe.points[1];Ci=Dn.x==Pn.x&&Dn.y==Pn.y}else Ci=!0;if(Ci)mi=!0;else{Fn=Fe.points[2];mi=Dn.x==Fn.x&&Dn.y==Fn.y}}else mi=!1;if(mi){r.neighbors[2]=Fe;var Ti,Di;kn=r.points[0],Rn=r.points[1],In=Fe.points[2];if(kn.x==In.x&&kn.y==In.y){Nn=Fe.points[1];Di=Rn.x==Nn.x&&Rn.y==Nn.y}else Di=!1;if(Di)Ti=!0;else{Ln=Fe.points[1];if(kn.x==Ln.x&&kn.y==Ln.y){Bn=Fe.points[2];Ti=Rn.x==Bn.x&&Rn.y==Bn.y}else Ti=!1}if(Ti)Fe.neighbors[0]=r;else{var Ei,Ai;Gn=Fe.points[0];if(kn.x==Gn.x&&kn.y==Gn.y){Wn=Fe.points[2];Ai=Rn.x==Wn.x&&Rn.y==Wn.y}else Ai=!1;if(Ai)Ei=!0;else{Kn=Fe.points[2];if(kn.x==Kn.x&&kn.y==Kn.y){Yn=Fe.points[0];Ei=Rn.x==Yn.x&&Rn.y==Yn.y}else Ei=!1}if(Ei)Fe.neighbors[1]=r;else{var Si,Mi;Hn=Fe.points[0];if(kn.x==Hn.x&&kn.y==Hn.y){Xn=Fe.points[1];Mi=Rn.x==Xn.x&&Rn.y==Xn.y}else Mi=!1;if(Mi)Si=!0;else{Vn=Fe.points[1];if(kn.x==Vn.x&&kn.y==Vn.y){zn=Fe.points[0];Si=Rn.x==zn.x&&Rn.y==zn.y}else Si=!1}if(!Si)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");Fe.neighbors[2]=r}}}}}if(s.prev.next=s.next,s.next.prev=s.prev,!this.legalize(r)){n=this.context;if(null==r.neighbors[0]){var Pi,Fi,ki,Ri,Ii;u=n.front,_=r.points[0],d=r.points;null==(Pi=-1)&&(Pi=0);for(f=Pi,p=!1,b=0;b<3;){for(y=b++;f<0;)f+=3;for(;f>2;)f-=3;jn=r.points[y];if(_.x==jn.x&&_.y==jn.y){p=!0;break}++f}if(!p)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((Fi=(e=d[f]).x)==(Ri=(ki=u.search_node).point.x)){$n=ki.point;if(e.x!=$n.x||e.y!=$n.y){Qn=ki.prev.point;if(e.x==Qn.x&&e.y==Qn.y)ki=ki.prev;else{qn=ki.next.point;if(e.x!=qn.x||e.y!=qn.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");ki=ki.next}}}else if(Fi<Ri)for(;null!=(ki=ki.prev);){Zn=ki.point;if(e.x==Zn.x&&e.y==Zn.y)break}else for(;null!=(ki=ki.next);){Jn=ki.point;if(e.x==Jn.x&&e.y==Jn.y)break}null!=ki&&(u.search_node=ki),null!=(Ii=ki)&&(Ii.triangle=r)}if(null==r.neighbors[1]){var Ni,Li,Bi,Gi,Wi,Ki;et=n.front,nt=r.points[1],tt=r.points;null==(Ni=-1)&&(Ni=0);for(it=Ni,st=!1,rt=0;rt<3;){for(lt=rt++;it<0;)it+=3;for(;it>2;)it-=3;at=r.points[lt];if(nt.x==at.x&&nt.y==at.y){st=!0;break}++it}if(!st)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((Bi=(Li=tt[it]).x)==(Wi=(Gi=et.search_node).point.x)){ot=Gi.point;if(Li.x!=ot.x||Li.y!=ot.y){ht=Gi.prev.point;if(Li.x==ht.x&&Li.y==ht.y)Gi=Gi.prev;else{ct=Gi.next.point;if(Li.x!=ct.x||Li.y!=ct.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");Gi=Gi.next}}}else if(Bi<Wi)for(;null!=(Gi=Gi.prev);){ut=Gi.point;if(Li.x==ut.x&&Li.y==ut.y)break}else for(;null!=(Gi=Gi.next);){_t=Gi.point;if(Li.x==_t.x&&Li.y==_t.y)break}null!=Gi&&(et.search_node=Gi),null!=(Ki=Gi)&&(Ki.triangle=r)}if(null==r.neighbors[2]){var Yi,Hi,Xi,Vi,zi,ji;dt=n.front,ft=r.points[2],pt=r.points;null==(Yi=-1)&&(Yi=0);for(bt=Yi,yt=!1,gt=0;gt<3;){for(Ot=gt++;bt<0;)bt+=3;for(;bt>2;)bt-=3;xt=r.points[Ot];if(ft.x==xt.x&&ft.y==xt.y){yt=!0;break}++bt}if(!yt)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((Xi=(Hi=pt[bt]).x)==(zi=(Vi=dt.search_node).point.x)){vt=Vi.point;if(Hi.x!=vt.x||Hi.y!=vt.y){mt=Vi.prev.point;if(Hi.x==mt.x&&Hi.y==mt.y)Vi=Vi.prev;else{wt=Vi.next.point;if(Hi.x!=wt.x||Hi.y!=wt.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");Vi=Vi.next}}}else if(Xi<zi)for(;null!=(Vi=Vi.prev);){Ut=Vi.point;if(Hi.x==Ut.x&&Hi.y==Ut.y)break}else for(;null!=(Vi=Vi.next);){Ct=Vi.point;if(Hi.x==Ct.x&&Hi.y==Ct.y)break}null!=Vi&&(dt.search_node=Vi),null!=(ji=Vi)&&(ji.triangle=r)}}s=s.prev}if(null!=O.next&&null!=O.next.next&&(g=Math.atan2(O.point.y-O.next.next.point.y,O.point.x-O.next.next.point.x))<poly2tri_Constants.PI_3div4){var $i=O.point,Qi=O.next.point,qi=O.next.next.point,Zi=($i.x-qi.x)*(Qi.y-qi.y)-($i.y-qi.y)*(Qi.x-qi.x);for(this.context.basin.left_node=-1==(Zi>-poly2tri_Constants.EPSILON&&Zi<poly2tri_Constants.EPSILON?0:Zi>0?-1:1)?O.next.next:O.next,this.context.basin.bottom_node=this.context.basin.left_node;null!=this.context.basin.bottom_node.next&&this.context.basin.bottom_node.point.y>=this.context.basin.bottom_node.next.point.y;)this.context.basin.bottom_node=this.context.basin.bottom_node.next;if(this.context.basin.bottom_node!=this.context.basin.left_node){for(this.context.basin.right_node=this.context.basin.bottom_node;null!=this.context.basin.right_node.next&&this.context.basin.right_node.point.y<this.context.basin.right_node.next.point.y;)this.context.basin.right_node=this.context.basin.right_node.next;this.context.basin.right_node!=this.context.basin.bottom_node&&(this.context.basin.width=this.context.basin.right_node.point.x-this.context.basin.left_node.point.x,this.context.basin.left_highest=this.context.basin.left_node.point.y>this.context.basin.right_node.point.y,this.fillBasinReq(this.context.basin.bottom_node))}}return O},edgeEventByEdge:function(e,n){this.context.edge_event.constrained_edge=e,this.context.edge_event.right=e.p.x>e.q.x;var t=n.triangle,i=e.p,s=e.q,r=-1,l=t.points[0];if(i.x==l.x&&i.y==l.y){l=t.points[1];if(s.x==l.x&&s.y==l.y)r=2;else{l=t.points[2];s.x==l.x&&s.y==l.y&&(r=1)}}else{l=t.points[1];if(i.x==l.x&&i.y==l.y){l=t.points[2];if(s.x==l.x&&s.y==l.y)r=0;else{l=t.points[0];s.x==l.x&&s.y==l.y&&(r=2)}}else{l=t.points[2];if(i.x==l.x&&i.y==l.y){l=t.points[0];if(s.x==l.x&&s.y==l.y)r=1;else{l=t.points[1];s.x==l.x&&s.y==l.y&&(r=0)}}}}var a=r;r=!1;if(-1!=a){if(t.constrained_edge[a]=!0,null!=(l=t.neighbors[a])){var o=l.points[0];if(s.x==o.x&&s.y==o.y){o=l.points[1];O=i.x==o.x&&i.y==o.y}else O=!1;if(O)g=!0;else{o=l.points[1];if(s.x==o.x&&s.y==o.y){o=l.points[0];g=i.x==o.x&&i.y==o.y}else g=!1}if(g)l.constrained_edge[2]=!0;else{o=l.points[0];if(s.x==o.x&&s.y==o.y){o=l.points[2];O=i.x==o.x&&i.y==o.y}else O=!1;if(O)g=!0;else{o=l.points[2];if(s.x==o.x&&s.y==o.y){o=l.points[0];g=i.x==o.x&&i.y==o.y}else g=!1}if(g)l.constrained_edge[1]=!0;else{o=l.points[1];if(s.x==o.x&&s.y==o.y){o=l.points[2];O=i.x==o.x&&i.y==o.y}else O=!1;if(O)g=!0;else{o=l.points[2];if(s.x==o.x&&s.y==o.y){o=l.points[1];g=i.x==o.x&&i.y==o.y}else g=!1}g&&(l.constrained_edge[0]=!0)}}}r=!0}if(!r){this.context.edge_event.right?this.fillRightAboveEdgeEvent(e,n):this.fillLeftAboveEdgeEvent(e,n);i=e.p,s=e.q;var h=n.triangle,c=e.q;r=-1,l=h.points[0];if(i.x==l.x&&i.y==l.y){l=h.points[1];if(s.x==l.x&&s.y==l.y)r=2;else{l=h.points[2];s.x==l.x&&s.y==l.y&&(r=1)}}else{l=h.points[1];if(i.x==l.x&&i.y==l.y){l=h.points[2];if(s.x==l.x&&s.y==l.y)r=0;else{l=h.points[0];s.x==l.x&&s.y==l.y&&(r=2)}}else{l=h.points[2];if(i.x==l.x&&i.y==l.y){l=h.points[0];if(s.x==l.x&&s.y==l.y)r=1;else{l=h.points[1];s.x==l.x&&s.y==l.y&&(r=0)}}}}a=r,r=!1;if(-1!=a){if(h.constrained_edge[a]=!0,null!=(l=h.neighbors[a])){o=l.points[0];if(s.x==o.x&&s.y==o.y){o=l.points[1];O=i.x==o.x&&i.y==o.y}else O=!1;if(O)g=!0;else{o=l.points[1];if(s.x==o.x&&s.y==o.y){o=l.points[0];g=i.x==o.x&&i.y==o.y}else g=!1}if(g)l.constrained_edge[2]=!0;else{o=l.points[0];if(s.x==o.x&&s.y==o.y){o=l.points[2];O=i.x==o.x&&i.y==o.y}else O=!1;if(O)g=!0;else{o=l.points[2];if(s.x==o.x&&s.y==o.y){o=l.points[0];g=i.x==o.x&&i.y==o.y}else g=!1}if(g)l.constrained_edge[1]=!0;else{o=l.points[1];if(s.x==o.x&&s.y==o.y){o=l.points[2];O=i.x==o.x&&i.y==o.y}else O=!1;if(O)g=!0;else{o=l.points[2];if(s.x==o.x&&s.y==o.y){o=l.points[1];g=i.x==o.x&&i.y==o.y}else g=!1}g&&(l.constrained_edge[0]=!0)}}}r=!0}if(!r){var u=h.points;null==(U=1)&&(U=0);for(var _=U,d=!1,f=0;f<3;){for(var p=f++;_<0;)_+=3;for(;_>2;)_-=3;l=h.points[p];if(c.x==l.x&&c.y==l.y){d=!0;break}++_}if(!d)throw haxe_Exception.thrown("Triangle::Point not in triangle");var b=u[_];if(0==(v=(m=(s.x-i.x)*(b.y-i.y)-(s.y-i.y)*(b.x-i.x))>-poly2tri_Constants.EPSILON&&m<poly2tri_Constants.EPSILON?0:m>0?-1:1))throw haxe_Exception.thrown("Sweep.edgeEvent: Collinear not supported!");u=h.points;null==(U=-1)&&(U=0);for(_=U,d=!1,f=0;f<3;){for(p=f++;_<0;)_+=3;for(;_>2;)_-=3;l=h.points[p];if(c.x==l.x&&c.y==l.y){d=!0;break}++_}if(!d)throw haxe_Exception.thrown("Triangle::Point not in triangle");var y=u[_];if(0==(w=(m=(s.x-i.x)*(y.y-i.y)-(s.y-i.y)*(y.x-i.x))>-poly2tri_Constants.EPSILON&&m<poly2tri_Constants.EPSILON?0:m>0?-1:1))throw haxe_Exception.thrown("Sweep.edgeEvent: Collinear not supported!");if(v==w){if(1==v){u=h.neighbors;null==(U=-1)&&(U=0);for(_=U,d=!1,f=0;f<3;){for(p=f++;_<0;)_+=3;for(;_>2;)_-=3;l=h.points[p];if(c.x==l.x&&c.y==l.y){d=!0;break}++_}if(!d)throw haxe_Exception.thrown("Triangle::Point not in triangle");h=u[_]}else{u=h.neighbors;null==(U=1)&&(U=0);for(_=U,d=!1,f=0;f<3;){for(p=f++;_<0;)_+=3;for(;_>2;)_-=3;l=h.points[p];if(c.x==l.x&&c.y==l.y){d=!0;break}++_}if(!d)throw haxe_Exception.thrown("Triangle::Point not in triangle");h=u[_]}r=-1,l=(u=h).points[0];if(i.x==l.x&&i.y==l.y){l=u.points[1];if(s.x==l.x&&s.y==l.y)r=2;else{l=u.points[2];s.x==l.x&&s.y==l.y&&(r=1)}}else{l=u.points[1];if(i.x==l.x&&i.y==l.y){l=u.points[2];if(s.x==l.x&&s.y==l.y)r=0;else{l=u.points[0];s.x==l.x&&s.y==l.y&&(r=2)}}else{l=u.points[2];if(i.x==l.x&&i.y==l.y){l=u.points[0];if(s.x==l.x&&s.y==l.y)r=1;else{l=u.points[1];s.x==l.x&&s.y==l.y&&(r=0)}}}}a=r,r=!1;if(-1!=a){if(u.constrained_edge[a]=!0,null!=(l=u.neighbors[a])){o=l.points[0];if(s.x==o.x&&s.y==o.y){o=l.points[1];O=i.x==o.x&&i.y==o.y}else O=!1;if(O)g=!0;else{o=l.points[1];if(s.x==o.x&&s.y==o.y){o=l.points[0];g=i.x==o.x&&i.y==o.y}else g=!1}if(g)l.constrained_edge[2]=!0;else{o=l.points[0];if(s.x==o.x&&s.y==o.y){o=l.points[2];O=i.x==o.x&&i.y==o.y}else O=!1;if(O)g=!0;else{o=l.points[2];if(s.x==o.x&&s.y==o.y){o=l.points[0];g=i.x==o.x&&i.y==o.y}else g=!1}if(g)l.constrained_edge[1]=!0;else{var g,O;o=l.points[1];if(s.x==o.x&&s.y==o.y){o=l.points[2];O=i.x==o.x&&i.y==o.y}else O=!1;if(O)g=!0;else{o=l.points[2];if(s.x==o.x&&s.y==o.y){o=l.points[1];g=i.x==o.x&&i.y==o.y}else g=!1}g&&(l.constrained_edge[0]=!0)}}}r=!0}if(!r){var x=u.points;null==(U=1)&&(U=0);for(_=U,d=!1,f=0;f<3;){for(p=f++;_<0;)_+=3;for(;_>2;)_-=3;l=u.points[p];if(c.x==l.x&&c.y==l.y){d=!0;break}++_}if(!d)throw haxe_Exception.thrown("Triangle::Point not in triangle");var v;b=x[_];if(0==(v=(m=(s.x-i.x)*(b.y-i.y)-(s.y-i.y)*(b.x-i.x))>-poly2tri_Constants.EPSILON&&m<poly2tri_Constants.EPSILON?0:m>0?-1:1))throw haxe_Exception.thrown("Sweep.edgeEvent: Collinear not supported!");x=u.points;null==(U=-1)&&(U=0);for(_=U,d=!1,f=0;f<3;){for(p=f++;_<0;)_+=3;for(;_>2;)_-=3;l=u.points[p];if(c.x==l.x&&c.y==l.y){d=!0;break}++_}if(!d)throw haxe_Exception.thrown("Triangle::Point not in triangle");var m,w;y=x[_];if(0==(w=(m=(s.x-i.x)*(y.y-i.y)-(s.y-i.y)*(y.x-i.x))>-poly2tri_Constants.EPSILON&&m<poly2tri_Constants.EPSILON?0:m>0?-1:1))throw haxe_Exception.thrown("Sweep.edgeEvent: Collinear not supported!");if(v==w){if(1==v){x=u.neighbors;null==(U=-1)&&(U=0);for(_=U,d=!1,f=0;f<3;){for(p=f++;_<0;)_+=3;for(;_>2;)_-=3;l=u.points[p];if(c.x==l.x&&c.y==l.y){d=!0;break}++_}if(!d)throw haxe_Exception.thrown("Triangle::Point not in triangle");u=x[_]}else{var U;x=u.neighbors;null==(U=1)&&(U=0);for(_=U,d=!1,f=0;f<3;){for(p=f++;_<0;)_+=3;for(;_>2;)_-=3;l=u.points[p];if(c.x==l.x&&c.y==l.y){d=!0;break}++_}if(!d)throw haxe_Exception.thrown("Triangle::Point not in triangle");u=x[_]}this.edgeEventByPoints(i,s,u,c)}else this.flipEdgeEvent(i,s,u,c)}}else this.flipEdgeEvent(i,s,h,c)}}},edgeEventByPoints:function(e,n,t,i){var s=-1,r=t.points[0];if(e.x==r.x&&e.y==r.y){r=t.points[1];if(n.x==r.x&&n.y==r.y)s=2;else{r=t.points[2];n.x==r.x&&n.y==r.y&&(s=1)}}else{r=t.points[1];if(e.x==r.x&&e.y==r.y){r=t.points[2];if(n.x==r.x&&n.y==r.y)s=0;else{r=t.points[0];n.x==r.x&&n.y==r.y&&(s=2)}}else{r=t.points[2];if(e.x==r.x&&e.y==r.y){r=t.points[0];if(n.x==r.x&&n.y==r.y)s=1;else{r=t.points[1];n.x==r.x&&n.y==r.y&&(s=0)}}}}var l=s;s=!1;if(-1!=l){if(t.constrained_edge[l]=!0,null!=(r=t.neighbors[l])){var a=r.points[0];if(n.x==a.x&&n.y==a.y){a=r.points[1];h=e.x==a.x&&e.y==a.y}else h=!1;if(h)o=!0;else{a=r.points[1];if(n.x==a.x&&n.y==a.y){a=r.points[0];o=e.x==a.x&&e.y==a.y}else o=!1}if(o)r.constrained_edge[2]=!0;else{a=r.points[0];if(n.x==a.x&&n.y==a.y){a=r.points[2];h=e.x==a.x&&e.y==a.y}else h=!1;if(h)o=!0;else{a=r.points[2];if(n.x==a.x&&n.y==a.y){a=r.points[0];o=e.x==a.x&&e.y==a.y}else o=!1}if(o)r.constrained_edge[1]=!0;else{var o,h;a=r.points[1];if(n.x==a.x&&n.y==a.y){a=r.points[2];h=e.x==a.x&&e.y==a.y}else h=!1;if(h)o=!0;else{a=r.points[2];if(n.x==a.x&&n.y==a.y){a=r.points[1];o=e.x==a.x&&e.y==a.y}else o=!1}o&&(r.constrained_edge[0]=!0)}}}s=!0}if(!s){var c=t.points;null==(x=1)&&(x=0);for(var u=x,_=!1,d=0;d<3;){for(var f=d++;u<0;)u+=3;for(;u>2;)u-=3;r=t.points[f];if(i.x==r.x&&i.y==r.y){_=!0;break}++u}if(!_)throw haxe_Exception.thrown("Triangle::Point not in triangle");var p=c[u],b=(y=(n.x-e.x)*(p.y-e.y)-(n.y-e.y)*(p.x-e.x))>-poly2tri_Constants.EPSILON&&y<poly2tri_Constants.EPSILON?0:y>0?-1:1;if(0==b)throw haxe_Exception.thrown("Sweep.edgeEvent: Collinear not supported!");c=t.points;null==(x=-1)&&(x=0);for(u=x,_=!1,d=0;d<3;){for(f=d++;u<0;)u+=3;for(;u>2;)u-=3;r=t.points[f];if(i.x==r.x&&i.y==r.y){_=!0;break}++u}if(!_)throw haxe_Exception.thrown("Triangle::Point not in triangle");var y,g=c[u],O=(y=(n.x-e.x)*(g.y-e.y)-(n.y-e.y)*(g.x-e.x))>-poly2tri_Constants.EPSILON&&y<poly2tri_Constants.EPSILON?0:y>0?-1:1;if(0==O)throw haxe_Exception.thrown("Sweep.edgeEvent: Collinear not supported!");if(b==O){if(1==b){c=t.neighbors;null==(x=-1)&&(x=0);for(u=x,_=!1,d=0;d<3;){for(f=d++;u<0;)u+=3;for(;u>2;)u-=3;r=t.points[f];if(i.x==r.x&&i.y==r.y){_=!0;break}++u}if(!_)throw haxe_Exception.thrown("Triangle::Point not in triangle");t=c[u]}else{var x;c=t.neighbors;null==(x=1)&&(x=0);for(u=x,_=!1,d=0;d<3;){for(f=d++;u<0;)u+=3;for(;u>2;)u-=3;r=t.points[f];if(i.x==r.x&&i.y==r.y){_=!0;break}++u}if(!_)throw haxe_Exception.thrown("Triangle::Point not in triangle");t=c[u]}this.edgeEventByPoints(e,n,t,i)}else this.flipEdgeEvent(e,n,t,i)}},newFrontTriangle:function(e,n){var t=poly2tri_Pool.getTriangle(e,n.point,n.next.point),i=n.triangle,s=t.points[1],r=t.points[2],l=i.points[0];if(s.x!=l.x||s.y!=l.y){l=i.points[1];a=s.x==l.x&&s.y==l.y}else a=!0;if(a)h=!0;else{l=i.points[2];h=s.x==l.x&&s.y==l.y}if(h){l=i.points[0];if(r.x!=l.x||r.y!=l.y){l=i.points[1];h=r.x==l.x&&r.y==l.y}else h=!0;if(h)o=!0;else{l=i.points[2];o=r.x==l.x&&r.y==l.y}}else o=!1;if(o){t.neighbors[0]=i;s=t.points[1],r=t.points[2],l=i.points[2];if(s.x==l.x&&s.y==l.y){l=i.points[1];h=r.x==l.x&&r.y==l.y}else h=!1;if(h)o=!0;else{l=i.points[1];if(s.x==l.x&&s.y==l.y){l=i.points[2];o=r.x==l.x&&r.y==l.y}else o=!1}if(o)i.neighbors[0]=t;else{l=i.points[0];if(s.x==l.x&&s.y==l.y){l=i.points[2];h=r.x==l.x&&r.y==l.y}else h=!1;if(h)o=!0;else{l=i.points[2];if(s.x==l.x&&s.y==l.y){l=i.points[0];o=r.x==l.x&&r.y==l.y}else o=!1}if(o)i.neighbors[1]=t;else{l=i.points[0];if(s.x==l.x&&s.y==l.y){l=i.points[1];h=r.x==l.x&&r.y==l.y}else h=!1;if(h)o=!0;else{l=i.points[1];if(s.x==l.x&&s.y==l.y){l=i.points[0];o=r.x==l.x&&r.y==l.y}else o=!1}if(!o)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");i.neighbors[2]=t}}}else{s=t.points[0],r=t.points[2],l=i.points[0];if(s.x!=l.x||s.y!=l.y){l=i.points[1];a=s.x==l.x&&s.y==l.y}else a=!0;if(a)h=!0;else{l=i.points[2];h=s.x==l.x&&s.y==l.y}if(h){l=i.points[0];if(r.x!=l.x||r.y!=l.y){l=i.points[1];h=r.x==l.x&&r.y==l.y}else h=!0;if(h)o=!0;else{l=i.points[2];o=r.x==l.x&&r.y==l.y}}else o=!1;if(o){t.neighbors[1]=i;s=t.points[0],r=t.points[2],l=i.points[2];if(s.x==l.x&&s.y==l.y){l=i.points[1];h=r.x==l.x&&r.y==l.y}else h=!1;if(h)o=!0;else{l=i.points[1];if(s.x==l.x&&s.y==l.y){l=i.points[2];o=r.x==l.x&&r.y==l.y}else o=!1}if(o)i.neighbors[0]=t;else{l=i.points[0];if(s.x==l.x&&s.y==l.y){l=i.points[2];h=r.x==l.x&&r.y==l.y}else h=!1;if(h)o=!0;else{l=i.points[2];if(s.x==l.x&&s.y==l.y){l=i.points[0];o=r.x==l.x&&r.y==l.y}else o=!1}if(o)i.neighbors[1]=t;else{l=i.points[0];if(s.x==l.x&&s.y==l.y){l=i.points[1];h=r.x==l.x&&r.y==l.y}else h=!1;if(h)o=!0;else{l=i.points[1];if(s.x==l.x&&s.y==l.y){l=i.points[0];o=r.x==l.x&&r.y==l.y}else o=!1}if(!o)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");i.neighbors[2]=t}}}else{var a;s=t.points[0],r=t.points[1],l=i.points[0];if(s.x!=l.x||s.y!=l.y){l=i.points[1];a=s.x==l.x&&s.y==l.y}else a=!0;if(a)h=!0;else{l=i.points[2];h=s.x==l.x&&s.y==l.y}if(h){l=i.points[0];if(r.x!=l.x||r.y!=l.y){l=i.points[1];h=r.x==l.x&&r.y==l.y}else h=!0;if(h)o=!0;else{l=i.points[2];o=r.x==l.x&&r.y==l.y}}else o=!1;if(o){t.neighbors[2]=i;s=t.points[0],r=t.points[1],l=i.points[2];if(s.x==l.x&&s.y==l.y){l=i.points[1];h=r.x==l.x&&r.y==l.y}else h=!1;if(h)o=!0;else{l=i.points[1];if(s.x==l.x&&s.y==l.y){l=i.points[2];o=r.x==l.x&&r.y==l.y}else o=!1}if(o)i.neighbors[0]=t;else{l=i.points[0];if(s.x==l.x&&s.y==l.y){l=i.points[2];h=r.x==l.x&&r.y==l.y}else h=!1;if(h)o=!0;else{l=i.points[2];if(s.x==l.x&&s.y==l.y){l=i.points[0];o=r.x==l.x&&r.y==l.y}else o=!1}if(o)i.neighbors[1]=t;else{var o,h;l=i.points[0];if(s.x==l.x&&s.y==l.y){l=i.points[1];h=r.x==l.x&&r.y==l.y}else h=!1;if(h)o=!0;else{l=i.points[1];if(s.x==l.x&&s.y==l.y){l=i.points[0];o=r.x==l.x&&r.y==l.y}else o=!1}if(!o)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");i.neighbors[2]=t}}}}}var c=poly2tri_Pool.getNode(e);if(c.next=n.next,c.prev=n,n.next.prev=c,n.next=c,!this.legalize(t)){var u=this.context;if(null==t.neighbors[0]){var _=u.front,d=t.points[0],f=t.points;null==(O=-1)&&(O=0);for(var p=O,b=!1,y=0;y<3;){for(var g=y++;p<0;)p+=3;for(;p>2;)p-=3;i=t.points[g];if(d.x==i.x&&d.y==i.y){b=!0;break}++p}if(!b)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((x=(e=f[p]).x)==(v=(n=_.search_node).point.x)){i=n.point;if(e.x!=i.x||e.y!=i.y){i=n.prev.point;if(e.x==i.x&&e.y==i.y)n=n.prev;else{i=n.next.point;if(e.x!=i.x||e.y!=i.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");n=n.next}}}else if(x<v)for(;null!=(n=n.prev);){i=n.point;if(e.x==i.x&&e.y==i.y)break}else for(;null!=(n=n.next);){i=n.point;if(e.x==i.x&&e.y==i.y)break}null!=n&&(_.search_node=n),null!=(m=n)&&(m.triangle=t)}if(null==t.neighbors[1]){_=u.front,d=t.points[1],f=t.points;null==(O=-1)&&(O=0);for(p=O,b=!1,y=0;y<3;){for(g=y++;p<0;)p+=3;for(;p>2;)p-=3;i=t.points[g];if(d.x==i.x&&d.y==i.y){b=!0;break}++p}if(!b)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((x=(e=f[p]).x)==(v=(n=_.search_node).point.x)){i=n.point;if(e.x!=i.x||e.y!=i.y){i=n.prev.point;if(e.x==i.x&&e.y==i.y)n=n.prev;else{i=n.next.point;if(e.x!=i.x||e.y!=i.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");n=n.next}}}else if(x<v)for(;null!=(n=n.prev);){i=n.point;if(e.x==i.x&&e.y==i.y)break}else for(;null!=(n=n.next);){i=n.point;if(e.x==i.x&&e.y==i.y)break}null!=n&&(_.search_node=n),null!=(m=n)&&(m.triangle=t)}if(null==t.neighbors[2]){var O,x,v,m;_=u.front,d=t.points[2],f=t.points;null==(O=-1)&&(O=0);for(p=O,b=!1,y=0;y<3;){for(g=y++;p<0;)p+=3;for(;p>2;)p-=3;i=t.points[g];if(d.x==i.x&&d.y==i.y){b=!0;break}++p}if(!b)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((x=(e=f[p]).x)==(v=(n=_.search_node).point.x)){i=n.point;if(e.x!=i.x||e.y!=i.y){i=n.prev.point;if(e.x==i.x&&e.y==i.y)n=n.prev;else{i=n.next.point;if(e.x!=i.x||e.y!=i.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");n=n.next}}}else if(x<v)for(;null!=(n=n.prev);){i=n.point;if(e.x==i.x&&e.y==i.y)break}else for(;null!=(n=n.next);){i=n.point;if(e.x==i.x&&e.y==i.y)break}null!=n&&(_.search_node=n),null!=(m=n)&&(m.triangle=t)}}return c},fill:function(e){var n=poly2tri_Pool.getTriangle(e.prev.point,e.point,e.next.point),t=e.prev.triangle,i=n.points[1],s=n.points[2],r=t.points[0];if(i.x!=r.x||i.y!=r.y){r=t.points[1];l=i.x==r.x&&i.y==r.y}else l=!0;if(l)o=!0;else{r=t.points[2];o=i.x==r.x&&i.y==r.y}if(o){r=t.points[0];if(s.x!=r.x||s.y!=r.y){r=t.points[1];o=s.x==r.x&&s.y==r.y}else o=!0;if(o)a=!0;else{r=t.points[2];a=s.x==r.x&&s.y==r.y}}else a=!1;if(a){n.neighbors[0]=t;i=n.points[1],s=n.points[2],r=t.points[2];if(i.x==r.x&&i.y==r.y){r=t.points[1];o=s.x==r.x&&s.y==r.y}else o=!1;if(o)a=!0;else{r=t.points[1];if(i.x==r.x&&i.y==r.y){r=t.points[2];a=s.x==r.x&&s.y==r.y}else a=!1}if(a)t.neighbors[0]=n;else{r=t.points[0];if(i.x==r.x&&i.y==r.y){r=t.points[2];o=s.x==r.x&&s.y==r.y}else o=!1;if(o)a=!0;else{r=t.points[2];if(i.x==r.x&&i.y==r.y){r=t.points[0];a=s.x==r.x&&s.y==r.y}else a=!1}if(a)t.neighbors[1]=n;else{r=t.points[0];if(i.x==r.x&&i.y==r.y){r=t.points[1];o=s.x==r.x&&s.y==r.y}else o=!1;if(o)a=!0;else{r=t.points[1];if(i.x==r.x&&i.y==r.y){r=t.points[0];a=s.x==r.x&&s.y==r.y}else a=!1}if(!a)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");t.neighbors[2]=n}}}else{i=n.points[0],s=n.points[2],r=t.points[0];if(i.x!=r.x||i.y!=r.y){r=t.points[1];l=i.x==r.x&&i.y==r.y}else l=!0;if(l)o=!0;else{r=t.points[2];o=i.x==r.x&&i.y==r.y}if(o){r=t.points[0];if(s.x!=r.x||s.y!=r.y){r=t.points[1];o=s.x==r.x&&s.y==r.y}else o=!0;if(o)a=!0;else{r=t.points[2];a=s.x==r.x&&s.y==r.y}}else a=!1;if(a){n.neighbors[1]=t;i=n.points[0],s=n.points[2],r=t.points[2];if(i.x==r.x&&i.y==r.y){r=t.points[1];o=s.x==r.x&&s.y==r.y}else o=!1;if(o)a=!0;else{r=t.points[1];if(i.x==r.x&&i.y==r.y){r=t.points[2];a=s.x==r.x&&s.y==r.y}else a=!1}if(a)t.neighbors[0]=n;else{r=t.points[0];if(i.x==r.x&&i.y==r.y){r=t.points[2];o=s.x==r.x&&s.y==r.y}else o=!1;if(o)a=!0;else{r=t.points[2];if(i.x==r.x&&i.y==r.y){r=t.points[0];a=s.x==r.x&&s.y==r.y}else a=!1}if(a)t.neighbors[1]=n;else{r=t.points[0];if(i.x==r.x&&i.y==r.y){r=t.points[1];o=s.x==r.x&&s.y==r.y}else o=!1;if(o)a=!0;else{r=t.points[1];if(i.x==r.x&&i.y==r.y){r=t.points[0];a=s.x==r.x&&s.y==r.y}else a=!1}if(!a)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");t.neighbors[2]=n}}}else{i=n.points[0],s=n.points[1],r=t.points[0];if(i.x!=r.x||i.y!=r.y){r=t.points[1];l=i.x==r.x&&i.y==r.y}else l=!0;if(l)o=!0;else{r=t.points[2];o=i.x==r.x&&i.y==r.y}if(o){r=t.points[0];if(s.x!=r.x||s.y!=r.y){r=t.points[1];o=s.x==r.x&&s.y==r.y}else o=!0;if(o)a=!0;else{r=t.points[2];a=s.x==r.x&&s.y==r.y}}else a=!1;if(a){n.neighbors[2]=t;i=n.points[0],s=n.points[1],r=t.points[2];if(i.x==r.x&&i.y==r.y){r=t.points[1];o=s.x==r.x&&s.y==r.y}else o=!1;if(o)a=!0;else{r=t.points[1];if(i.x==r.x&&i.y==r.y){r=t.points[2];a=s.x==r.x&&s.y==r.y}else a=!1}if(a)t.neighbors[0]=n;else{r=t.points[0];if(i.x==r.x&&i.y==r.y){r=t.points[2];o=s.x==r.x&&s.y==r.y}else o=!1;if(o)a=!0;else{r=t.points[2];if(i.x==r.x&&i.y==r.y){r=t.points[0];a=s.x==r.x&&s.y==r.y}else a=!1}if(a)t.neighbors[1]=n;else{r=t.points[0];if(i.x==r.x&&i.y==r.y){r=t.points[1];o=s.x==r.x&&s.y==r.y}else o=!1;if(o)a=!0;else{r=t.points[1];if(i.x==r.x&&i.y==r.y){r=t.points[0];a=s.x==r.x&&s.y==r.y}else a=!1}if(!a)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");t.neighbors[2]=n}}}}}t=e.triangle,i=n.points[1],s=n.points[2],r=t.points[0];if(i.x!=r.x||i.y!=r.y){r=t.points[1];l=i.x==r.x&&i.y==r.y}else l=!0;if(l)o=!0;else{r=t.points[2];o=i.x==r.x&&i.y==r.y}if(o){r=t.points[0];if(s.x!=r.x||s.y!=r.y){r=t.points[1];o=s.x==r.x&&s.y==r.y}else o=!0;if(o)a=!0;else{r=t.points[2];a=s.x==r.x&&s.y==r.y}}else a=!1;if(a){n.neighbors[0]=t;i=n.points[1],s=n.points[2],r=t.points[2];if(i.x==r.x&&i.y==r.y){r=t.points[1];o=s.x==r.x&&s.y==r.y}else o=!1;if(o)a=!0;else{r=t.points[1];if(i.x==r.x&&i.y==r.y){r=t.points[2];a=s.x==r.x&&s.y==r.y}else a=!1}if(a)t.neighbors[0]=n;else{r=t.points[0];if(i.x==r.x&&i.y==r.y){r=t.points[2];o=s.x==r.x&&s.y==r.y}else o=!1;if(o)a=!0;else{r=t.points[2];if(i.x==r.x&&i.y==r.y){r=t.points[0];a=s.x==r.x&&s.y==r.y}else a=!1}if(a)t.neighbors[1]=n;else{r=t.points[0];if(i.x==r.x&&i.y==r.y){r=t.points[1];o=s.x==r.x&&s.y==r.y}else o=!1;if(o)a=!0;else{r=t.points[1];if(i.x==r.x&&i.y==r.y){r=t.points[0];a=s.x==r.x&&s.y==r.y}else a=!1}if(!a)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");t.neighbors[2]=n}}}else{i=n.points[0],s=n.points[2],r=t.points[0];if(i.x!=r.x||i.y!=r.y){r=t.points[1];l=i.x==r.x&&i.y==r.y}else l=!0;if(l)o=!0;else{r=t.points[2];o=i.x==r.x&&i.y==r.y}if(o){r=t.points[0];if(s.x!=r.x||s.y!=r.y){r=t.points[1];o=s.x==r.x&&s.y==r.y}else o=!0;if(o)a=!0;else{r=t.points[2];a=s.x==r.x&&s.y==r.y}}else a=!1;if(a){n.neighbors[1]=t;i=n.points[0],s=n.points[2],r=t.points[2];if(i.x==r.x&&i.y==r.y){r=t.points[1];o=s.x==r.x&&s.y==r.y}else o=!1;if(o)a=!0;else{r=t.points[1];if(i.x==r.x&&i.y==r.y){r=t.points[2];a=s.x==r.x&&s.y==r.y}else a=!1}if(a)t.neighbors[0]=n;else{r=t.points[0];if(i.x==r.x&&i.y==r.y){r=t.points[2];o=s.x==r.x&&s.y==r.y}else o=!1;if(o)a=!0;else{r=t.points[2];if(i.x==r.x&&i.y==r.y){r=t.points[0];a=s.x==r.x&&s.y==r.y}else a=!1}if(a)t.neighbors[1]=n;else{r=t.points[0];if(i.x==r.x&&i.y==r.y){r=t.points[1];o=s.x==r.x&&s.y==r.y}else o=!1;if(o)a=!0;else{r=t.points[1];if(i.x==r.x&&i.y==r.y){r=t.points[0];a=s.x==r.x&&s.y==r.y}else a=!1}if(!a)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");t.neighbors[2]=n}}}else{var l;i=n.points[0],s=n.points[1],r=t.points[0];if(i.x!=r.x||i.y!=r.y){r=t.points[1];l=i.x==r.x&&i.y==r.y}else l=!0;if(l)o=!0;else{r=t.points[2];o=i.x==r.x&&i.y==r.y}if(o){r=t.points[0];if(s.x!=r.x||s.y!=r.y){r=t.points[1];o=s.x==r.x&&s.y==r.y}else o=!0;if(o)a=!0;else{r=t.points[2];a=s.x==r.x&&s.y==r.y}}else a=!1;if(a){n.neighbors[2]=t;i=n.points[0],s=n.points[1],r=t.points[2];if(i.x==r.x&&i.y==r.y){r=t.points[1];o=s.x==r.x&&s.y==r.y}else o=!1;if(o)a=!0;else{r=t.points[1];if(i.x==r.x&&i.y==r.y){r=t.points[2];a=s.x==r.x&&s.y==r.y}else a=!1}if(a)t.neighbors[0]=n;else{r=t.points[0];if(i.x==r.x&&i.y==r.y){r=t.points[2];o=s.x==r.x&&s.y==r.y}else o=!1;if(o)a=!0;else{r=t.points[2];if(i.x==r.x&&i.y==r.y){r=t.points[0];a=s.x==r.x&&s.y==r.y}else a=!1}if(a)t.neighbors[1]=n;else{var a,o;r=t.points[0];if(i.x==r.x&&i.y==r.y){r=t.points[1];o=s.x==r.x&&s.y==r.y}else o=!1;if(o)a=!0;else{r=t.points[1];if(i.x==r.x&&i.y==r.y){r=t.points[0];a=s.x==r.x&&s.y==r.y}else a=!1}if(!a)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");t.neighbors[2]=n}}}}}if(e.prev.next=e.next,e.next.prev=e.prev,!this.legalize(n)){var h=this.context;if(null==n.neighbors[0]){var c=h.front,u=n.points[0],_=n.points;null==(y=-1)&&(y=0);for(var d=y,f=!1,p=0;p<3;){for(var b=p++;d<0;)d+=3;for(;d>2;)d-=3;t=n.points[b];if(u.x==t.x&&u.y==t.y){f=!0;break}++d}if(!f)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((O=(g=_[d]).x)==(x=(e=c.search_node).point.x)){t=e.point;if(g.x!=t.x||g.y!=t.y){t=e.prev.point;if(g.x==t.x&&g.y==t.y)e=e.prev;else{t=e.next.point;if(g.x!=t.x||g.y!=t.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");e=e.next}}}else if(O<x)for(;null!=(e=e.prev);){t=e.point;if(g.x==t.x&&g.y==t.y)break}else for(;null!=(e=e.next);){t=e.point;if(g.x==t.x&&g.y==t.y)break}null!=e&&(c.search_node=e),null!=(v=e)&&(v.triangle=n)}if(null==n.neighbors[1]){c=h.front,u=n.points[1],_=n.points;null==(y=-1)&&(y=0);for(d=y,f=!1,p=0;p<3;){for(b=p++;d<0;)d+=3;for(;d>2;)d-=3;t=n.points[b];if(u.x==t.x&&u.y==t.y){f=!0;break}++d}if(!f)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((O=(g=_[d]).x)==(x=(e=c.search_node).point.x)){t=e.point;if(g.x!=t.x||g.y!=t.y){t=e.prev.point;if(g.x==t.x&&g.y==t.y)e=e.prev;else{t=e.next.point;if(g.x!=t.x||g.y!=t.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");e=e.next}}}else if(O<x)for(;null!=(e=e.prev);){t=e.point;if(g.x==t.x&&g.y==t.y)break}else for(;null!=(e=e.next);){t=e.point;if(g.x==t.x&&g.y==t.y)break}null!=e&&(c.search_node=e),null!=(v=e)&&(v.triangle=n)}if(null==n.neighbors[2]){var y,g,O,x,v;c=h.front,u=n.points[2],_=n.points;null==(y=-1)&&(y=0);for(d=y,f=!1,p=0;p<3;){for(b=p++;d<0;)d+=3;for(;d>2;)d-=3;t=n.points[b];if(u.x==t.x&&u.y==t.y){f=!0;break}++d}if(!f)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((O=(g=_[d]).x)==(x=(e=c.search_node).point.x)){t=e.point;if(g.x!=t.x||g.y!=t.y){t=e.prev.point;if(g.x==t.x&&g.y==t.y)e=e.prev;else{t=e.next.point;if(g.x!=t.x||g.y!=t.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");e=e.next}}}else if(O<x)for(;null!=(e=e.prev);){t=e.point;if(g.x==t.x&&g.y==t.y)break}else for(;null!=(e=e.next);){t=e.point;if(g.x==t.x&&g.y==t.y)break}null!=e&&(c.search_node=e),null!=(v=e)&&(v.triangle=n)}}},fillAdvancingFront:function(e){for(var n,t=e.next;null!=t.next;){var i=t.next.point.x-t.point.x,s=t.next.point.y-t.point.y,r=t.prev.point.x-t.point.x,l=t.prev.point.y-t.point.y;if((n=Math.atan2(i*l-s*r,i*r+s*l))>poly2tri_Constants.PI_2||n<-poly2tri_Constants.PI_2)break;var a=poly2tri_Pool.getTriangle(t.prev.point,t.point,t.next.point),o=t.prev.triangle,h=a.points[1],c=a.points[2],u=o.points[0];if(h.x!=u.x||h.y!=u.y){var _=o.points[1];Ut=h.x==_.x&&h.y==_.y}else Ut=!0;if(Ut)wt=!0;else{var d=o.points[2];wt=h.x==d.x&&h.y==d.y}if(wt){var f=o.points[0];if(c.x!=f.x||c.y!=f.y){var p=o.points[1];Ct=c.x==p.x&&c.y==p.y}else Ct=!0;if(Ct)mt=!0;else{var b=o.points[2];mt=c.x==b.x&&c.y==b.y}}else mt=!1;if(mt){a.neighbors[0]=o;var y=a.points[1],g=a.points[2],O=o.points[2];if(y.x==O.x&&y.y==O.y){var x=o.points[1];Dt=g.x==x.x&&g.y==x.y}else Dt=!1;if(Dt)Tt=!0;else{var v=o.points[1];if(y.x==v.x&&y.y==v.y){var m=o.points[2];Tt=g.x==m.x&&g.y==m.y}else Tt=!1}if(Tt)o.neighbors[0]=a;else{var w=o.points[0];if(y.x==w.x&&y.y==w.y){var U=o.points[2];At=g.x==U.x&&g.y==U.y}else At=!1;if(At)Et=!0;else{var C=o.points[2];if(y.x==C.x&&y.y==C.y){var T=o.points[0];Et=g.x==T.x&&g.y==T.y}else Et=!1}if(Et)o.neighbors[1]=a;else{var D=o.points[0];if(y.x==D.x&&y.y==D.y){var E=o.points[1];Mt=g.x==E.x&&g.y==E.y}else Mt=!1;if(Mt)St=!0;else{var A=o.points[1];if(y.x==A.x&&y.y==A.y){var S=o.points[0];St=g.x==S.x&&g.y==S.y}else St=!1}if(!St)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");o.neighbors[2]=a}}}else{var M=a.points[0],P=a.points[2],F=o.points[0];if(M.x!=F.x||M.y!=F.y){var k=o.points[1];kt=M.x==k.x&&M.y==k.y}else kt=!0;if(kt)Ft=!0;else{var R=o.points[2];Ft=M.x==R.x&&M.y==R.y}if(Ft){var I=o.points[0];if(P.x!=I.x||P.y!=I.y){var N=o.points[1];Rt=P.x==N.x&&P.y==N.y}else Rt=!0;if(Rt)Pt=!0;else{var L=o.points[2];Pt=P.x==L.x&&P.y==L.y}}else Pt=!1;if(Pt){a.neighbors[1]=o;var B=a.points[0],G=a.points[2],W=o.points[2];if(B.x==W.x&&B.y==W.y){var K=o.points[1];Nt=G.x==K.x&&G.y==K.y}else Nt=!1;if(Nt)It=!0;else{var Y=o.points[1];if(B.x==Y.x&&B.y==Y.y){var H=o.points[2];It=G.x==H.x&&G.y==H.y}else It=!1}if(It)o.neighbors[0]=a;else{var X=o.points[0];if(B.x==X.x&&B.y==X.y){var V=o.points[2];Bt=G.x==V.x&&G.y==V.y}else Bt=!1;if(Bt)Lt=!0;else{var z=o.points[2];if(B.x==z.x&&B.y==z.y){var j=o.points[0];Lt=G.x==j.x&&G.y==j.y}else Lt=!1}if(Lt)o.neighbors[1]=a;else{var $=o.points[0];if(B.x==$.x&&B.y==$.y){var Q=o.points[1];Wt=G.x==Q.x&&G.y==Q.y}else Wt=!1;if(Wt)Gt=!0;else{var q=o.points[1];if(B.x==q.x&&B.y==q.y){var Z=o.points[0];Gt=G.x==Z.x&&G.y==Z.y}else Gt=!1}if(!Gt)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");o.neighbors[2]=a}}}else{var J=a.points[0],ee=a.points[1],ne=o.points[0];if(J.x!=ne.x||J.y!=ne.y){var te=o.points[1];Ht=J.x==te.x&&J.y==te.y}else Ht=!0;if(Ht)Yt=!0;else{var ie=o.points[2];Yt=J.x==ie.x&&J.y==ie.y}if(Yt){var se=o.points[0];if(ee.x!=se.x||ee.y!=se.y){var re=o.points[1];Xt=ee.x==re.x&&ee.y==re.y}else Xt=!0;if(Xt)Kt=!0;else{var le=o.points[2];Kt=ee.x==le.x&&ee.y==le.y}}else Kt=!1;if(Kt){a.neighbors[2]=o;var ae=a.points[0],oe=a.points[1],he=o.points[2];if(ae.x==he.x&&ae.y==he.y){var ce=o.points[1];zt=oe.x==ce.x&&oe.y==ce.y}else zt=!1;if(zt)Vt=!0;else{var ue=o.points[1];if(ae.x==ue.x&&ae.y==ue.y){var _e=o.points[2];Vt=oe.x==_e.x&&oe.y==_e.y}else Vt=!1}if(Vt)o.neighbors[0]=a;else{var de=o.points[0];if(ae.x==de.x&&ae.y==de.y){var fe=o.points[2];$t=oe.x==fe.x&&oe.y==fe.y}else $t=!1;if($t)jt=!0;else{var pe=o.points[2];if(ae.x==pe.x&&ae.y==pe.y){var be=o.points[0];jt=oe.x==be.x&&oe.y==be.y}else jt=!1}if(jt)o.neighbors[1]=a;else{var ye=o.points[0];if(ae.x==ye.x&&ae.y==ye.y){var ge=o.points[1];qt=oe.x==ge.x&&oe.y==ge.y}else qt=!1;if(qt)Qt=!0;else{var Oe=o.points[1];if(ae.x==Oe.x&&ae.y==Oe.y){var xe=o.points[0];Qt=oe.x==xe.x&&oe.y==xe.y}else Qt=!1}if(!Qt)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");o.neighbors[2]=a}}}}}var ve=t.triangle,me=a.points[1],we=a.points[2],Ue=ve.points[0];if(me.x!=Ue.x||me.y!=Ue.y){var Ce=ve.points[1];ei=me.x==Ce.x&&me.y==Ce.y}else ei=!0;if(ei)Jt=!0;else{var Te=ve.points[2];Jt=me.x==Te.x&&me.y==Te.y}if(Jt){var De=ve.points[0];if(we.x!=De.x||we.y!=De.y){var Ee=ve.points[1];ni=we.x==Ee.x&&we.y==Ee.y}else ni=!0;if(ni)Zt=!0;else{var Ae=ve.points[2];Zt=we.x==Ae.x&&we.y==Ae.y}}else Zt=!1;if(Zt){a.neighbors[0]=ve;var Se=a.points[1],Me=a.points[2],Pe=ve.points[2];if(Se.x==Pe.x&&Se.y==Pe.y){var Fe=ve.points[1];ii=Me.x==Fe.x&&Me.y==Fe.y}else ii=!1;if(ii)ti=!0;else{var ke=ve.points[1];if(Se.x==ke.x&&Se.y==ke.y){var Re=ve.points[2];ti=Me.x==Re.x&&Me.y==Re.y}else ti=!1}if(ti)ve.neighbors[0]=a;else{var Ie=ve.points[0];if(Se.x==Ie.x&&Se.y==Ie.y){var Ne=ve.points[2];ri=Me.x==Ne.x&&Me.y==Ne.y}else ri=!1;if(ri)si=!0;else{var Le=ve.points[2];if(Se.x==Le.x&&Se.y==Le.y){var Be=ve.points[0];si=Me.x==Be.x&&Me.y==Be.y}else si=!1}if(si)ve.neighbors[1]=a;else{var Ge=ve.points[0];if(Se.x==Ge.x&&Se.y==Ge.y){var We=ve.points[1];ai=Me.x==We.x&&Me.y==We.y}else ai=!1;if(ai)li=!0;else{var Ke=ve.points[1];if(Se.x==Ke.x&&Se.y==Ke.y){var Ye=ve.points[0];li=Me.x==Ye.x&&Me.y==Ye.y}else li=!1}if(!li)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");ve.neighbors[2]=a}}}else{var He=a.points[0],Xe=a.points[2],Ve=ve.points[0];if(He.x!=Ve.x||He.y!=Ve.y){var ze=ve.points[1];ci=He.x==ze.x&&He.y==ze.y}else ci=!0;if(ci)hi=!0;else{var je=ve.points[2];hi=He.x==je.x&&He.y==je.y}if(hi){var $e=ve.points[0];if(Xe.x!=$e.x||Xe.y!=$e.y){var Qe=ve.points[1];ui=Xe.x==Qe.x&&Xe.y==Qe.y}else ui=!0;if(ui)oi=!0;else{var qe=ve.points[2];oi=Xe.x==qe.x&&Xe.y==qe.y}}else oi=!1;if(oi){a.neighbors[1]=ve;var Ze=a.points[0],Je=a.points[2],en=ve.points[2];if(Ze.x==en.x&&Ze.y==en.y){var nn=ve.points[1];di=Je.x==nn.x&&Je.y==nn.y}else di=!1;if(di)_i=!0;else{var tn=ve.points[1];if(Ze.x==tn.x&&Ze.y==tn.y){var sn=ve.points[2];_i=Je.x==sn.x&&Je.y==sn.y}else _i=!1}if(_i)ve.neighbors[0]=a;else{var rn=ve.points[0];if(Ze.x==rn.x&&Ze.y==rn.y){var ln=ve.points[2];pi=Je.x==ln.x&&Je.y==ln.y}else pi=!1;if(pi)fi=!0;else{var an=ve.points[2];if(Ze.x==an.x&&Ze.y==an.y){var on=ve.points[0];fi=Je.x==on.x&&Je.y==on.y}else fi=!1}if(fi)ve.neighbors[1]=a;else{var hn=ve.points[0];if(Ze.x==hn.x&&Ze.y==hn.y){var cn=ve.points[1];yi=Je.x==cn.x&&Je.y==cn.y}else yi=!1;if(yi)bi=!0;else{var un=ve.points[1];if(Ze.x==un.x&&Ze.y==un.y){var _n=ve.points[0];bi=Je.x==_n.x&&Je.y==_n.y}else bi=!1}if(!bi)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");ve.neighbors[2]=a}}}else{var dn=a.points[0],pn=a.points[1],bn=ve.points[0];if(dn.x!=bn.x||dn.y!=bn.y){var yn=ve.points[1];xi=dn.x==yn.x&&dn.y==yn.y}else xi=!0;if(xi)Oi=!0;else{var gn=ve.points[2];Oi=dn.x==gn.x&&dn.y==gn.y}if(Oi){var On=ve.points[0];if(pn.x!=On.x||pn.y!=On.y){var xn=ve.points[1];vi=pn.x==xn.x&&pn.y==xn.y}else vi=!0;if(vi)gi=!0;else{var vn=ve.points[2];gi=pn.x==vn.x&&pn.y==vn.y}}else gi=!1;if(gi){a.neighbors[2]=ve;var mn=a.points[0],wn=a.points[1],Un=ve.points[2];if(mn.x==Un.x&&mn.y==Un.y){var Cn=ve.points[1];wi=wn.x==Cn.x&&wn.y==Cn.y}else wi=!1;if(wi)mi=!0;else{var Tn=ve.points[1];if(mn.x==Tn.x&&mn.y==Tn.y){var Dn=ve.points[2];mi=wn.x==Dn.x&&wn.y==Dn.y}else mi=!1}if(mi)ve.neighbors[0]=a;else{var En=ve.points[0];if(mn.x==En.x&&mn.y==En.y){var An=ve.points[2];Ci=wn.x==An.x&&wn.y==An.y}else Ci=!1;if(Ci)Ui=!0;else{var Sn=ve.points[2];if(mn.x==Sn.x&&mn.y==Sn.y){var Mn=ve.points[0];Ui=wn.x==Mn.x&&wn.y==Mn.y}else Ui=!1}if(Ui)ve.neighbors[1]=a;else{var Pn=ve.points[0];if(mn.x==Pn.x&&mn.y==Pn.y){var Fn=ve.points[1];Di=wn.x==Fn.x&&wn.y==Fn.y}else Di=!1;if(Di)Ti=!0;else{var kn=ve.points[1];if(mn.x==kn.x&&mn.y==kn.y){var Rn=ve.points[0];Ti=wn.x==Rn.x&&wn.y==Rn.y}else Ti=!1}if(!Ti)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");ve.neighbors[2]=a}}}}}if(t.prev.next=t.next,t.next.prev=t.prev,!this.legalize(a)){var In=this.context;if(null==a.neighbors[0]){var Nn=In.front,Ln=a.points[0],Bn=a.points;null==(Ei=-1)&&(Ei=0);for(var Gn=Ei,Wn=!1,Kn=0;Kn<3;){for(var Yn=Kn++;Gn<0;)Gn+=3;for(;Gn>2;)Gn-=3;var Hn=a.points[Yn];if(Ln.x==Hn.x&&Ln.y==Hn.y){Wn=!0;break}++Gn}if(!Wn)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((Si=(Ai=Bn[Gn]).x)==(Pi=(Mi=Nn.search_node).point.x)){var Xn=Mi.point;if(Ai.x!=Xn.x||Ai.y!=Xn.y){var Vn=Mi.prev.point;if(Ai.x==Vn.x&&Ai.y==Vn.y)Mi=Mi.prev;else{var zn=Mi.next.point;if(Ai.x!=zn.x||Ai.y!=zn.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");Mi=Mi.next}}}else if(Si<Pi)for(;null!=(Mi=Mi.prev);){var jn=Mi.point;if(Ai.x==jn.x&&Ai.y==jn.y)break}else for(;null!=(Mi=Mi.next);){var $n=Mi.point;if(Ai.x==$n.x&&Ai.y==$n.y)break}null!=Mi&&(Nn.search_node=Mi),null!=(Fi=Mi)&&(Fi.triangle=a)}if(null==a.neighbors[1]){var Qn=In.front,qn=a.points[1],Zn=a.points;null==(ki=-1)&&(ki=0);for(var Jn=ki,et=!1,nt=0;nt<3;){for(var tt=nt++;Jn<0;)Jn+=3;for(;Jn>2;)Jn-=3;var it=a.points[tt];if(qn.x==it.x&&qn.y==it.y){et=!0;break}++Jn}if(!et)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((Ii=(Ri=Zn[Jn]).x)==(Li=(Ni=Qn.search_node).point.x)){var st=Ni.point;if(Ri.x!=st.x||Ri.y!=st.y){var rt=Ni.prev.point;if(Ri.x==rt.x&&Ri.y==rt.y)Ni=Ni.prev;else{var lt=Ni.next.point;if(Ri.x!=lt.x||Ri.y!=lt.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");Ni=Ni.next}}}else if(Ii<Li)for(;null!=(Ni=Ni.prev);){var at=Ni.point;if(Ri.x==at.x&&Ri.y==at.y)break}else for(;null!=(Ni=Ni.next);){var ot=Ni.point;if(Ri.x==ot.x&&Ri.y==ot.y)break}null!=Ni&&(Qn.search_node=Ni),null!=(Bi=Ni)&&(Bi.triangle=a)}if(null==a.neighbors[2]){var ht=In.front,ct=a.points[2],ut=a.points;null==(Gi=-1)&&(Gi=0);for(var _t=Gi,dt=!1,ft=0;ft<3;){for(var pt=ft++;_t<0;)_t+=3;for(;_t>2;)_t-=3;var bt=a.points[pt];if(ct.x==bt.x&&ct.y==bt.y){dt=!0;break}++_t}if(!dt)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((Ki=(Wi=ut[_t]).x)==(Hi=(Yi=ht.search_node).point.x)){var yt=Yi.point;if(Wi.x!=yt.x||Wi.y!=yt.y){var gt=Yi.prev.point;if(Wi.x==gt.x&&Wi.y==gt.y)Yi=Yi.prev;else{var Ot=Yi.next.point;if(Wi.x!=Ot.x||Wi.y!=Ot.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");Yi=Yi.next}}}else if(Ki<Hi)for(;null!=(Yi=Yi.prev);){var xt=Yi.point;if(Wi.x==xt.x&&Wi.y==xt.y)break}else for(;null!=(Yi=Yi.next);){var vt=Yi.point;if(Wi.x==vt.x&&Wi.y==vt.y)break}null!=Yi&&(ht.search_node=Yi),null!=(Xi=Yi)&&(Xi.triangle=a)}}t=t.next}for(t=e.prev;null!=t.prev;){i=t.next.point.x-t.point.x,s=t.next.point.y-t.point.y,r=t.prev.point.x-t.point.x,l=t.prev.point.y-t.point.y;if((n=Math.atan2(i*l-s*r,i*r+s*l))>poly2tri_Constants.PI_2||n<-poly2tri_Constants.PI_2)break;var mt,wt,Ut;a=poly2tri_Pool.getTriangle(t.prev.point,t.point,t.next.point),o=t.prev.triangle,h=a.points[1],c=a.points[2],u=o.points[0];if(h.x!=u.x||h.y!=u.y){_=o.points[1];Ut=h.x==_.x&&h.y==_.y}else Ut=!0;if(Ut)wt=!0;else{d=o.points[2];wt=h.x==d.x&&h.y==d.y}if(wt){var Ct;f=o.points[0];if(c.x!=f.x||c.y!=f.y){p=o.points[1];Ct=c.x==p.x&&c.y==p.y}else Ct=!0;if(Ct)mt=!0;else{b=o.points[2];mt=c.x==b.x&&c.y==b.y}}else mt=!1;if(mt){a.neighbors[0]=o;var Tt,Dt;y=a.points[1],g=a.points[2],O=o.points[2];if(y.x==O.x&&y.y==O.y){x=o.points[1];Dt=g.x==x.x&&g.y==x.y}else Dt=!1;if(Dt)Tt=!0;else{v=o.points[1];if(y.x==v.x&&y.y==v.y){m=o.points[2];Tt=g.x==m.x&&g.y==m.y}else Tt=!1}if(Tt)o.neighbors[0]=a;else{var Et,At;w=o.points[0];if(y.x==w.x&&y.y==w.y){U=o.points[2];At=g.x==U.x&&g.y==U.y}else At=!1;if(At)Et=!0;else{C=o.points[2];if(y.x==C.x&&y.y==C.y){T=o.points[0];Et=g.x==T.x&&g.y==T.y}else Et=!1}if(Et)o.neighbors[1]=a;else{var St,Mt;D=o.points[0];if(y.x==D.x&&y.y==D.y){E=o.points[1];Mt=g.x==E.x&&g.y==E.y}else Mt=!1;if(Mt)St=!0;else{A=o.points[1];if(y.x==A.x&&y.y==A.y){S=o.points[0];St=g.x==S.x&&g.y==S.y}else St=!1}if(!St)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");o.neighbors[2]=a}}}else{var Pt,Ft,kt;M=a.points[0],P=a.points[2],F=o.points[0];if(M.x!=F.x||M.y!=F.y){k=o.points[1];kt=M.x==k.x&&M.y==k.y}else kt=!0;if(kt)Ft=!0;else{R=o.points[2];Ft=M.x==R.x&&M.y==R.y}if(Ft){var Rt;I=o.points[0];if(P.x!=I.x||P.y!=I.y){N=o.points[1];Rt=P.x==N.x&&P.y==N.y}else Rt=!0;if(Rt)Pt=!0;else{L=o.points[2];Pt=P.x==L.x&&P.y==L.y}}else Pt=!1;if(Pt){a.neighbors[1]=o;var It,Nt;B=a.points[0],G=a.points[2],W=o.points[2];if(B.x==W.x&&B.y==W.y){K=o.points[1];Nt=G.x==K.x&&G.y==K.y}else Nt=!1;if(Nt)It=!0;else{Y=o.points[1];if(B.x==Y.x&&B.y==Y.y){H=o.points[2];It=G.x==H.x&&G.y==H.y}else It=!1}if(It)o.neighbors[0]=a;else{var Lt,Bt;X=o.points[0];if(B.x==X.x&&B.y==X.y){V=o.points[2];Bt=G.x==V.x&&G.y==V.y}else Bt=!1;if(Bt)Lt=!0;else{z=o.points[2];if(B.x==z.x&&B.y==z.y){j=o.points[0];Lt=G.x==j.x&&G.y==j.y}else Lt=!1}if(Lt)o.neighbors[1]=a;else{var Gt,Wt;$=o.points[0];if(B.x==$.x&&B.y==$.y){Q=o.points[1];Wt=G.x==Q.x&&G.y==Q.y}else Wt=!1;if(Wt)Gt=!0;else{q=o.points[1];if(B.x==q.x&&B.y==q.y){Z=o.points[0];Gt=G.x==Z.x&&G.y==Z.y}else Gt=!1}if(!Gt)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");o.neighbors[2]=a}}}else{var Kt,Yt,Ht;J=a.points[0],ee=a.points[1],ne=o.points[0];if(J.x!=ne.x||J.y!=ne.y){te=o.points[1];Ht=J.x==te.x&&J.y==te.y}else Ht=!0;if(Ht)Yt=!0;else{ie=o.points[2];Yt=J.x==ie.x&&J.y==ie.y}if(Yt){var Xt;se=o.points[0];if(ee.x!=se.x||ee.y!=se.y){re=o.points[1];Xt=ee.x==re.x&&ee.y==re.y}else Xt=!0;if(Xt)Kt=!0;else{le=o.points[2];Kt=ee.x==le.x&&ee.y==le.y}}else Kt=!1;if(Kt){a.neighbors[2]=o;var Vt,zt;ae=a.points[0],oe=a.points[1],he=o.points[2];if(ae.x==he.x&&ae.y==he.y){ce=o.points[1];zt=oe.x==ce.x&&oe.y==ce.y}else zt=!1;if(zt)Vt=!0;else{ue=o.points[1];if(ae.x==ue.x&&ae.y==ue.y){_e=o.points[2];Vt=oe.x==_e.x&&oe.y==_e.y}else Vt=!1}if(Vt)o.neighbors[0]=a;else{var jt,$t;de=o.points[0];if(ae.x==de.x&&ae.y==de.y){fe=o.points[2];$t=oe.x==fe.x&&oe.y==fe.y}else $t=!1;if($t)jt=!0;else{pe=o.points[2];if(ae.x==pe.x&&ae.y==pe.y){be=o.points[0];jt=oe.x==be.x&&oe.y==be.y}else jt=!1}if(jt)o.neighbors[1]=a;else{var Qt,qt;ye=o.points[0];if(ae.x==ye.x&&ae.y==ye.y){ge=o.points[1];qt=oe.x==ge.x&&oe.y==ge.y}else qt=!1;if(qt)Qt=!0;else{Oe=o.points[1];if(ae.x==Oe.x&&ae.y==Oe.y){xe=o.points[0];Qt=oe.x==xe.x&&oe.y==xe.y}else Qt=!1}if(!Qt)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");o.neighbors[2]=a}}}}}var Zt,Jt,ei;ve=t.triangle,me=a.points[1],we=a.points[2],Ue=ve.points[0];if(me.x!=Ue.x||me.y!=Ue.y){Ce=ve.points[1];ei=me.x==Ce.x&&me.y==Ce.y}else ei=!0;if(ei)Jt=!0;else{Te=ve.points[2];Jt=me.x==Te.x&&me.y==Te.y}if(Jt){var ni;De=ve.points[0];if(we.x!=De.x||we.y!=De.y){Ee=ve.points[1];ni=we.x==Ee.x&&we.y==Ee.y}else ni=!0;if(ni)Zt=!0;else{Ae=ve.points[2];Zt=we.x==Ae.x&&we.y==Ae.y}}else Zt=!1;if(Zt){a.neighbors[0]=ve;var ti,ii;Se=a.points[1],Me=a.points[2],Pe=ve.points[2];if(Se.x==Pe.x&&Se.y==Pe.y){Fe=ve.points[1];ii=Me.x==Fe.x&&Me.y==Fe.y}else ii=!1;if(ii)ti=!0;else{ke=ve.points[1];if(Se.x==ke.x&&Se.y==ke.y){Re=ve.points[2];ti=Me.x==Re.x&&Me.y==Re.y}else ti=!1}if(ti)ve.neighbors[0]=a;else{var si,ri;Ie=ve.points[0];if(Se.x==Ie.x&&Se.y==Ie.y){Ne=ve.points[2];ri=Me.x==Ne.x&&Me.y==Ne.y}else ri=!1;if(ri)si=!0;else{Le=ve.points[2];if(Se.x==Le.x&&Se.y==Le.y){Be=ve.points[0];si=Me.x==Be.x&&Me.y==Be.y}else si=!1}if(si)ve.neighbors[1]=a;else{var li,ai;Ge=ve.points[0];if(Se.x==Ge.x&&Se.y==Ge.y){We=ve.points[1];ai=Me.x==We.x&&Me.y==We.y}else ai=!1;if(ai)li=!0;else{Ke=ve.points[1];if(Se.x==Ke.x&&Se.y==Ke.y){Ye=ve.points[0];li=Me.x==Ye.x&&Me.y==Ye.y}else li=!1}if(!li)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");ve.neighbors[2]=a}}}else{var oi,hi,ci;He=a.points[0],Xe=a.points[2],Ve=ve.points[0];if(He.x!=Ve.x||He.y!=Ve.y){ze=ve.points[1];ci=He.x==ze.x&&He.y==ze.y}else ci=!0;if(ci)hi=!0;else{je=ve.points[2];hi=He.x==je.x&&He.y==je.y}if(hi){var ui;$e=ve.points[0];if(Xe.x!=$e.x||Xe.y!=$e.y){Qe=ve.points[1];ui=Xe.x==Qe.x&&Xe.y==Qe.y}else ui=!0;if(ui)oi=!0;else{qe=ve.points[2];oi=Xe.x==qe.x&&Xe.y==qe.y}}else oi=!1;if(oi){a.neighbors[1]=ve;var _i,di;Ze=a.points[0],Je=a.points[2],en=ve.points[2];if(Ze.x==en.x&&Ze.y==en.y){nn=ve.points[1];di=Je.x==nn.x&&Je.y==nn.y}else di=!1;if(di)_i=!0;else{tn=ve.points[1];if(Ze.x==tn.x&&Ze.y==tn.y){sn=ve.points[2];_i=Je.x==sn.x&&Je.y==sn.y}else _i=!1}if(_i)ve.neighbors[0]=a;else{var fi,pi;rn=ve.points[0];if(Ze.x==rn.x&&Ze.y==rn.y){ln=ve.points[2];pi=Je.x==ln.x&&Je.y==ln.y}else pi=!1;if(pi)fi=!0;else{an=ve.points[2];if(Ze.x==an.x&&Ze.y==an.y){on=ve.points[0];fi=Je.x==on.x&&Je.y==on.y}else fi=!1}if(fi)ve.neighbors[1]=a;else{var bi,yi;hn=ve.points[0];if(Ze.x==hn.x&&Ze.y==hn.y){cn=ve.points[1];yi=Je.x==cn.x&&Je.y==cn.y}else yi=!1;if(yi)bi=!0;else{un=ve.points[1];if(Ze.x==un.x&&Ze.y==un.y){_n=ve.points[0];bi=Je.x==_n.x&&Je.y==_n.y}else bi=!1}if(!bi)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");ve.neighbors[2]=a}}}else{var gi,Oi,xi;dn=a.points[0],pn=a.points[1],bn=ve.points[0];if(dn.x!=bn.x||dn.y!=bn.y){yn=ve.points[1];xi=dn.x==yn.x&&dn.y==yn.y}else xi=!0;if(xi)Oi=!0;else{gn=ve.points[2];Oi=dn.x==gn.x&&dn.y==gn.y}if(Oi){var vi;On=ve.points[0];if(pn.x!=On.x||pn.y!=On.y){xn=ve.points[1];vi=pn.x==xn.x&&pn.y==xn.y}else vi=!0;if(vi)gi=!0;else{vn=ve.points[2];gi=pn.x==vn.x&&pn.y==vn.y}}else gi=!1;if(gi){a.neighbors[2]=ve;var mi,wi;mn=a.points[0],wn=a.points[1],Un=ve.points[2];if(mn.x==Un.x&&mn.y==Un.y){Cn=ve.points[1];wi=wn.x==Cn.x&&wn.y==Cn.y}else wi=!1;if(wi)mi=!0;else{Tn=ve.points[1];if(mn.x==Tn.x&&mn.y==Tn.y){Dn=ve.points[2];mi=wn.x==Dn.x&&wn.y==Dn.y}else mi=!1}if(mi)ve.neighbors[0]=a;else{var Ui,Ci;En=ve.points[0];if(mn.x==En.x&&mn.y==En.y){An=ve.points[2];Ci=wn.x==An.x&&wn.y==An.y}else Ci=!1;if(Ci)Ui=!0;else{Sn=ve.points[2];if(mn.x==Sn.x&&mn.y==Sn.y){Mn=ve.points[0];Ui=wn.x==Mn.x&&wn.y==Mn.y}else Ui=!1}if(Ui)ve.neighbors[1]=a;else{var Ti,Di;Pn=ve.points[0];if(mn.x==Pn.x&&mn.y==Pn.y){Fn=ve.points[1];Di=wn.x==Fn.x&&wn.y==Fn.y}else Di=!1;if(Di)Ti=!0;else{kn=ve.points[1];if(mn.x==kn.x&&mn.y==kn.y){Rn=ve.points[0];Ti=wn.x==Rn.x&&wn.y==Rn.y}else Ti=!1}if(!Ti)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");ve.neighbors[2]=a}}}}}if(t.prev.next=t.next,t.next.prev=t.prev,!this.legalize(a)){In=this.context;if(null==a.neighbors[0]){var Ei,Ai,Si,Mi,Pi,Fi;Nn=In.front,Ln=a.points[0],Bn=a.points;null==(Ei=-1)&&(Ei=0);for(Gn=Ei,Wn=!1,Kn=0;Kn<3;){for(Yn=Kn++;Gn<0;)Gn+=3;for(;Gn>2;)Gn-=3;Hn=a.points[Yn];if(Ln.x==Hn.x&&Ln.y==Hn.y){Wn=!0;break}++Gn}if(!Wn)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((Si=(Ai=Bn[Gn]).x)==(Pi=(Mi=Nn.search_node).point.x)){Xn=Mi.point;if(Ai.x!=Xn.x||Ai.y!=Xn.y){Vn=Mi.prev.point;if(Ai.x==Vn.x&&Ai.y==Vn.y)Mi=Mi.prev;else{zn=Mi.next.point;if(Ai.x!=zn.x||Ai.y!=zn.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");Mi=Mi.next}}}else if(Si<Pi)for(;null!=(Mi=Mi.prev);){jn=Mi.point;if(Ai.x==jn.x&&Ai.y==jn.y)break}else for(;null!=(Mi=Mi.next);){$n=Mi.point;if(Ai.x==$n.x&&Ai.y==$n.y)break}null!=Mi&&(Nn.search_node=Mi),null!=(Fi=Mi)&&(Fi.triangle=a)}if(null==a.neighbors[1]){var ki,Ri,Ii,Ni,Li,Bi;Qn=In.front,qn=a.points[1],Zn=a.points;null==(ki=-1)&&(ki=0);for(Jn=ki,et=!1,nt=0;nt<3;){for(tt=nt++;Jn<0;)Jn+=3;for(;Jn>2;)Jn-=3;it=a.points[tt];if(qn.x==it.x&&qn.y==it.y){et=!0;break}++Jn}if(!et)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((Ii=(Ri=Zn[Jn]).x)==(Li=(Ni=Qn.search_node).point.x)){st=Ni.point;if(Ri.x!=st.x||Ri.y!=st.y){rt=Ni.prev.point;if(Ri.x==rt.x&&Ri.y==rt.y)Ni=Ni.prev;else{lt=Ni.next.point;if(Ri.x!=lt.x||Ri.y!=lt.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");Ni=Ni.next}}}else if(Ii<Li)for(;null!=(Ni=Ni.prev);){at=Ni.point;if(Ri.x==at.x&&Ri.y==at.y)break}else for(;null!=(Ni=Ni.next);){ot=Ni.point;if(Ri.x==ot.x&&Ri.y==ot.y)break}null!=Ni&&(Qn.search_node=Ni),null!=(Bi=Ni)&&(Bi.triangle=a)}if(null==a.neighbors[2]){var Gi,Wi,Ki,Yi,Hi,Xi;ht=In.front,ct=a.points[2],ut=a.points;null==(Gi=-1)&&(Gi=0);for(_t=Gi,dt=!1,ft=0;ft<3;){for(pt=ft++;_t<0;)_t+=3;for(;_t>2;)_t-=3;bt=a.points[pt];if(ct.x==bt.x&&ct.y==bt.y){dt=!0;break}++_t}if(!dt)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((Ki=(Wi=ut[_t]).x)==(Hi=(Yi=ht.search_node).point.x)){yt=Yi.point;if(Wi.x!=yt.x||Wi.y!=yt.y){gt=Yi.prev.point;if(Wi.x==gt.x&&Wi.y==gt.y)Yi=Yi.prev;else{Ot=Yi.next.point;if(Wi.x!=Ot.x||Wi.y!=Ot.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");Yi=Yi.next}}}else if(Ki<Hi)for(;null!=(Yi=Yi.prev);){xt=Yi.point;if(Wi.x==xt.x&&Wi.y==xt.y)break}else for(;null!=(Yi=Yi.next);){vt=Yi.point;if(Wi.x==vt.x&&Wi.y==vt.y)break}null!=Yi&&(ht.search_node=Yi),null!=(Xi=Yi)&&(Xi.triangle=a)}}t=t.prev}if(null!=e.next&&null!=e.next.next&&(n=Math.atan2(e.point.y-e.next.next.point.y,e.point.x-e.next.next.point.x))<poly2tri_Constants.PI_3div4){var Vi=e.point,zi=e.next.point,ji=e.next.next.point,$i=(Vi.x-ji.x)*(zi.y-ji.y)-(Vi.y-ji.y)*(zi.x-ji.x);for(this.context.basin.left_node=-1==($i>-poly2tri_Constants.EPSILON&&$i<poly2tri_Constants.EPSILON?0:$i>0?-1:1)?e.next.next:e.next,this.context.basin.bottom_node=this.context.basin.left_node;null!=this.context.basin.bottom_node.next&&this.context.basin.bottom_node.point.y>=this.context.basin.bottom_node.next.point.y;)this.context.basin.bottom_node=this.context.basin.bottom_node.next;if(this.context.basin.bottom_node!=this.context.basin.left_node){for(this.context.basin.right_node=this.context.basin.bottom_node;null!=this.context.basin.right_node.next&&this.context.basin.right_node.point.y<this.context.basin.right_node.next.point.y;)this.context.basin.right_node=this.context.basin.right_node.next;this.context.basin.right_node!=this.context.basin.bottom_node&&(this.context.basin.width=this.context.basin.right_node.point.x-this.context.basin.left_node.point.x,this.context.basin.left_highest=this.context.basin.left_node.point.y>this.context.basin.right_node.point.y,this.fillBasinReq(this.context.basin.bottom_node))}}},legalize:function(e){for(var n=0;n<3;){var t=n++;if(!e.delaunay_edge[t]){var i=e.neighbors[t];if(null!=i){var s=e.points[t],r=e.points,l=-1;null==l&&(l=0);for(var a=l,o=!1,h=0;h<3;){for(var c=h++;a<0;)a+=3;for(;a>2;)a-=3;var u=e.points[c];if(s.x==u.x&&s.y==u.y){o=!0;break}++a}if(!o)throw haxe_Exception.thrown("Triangle::Point not in triangle");var _=r[a],d=i.points,f=-1;null==f&&(f=0);for(var p=f,b=!1,y=0;y<3;){for(var g=y++;p<0;)p+=3;for(;p>2;)p-=3;var O=i.points[g];if(_.x==O.x&&_.y==O.y){b=!0;break}++p}if(!b)throw haxe_Exception.thrown("Triangle::Point not in triangle");var x=d[p],v=-1;try{var m=0;null==m&&(m=0);for(var w=m,U=!1,C=0;C<3;){for(var T=C++;w<0;)w+=3;for(;w>2;)w-=3;var D=i.points[T];if(x.x==D.x&&x.y==D.y){U=!0;break}++w}if(!U)throw haxe_Exception.thrown("Triangle::Point not in triangle");v=w}catch(e){var E=haxe_Exception.caught(e).unwrap();if("string"!=typeof E)throw e;var A=E;haxe_Log.trace(A,{fileName:"/Users/jeremyfa/Developer/ceramic/git/poly2tri/src/poly2tri/Triangle.hx",lineNumber:275,className:"poly2tri.Triangle",methodName:"index"})}var S=v;if(i.constrained_edge[S]||i.delaunay_edge[S]){e.constrained_edge[t]=i.constrained_edge[S];continue}var M=e.points,P=1;null==P&&(P=0);for(var F=P,k=!1,R=0;R<3;){for(var I=R++;F<0;)F+=3;for(;F>2;)F-=3;var N=e.points[I];if(s.x==N.x&&s.y==N.y){k=!0;break}++F}if(!k)throw haxe_Exception.thrown("Triangle::Point not in triangle");var L=M[F],B=e.points,G=-1;null==G&&(G=0);for(var W=G,K=!1,Y=0;Y<3;){for(var H=Y++;W<0;)W+=3;for(;W>2;)W-=3;var X=e.points[H];if(s.x==X.x&&s.y==X.y){K=!0;break}++W}if(!K)throw haxe_Exception.thrown("Triangle::Point not in triangle");var V=B[W],z=s.x-x.x,j=s.y-x.y,$=L.x-x.x,Q=L.y-x.y,q=z*Q-$*j,Z=!1;if(q>0){var J=V.x-x.x,ee=V.y-x.y,ne=J*j-z*ee;if(ne>0)Z=(z*z+j*j)*($*ee-J*Q)+($*$+Q*Q)*ne+(J*J+ee*ee)*q>0}if(Z){e.delaunay_edge[t]=!0,i.delaunay_edge[S]=!0;var te=e.neighbors,ie=-1;null==ie&&(ie=0);for(var se=ie,re=!1,le=0;le<3;){for(var ae=le++;se<0;)se+=3;for(;se>2;)se-=3;var oe=e.points[ae];if(s.x==oe.x&&s.y==oe.y){re=!0;break}++se}if(!re)throw haxe_Exception.thrown("Triangle::Point not in triangle");var he=te[se],ce=e.neighbors,ue=1;null==ue&&(ue=0);for(var _e=ue,de=!1,fe=0;fe<3;){for(var pe=fe++;_e<0;)_e+=3;for(;_e>2;)_e-=3;var be=e.points[pe];if(s.x==be.x&&s.y==be.y){de=!0;break}++_e}if(!de)throw haxe_Exception.thrown("Triangle::Point not in triangle");var ye=ce[_e],ge=i.neighbors,Oe=-1;null==Oe&&(Oe=0);for(var xe=Oe,ve=!1,me=0;me<3;){for(var we=me++;xe<0;)xe+=3;for(;xe>2;)xe-=3;var Ue=i.points[we];if(x.x==Ue.x&&x.y==Ue.y){ve=!0;break}++xe}if(!ve)throw haxe_Exception.thrown("Triangle::Point not in triangle");var Ce=ge[xe],Te=i.neighbors,De=1;null==De&&(De=0);for(var Ee=De,Ae=!1,Se=0;Se<3;){for(var Me=Se++;Ee<0;)Ee+=3;for(;Ee>2;)Ee-=3;var Pe=i.points[Me];if(x.x==Pe.x&&x.y==Pe.y){Ae=!0;break}++Ee}if(!Ae)throw haxe_Exception.thrown("Triangle::Point not in triangle");var Fe=Te[Ee],ke=e.constrained_edge,Re=-1;null==Re&&(Re=0);for(var Ie=Re,Ne=!1,Le=0;Le<3;){for(var Be=Le++;Ie<0;)Ie+=3;for(;Ie>2;)Ie-=3;var Ge=e.points[Be];if(s.x==Ge.x&&s.y==Ge.y){Ne=!0;break}++Ie}if(!Ne)throw haxe_Exception.thrown("Triangle::Point not in triangle");var We=ke[Ie],Ke=e.constrained_edge,Ye=1;null==Ye&&(Ye=0);for(var He=Ye,Xe=!1,Ve=0;Ve<3;){for(var ze=Ve++;He<0;)He+=3;for(;He>2;)He-=3;var je=e.points[ze];if(s.x==je.x&&s.y==je.y){Xe=!0;break}++He}if(!Xe)throw haxe_Exception.thrown("Triangle::Point not in triangle");var $e=Ke[He],Qe=i.constrained_edge,qe=-1;null==qe&&(qe=0);for(var Ze=qe,Je=!1,en=0;en<3;){for(var nn=en++;Ze<0;)Ze+=3;for(;Ze>2;)Ze-=3;var tn=i.points[nn];if(x.x==tn.x&&x.y==tn.y){Je=!0;break}++Ze}if(!Je)throw haxe_Exception.thrown("Triangle::Point not in triangle");var sn=Qe[Ze],rn=i.constrained_edge,ln=1;null==ln&&(ln=0);for(var an=ln,on=!1,hn=0;hn<3;){for(var cn=hn++;an<0;)an+=3;for(;an>2;)an-=3;var un=i.points[cn];if(x.x==un.x&&x.y==un.y){on=!0;break}++an}if(!on)throw haxe_Exception.thrown("Triangle::Point not in triangle");var _n=rn[an],dn=e.delaunay_edge,pn=-1;null==pn&&(pn=0);for(var bn=pn,yn=!1,gn=0;gn<3;){for(var On=gn++;bn<0;)bn+=3;for(;bn>2;)bn-=3;var xn=e.points[On];if(s.x==xn.x&&s.y==xn.y){yn=!0;break}++bn}if(!yn)throw haxe_Exception.thrown("Triangle::Point not in triangle");var vn=dn[bn],mn=e.delaunay_edge,wn=1;null==wn&&(wn=0);for(var Un=wn,Cn=!1,Tn=0;Tn<3;){for(var Dn=Tn++;Un<0;)Un+=3;for(;Un>2;)Un-=3;var En=e.points[Dn];if(s.x==En.x&&s.y==En.y){Cn=!0;break}++Un}if(!Cn)throw haxe_Exception.thrown("Triangle::Point not in triangle");var An=mn[Un],Sn=i.delaunay_edge,Mn=-1;null==Mn&&(Mn=0);for(var Pn=Mn,Fn=!1,kn=0;kn<3;){for(var Rn=kn++;Pn<0;)Pn+=3;for(;Pn>2;)Pn-=3;var In=i.points[Rn];if(x.x==In.x&&x.y==In.y){Fn=!0;break}++Pn}if(!Fn)throw haxe_Exception.thrown("Triangle::Point not in triangle");var Nn=Sn[Pn],Ln=i.delaunay_edge,Bn=1;null==Bn&&(Bn=0);for(var Gn=Bn,Wn=!1,Kn=0;Kn<3;){for(var Yn=Kn++;Gn<0;)Gn+=3;for(;Gn>2;)Gn-=3;var Hn=i.points[Yn];if(x.x==Hn.x&&x.y==Hn.y){Wn=!0;break}++Gn}if(!Wn)throw haxe_Exception.thrown("Triangle::Point not in triangle");var Xn=Ln[Gn];e.legalize(s,x),i.legalize(x,s);var Vn=i.delaunay_edge,zn=-1;null==zn&&(zn=0);for(var jn=zn,$n=!1,Qn=0;Qn<3;){for(var qn=Qn++;jn<0;)jn+=3;for(;jn>2;)jn-=3;var Zn=i.points[qn];if(s.x==Zn.x&&s.y==Zn.y){$n=!0;break}++jn}if(!$n)throw haxe_Exception.thrown("Triangle::Point not in triangle");Vn[jn]=vn;var Jn=e.delaunay_edge,et=1;null==et&&(et=0);for(var nt=et,tt=!1,it=0;it<3;){for(var st=it++;nt<0;)nt+=3;for(;nt>2;)nt-=3;var rt=e.points[st];if(s.x==rt.x&&s.y==rt.y){tt=!0;break}++nt}if(!tt)throw haxe_Exception.thrown("Triangle::Point not in triangle");Jn[nt]=An;var lt=e.delaunay_edge,at=-1;null==at&&(at=0);for(var ot=at,ht=!1,ct=0;ct<3;){for(var ut=ct++;ot<0;)ot+=3;for(;ot>2;)ot-=3;var _t=e.points[ut];if(x.x==_t.x&&x.y==_t.y){ht=!0;break}++ot}if(!ht)throw haxe_Exception.thrown("Triangle::Point not in triangle");lt[ot]=Nn;var dt=i.delaunay_edge,ft=1;null==ft&&(ft=0);for(var pt=ft,bt=!1,yt=0;yt<3;){for(var gt=yt++;pt<0;)pt+=3;for(;pt>2;)pt-=3;var Ot=i.points[gt];if(x.x==Ot.x&&x.y==Ot.y){bt=!0;break}++pt}if(!bt)throw haxe_Exception.thrown("Triangle::Point not in triangle");dt[pt]=Xn;var xt=i.constrained_edge,vt=-1;null==vt&&(vt=0);for(var mt=vt,wt=!1,Ut=0;Ut<3;){for(var Ct=Ut++;mt<0;)mt+=3;for(;mt>2;)mt-=3;var Tt=i.points[Ct];if(s.x==Tt.x&&s.y==Tt.y){wt=!0;break}++mt}if(!wt)throw haxe_Exception.thrown("Triangle::Point not in triangle");xt[mt]=We;var Dt=e.constrained_edge,Et=1;null==Et&&(Et=0);for(var At=Et,St=!1,Mt=0;Mt<3;){for(var Pt=Mt++;At<0;)At+=3;for(;At>2;)At-=3;var Ft=e.points[Pt];if(s.x==Ft.x&&s.y==Ft.y){St=!0;break}++At}if(!St)throw haxe_Exception.thrown("Triangle::Point not in triangle");Dt[At]=$e;var kt=e.constrained_edge,Rt=-1;null==Rt&&(Rt=0);for(var It=Rt,Nt=!1,Lt=0;Lt<3;){for(var Bt=Lt++;It<0;)It+=3;for(;It>2;)It-=3;var Gt=e.points[Bt];if(x.x==Gt.x&&x.y==Gt.y){Nt=!0;break}++It}if(!Nt)throw haxe_Exception.thrown("Triangle::Point not in triangle");kt[It]=sn;var Wt=i.constrained_edge,Kt=1;null==Kt&&(Kt=0);for(var Yt=Kt,Ht=!1,Xt=0;Xt<3;){for(var Vt=Xt++;Yt<0;)Yt+=3;for(;Yt>2;)Yt-=3;var zt=i.points[Vt];if(x.x==zt.x&&x.y==zt.y){Ht=!0;break}++Yt}if(!Ht)throw haxe_Exception.thrown("Triangle::Point not in triangle");if(Wt[Yt]=_n,e.neighbors[0]=null,e.neighbors[1]=null,e.neighbors[2]=null,i.neighbors[0]=null,i.neighbors[1]=null,i.neighbors[2]=null,null!=he){var jt,$t,Qt,qt=i.points[1],Zt=i.points[2],Jt=he.points[0];if(qt.x!=Jt.x||qt.y!=Jt.y){var ei=he.points[1];Qt=qt.x==ei.x&&qt.y==ei.y}else Qt=!0;if(Qt)$t=!0;else{var ni=he.points[2];$t=qt.x==ni.x&&qt.y==ni.y}if($t){var ti,ii=he.points[0];if(Zt.x!=ii.x||Zt.y!=ii.y){var si=he.points[1];ti=Zt.x==si.x&&Zt.y==si.y}else ti=!0;if(ti)jt=!0;else{var ri=he.points[2];jt=Zt.x==ri.x&&Zt.y==ri.y}}else jt=!1;if(jt){i.neighbors[0]=he;var li,ai,oi=i.points[1],hi=i.points[2],ci=he.points[2];if(oi.x==ci.x&&oi.y==ci.y){var ui=he.points[1];ai=hi.x==ui.x&&hi.y==ui.y}else ai=!1;if(ai)li=!0;else{var _i=he.points[1];if(oi.x==_i.x&&oi.y==_i.y){var di=he.points[2];li=hi.x==di.x&&hi.y==di.y}else li=!1}if(li)he.neighbors[0]=i;else{var fi,pi,bi=he.points[0];if(oi.x==bi.x&&oi.y==bi.y){var yi=he.points[2];pi=hi.x==yi.x&&hi.y==yi.y}else pi=!1;if(pi)fi=!0;else{var gi=he.points[2];if(oi.x==gi.x&&oi.y==gi.y){var Oi=he.points[0];fi=hi.x==Oi.x&&hi.y==Oi.y}else fi=!1}if(fi)he.neighbors[1]=i;else{var xi,vi,mi=he.points[0];if(oi.x==mi.x&&oi.y==mi.y){var wi=he.points[1];vi=hi.x==wi.x&&hi.y==wi.y}else vi=!1;if(vi)xi=!0;else{var Ui=he.points[1];if(oi.x==Ui.x&&oi.y==Ui.y){var Ci=he.points[0];xi=hi.x==Ci.x&&hi.y==Ci.y}else xi=!1}if(!xi)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");he.neighbors[2]=i}}}else{var Ti,Di,Ei,Ai=i.points[0],Si=i.points[2],Mi=he.points[0];if(Ai.x!=Mi.x||Ai.y!=Mi.y){var Pi=he.points[1];Ei=Ai.x==Pi.x&&Ai.y==Pi.y}else Ei=!0;if(Ei)Di=!0;else{var Fi=he.points[2];Di=Ai.x==Fi.x&&Ai.y==Fi.y}if(Di){var ki,Ri=he.points[0];if(Si.x!=Ri.x||Si.y!=Ri.y){var Ii=he.points[1];ki=Si.x==Ii.x&&Si.y==Ii.y}else ki=!0;if(ki)Ti=!0;else{var Ni=he.points[2];Ti=Si.x==Ni.x&&Si.y==Ni.y}}else Ti=!1;if(Ti){i.neighbors[1]=he;var Li,Bi,Gi=i.points[0],Wi=i.points[2],Ki=he.points[2];if(Gi.x==Ki.x&&Gi.y==Ki.y){var Yi=he.points[1];Bi=Wi.x==Yi.x&&Wi.y==Yi.y}else Bi=!1;if(Bi)Li=!0;else{var Hi=he.points[1];if(Gi.x==Hi.x&&Gi.y==Hi.y){var Xi=he.points[2];Li=Wi.x==Xi.x&&Wi.y==Xi.y}else Li=!1}if(Li)he.neighbors[0]=i;else{var Vi,zi,ji=he.points[0];if(Gi.x==ji.x&&Gi.y==ji.y){var $i=he.points[2];zi=Wi.x==$i.x&&Wi.y==$i.y}else zi=!1;if(zi)Vi=!0;else{var Qi=he.points[2];if(Gi.x==Qi.x&&Gi.y==Qi.y){var qi=he.points[0];Vi=Wi.x==qi.x&&Wi.y==qi.y}else Vi=!1}if(Vi)he.neighbors[1]=i;else{var Zi,Ji,es=he.points[0];if(Gi.x==es.x&&Gi.y==es.y){var ns=he.points[1];Ji=Wi.x==ns.x&&Wi.y==ns.y}else Ji=!1;if(Ji)Zi=!0;else{var ts=he.points[1];if(Gi.x==ts.x&&Gi.y==ts.y){var is=he.points[0];Zi=Wi.x==is.x&&Wi.y==is.y}else Zi=!1}if(!Zi)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");he.neighbors[2]=i}}}else{var ss,rs,ls,as=i.points[0],os=i.points[1],hs=he.points[0];if(as.x!=hs.x||as.y!=hs.y){var cs=he.points[1];ls=as.x==cs.x&&as.y==cs.y}else ls=!0;if(ls)rs=!0;else{var us=he.points[2];rs=as.x==us.x&&as.y==us.y}if(rs){var _s,ds=he.points[0];if(os.x!=ds.x||os.y!=ds.y){var fs=he.points[1];_s=os.x==fs.x&&os.y==fs.y}else _s=!0;if(_s)ss=!0;else{var ps=he.points[2];ss=os.x==ps.x&&os.y==ps.y}}else ss=!1;if(ss){i.neighbors[2]=he;var bs,ys,gs=i.points[0],Os=i.points[1],xs=he.points[2];if(gs.x==xs.x&&gs.y==xs.y){var vs=he.points[1];ys=Os.x==vs.x&&Os.y==vs.y}else ys=!1;if(ys)bs=!0;else{var ms=he.points[1];if(gs.x==ms.x&&gs.y==ms.y){var ws=he.points[2];bs=Os.x==ws.x&&Os.y==ws.y}else bs=!1}if(bs)he.neighbors[0]=i;else{var Us,Cs,Ts=he.points[0];if(gs.x==Ts.x&&gs.y==Ts.y){var Ds=he.points[2];Cs=Os.x==Ds.x&&Os.y==Ds.y}else Cs=!1;if(Cs)Us=!0;else{var Es=he.points[2];if(gs.x==Es.x&&gs.y==Es.y){var As=he.points[0];Us=Os.x==As.x&&Os.y==As.y}else Us=!1}if(Us)he.neighbors[1]=i;else{var Ss,Ms,Ps=he.points[0];if(gs.x==Ps.x&&gs.y==Ps.y){var Fs=he.points[1];Ms=Os.x==Fs.x&&Os.y==Fs.y}else Ms=!1;if(Ms)Ss=!0;else{var ks=he.points[1];if(gs.x==ks.x&&gs.y==ks.y){var Rs=he.points[0];Ss=Os.x==Rs.x&&Os.y==Rs.y}else Ss=!1}if(!Ss)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");he.neighbors[2]=i}}}}}}if(null!=ye){var Is,Ns,Ls,Bs=e.points[1],Gs=e.points[2],Ws=ye.points[0];if(Bs.x!=Ws.x||Bs.y!=Ws.y){var Ks=ye.points[1];Ls=Bs.x==Ks.x&&Bs.y==Ks.y}else Ls=!0;if(Ls)Ns=!0;else{var Ys=ye.points[2];Ns=Bs.x==Ys.x&&Bs.y==Ys.y}if(Ns){var Hs,Xs=ye.points[0];if(Gs.x!=Xs.x||Gs.y!=Xs.y){var Vs=ye.points[1];Hs=Gs.x==Vs.x&&Gs.y==Vs.y}else Hs=!0;if(Hs)Is=!0;else{var zs=ye.points[2];Is=Gs.x==zs.x&&Gs.y==zs.y}}else Is=!1;if(Is){e.neighbors[0]=ye;var js,$s,Qs=e.points[1],qs=e.points[2],Zs=ye.points[2];if(Qs.x==Zs.x&&Qs.y==Zs.y){var Js=ye.points[1];$s=qs.x==Js.x&&qs.y==Js.y}else $s=!1;if($s)js=!0;else{var er=ye.points[1];if(Qs.x==er.x&&Qs.y==er.y){var nr=ye.points[2];js=qs.x==nr.x&&qs.y==nr.y}else js=!1}if(js)ye.neighbors[0]=e;else{var tr,ir,sr=ye.points[0];if(Qs.x==sr.x&&Qs.y==sr.y){var rr=ye.points[2];ir=qs.x==rr.x&&qs.y==rr.y}else ir=!1;if(ir)tr=!0;else{var lr=ye.points[2];if(Qs.x==lr.x&&Qs.y==lr.y){var ar=ye.points[0];tr=qs.x==ar.x&&qs.y==ar.y}else tr=!1}if(tr)ye.neighbors[1]=e;else{var or,hr,cr=ye.points[0];if(Qs.x==cr.x&&Qs.y==cr.y){var ur=ye.points[1];hr=qs.x==ur.x&&qs.y==ur.y}else hr=!1;if(hr)or=!0;else{var _r=ye.points[1];if(Qs.x==_r.x&&Qs.y==_r.y){var dr=ye.points[0];or=qs.x==dr.x&&qs.y==dr.y}else or=!1}if(!or)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");ye.neighbors[2]=e}}}else{var fr,pr,br,yr=e.points[0],gr=e.points[2],Or=ye.points[0];if(yr.x!=Or.x||yr.y!=Or.y){var xr=ye.points[1];br=yr.x==xr.x&&yr.y==xr.y}else br=!0;if(br)pr=!0;else{var vr=ye.points[2];pr=yr.x==vr.x&&yr.y==vr.y}if(pr){var mr,wr=ye.points[0];if(gr.x!=wr.x||gr.y!=wr.y){var Ur=ye.points[1];mr=gr.x==Ur.x&&gr.y==Ur.y}else mr=!0;if(mr)fr=!0;else{var Cr=ye.points[2];fr=gr.x==Cr.x&&gr.y==Cr.y}}else fr=!1;if(fr){e.neighbors[1]=ye;var Tr,Dr,Er=e.points[0],Ar=e.points[2],Sr=ye.points[2];if(Er.x==Sr.x&&Er.y==Sr.y){var Mr=ye.points[1];Dr=Ar.x==Mr.x&&Ar.y==Mr.y}else Dr=!1;if(Dr)Tr=!0;else{var Pr=ye.points[1];if(Er.x==Pr.x&&Er.y==Pr.y){var Fr=ye.points[2];Tr=Ar.x==Fr.x&&Ar.y==Fr.y}else Tr=!1}if(Tr)ye.neighbors[0]=e;else{var kr,Rr,Ir=ye.points[0];if(Er.x==Ir.x&&Er.y==Ir.y){var Nr=ye.points[2];Rr=Ar.x==Nr.x&&Ar.y==Nr.y}else Rr=!1;if(Rr)kr=!0;else{var Lr=ye.points[2];if(Er.x==Lr.x&&Er.y==Lr.y){var Br=ye.points[0];kr=Ar.x==Br.x&&Ar.y==Br.y}else kr=!1}if(kr)ye.neighbors[1]=e;else{var Gr,Wr,Kr=ye.points[0];if(Er.x==Kr.x&&Er.y==Kr.y){var Yr=ye.points[1];Wr=Ar.x==Yr.x&&Ar.y==Yr.y}else Wr=!1;if(Wr)Gr=!0;else{var Hr=ye.points[1];if(Er.x==Hr.x&&Er.y==Hr.y){var Xr=ye.points[0];Gr=Ar.x==Xr.x&&Ar.y==Xr.y}else Gr=!1}if(!Gr)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");ye.neighbors[2]=e}}}else{var Vr,zr,jr,$r=e.points[0],Qr=e.points[1],qr=ye.points[0];if($r.x!=qr.x||$r.y!=qr.y){var Zr=ye.points[1];jr=$r.x==Zr.x&&$r.y==Zr.y}else jr=!0;if(jr)zr=!0;else{var Jr=ye.points[2];zr=$r.x==Jr.x&&$r.y==Jr.y}if(zr){var el,nl=ye.points[0];if(Qr.x!=nl.x||Qr.y!=nl.y){var tl=ye.points[1];el=Qr.x==tl.x&&Qr.y==tl.y}else el=!0;if(el)Vr=!0;else{var il=ye.points[2];Vr=Qr.x==il.x&&Qr.y==il.y}}else Vr=!1;if(Vr){e.neighbors[2]=ye;var sl,rl,ll=e.points[0],al=e.points[1],ol=ye.points[2];if(ll.x==ol.x&&ll.y==ol.y){var hl=ye.points[1];rl=al.x==hl.x&&al.y==hl.y}else rl=!1;if(rl)sl=!0;else{var cl=ye.points[1];if(ll.x==cl.x&&ll.y==cl.y){var ul=ye.points[2];sl=al.x==ul.x&&al.y==ul.y}else sl=!1}if(sl)ye.neighbors[0]=e;else{var _l,dl,fl=ye.points[0];if(ll.x==fl.x&&ll.y==fl.y){var pl=ye.points[2];dl=al.x==pl.x&&al.y==pl.y}else dl=!1;if(dl)_l=!0;else{var bl=ye.points[2];if(ll.x==bl.x&&ll.y==bl.y){var yl=ye.points[0];_l=al.x==yl.x&&al.y==yl.y}else _l=!1}if(_l)ye.neighbors[1]=e;else{var gl,Ol,xl=ye.points[0];if(ll.x==xl.x&&ll.y==xl.y){var vl=ye.points[1];Ol=al.x==vl.x&&al.y==vl.y}else Ol=!1;if(Ol)gl=!0;else{var ml=ye.points[1];if(ll.x==ml.x&&ll.y==ml.y){var wl=ye.points[0];gl=al.x==wl.x&&al.y==wl.y}else gl=!1}if(!gl)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");ye.neighbors[2]=e}}}}}}if(null!=Ce){var Ul,Cl,Tl,Dl=e.points[1],El=e.points[2],Al=Ce.points[0];if(Dl.x!=Al.x||Dl.y!=Al.y){var Sl=Ce.points[1];Tl=Dl.x==Sl.x&&Dl.y==Sl.y}else Tl=!0;if(Tl)Cl=!0;else{var Ml=Ce.points[2];Cl=Dl.x==Ml.x&&Dl.y==Ml.y}if(Cl){var Pl,Fl=Ce.points[0];if(El.x!=Fl.x||El.y!=Fl.y){var kl=Ce.points[1];Pl=El.x==kl.x&&El.y==kl.y}else Pl=!0;if(Pl)Ul=!0;else{var Rl=Ce.points[2];Ul=El.x==Rl.x&&El.y==Rl.y}}else Ul=!1;if(Ul){e.neighbors[0]=Ce;var Il,Nl,Ll=e.points[1],Bl=e.points[2],Gl=Ce.points[2];if(Ll.x==Gl.x&&Ll.y==Gl.y){var Wl=Ce.points[1];Nl=Bl.x==Wl.x&&Bl.y==Wl.y}else Nl=!1;if(Nl)Il=!0;else{var Kl=Ce.points[1];if(Ll.x==Kl.x&&Ll.y==Kl.y){var Yl=Ce.points[2];Il=Bl.x==Yl.x&&Bl.y==Yl.y}else Il=!1}if(Il)Ce.neighbors[0]=e;else{var Hl,Xl,Vl=Ce.points[0];if(Ll.x==Vl.x&&Ll.y==Vl.y){var zl=Ce.points[2];Xl=Bl.x==zl.x&&Bl.y==zl.y}else Xl=!1;if(Xl)Hl=!0;else{var jl=Ce.points[2];if(Ll.x==jl.x&&Ll.y==jl.y){var $l=Ce.points[0];Hl=Bl.x==$l.x&&Bl.y==$l.y}else Hl=!1}if(Hl)Ce.neighbors[1]=e;else{var Ql,ql,Zl=Ce.points[0];if(Ll.x==Zl.x&&Ll.y==Zl.y){var Jl=Ce.points[1];ql=Bl.x==Jl.x&&Bl.y==Jl.y}else ql=!1;if(ql)Ql=!0;else{var ea=Ce.points[1];if(Ll.x==ea.x&&Ll.y==ea.y){var na=Ce.points[0];Ql=Bl.x==na.x&&Bl.y==na.y}else Ql=!1}if(!Ql)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");Ce.neighbors[2]=e}}}else{var ta,ia,sa,ra=e.points[0],la=e.points[2],aa=Ce.points[0];if(ra.x!=aa.x||ra.y!=aa.y){var oa=Ce.points[1];sa=ra.x==oa.x&&ra.y==oa.y}else sa=!0;if(sa)ia=!0;else{var ha=Ce.points[2];ia=ra.x==ha.x&&ra.y==ha.y}if(ia){var ca,ua=Ce.points[0];if(la.x!=ua.x||la.y!=ua.y){var _a=Ce.points[1];ca=la.x==_a.x&&la.y==_a.y}else ca=!0;if(ca)ta=!0;else{var da=Ce.points[2];ta=la.x==da.x&&la.y==da.y}}else ta=!1;if(ta){e.neighbors[1]=Ce;var fa,pa,ba=e.points[0],ya=e.points[2],ga=Ce.points[2];if(ba.x==ga.x&&ba.y==ga.y){var Oa=Ce.points[1];pa=ya.x==Oa.x&&ya.y==Oa.y}else pa=!1;if(pa)fa=!0;else{var xa=Ce.points[1];if(ba.x==xa.x&&ba.y==xa.y){var va=Ce.points[2];fa=ya.x==va.x&&ya.y==va.y}else fa=!1}if(fa)Ce.neighbors[0]=e;else{var ma,wa,Ua=Ce.points[0];if(ba.x==Ua.x&&ba.y==Ua.y){var Ca=Ce.points[2];wa=ya.x==Ca.x&&ya.y==Ca.y}else wa=!1;if(wa)ma=!0;else{var Ta=Ce.points[2];if(ba.x==Ta.x&&ba.y==Ta.y){var Da=Ce.points[0];ma=ya.x==Da.x&&ya.y==Da.y}else ma=!1}if(ma)Ce.neighbors[1]=e;else{var Ea,Aa,Sa=Ce.points[0];if(ba.x==Sa.x&&ba.y==Sa.y){var Ma=Ce.points[1];Aa=ya.x==Ma.x&&ya.y==Ma.y}else Aa=!1;if(Aa)Ea=!0;else{var Pa=Ce.points[1];if(ba.x==Pa.x&&ba.y==Pa.y){var Fa=Ce.points[0];Ea=ya.x==Fa.x&&ya.y==Fa.y}else Ea=!1}if(!Ea)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");Ce.neighbors[2]=e}}}else{var ka,Ra,Ia,Na=e.points[0],La=e.points[1],Ba=Ce.points[0];if(Na.x!=Ba.x||Na.y!=Ba.y){var Ga=Ce.points[1];Ia=Na.x==Ga.x&&Na.y==Ga.y}else Ia=!0;if(Ia)Ra=!0;else{var Wa=Ce.points[2];Ra=Na.x==Wa.x&&Na.y==Wa.y}if(Ra){var Ka,Ya=Ce.points[0];if(La.x!=Ya.x||La.y!=Ya.y){var Ha=Ce.points[1];Ka=La.x==Ha.x&&La.y==Ha.y}else Ka=!0;if(Ka)ka=!0;else{var Xa=Ce.points[2];ka=La.x==Xa.x&&La.y==Xa.y}}else ka=!1;if(ka){e.neighbors[2]=Ce;var Va,za,ja=e.points[0],$a=e.points[1],Qa=Ce.points[2];if(ja.x==Qa.x&&ja.y==Qa.y){var qa=Ce.points[1];za=$a.x==qa.x&&$a.y==qa.y}else za=!1;if(za)Va=!0;else{var Za=Ce.points[1];if(ja.x==Za.x&&ja.y==Za.y){var Ja=Ce.points[2];Va=$a.x==Ja.x&&$a.y==Ja.y}else Va=!1}if(Va)Ce.neighbors[0]=e;else{var eo,no,to=Ce.points[0];if(ja.x==to.x&&ja.y==to.y){var io=Ce.points[2];no=$a.x==io.x&&$a.y==io.y}else no=!1;if(no)eo=!0;else{var so=Ce.points[2];if(ja.x==so.x&&ja.y==so.y){var ro=Ce.points[0];eo=$a.x==ro.x&&$a.y==ro.y}else eo=!1}if(eo)Ce.neighbors[1]=e;else{var lo,ao,oo=Ce.points[0];if(ja.x==oo.x&&ja.y==oo.y){var ho=Ce.points[1];ao=$a.x==ho.x&&$a.y==ho.y}else ao=!1;if(ao)lo=!0;else{var co=Ce.points[1];if(ja.x==co.x&&ja.y==co.y){var uo=Ce.points[0];lo=$a.x==uo.x&&$a.y==uo.y}else lo=!1}if(!lo)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");Ce.neighbors[2]=e}}}}}}if(null!=Fe){var _o,fo,po,bo=i.points[1],yo=i.points[2],go=Fe.points[0];if(bo.x!=go.x||bo.y!=go.y){var Oo=Fe.points[1];po=bo.x==Oo.x&&bo.y==Oo.y}else po=!0;if(po)fo=!0;else{var xo=Fe.points[2];fo=bo.x==xo.x&&bo.y==xo.y}if(fo){var vo,mo=Fe.points[0];if(yo.x!=mo.x||yo.y!=mo.y){var wo=Fe.points[1];vo=yo.x==wo.x&&yo.y==wo.y}else vo=!0;if(vo)_o=!0;else{var Uo=Fe.points[2];_o=yo.x==Uo.x&&yo.y==Uo.y}}else _o=!1;if(_o){i.neighbors[0]=Fe;var Co,To,Do=i.points[1],Eo=i.points[2],Ao=Fe.points[2];if(Do.x==Ao.x&&Do.y==Ao.y){var So=Fe.points[1];To=Eo.x==So.x&&Eo.y==So.y}else To=!1;if(To)Co=!0;else{var Mo=Fe.points[1];if(Do.x==Mo.x&&Do.y==Mo.y){var Po=Fe.points[2];Co=Eo.x==Po.x&&Eo.y==Po.y}else Co=!1}if(Co)Fe.neighbors[0]=i;else{var Fo,ko,Ro=Fe.points[0];if(Do.x==Ro.x&&Do.y==Ro.y){var Io=Fe.points[2];ko=Eo.x==Io.x&&Eo.y==Io.y}else ko=!1;if(ko)Fo=!0;else{var No=Fe.points[2];if(Do.x==No.x&&Do.y==No.y){var Lo=Fe.points[0];Fo=Eo.x==Lo.x&&Eo.y==Lo.y}else Fo=!1}if(Fo)Fe.neighbors[1]=i;else{var Bo,Go,Wo=Fe.points[0];if(Do.x==Wo.x&&Do.y==Wo.y){var Ko=Fe.points[1];Go=Eo.x==Ko.x&&Eo.y==Ko.y}else Go=!1;if(Go)Bo=!0;else{var Yo=Fe.points[1];if(Do.x==Yo.x&&Do.y==Yo.y){var Ho=Fe.points[0];Bo=Eo.x==Ho.x&&Eo.y==Ho.y}else Bo=!1}if(!Bo)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");Fe.neighbors[2]=i}}}else{var Xo,Vo,zo,jo=i.points[0],$o=i.points[2],Qo=Fe.points[0];if(jo.x!=Qo.x||jo.y!=Qo.y){var qo=Fe.points[1];zo=jo.x==qo.x&&jo.y==qo.y}else zo=!0;if(zo)Vo=!0;else{var Zo=Fe.points[2];Vo=jo.x==Zo.x&&jo.y==Zo.y}if(Vo){var Jo,eh=Fe.points[0];if($o.x!=eh.x||$o.y!=eh.y){var nh=Fe.points[1];Jo=$o.x==nh.x&&$o.y==nh.y}else Jo=!0;if(Jo)Xo=!0;else{var th=Fe.points[2];Xo=$o.x==th.x&&$o.y==th.y}}else Xo=!1;if(Xo){i.neighbors[1]=Fe;var ih,sh,rh=i.points[0],lh=i.points[2],ah=Fe.points[2];if(rh.x==ah.x&&rh.y==ah.y){var oh=Fe.points[1];sh=lh.x==oh.x&&lh.y==oh.y}else sh=!1;if(sh)ih=!0;else{var hh=Fe.points[1];if(rh.x==hh.x&&rh.y==hh.y){var ch=Fe.points[2];ih=lh.x==ch.x&&lh.y==ch.y}else ih=!1}if(ih)Fe.neighbors[0]=i;else{var uh,_h,dh=Fe.points[0];if(rh.x==dh.x&&rh.y==dh.y){var fh=Fe.points[2];_h=lh.x==fh.x&&lh.y==fh.y}else _h=!1;if(_h)uh=!0;else{var ph=Fe.points[2];if(rh.x==ph.x&&rh.y==ph.y){var bh=Fe.points[0];uh=lh.x==bh.x&&lh.y==bh.y}else uh=!1}if(uh)Fe.neighbors[1]=i;else{var yh,gh,Oh=Fe.points[0];if(rh.x==Oh.x&&rh.y==Oh.y){var xh=Fe.points[1];gh=lh.x==xh.x&&lh.y==xh.y}else gh=!1;if(gh)yh=!0;else{var vh=Fe.points[1];if(rh.x==vh.x&&rh.y==vh.y){var mh=Fe.points[0];yh=lh.x==mh.x&&lh.y==mh.y}else yh=!1}if(!yh)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");Fe.neighbors[2]=i}}}else{var wh,Uh,Ch,Th=i.points[0],Dh=i.points[1],Eh=Fe.points[0];if(Th.x!=Eh.x||Th.y!=Eh.y){var Ah=Fe.points[1];Ch=Th.x==Ah.x&&Th.y==Ah.y}else Ch=!0;if(Ch)Uh=!0;else{var Sh=Fe.points[2];Uh=Th.x==Sh.x&&Th.y==Sh.y}if(Uh){var Mh,Ph=Fe.points[0];if(Dh.x!=Ph.x||Dh.y!=Ph.y){var Fh=Fe.points[1];Mh=Dh.x==Fh.x&&Dh.y==Fh.y}else Mh=!0;if(Mh)wh=!0;else{var kh=Fe.points[2];wh=Dh.x==kh.x&&Dh.y==kh.y}}else wh=!1;if(wh){i.neighbors[2]=Fe;var Rh,Ih,Nh=i.points[0],Lh=i.points[1],Bh=Fe.points[2];if(Nh.x==Bh.x&&Nh.y==Bh.y){var Gh=Fe.points[1];Ih=Lh.x==Gh.x&&Lh.y==Gh.y}else Ih=!1;if(Ih)Rh=!0;else{var Wh=Fe.points[1];if(Nh.x==Wh.x&&Nh.y==Wh.y){var Kh=Fe.points[2];Rh=Lh.x==Kh.x&&Lh.y==Kh.y}else Rh=!1}if(Rh)Fe.neighbors[0]=i;else{var Yh,Hh,Xh=Fe.points[0];if(Nh.x==Xh.x&&Nh.y==Xh.y){var Vh=Fe.points[2];Hh=Lh.x==Vh.x&&Lh.y==Vh.y}else Hh=!1;if(Hh)Yh=!0;else{var zh=Fe.points[2];if(Nh.x==zh.x&&Nh.y==zh.y){var jh=Fe.points[0];Yh=Lh.x==jh.x&&Lh.y==jh.y}else Yh=!1}if(Yh)Fe.neighbors[1]=i;else{var $h,Qh,qh=Fe.points[0];if(Nh.x==qh.x&&Nh.y==qh.y){var Zh=Fe.points[1];Qh=Lh.x==Zh.x&&Lh.y==Zh.y}else Qh=!1;if(Qh)$h=!0;else{var Jh=Fe.points[1];if(Nh.x==Jh.x&&Nh.y==Jh.y){var ec=Fe.points[0];$h=Lh.x==ec.x&&Lh.y==ec.y}else $h=!1}if(!$h)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");Fe.neighbors[2]=i}}}}}}var nc,tc,ic,sc=e.points[1],rc=e.points[2],lc=i.points[0];if(sc.x!=lc.x||sc.y!=lc.y){var ac=i.points[1];ic=sc.x==ac.x&&sc.y==ac.y}else ic=!0;if(ic)tc=!0;else{var oc=i.points[2];tc=sc.x==oc.x&&sc.y==oc.y}if(tc){var hc,cc=i.points[0];if(rc.x!=cc.x||rc.y!=cc.y){var uc=i.points[1];hc=rc.x==uc.x&&rc.y==uc.y}else hc=!0;if(hc)nc=!0;else{var _c=i.points[2];nc=rc.x==_c.x&&rc.y==_c.y}}else nc=!1;if(nc){e.neighbors[0]=i;var dc,fc,pc=e.points[1],bc=e.points[2],yc=i.points[2];if(pc.x==yc.x&&pc.y==yc.y){var gc=i.points[1];fc=bc.x==gc.x&&bc.y==gc.y}else fc=!1;if(fc)dc=!0;else{var Oc=i.points[1];if(pc.x==Oc.x&&pc.y==Oc.y){var xc=i.points[2];dc=bc.x==xc.x&&bc.y==xc.y}else dc=!1}if(dc)i.neighbors[0]=e;else{var vc,mc,wc=i.points[0];if(pc.x==wc.x&&pc.y==wc.y){var Uc=i.points[2];mc=bc.x==Uc.x&&bc.y==Uc.y}else mc=!1;if(mc)vc=!0;else{var Cc=i.points[2];if(pc.x==Cc.x&&pc.y==Cc.y){var Tc=i.points[0];vc=bc.x==Tc.x&&bc.y==Tc.y}else vc=!1}if(vc)i.neighbors[1]=e;else{var Dc,Ec,Ac=i.points[0];if(pc.x==Ac.x&&pc.y==Ac.y){var Sc=i.points[1];Ec=bc.x==Sc.x&&bc.y==Sc.y}else Ec=!1;if(Ec)Dc=!0;else{var Mc=i.points[1];if(pc.x==Mc.x&&pc.y==Mc.y){var Pc=i.points[0];Dc=bc.x==Pc.x&&bc.y==Pc.y}else Dc=!1}if(!Dc)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");i.neighbors[2]=e}}}else{var Fc,kc,Rc,Ic=e.points[0],Nc=e.points[2],Lc=i.points[0];if(Ic.x!=Lc.x||Ic.y!=Lc.y){var Bc=i.points[1];Rc=Ic.x==Bc.x&&Ic.y==Bc.y}else Rc=!0;if(Rc)kc=!0;else{var Gc=i.points[2];kc=Ic.x==Gc.x&&Ic.y==Gc.y}if(kc){var Wc,Kc=i.points[0];if(Nc.x!=Kc.x||Nc.y!=Kc.y){var Yc=i.points[1];Wc=Nc.x==Yc.x&&Nc.y==Yc.y}else Wc=!0;if(Wc)Fc=!0;else{var Hc=i.points[2];Fc=Nc.x==Hc.x&&Nc.y==Hc.y}}else Fc=!1;if(Fc){e.neighbors[1]=i;var Xc,Vc,zc=e.points[0],jc=e.points[2],$c=i.points[2];if(zc.x==$c.x&&zc.y==$c.y){var Qc=i.points[1];Vc=jc.x==Qc.x&&jc.y==Qc.y}else Vc=!1;if(Vc)Xc=!0;else{var qc=i.points[1];if(zc.x==qc.x&&zc.y==qc.y){var Zc=i.points[2];Xc=jc.x==Zc.x&&jc.y==Zc.y}else Xc=!1}if(Xc)i.neighbors[0]=e;else{var Jc,eu,nu=i.points[0];if(zc.x==nu.x&&zc.y==nu.y){var tu=i.points[2];eu=jc.x==tu.x&&jc.y==tu.y}else eu=!1;if(eu)Jc=!0;else{var iu=i.points[2];if(zc.x==iu.x&&zc.y==iu.y){var su=i.points[0];Jc=jc.x==su.x&&jc.y==su.y}else Jc=!1}if(Jc)i.neighbors[1]=e;else{var ru,lu,au=i.points[0];if(zc.x==au.x&&zc.y==au.y){var ou=i.points[1];lu=jc.x==ou.x&&jc.y==ou.y}else lu=!1;if(lu)ru=!0;else{var hu=i.points[1];if(zc.x==hu.x&&zc.y==hu.y){var cu=i.points[0];ru=jc.x==cu.x&&jc.y==cu.y}else ru=!1}if(!ru)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");i.neighbors[2]=e}}}else{var uu,_u,du,fu=e.points[0],pu=e.points[1],bu=i.points[0];if(fu.x!=bu.x||fu.y!=bu.y){var yu=i.points[1];du=fu.x==yu.x&&fu.y==yu.y}else du=!0;if(du)_u=!0;else{var gu=i.points[2];_u=fu.x==gu.x&&fu.y==gu.y}if(_u){var Ou,xu=i.points[0];if(pu.x!=xu.x||pu.y!=xu.y){var vu=i.points[1];Ou=pu.x==vu.x&&pu.y==vu.y}else Ou=!0;if(Ou)uu=!0;else{var mu=i.points[2];uu=pu.x==mu.x&&pu.y==mu.y}}else uu=!1;if(uu){e.neighbors[2]=i;var wu,Uu,Cu=e.points[0],Tu=e.points[1],Du=i.points[2];if(Cu.x==Du.x&&Cu.y==Du.y){var Eu=i.points[1];Uu=Tu.x==Eu.x&&Tu.y==Eu.y}else Uu=!1;if(Uu)wu=!0;else{var Au=i.points[1];if(Cu.x==Au.x&&Cu.y==Au.y){var Su=i.points[2];wu=Tu.x==Su.x&&Tu.y==Su.y}else wu=!1}if(wu)i.neighbors[0]=e;else{var Mu,Pu,Fu=i.points[0];if(Cu.x==Fu.x&&Cu.y==Fu.y){var ku=i.points[2];Pu=Tu.x==ku.x&&Tu.y==ku.y}else Pu=!1;if(Pu)Mu=!0;else{var Ru=i.points[2];if(Cu.x==Ru.x&&Cu.y==Ru.y){var Iu=i.points[0];Mu=Tu.x==Iu.x&&Tu.y==Iu.y}else Mu=!1}if(Mu)i.neighbors[1]=e;else{var Nu,Lu,Bu=i.points[0];if(Cu.x==Bu.x&&Cu.y==Bu.y){var Gu=i.points[1];Lu=Tu.x==Gu.x&&Tu.y==Gu.y}else Lu=!1;if(Lu)Nu=!0;else{var Wu=i.points[1];if(Cu.x==Wu.x&&Cu.y==Wu.y){var Ku=i.points[0];Nu=Tu.x==Ku.x&&Tu.y==Ku.y}else Nu=!1}if(!Nu)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");i.neighbors[2]=e}}}}}var Yu=!this.legalize(e);if(Yu){var Hu=this.context;if(null==e.neighbors[0]){var Xu=Hu.front,Vu=e.points[0],zu=e.points,ju=-1;null==ju&&(ju=0);for(var $u=ju,Qu=!1,qu=0;qu<3;){for(var Zu=qu++;$u<0;)$u+=3;for(;$u>2;)$u-=3;var Ju=e.points[Zu];if(Vu.x==Ju.x&&Vu.y==Ju.y){Qu=!0;break}++$u}if(!Qu)throw haxe_Exception.thrown("Triangle::Point not in triangle");var e_=zu[$u],n_=e_.x,t_=Xu.search_node,i_=t_.point.x;if(n_==i_){var s_=t_.point;if(e_.x!=s_.x||e_.y!=s_.y){var r_=t_.prev.point;if(e_.x==r_.x&&e_.y==r_.y)t_=t_.prev;else{var l_=t_.next.point;if(e_.x!=l_.x||e_.y!=l_.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");t_=t_.next}}}else if(n_<i_)for(;null!=(t_=t_.prev);){var a_=t_.point;if(e_.x==a_.x&&e_.y==a_.y)break}else for(;null!=(t_=t_.next);){var o_=t_.point;if(e_.x==o_.x&&e_.y==o_.y)break}null!=t_&&(Xu.search_node=t_);null!=t_&&(t_.triangle=e)}if(null==e.neighbors[1]){var h_=Hu.front,c_=e.points[1],u_=e.points,__=-1;null==__&&(__=0);for(var d_=__,f_=!1,p_=0;p_<3;){for(var b_=p_++;d_<0;)d_+=3;for(;d_>2;)d_-=3;var y_=e.points[b_];if(c_.x==y_.x&&c_.y==y_.y){f_=!0;break}++d_}if(!f_)throw haxe_Exception.thrown("Triangle::Point not in triangle");var g_=u_[d_],O_=g_.x,x_=h_.search_node,v_=x_.point.x;if(O_==v_){var m_=x_.point;if(g_.x!=m_.x||g_.y!=m_.y){var w_=x_.prev.point;if(g_.x==w_.x&&g_.y==w_.y)x_=x_.prev;else{var U_=x_.next.point;if(g_.x!=U_.x||g_.y!=U_.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");x_=x_.next}}}else if(O_<v_)for(;null!=(x_=x_.prev);){var C_=x_.point;if(g_.x==C_.x&&g_.y==C_.y)break}else for(;null!=(x_=x_.next);){var T_=x_.point;if(g_.x==T_.x&&g_.y==T_.y)break}null!=x_&&(h_.search_node=x_);null!=x_&&(x_.triangle=e)}if(null==e.neighbors[2]){var D_=Hu.front,E_=e.points[2],A_=e.points,S_=-1;null==S_&&(S_=0);for(var M_=S_,P_=!1,F_=0;F_<3;){for(var k_=F_++;M_<0;)M_+=3;for(;M_>2;)M_-=3;var R_=e.points[k_];if(E_.x==R_.x&&E_.y==R_.y){P_=!0;break}++M_}if(!P_)throw haxe_Exception.thrown("Triangle::Point not in triangle");var I_=A_[M_],N_=I_.x,L_=D_.search_node,B_=L_.point.x;if(N_==B_){var G_=L_.point;if(I_.x!=G_.x||I_.y!=G_.y){var W_=L_.prev.point;if(I_.x==W_.x&&I_.y==W_.y)L_=L_.prev;else{var K_=L_.next.point;if(I_.x!=K_.x||I_.y!=K_.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");L_=L_.next}}}else if(N_<B_)for(;null!=(L_=L_.prev);){var Y_=L_.point;if(I_.x==Y_.x&&I_.y==Y_.y)break}else for(;null!=(L_=L_.next);){var H_=L_.point;if(I_.x==H_.x&&I_.y==H_.y)break}null!=L_&&(D_.search_node=L_);null!=L_&&(L_.triangle=e)}}if(Yu=!this.legalize(i)){var X_=this.context;if(null==i.neighbors[0]){var V_=X_.front,z_=i.points[0],j_=i.points,$_=-1;null==$_&&($_=0);for(var Q_=$_,q_=!1,Z_=0;Z_<3;){for(var J_=Z_++;Q_<0;)Q_+=3;for(;Q_>2;)Q_-=3;var ed=i.points[J_];if(z_.x==ed.x&&z_.y==ed.y){q_=!0;break}++Q_}if(!q_)throw haxe_Exception.thrown("Triangle::Point not in triangle");var nd=j_[Q_],td=nd.x,id=V_.search_node,sd=id.point.x;if(td==sd){var rd=id.point;if(nd.x!=rd.x||nd.y!=rd.y){var ld=id.prev.point;if(nd.x==ld.x&&nd.y==ld.y)id=id.prev;else{var ad=id.next.point;if(nd.x!=ad.x||nd.y!=ad.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");id=id.next}}}else if(td<sd)for(;null!=(id=id.prev);){var od=id.point;if(nd.x==od.x&&nd.y==od.y)break}else for(;null!=(id=id.next);){var hd=id.point;if(nd.x==hd.x&&nd.y==hd.y)break}null!=id&&(V_.search_node=id);null!=id&&(id.triangle=i)}if(null==i.neighbors[1]){var cd=X_.front,ud=i.points[1],_d=i.points,dd=-1;null==dd&&(dd=0);for(var fd=dd,pd=!1,bd=0;bd<3;){for(var yd=bd++;fd<0;)fd+=3;for(;fd>2;)fd-=3;var gd=i.points[yd];if(ud.x==gd.x&&ud.y==gd.y){pd=!0;break}++fd}if(!pd)throw haxe_Exception.thrown("Triangle::Point not in triangle");var Od=_d[fd],xd=Od.x,vd=cd.search_node,md=vd.point.x;if(xd==md){var wd=vd.point;if(Od.x!=wd.x||Od.y!=wd.y){var Ud=vd.prev.point;if(Od.x==Ud.x&&Od.y==Ud.y)vd=vd.prev;else{var Cd=vd.next.point;if(Od.x!=Cd.x||Od.y!=Cd.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");vd=vd.next}}}else if(xd<md)for(;null!=(vd=vd.prev);){var Td=vd.point;if(Od.x==Td.x&&Od.y==Td.y)break}else for(;null!=(vd=vd.next);){var Dd=vd.point;if(Od.x==Dd.x&&Od.y==Dd.y)break}null!=vd&&(cd.search_node=vd);null!=vd&&(vd.triangle=i)}if(null==i.neighbors[2]){var Ed=X_.front,Ad=i.points[2],Sd=i.points,Md=-1;null==Md&&(Md=0);for(var Pd=Md,Fd=!1,kd=0;kd<3;){for(var Rd=kd++;Pd<0;)Pd+=3;for(;Pd>2;)Pd-=3;var Id=i.points[Rd];if(Ad.x==Id.x&&Ad.y==Id.y){Fd=!0;break}++Pd}if(!Fd)throw haxe_Exception.thrown("Triangle::Point not in triangle");var Nd=Sd[Pd],Ld=Nd.x,Bd=Ed.search_node,Gd=Bd.point.x;if(Ld==Gd){var Wd=Bd.point;if(Nd.x!=Wd.x||Nd.y!=Wd.y){var Kd=Bd.prev.point;if(Nd.x==Kd.x&&Nd.y==Kd.y)Bd=Bd.prev;else{var Yd=Bd.next.point;if(Nd.x!=Yd.x||Nd.y!=Yd.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");Bd=Bd.next}}}else if(Ld<Gd)for(;null!=(Bd=Bd.prev);){var Hd=Bd.point;if(Nd.x==Hd.x&&Nd.y==Hd.y)break}else for(;null!=(Bd=Bd.next);){var Xd=Bd.point;if(Nd.x==Xd.x&&Nd.y==Xd.y)break}null!=Bd&&(Ed.search_node=Bd);null!=Bd&&(Bd.triangle=i)}}return e.delaunay_edge[t]=!1,i.delaunay_edge[S]=!1,!0}}}}return!1},fillBasin:function(e){var n=e.point,t=e.next.point,i=e.next.next.point,s=(n.x-i.x)*(t.y-i.y)-(n.y-i.y)*(t.x-i.x);for(this.context.basin.left_node=-1==(s>-poly2tri_Constants.EPSILON&&s<poly2tri_Constants.EPSILON?0:s>0?-1:1)?e.next.next:e.next,this.context.basin.bottom_node=this.context.basin.left_node;null!=this.context.basin.bottom_node.next&&this.context.basin.bottom_node.point.y>=this.context.basin.bottom_node.next.point.y;)this.context.basin.bottom_node=this.context.basin.bottom_node.next;if(this.context.basin.bottom_node!=this.context.basin.left_node){for(this.context.basin.right_node=this.context.basin.bottom_node;null!=this.context.basin.right_node.next&&this.context.basin.right_node.point.y<this.context.basin.right_node.next.point.y;)this.context.basin.right_node=this.context.basin.right_node.next;this.context.basin.right_node!=this.context.basin.bottom_node&&(this.context.basin.width=this.context.basin.right_node.point.x-this.context.basin.left_node.point.x,this.context.basin.left_highest=this.context.basin.left_node.point.y>this.context.basin.right_node.point.y,this.fillBasinReq(this.context.basin.bottom_node))}},fillBasinReq:function(e){var n=this.context.basin.left_highest?this.context.basin.left_node.point.y-e.point.y:this.context.basin.right_node.point.y-e.point.y;if(!(this.context.basin.width>n)){var t=poly2tri_Pool.getTriangle(e.prev.point,e.point,e.next.point),i=e.prev.triangle,s=t.points[1],r=t.points[2],l=i.points[0];if(s.x!=l.x||s.y!=l.y){l=i.points[1];a=s.x==l.x&&s.y==l.y}else a=!0;if(a)h=!0;else{l=i.points[2];h=s.x==l.x&&s.y==l.y}if(h){l=i.points[0];if(r.x!=l.x||r.y!=l.y){l=i.points[1];h=r.x==l.x&&r.y==l.y}else h=!0;if(h)o=!0;else{l=i.points[2];o=r.x==l.x&&r.y==l.y}}else o=!1;if(o){t.neighbors[0]=i;s=t.points[1],r=t.points[2],l=i.points[2];if(s.x==l.x&&s.y==l.y){l=i.points[1];h=r.x==l.x&&r.y==l.y}else h=!1;if(h)o=!0;else{l=i.points[1];if(s.x==l.x&&s.y==l.y){l=i.points[2];o=r.x==l.x&&r.y==l.y}else o=!1}if(o)i.neighbors[0]=t;else{l=i.points[0];if(s.x==l.x&&s.y==l.y){l=i.points[2];h=r.x==l.x&&r.y==l.y}else h=!1;if(h)o=!0;else{l=i.points[2];if(s.x==l.x&&s.y==l.y){l=i.points[0];o=r.x==l.x&&r.y==l.y}else o=!1}if(o)i.neighbors[1]=t;else{l=i.points[0];if(s.x==l.x&&s.y==l.y){l=i.points[1];h=r.x==l.x&&r.y==l.y}else h=!1;if(h)o=!0;else{l=i.points[1];if(s.x==l.x&&s.y==l.y){l=i.points[0];o=r.x==l.x&&r.y==l.y}else o=!1}if(!o)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");i.neighbors[2]=t}}}else{s=t.points[0],r=t.points[2],l=i.points[0];if(s.x!=l.x||s.y!=l.y){l=i.points[1];a=s.x==l.x&&s.y==l.y}else a=!0;if(a)h=!0;else{l=i.points[2];h=s.x==l.x&&s.y==l.y}if(h){l=i.points[0];if(r.x!=l.x||r.y!=l.y){l=i.points[1];h=r.x==l.x&&r.y==l.y}else h=!0;if(h)o=!0;else{l=i.points[2];o=r.x==l.x&&r.y==l.y}}else o=!1;if(o){t.neighbors[1]=i;s=t.points[0],r=t.points[2],l=i.points[2];if(s.x==l.x&&s.y==l.y){l=i.points[1];h=r.x==l.x&&r.y==l.y}else h=!1;if(h)o=!0;else{l=i.points[1];if(s.x==l.x&&s.y==l.y){l=i.points[2];o=r.x==l.x&&r.y==l.y}else o=!1}if(o)i.neighbors[0]=t;else{l=i.points[0];if(s.x==l.x&&s.y==l.y){l=i.points[2];h=r.x==l.x&&r.y==l.y}else h=!1;if(h)o=!0;else{l=i.points[2];if(s.x==l.x&&s.y==l.y){l=i.points[0];o=r.x==l.x&&r.y==l.y}else o=!1}if(o)i.neighbors[1]=t;else{l=i.points[0];if(s.x==l.x&&s.y==l.y){l=i.points[1];h=r.x==l.x&&r.y==l.y}else h=!1;if(h)o=!0;else{l=i.points[1];if(s.x==l.x&&s.y==l.y){l=i.points[0];o=r.x==l.x&&r.y==l.y}else o=!1}if(!o)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");i.neighbors[2]=t}}}else{s=t.points[0],r=t.points[1],l=i.points[0];if(s.x!=l.x||s.y!=l.y){l=i.points[1];a=s.x==l.x&&s.y==l.y}else a=!0;if(a)h=!0;else{l=i.points[2];h=s.x==l.x&&s.y==l.y}if(h){l=i.points[0];if(r.x!=l.x||r.y!=l.y){l=i.points[1];h=r.x==l.x&&r.y==l.y}else h=!0;if(h)o=!0;else{l=i.points[2];o=r.x==l.x&&r.y==l.y}}else o=!1;if(o){t.neighbors[2]=i;s=t.points[0],r=t.points[1],l=i.points[2];if(s.x==l.x&&s.y==l.y){l=i.points[1];h=r.x==l.x&&r.y==l.y}else h=!1;if(h)o=!0;else{l=i.points[1];if(s.x==l.x&&s.y==l.y){l=i.points[2];o=r.x==l.x&&r.y==l.y}else o=!1}if(o)i.neighbors[0]=t;else{l=i.points[0];if(s.x==l.x&&s.y==l.y){l=i.points[2];h=r.x==l.x&&r.y==l.y}else h=!1;if(h)o=!0;else{l=i.points[2];if(s.x==l.x&&s.y==l.y){l=i.points[0];o=r.x==l.x&&r.y==l.y}else o=!1}if(o)i.neighbors[1]=t;else{l=i.points[0];if(s.x==l.x&&s.y==l.y){l=i.points[1];h=r.x==l.x&&r.y==l.y}else h=!1;if(h)o=!0;else{l=i.points[1];if(s.x==l.x&&s.y==l.y){l=i.points[0];o=r.x==l.x&&r.y==l.y}else o=!1}if(!o)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");i.neighbors[2]=t}}}}}i=e.triangle,s=t.points[1],r=t.points[2],l=i.points[0];if(s.x!=l.x||s.y!=l.y){l=i.points[1];a=s.x==l.x&&s.y==l.y}else a=!0;if(a)h=!0;else{l=i.points[2];h=s.x==l.x&&s.y==l.y}if(h){l=i.points[0];if(r.x!=l.x||r.y!=l.y){l=i.points[1];h=r.x==l.x&&r.y==l.y}else h=!0;if(h)o=!0;else{l=i.points[2];o=r.x==l.x&&r.y==l.y}}else o=!1;if(o){t.neighbors[0]=i;s=t.points[1],r=t.points[2],l=i.points[2];if(s.x==l.x&&s.y==l.y){l=i.points[1];h=r.x==l.x&&r.y==l.y}else h=!1;if(h)o=!0;else{l=i.points[1];if(s.x==l.x&&s.y==l.y){l=i.points[2];o=r.x==l.x&&r.y==l.y}else o=!1}if(o)i.neighbors[0]=t;else{l=i.points[0];if(s.x==l.x&&s.y==l.y){l=i.points[2];h=r.x==l.x&&r.y==l.y}else h=!1;if(h)o=!0;else{l=i.points[2];if(s.x==l.x&&s.y==l.y){l=i.points[0];o=r.x==l.x&&r.y==l.y}else o=!1}if(o)i.neighbors[1]=t;else{l=i.points[0];if(s.x==l.x&&s.y==l.y){l=i.points[1];h=r.x==l.x&&r.y==l.y}else h=!1;if(h)o=!0;else{l=i.points[1];if(s.x==l.x&&s.y==l.y){l=i.points[0];o=r.x==l.x&&r.y==l.y}else o=!1}if(!o)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");i.neighbors[2]=t}}}else{s=t.points[0],r=t.points[2],l=i.points[0];if(s.x!=l.x||s.y!=l.y){l=i.points[1];a=s.x==l.x&&s.y==l.y}else a=!0;if(a)h=!0;else{l=i.points[2];h=s.x==l.x&&s.y==l.y}if(h){l=i.points[0];if(r.x!=l.x||r.y!=l.y){l=i.points[1];h=r.x==l.x&&r.y==l.y}else h=!0;if(h)o=!0;else{l=i.points[2];o=r.x==l.x&&r.y==l.y}}else o=!1;if(o){t.neighbors[1]=i;s=t.points[0],r=t.points[2],l=i.points[2];if(s.x==l.x&&s.y==l.y){l=i.points[1];h=r.x==l.x&&r.y==l.y}else h=!1;if(h)o=!0;else{l=i.points[1];if(s.x==l.x&&s.y==l.y){l=i.points[2];o=r.x==l.x&&r.y==l.y}else o=!1}if(o)i.neighbors[0]=t;else{l=i.points[0];if(s.x==l.x&&s.y==l.y){l=i.points[2];h=r.x==l.x&&r.y==l.y}else h=!1;if(h)o=!0;else{l=i.points[2];if(s.x==l.x&&s.y==l.y){l=i.points[0];o=r.x==l.x&&r.y==l.y}else o=!1}if(o)i.neighbors[1]=t;else{l=i.points[0];if(s.x==l.x&&s.y==l.y){l=i.points[1];h=r.x==l.x&&r.y==l.y}else h=!1;if(h)o=!0;else{l=i.points[1];if(s.x==l.x&&s.y==l.y){l=i.points[0];o=r.x==l.x&&r.y==l.y}else o=!1}if(!o)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");i.neighbors[2]=t}}}else{var a;s=t.points[0],r=t.points[1],l=i.points[0];if(s.x!=l.x||s.y!=l.y){l=i.points[1];a=s.x==l.x&&s.y==l.y}else a=!0;if(a)h=!0;else{l=i.points[2];h=s.x==l.x&&s.y==l.y}if(h){l=i.points[0];if(r.x!=l.x||r.y!=l.y){l=i.points[1];h=r.x==l.x&&r.y==l.y}else h=!0;if(h)o=!0;else{l=i.points[2];o=r.x==l.x&&r.y==l.y}}else o=!1;if(o){t.neighbors[2]=i;s=t.points[0],r=t.points[1],l=i.points[2];if(s.x==l.x&&s.y==l.y){l=i.points[1];h=r.x==l.x&&r.y==l.y}else h=!1;if(h)o=!0;else{l=i.points[1];if(s.x==l.x&&s.y==l.y){l=i.points[2];o=r.x==l.x&&r.y==l.y}else o=!1}if(o)i.neighbors[0]=t;else{l=i.points[0];if(s.x==l.x&&s.y==l.y){l=i.points[2];h=r.x==l.x&&r.y==l.y}else h=!1;if(h)o=!0;else{l=i.points[2];if(s.x==l.x&&s.y==l.y){l=i.points[0];o=r.x==l.x&&r.y==l.y}else o=!1}if(o)i.neighbors[1]=t;else{var o,h;l=i.points[0];if(s.x==l.x&&s.y==l.y){l=i.points[1];h=r.x==l.x&&r.y==l.y}else h=!1;if(h)o=!0;else{l=i.points[1];if(s.x==l.x&&s.y==l.y){l=i.points[0];o=r.x==l.x&&r.y==l.y}else o=!1}if(!o)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");i.neighbors[2]=t}}}}}if(e.prev.next=e.next,e.next.prev=e.prev,!this.legalize(t)){var c=this.context;if(null==t.neighbors[0]){var u=c.front,_=t.points[0],d=t.points;null==(g=-1)&&(g=0);for(var f=g,p=!1,b=0;b<3;){for(var y=b++;f<0;)f+=3;for(;f>2;)f-=3;i=t.points[y];if(_.x==i.x&&_.y==i.y){p=!0;break}++f}if(!p)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((x=(O=d[f]).x)==(m=(v=u.search_node).point.x)){i=v.point;if(O.x!=i.x||O.y!=i.y){i=v.prev.point;if(O.x==i.x&&O.y==i.y)v=v.prev;else{i=v.next.point;if(O.x!=i.x||O.y!=i.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");v=v.next}}}else if(x<m)for(;null!=(v=v.prev);){i=v.point;if(O.x==i.x&&O.y==i.y)break}else for(;null!=(v=v.next);){i=v.point;if(O.x==i.x&&O.y==i.y)break}null!=v&&(u.search_node=v),null!=(w=v)&&(w.triangle=t)}if(null==t.neighbors[1]){u=c.front,_=t.points[1],d=t.points;null==(g=-1)&&(g=0);for(f=g,p=!1,b=0;b<3;){for(y=b++;f<0;)f+=3;for(;f>2;)f-=3;i=t.points[y];if(_.x==i.x&&_.y==i.y){p=!0;break}++f}if(!p)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((x=(O=d[f]).x)==(m=(v=u.search_node).point.x)){i=v.point;if(O.x!=i.x||O.y!=i.y){i=v.prev.point;if(O.x==i.x&&O.y==i.y)v=v.prev;else{i=v.next.point;if(O.x!=i.x||O.y!=i.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");v=v.next}}}else if(x<m)for(;null!=(v=v.prev);){i=v.point;if(O.x==i.x&&O.y==i.y)break}else for(;null!=(v=v.next);){i=v.point;if(O.x==i.x&&O.y==i.y)break}null!=v&&(u.search_node=v),null!=(w=v)&&(w.triangle=t)}if(null==t.neighbors[2]){var g,O,x,v,m,w;u=c.front,_=t.points[2],d=t.points;null==(g=-1)&&(g=0);for(f=g,p=!1,b=0;b<3;){for(y=b++;f<0;)f+=3;for(;f>2;)f-=3;i=t.points[y];if(_.x==i.x&&_.y==i.y){p=!0;break}++f}if(!p)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((x=(O=d[f]).x)==(m=(v=u.search_node).point.x)){i=v.point;if(O.x!=i.x||O.y!=i.y){i=v.prev.point;if(O.x==i.x&&O.y==i.y)v=v.prev;else{i=v.next.point;if(O.x!=i.x||O.y!=i.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");v=v.next}}}else if(x<m)for(;null!=(v=v.prev);){i=v.point;if(O.x==i.x&&O.y==i.y)break}else for(;null!=(v=v.next);){i=v.point;if(O.x==i.x&&O.y==i.y)break}null!=v&&(u.search_node=v),null!=(w=v)&&(w.triangle=t)}}if(e.prev!=this.context.basin.left_node||e.next!=this.context.basin.right_node)if(e.prev==this.context.basin.left_node){var U=e.point,C=e.next.point,T=e.next.next.point;if(1==((D=(U.x-T.x)*(C.y-T.y)-(U.y-T.y)*(C.x-T.x))>-poly2tri_Constants.EPSILON&&D<poly2tri_Constants.EPSILON?0:D>0?-1:1))return;e=e.next,this.fillBasinReq(e)}else if(e.next==this.context.basin.right_node){var D;U=e.point,C=e.prev.point,T=e.prev.prev.point;if(-1==((D=(U.x-T.x)*(C.y-T.y)-(U.y-T.y)*(C.x-T.x))>-poly2tri_Constants.EPSILON&&D<poly2tri_Constants.EPSILON?0:D>0?-1:1))return;e=e.prev,this.fillBasinReq(e)}else e=e.prev.point.y<e.next.point.y?e.prev:e.next,this.fillBasinReq(e)}},isShallow:function(e){var n=this.context.basin.left_highest?this.context.basin.left_node.point.y-e.point.y:this.context.basin.right_node.point.y-e.point.y;return this.context.basin.width>n},fillEdgeEvent:function(e,n){this.context.edge_event.right?this.fillRightAboveEdgeEvent(e,n):this.fillLeftAboveEdgeEvent(e,n)},fillRightAboveEdgeEvent:function(e,n){for(;n.next.point.x<e.p.x;){var t=e.q,i=n.next.point,s=e.p,r=(t.x-s.x)*(i.y-s.y)-(t.y-s.y)*(i.x-s.x);-1==(r>-poly2tri_Constants.EPSILON&&r<poly2tri_Constants.EPSILON?0:r>0?-1:1)?this.fillRightBelowEdgeEvent(e,n):n=n.next}},fillRightBelowEdgeEvent:function(e,n){if(!(n.point.x>=e.p.x)){var t=n.point,i=n.next.point,s=n.next.next.point,r=(t.x-s.x)*(i.y-s.y)-(t.y-s.y)*(i.x-s.x);-1==(r>-poly2tri_Constants.EPSILON&&r<poly2tri_Constants.EPSILON?0:r>0?-1:1)?this.fillRightConcaveEdgeEvent(e,n):(this.fillRightConvexEdgeEvent(e,n),this.fillRightBelowEdgeEvent(e,n))}},fillRightConcaveEdgeEvent:function(e,n){var t=n.next,i=poly2tri_Pool.getTriangle(t.prev.point,t.point,t.next.point),s=t.prev.triangle,r=i.points[1],l=i.points[2],a=s.points[0];if(r.x!=a.x||r.y!=a.y){a=s.points[1];o=r.x==a.x&&r.y==a.y}else o=!0;if(o)c=!0;else{a=s.points[2];c=r.x==a.x&&r.y==a.y}if(c){a=s.points[0];if(l.x!=a.x||l.y!=a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!0;if(c)h=!0;else{a=s.points[2];h=l.x==a.x&&l.y==a.y}}else h=!1;if(h){i.neighbors[0]=s;r=i.points[1],l=i.points[2],a=s.points[2];if(r.x==a.x&&r.y==a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[1];if(r.x==a.x&&r.y==a.y){a=s.points[2];h=l.x==a.x&&l.y==a.y}else h=!1}if(h)s.neighbors[0]=i;else{a=s.points[0];if(r.x==a.x&&r.y==a.y){a=s.points[2];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[2];if(r.x==a.x&&r.y==a.y){a=s.points[0];h=l.x==a.x&&l.y==a.y}else h=!1}if(h)s.neighbors[1]=i;else{a=s.points[0];if(r.x==a.x&&r.y==a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[1];if(r.x==a.x&&r.y==a.y){a=s.points[0];h=l.x==a.x&&l.y==a.y}else h=!1}if(!h)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");s.neighbors[2]=i}}}else{r=i.points[0],l=i.points[2],a=s.points[0];if(r.x!=a.x||r.y!=a.y){a=s.points[1];o=r.x==a.x&&r.y==a.y}else o=!0;if(o)c=!0;else{a=s.points[2];c=r.x==a.x&&r.y==a.y}if(c){a=s.points[0];if(l.x!=a.x||l.y!=a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!0;if(c)h=!0;else{a=s.points[2];h=l.x==a.x&&l.y==a.y}}else h=!1;if(h){i.neighbors[1]=s;r=i.points[0],l=i.points[2],a=s.points[2];if(r.x==a.x&&r.y==a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[1];if(r.x==a.x&&r.y==a.y){a=s.points[2];h=l.x==a.x&&l.y==a.y}else h=!1}if(h)s.neighbors[0]=i;else{a=s.points[0];if(r.x==a.x&&r.y==a.y){a=s.points[2];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[2];if(r.x==a.x&&r.y==a.y){a=s.points[0];h=l.x==a.x&&l.y==a.y}else h=!1}if(h)s.neighbors[1]=i;else{a=s.points[0];if(r.x==a.x&&r.y==a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[1];if(r.x==a.x&&r.y==a.y){a=s.points[0];h=l.x==a.x&&l.y==a.y}else h=!1}if(!h)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");s.neighbors[2]=i}}}else{r=i.points[0],l=i.points[1],a=s.points[0];if(r.x!=a.x||r.y!=a.y){a=s.points[1];o=r.x==a.x&&r.y==a.y}else o=!0;if(o)c=!0;else{a=s.points[2];c=r.x==a.x&&r.y==a.y}if(c){a=s.points[0];if(l.x!=a.x||l.y!=a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!0;if(c)h=!0;else{a=s.points[2];h=l.x==a.x&&l.y==a.y}}else h=!1;if(h){i.neighbors[2]=s;r=i.points[0],l=i.points[1],a=s.points[2];if(r.x==a.x&&r.y==a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[1];if(r.x==a.x&&r.y==a.y){a=s.points[2];h=l.x==a.x&&l.y==a.y}else h=!1}if(h)s.neighbors[0]=i;else{a=s.points[0];if(r.x==a.x&&r.y==a.y){a=s.points[2];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[2];if(r.x==a.x&&r.y==a.y){a=s.points[0];h=l.x==a.x&&l.y==a.y}else h=!1}if(h)s.neighbors[1]=i;else{a=s.points[0];if(r.x==a.x&&r.y==a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[1];if(r.x==a.x&&r.y==a.y){a=s.points[0];h=l.x==a.x&&l.y==a.y}else h=!1}if(!h)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");s.neighbors[2]=i}}}}}s=t.triangle,r=i.points[1],l=i.points[2],a=s.points[0];if(r.x!=a.x||r.y!=a.y){a=s.points[1];o=r.x==a.x&&r.y==a.y}else o=!0;if(o)c=!0;else{a=s.points[2];c=r.x==a.x&&r.y==a.y}if(c){a=s.points[0];if(l.x!=a.x||l.y!=a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!0;if(c)h=!0;else{a=s.points[2];h=l.x==a.x&&l.y==a.y}}else h=!1;if(h){i.neighbors[0]=s;r=i.points[1],l=i.points[2],a=s.points[2];if(r.x==a.x&&r.y==a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[1];if(r.x==a.x&&r.y==a.y){a=s.points[2];h=l.x==a.x&&l.y==a.y}else h=!1}if(h)s.neighbors[0]=i;else{a=s.points[0];if(r.x==a.x&&r.y==a.y){a=s.points[2];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[2];if(r.x==a.x&&r.y==a.y){a=s.points[0];h=l.x==a.x&&l.y==a.y}else h=!1}if(h)s.neighbors[1]=i;else{a=s.points[0];if(r.x==a.x&&r.y==a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[1];if(r.x==a.x&&r.y==a.y){a=s.points[0];h=l.x==a.x&&l.y==a.y}else h=!1}if(!h)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");s.neighbors[2]=i}}}else{r=i.points[0],l=i.points[2],a=s.points[0];if(r.x!=a.x||r.y!=a.y){a=s.points[1];o=r.x==a.x&&r.y==a.y}else o=!0;if(o)c=!0;else{a=s.points[2];c=r.x==a.x&&r.y==a.y}if(c){a=s.points[0];if(l.x!=a.x||l.y!=a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!0;if(c)h=!0;else{a=s.points[2];h=l.x==a.x&&l.y==a.y}}else h=!1;if(h){i.neighbors[1]=s;r=i.points[0],l=i.points[2],a=s.points[2];if(r.x==a.x&&r.y==a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[1];if(r.x==a.x&&r.y==a.y){a=s.points[2];h=l.x==a.x&&l.y==a.y}else h=!1}if(h)s.neighbors[0]=i;else{a=s.points[0];if(r.x==a.x&&r.y==a.y){a=s.points[2];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[2];if(r.x==a.x&&r.y==a.y){a=s.points[0];h=l.x==a.x&&l.y==a.y}else h=!1}if(h)s.neighbors[1]=i;else{a=s.points[0];if(r.x==a.x&&r.y==a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[1];if(r.x==a.x&&r.y==a.y){a=s.points[0];h=l.x==a.x&&l.y==a.y}else h=!1}if(!h)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");s.neighbors[2]=i}}}else{var o;r=i.points[0],l=i.points[1],a=s.points[0];if(r.x!=a.x||r.y!=a.y){a=s.points[1];o=r.x==a.x&&r.y==a.y}else o=!0;if(o)c=!0;else{a=s.points[2];c=r.x==a.x&&r.y==a.y}if(c){a=s.points[0];if(l.x!=a.x||l.y!=a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!0;if(c)h=!0;else{a=s.points[2];h=l.x==a.x&&l.y==a.y}}else h=!1;if(h){i.neighbors[2]=s;r=i.points[0],l=i.points[1],a=s.points[2];if(r.x==a.x&&r.y==a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[1];if(r.x==a.x&&r.y==a.y){a=s.points[2];h=l.x==a.x&&l.y==a.y}else h=!1}if(h)s.neighbors[0]=i;else{a=s.points[0];if(r.x==a.x&&r.y==a.y){a=s.points[2];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[2];if(r.x==a.x&&r.y==a.y){a=s.points[0];h=l.x==a.x&&l.y==a.y}else h=!1}if(h)s.neighbors[1]=i;else{var h,c;a=s.points[0];if(r.x==a.x&&r.y==a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[1];if(r.x==a.x&&r.y==a.y){a=s.points[0];h=l.x==a.x&&l.y==a.y}else h=!1}if(!h)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");s.neighbors[2]=i}}}}}if(t.prev.next=t.next,t.next.prev=t.prev,!this.legalize(i)){var u=this.context;if(null==i.neighbors[0]){var _=u.front,d=i.points[0],f=i.points;null==(O=-1)&&(O=0);for(var p=O,b=!1,y=0;y<3;){for(var g=y++;p<0;)p+=3;for(;p>2;)p-=3;s=i.points[g];if(d.x==s.x&&d.y==s.y){b=!0;break}++p}if(!b)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((v=(x=f[p]).x)==(m=(t=_.search_node).point.x)){s=t.point;if(x.x!=s.x||x.y!=s.y){s=t.prev.point;if(x.x==s.x&&x.y==s.y)t=t.prev;else{s=t.next.point;if(x.x!=s.x||x.y!=s.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");t=t.next}}}else if(v<m)for(;null!=(t=t.prev);){s=t.point;if(x.x==s.x&&x.y==s.y)break}else for(;null!=(t=t.next);){s=t.point;if(x.x==s.x&&x.y==s.y)break}null!=t&&(_.search_node=t),null!=(w=t)&&(w.triangle=i)}if(null==i.neighbors[1]){_=u.front,d=i.points[1],f=i.points;null==(O=-1)&&(O=0);for(p=O,b=!1,y=0;y<3;){for(g=y++;p<0;)p+=3;for(;p>2;)p-=3;s=i.points[g];if(d.x==s.x&&d.y==s.y){b=!0;break}++p}if(!b)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((v=(x=f[p]).x)==(m=(t=_.search_node).point.x)){s=t.point;if(x.x!=s.x||x.y!=s.y){s=t.prev.point;if(x.x==s.x&&x.y==s.y)t=t.prev;else{s=t.next.point;if(x.x!=s.x||x.y!=s.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");t=t.next}}}else if(v<m)for(;null!=(t=t.prev);){s=t.point;if(x.x==s.x&&x.y==s.y)break}else for(;null!=(t=t.next);){s=t.point;if(x.x==s.x&&x.y==s.y)break}null!=t&&(_.search_node=t),null!=(w=t)&&(w.triangle=i)}if(null==i.neighbors[2]){var O,x,v,m,w;_=u.front,d=i.points[2],f=i.points;null==(O=-1)&&(O=0);for(p=O,b=!1,y=0;y<3;){for(g=y++;p<0;)p+=3;for(;p>2;)p-=3;s=i.points[g];if(d.x==s.x&&d.y==s.y){b=!0;break}++p}if(!b)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((v=(x=f[p]).x)==(m=(t=_.search_node).point.x)){s=t.point;if(x.x!=s.x||x.y!=s.y){s=t.prev.point;if(x.x==s.x&&x.y==s.y)t=t.prev;else{s=t.next.point;if(x.x!=s.x||x.y!=s.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");t=t.next}}}else if(v<m)for(;null!=(t=t.prev);){s=t.point;if(x.x==s.x&&x.y==s.y)break}else for(;null!=(t=t.next);){s=t.point;if(x.x==s.x&&x.y==s.y)break}null!=t&&(_.search_node=t),null!=(w=t)&&(w.triangle=i)}}if(n.next.point!=e.p){var U=e.q,C=n.next.point,T=e.p;if(-1==((D=(U.x-T.x)*(C.y-T.y)-(U.y-T.y)*(C.x-T.x))>-poly2tri_Constants.EPSILON&&D<poly2tri_Constants.EPSILON?0:D>0?-1:1)){var D;U=n.point,C=n.next.point,T=n.next.next.point;-1==((D=(U.x-T.x)*(C.y-T.y)-(U.y-T.y)*(C.x-T.x))>-poly2tri_Constants.EPSILON&&D<poly2tri_Constants.EPSILON?0:D>0?-1:1)&&this.fillRightConcaveEdgeEvent(e,n)}}},fillRightConvexEdgeEvent:function(e,n){var t=n.next.point,i=n.next.next.point,s=n.next.next.next.point;if(-1==((r=(t.x-s.x)*(i.y-s.y)-(t.y-s.y)*(i.x-s.x))>-poly2tri_Constants.EPSILON&&r<poly2tri_Constants.EPSILON?0:r>0?-1:1))this.fillRightConcaveEdgeEvent(e,n.next);else{var r;t=e.q,i=n.next.next.point,s=e.p;-1==((r=(t.x-s.x)*(i.y-s.y)-(t.y-s.y)*(i.x-s.x))>-poly2tri_Constants.EPSILON&&r<poly2tri_Constants.EPSILON?0:r>0?-1:1)&&this.fillRightConvexEdgeEvent(e,n.next)}},fillLeftAboveEdgeEvent:function(e,n){for(;n.prev.point.x>e.p.x;){var t=e.q,i=n.prev.point,s=e.p,r=(t.x-s.x)*(i.y-s.y)-(t.y-s.y)*(i.x-s.x);1==(r>-poly2tri_Constants.EPSILON&&r<poly2tri_Constants.EPSILON?0:r>0?-1:1)?this.fillLeftBelowEdgeEvent(e,n):n=n.prev}},fillLeftBelowEdgeEvent:function(e,n){if(n.point.x>e.p.x){var t=n.point,i=n.prev.point,s=n.prev.prev.point,r=(t.x-s.x)*(i.y-s.y)-(t.y-s.y)*(i.x-s.x);1==(r>-poly2tri_Constants.EPSILON&&r<poly2tri_Constants.EPSILON?0:r>0?-1:1)?this.fillLeftConcaveEdgeEvent(e,n):(this.fillLeftConvexEdgeEvent(e,n),this.fillLeftBelowEdgeEvent(e,n))}},fillLeftConvexEdgeEvent:function(e,n){var t=n.prev.point,i=n.prev.prev.point,s=n.prev.prev.prev.point;if(1==((r=(t.x-s.x)*(i.y-s.y)-(t.y-s.y)*(i.x-s.x))>-poly2tri_Constants.EPSILON&&r<poly2tri_Constants.EPSILON?0:r>0?-1:1))this.fillLeftConcaveEdgeEvent(e,n.prev);else{var r;t=e.q,i=n.prev.prev.point,s=e.p;1==((r=(t.x-s.x)*(i.y-s.y)-(t.y-s.y)*(i.x-s.x))>-poly2tri_Constants.EPSILON&&r<poly2tri_Constants.EPSILON?0:r>0?-1:1)&&this.fillLeftConvexEdgeEvent(e,n.prev)}},fillLeftConcaveEdgeEvent:function(e,n){var t=n.prev,i=poly2tri_Pool.getTriangle(t.prev.point,t.point,t.next.point),s=t.prev.triangle,r=i.points[1],l=i.points[2],a=s.points[0];if(r.x!=a.x||r.y!=a.y){a=s.points[1];o=r.x==a.x&&r.y==a.y}else o=!0;if(o)c=!0;else{a=s.points[2];c=r.x==a.x&&r.y==a.y}if(c){a=s.points[0];if(l.x!=a.x||l.y!=a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!0;if(c)h=!0;else{a=s.points[2];h=l.x==a.x&&l.y==a.y}}else h=!1;if(h){i.neighbors[0]=s;r=i.points[1],l=i.points[2],a=s.points[2];if(r.x==a.x&&r.y==a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[1];if(r.x==a.x&&r.y==a.y){a=s.points[2];h=l.x==a.x&&l.y==a.y}else h=!1}if(h)s.neighbors[0]=i;else{a=s.points[0];if(r.x==a.x&&r.y==a.y){a=s.points[2];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[2];if(r.x==a.x&&r.y==a.y){a=s.points[0];h=l.x==a.x&&l.y==a.y}else h=!1}if(h)s.neighbors[1]=i;else{a=s.points[0];if(r.x==a.x&&r.y==a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[1];if(r.x==a.x&&r.y==a.y){a=s.points[0];h=l.x==a.x&&l.y==a.y}else h=!1}if(!h)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");s.neighbors[2]=i}}}else{r=i.points[0],l=i.points[2],a=s.points[0];if(r.x!=a.x||r.y!=a.y){a=s.points[1];o=r.x==a.x&&r.y==a.y}else o=!0;if(o)c=!0;else{a=s.points[2];c=r.x==a.x&&r.y==a.y}if(c){a=s.points[0];if(l.x!=a.x||l.y!=a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!0;if(c)h=!0;else{a=s.points[2];h=l.x==a.x&&l.y==a.y}}else h=!1;if(h){i.neighbors[1]=s;r=i.points[0],l=i.points[2],a=s.points[2];if(r.x==a.x&&r.y==a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[1];if(r.x==a.x&&r.y==a.y){a=s.points[2];h=l.x==a.x&&l.y==a.y}else h=!1}if(h)s.neighbors[0]=i;else{a=s.points[0];if(r.x==a.x&&r.y==a.y){a=s.points[2];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[2];if(r.x==a.x&&r.y==a.y){a=s.points[0];h=l.x==a.x&&l.y==a.y}else h=!1}if(h)s.neighbors[1]=i;else{a=s.points[0];if(r.x==a.x&&r.y==a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[1];if(r.x==a.x&&r.y==a.y){a=s.points[0];h=l.x==a.x&&l.y==a.y}else h=!1}if(!h)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");s.neighbors[2]=i}}}else{r=i.points[0],l=i.points[1],a=s.points[0];if(r.x!=a.x||r.y!=a.y){a=s.points[1];o=r.x==a.x&&r.y==a.y}else o=!0;if(o)c=!0;else{a=s.points[2];c=r.x==a.x&&r.y==a.y}if(c){a=s.points[0];if(l.x!=a.x||l.y!=a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!0;if(c)h=!0;else{a=s.points[2];h=l.x==a.x&&l.y==a.y}}else h=!1;if(h){i.neighbors[2]=s;r=i.points[0],l=i.points[1],a=s.points[2];if(r.x==a.x&&r.y==a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[1];if(r.x==a.x&&r.y==a.y){a=s.points[2];h=l.x==a.x&&l.y==a.y}else h=!1}if(h)s.neighbors[0]=i;else{a=s.points[0];if(r.x==a.x&&r.y==a.y){a=s.points[2];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[2];if(r.x==a.x&&r.y==a.y){a=s.points[0];h=l.x==a.x&&l.y==a.y}else h=!1}if(h)s.neighbors[1]=i;else{a=s.points[0];if(r.x==a.x&&r.y==a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[1];if(r.x==a.x&&r.y==a.y){a=s.points[0];h=l.x==a.x&&l.y==a.y}else h=!1}if(!h)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");s.neighbors[2]=i}}}}}s=t.triangle,r=i.points[1],l=i.points[2],a=s.points[0];if(r.x!=a.x||r.y!=a.y){a=s.points[1];o=r.x==a.x&&r.y==a.y}else o=!0;if(o)c=!0;else{a=s.points[2];c=r.x==a.x&&r.y==a.y}if(c){a=s.points[0];if(l.x!=a.x||l.y!=a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!0;if(c)h=!0;else{a=s.points[2];h=l.x==a.x&&l.y==a.y}}else h=!1;if(h){i.neighbors[0]=s;r=i.points[1],l=i.points[2],a=s.points[2];if(r.x==a.x&&r.y==a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[1];if(r.x==a.x&&r.y==a.y){a=s.points[2];h=l.x==a.x&&l.y==a.y}else h=!1}if(h)s.neighbors[0]=i;else{a=s.points[0];if(r.x==a.x&&r.y==a.y){a=s.points[2];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[2];if(r.x==a.x&&r.y==a.y){a=s.points[0];h=l.x==a.x&&l.y==a.y}else h=!1}if(h)s.neighbors[1]=i;else{a=s.points[0];if(r.x==a.x&&r.y==a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[1];if(r.x==a.x&&r.y==a.y){a=s.points[0];h=l.x==a.x&&l.y==a.y}else h=!1}if(!h)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");s.neighbors[2]=i}}}else{r=i.points[0],l=i.points[2],a=s.points[0];if(r.x!=a.x||r.y!=a.y){a=s.points[1];o=r.x==a.x&&r.y==a.y}else o=!0;if(o)c=!0;else{a=s.points[2];c=r.x==a.x&&r.y==a.y}if(c){a=s.points[0];if(l.x!=a.x||l.y!=a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!0;if(c)h=!0;else{a=s.points[2];h=l.x==a.x&&l.y==a.y}}else h=!1;if(h){i.neighbors[1]=s;r=i.points[0],l=i.points[2],a=s.points[2];if(r.x==a.x&&r.y==a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[1];if(r.x==a.x&&r.y==a.y){a=s.points[2];h=l.x==a.x&&l.y==a.y}else h=!1}if(h)s.neighbors[0]=i;else{a=s.points[0];if(r.x==a.x&&r.y==a.y){a=s.points[2];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[2];if(r.x==a.x&&r.y==a.y){a=s.points[0];h=l.x==a.x&&l.y==a.y}else h=!1}if(h)s.neighbors[1]=i;else{a=s.points[0];if(r.x==a.x&&r.y==a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[1];if(r.x==a.x&&r.y==a.y){a=s.points[0];h=l.x==a.x&&l.y==a.y}else h=!1}if(!h)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");s.neighbors[2]=i}}}else{var o;r=i.points[0],l=i.points[1],a=s.points[0];if(r.x!=a.x||r.y!=a.y){a=s.points[1];o=r.x==a.x&&r.y==a.y}else o=!0;if(o)c=!0;else{a=s.points[2];c=r.x==a.x&&r.y==a.y}if(c){a=s.points[0];if(l.x!=a.x||l.y!=a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!0;if(c)h=!0;else{a=s.points[2];h=l.x==a.x&&l.y==a.y}}else h=!1;if(h){i.neighbors[2]=s;r=i.points[0],l=i.points[1],a=s.points[2];if(r.x==a.x&&r.y==a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[1];if(r.x==a.x&&r.y==a.y){a=s.points[2];h=l.x==a.x&&l.y==a.y}else h=!1}if(h)s.neighbors[0]=i;else{a=s.points[0];if(r.x==a.x&&r.y==a.y){a=s.points[2];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[2];if(r.x==a.x&&r.y==a.y){a=s.points[0];h=l.x==a.x&&l.y==a.y}else h=!1}if(h)s.neighbors[1]=i;else{var h,c;a=s.points[0];if(r.x==a.x&&r.y==a.y){a=s.points[1];c=l.x==a.x&&l.y==a.y}else c=!1;if(c)h=!0;else{a=s.points[1];if(r.x==a.x&&r.y==a.y){a=s.points[0];h=l.x==a.x&&l.y==a.y}else h=!1}if(!h)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");s.neighbors[2]=i}}}}}if(t.prev.next=t.next,t.next.prev=t.prev,!this.legalize(i)){var u=this.context;if(null==i.neighbors[0]){var _=u.front,d=i.points[0],f=i.points;null==(O=-1)&&(O=0);for(var p=O,b=!1,y=0;y<3;){for(var g=y++;p<0;)p+=3;for(;p>2;)p-=3;s=i.points[g];if(d.x==s.x&&d.y==s.y){b=!0;break}++p}if(!b)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((v=(x=f[p]).x)==(m=(t=_.search_node).point.x)){s=t.point;if(x.x!=s.x||x.y!=s.y){s=t.prev.point;if(x.x==s.x&&x.y==s.y)t=t.prev;else{s=t.next.point;if(x.x!=s.x||x.y!=s.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");t=t.next}}}else if(v<m)for(;null!=(t=t.prev);){s=t.point;if(x.x==s.x&&x.y==s.y)break}else for(;null!=(t=t.next);){s=t.point;if(x.x==s.x&&x.y==s.y)break}null!=t&&(_.search_node=t),null!=(w=t)&&(w.triangle=i)}if(null==i.neighbors[1]){_=u.front,d=i.points[1],f=i.points;null==(O=-1)&&(O=0);for(p=O,b=!1,y=0;y<3;){for(g=y++;p<0;)p+=3;for(;p>2;)p-=3;s=i.points[g];if(d.x==s.x&&d.y==s.y){b=!0;break}++p}if(!b)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((v=(x=f[p]).x)==(m=(t=_.search_node).point.x)){s=t.point;if(x.x!=s.x||x.y!=s.y){s=t.prev.point;if(x.x==s.x&&x.y==s.y)t=t.prev;else{s=t.next.point;if(x.x!=s.x||x.y!=s.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");t=t.next}}}else if(v<m)for(;null!=(t=t.prev);){s=t.point;if(x.x==s.x&&x.y==s.y)break}else for(;null!=(t=t.next);){s=t.point;if(x.x==s.x&&x.y==s.y)break}null!=t&&(_.search_node=t),null!=(w=t)&&(w.triangle=i)}if(null==i.neighbors[2]){var O,x,v,m,w;_=u.front,d=i.points[2],f=i.points;null==(O=-1)&&(O=0);for(p=O,b=!1,y=0;y<3;){for(g=y++;p<0;)p+=3;for(;p>2;)p-=3;s=i.points[g];if(d.x==s.x&&d.y==s.y){b=!0;break}++p}if(!b)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((v=(x=f[p]).x)==(m=(t=_.search_node).point.x)){s=t.point;if(x.x!=s.x||x.y!=s.y){s=t.prev.point;if(x.x==s.x&&x.y==s.y)t=t.prev;else{s=t.next.point;if(x.x!=s.x||x.y!=s.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");t=t.next}}}else if(v<m)for(;null!=(t=t.prev);){s=t.point;if(x.x==s.x&&x.y==s.y)break}else for(;null!=(t=t.next);){s=t.point;if(x.x==s.x&&x.y==s.y)break}null!=t&&(_.search_node=t),null!=(w=t)&&(w.triangle=i)}}if(n.prev.point!=e.p){var U=e.q,C=n.prev.point,T=e.p;if(1==((D=(U.x-T.x)*(C.y-T.y)-(U.y-T.y)*(C.x-T.x))>-poly2tri_Constants.EPSILON&&D<poly2tri_Constants.EPSILON?0:D>0?-1:1)){var D;U=n.point,C=n.prev.point,T=n.prev.prev.point;1==((D=(U.x-T.x)*(C.y-T.y)-(U.y-T.y)*(C.x-T.x))>-poly2tri_Constants.EPSILON&&D<poly2tri_Constants.EPSILON?0:D>0?-1:1)&&this.fillLeftConcaveEdgeEvent(e,n)}}},flipEdgeEvent:function(e,n,t,i){var s=t.neighbors;null==(ee=0)&&(ee=0);for(var r=ee,l=!1,a=0;a<3;){for(var o=a++;r<0;)r+=3;for(;r>2;)r-=3;var h=t.points[o];if(i.x==h.x&&i.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");var c=s[r];if(null==c)throw haxe_Exception.thrown("Sweep::[BUG:FIXME] FLIP failed due to missing triangle!");s=t.points;null==(ee=-1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=t.points[o];if(i.x==h.x&&i.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");var u=s[r],_=c.points;null==(ee=-1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=c.points[o];if(u.x==h.x&&u.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");var d=_[r];s=t.points;null==(ee=1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=t.points[o];if(i.x==h.x&&i.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");var f=s[r];s=t.points;null==(ee=-1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=t.points[o];if(i.x==h.x&&i.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");var p=s[r],b=d.x,y=d.y,g=i.x-b,O=i.y-y,x=f.x-b,v=!1;g*(f.y-y)-x*O>poly2tri_Constants.EPSILON&&(v=(p.x-b)*O-g*(p.y-y)>poly2tri_Constants.EPSILON);if(v){s=t.neighbors;null==(ee=-1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=t.points[o];if(i.x==h.x&&i.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");var m=s[r];s=t.neighbors;null==(ee=1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=t.points[o];if(i.x==h.x&&i.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");var w=s[r];_=c.neighbors;null==(ee=-1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=c.points[o];if(d.x==h.x&&d.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");var U=_[r];_=c.neighbors;null==(ee=1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=c.points[o];if(d.x==h.x&&d.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");var C=_[r];s=t.constrained_edge;null==(ee=-1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=t.points[o];if(i.x==h.x&&i.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");var T=s[r];s=t.constrained_edge;null==(ee=1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=t.points[o];if(i.x==h.x&&i.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");var D=s[r];_=c.constrained_edge;null==(ee=-1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=c.points[o];if(d.x==h.x&&d.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");var E=_[r];_=c.constrained_edge;null==(ee=1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=c.points[o];if(d.x==h.x&&d.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");var A=_[r];s=t.delaunay_edge;null==(ee=-1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=t.points[o];if(i.x==h.x&&i.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");var S=s[r];s=t.delaunay_edge;null==(ee=1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=t.points[o];if(i.x==h.x&&i.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");var M=s[r];_=c.delaunay_edge;null==(ee=-1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=c.points[o];if(d.x==h.x&&d.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");var P=_[r];_=c.delaunay_edge;null==(ee=1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=c.points[o];if(d.x==h.x&&d.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");var F=_[r];t.legalize(i,d),c.legalize(d,i);_=c.delaunay_edge;null==(ee=-1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=c.points[o];if(i.x==h.x&&i.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");_[r]=S;s=t.delaunay_edge;null==(ee=1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=t.points[o];if(i.x==h.x&&i.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");s[r]=M;s=t.delaunay_edge;null==(ee=-1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=t.points[o];if(d.x==h.x&&d.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");s[r]=P;_=c.delaunay_edge;null==(ee=1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=c.points[o];if(d.x==h.x&&d.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");_[r]=F;_=c.constrained_edge;null==(ee=-1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=c.points[o];if(i.x==h.x&&i.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");_[r]=T;s=t.constrained_edge;null==(ee=1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=t.points[o];if(i.x==h.x&&i.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");s[r]=D;s=t.constrained_edge;null==(ee=-1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=t.points[o];if(d.x==h.x&&d.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");s[r]=E;_=c.constrained_edge;null==(ee=1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=c.points[o];if(d.x==h.x&&d.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");if(_[r]=A,t.neighbors[0]=null,t.neighbors[1]=null,t.neighbors[2]=null,c.neighbors[0]=null,c.neighbors[1]=null,c.neighbors[2]=null,null!=m){u=c.points[1];var k=c.points[2];h=m.points[0];if(u.x!=h.x||u.y!=h.y){h=m.points[1];R=u.x==h.x&&u.y==h.y}else R=!0;if(R)$=!0;else{h=m.points[2];$=u.x==h.x&&u.y==h.y}if($){h=m.points[0];if(k.x!=h.x||k.y!=h.y){h=m.points[1];$=k.x==h.x&&k.y==h.y}else $=!0;if($)j=!0;else{h=m.points[2];j=k.x==h.x&&k.y==h.y}}else j=!1;if(j){c.neighbors[0]=m;u=c.points[1],k=c.points[2],h=m.points[2];if(u.x==h.x&&u.y==h.y){h=m.points[1];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=m.points[1];if(u.x==h.x&&u.y==h.y){h=m.points[2];j=k.x==h.x&&k.y==h.y}else j=!1}if(j)m.neighbors[0]=c;else{h=m.points[0];if(u.x==h.x&&u.y==h.y){h=m.points[2];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=m.points[2];if(u.x==h.x&&u.y==h.y){h=m.points[0];j=k.x==h.x&&k.y==h.y}else j=!1}if(j)m.neighbors[1]=c;else{h=m.points[0];if(u.x==h.x&&u.y==h.y){h=m.points[1];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=m.points[1];if(u.x==h.x&&u.y==h.y){h=m.points[0];j=k.x==h.x&&k.y==h.y}else j=!1}if(!j)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");m.neighbors[2]=c}}}else{u=c.points[0],k=c.points[2],h=m.points[0];if(u.x!=h.x||u.y!=h.y){h=m.points[1];R=u.x==h.x&&u.y==h.y}else R=!0;if(R)$=!0;else{h=m.points[2];$=u.x==h.x&&u.y==h.y}if($){h=m.points[0];if(k.x!=h.x||k.y!=h.y){h=m.points[1];$=k.x==h.x&&k.y==h.y}else $=!0;if($)j=!0;else{h=m.points[2];j=k.x==h.x&&k.y==h.y}}else j=!1;if(j){c.neighbors[1]=m;u=c.points[0],k=c.points[2],h=m.points[2];if(u.x==h.x&&u.y==h.y){h=m.points[1];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=m.points[1];if(u.x==h.x&&u.y==h.y){h=m.points[2];j=k.x==h.x&&k.y==h.y}else j=!1}if(j)m.neighbors[0]=c;else{h=m.points[0];if(u.x==h.x&&u.y==h.y){h=m.points[2];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=m.points[2];if(u.x==h.x&&u.y==h.y){h=m.points[0];j=k.x==h.x&&k.y==h.y}else j=!1}if(j)m.neighbors[1]=c;else{h=m.points[0];if(u.x==h.x&&u.y==h.y){h=m.points[1];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=m.points[1];if(u.x==h.x&&u.y==h.y){h=m.points[0];j=k.x==h.x&&k.y==h.y}else j=!1}if(!j)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");m.neighbors[2]=c}}}else{u=c.points[0],k=c.points[1],h=m.points[0];if(u.x!=h.x||u.y!=h.y){h=m.points[1];R=u.x==h.x&&u.y==h.y}else R=!0;if(R)$=!0;else{h=m.points[2];$=u.x==h.x&&u.y==h.y}if($){h=m.points[0];if(k.x!=h.x||k.y!=h.y){h=m.points[1];$=k.x==h.x&&k.y==h.y}else $=!0;if($)j=!0;else{h=m.points[2];j=k.x==h.x&&k.y==h.y}}else j=!1;if(j){c.neighbors[2]=m;u=c.points[0],k=c.points[1],h=m.points[2];if(u.x==h.x&&u.y==h.y){h=m.points[1];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=m.points[1];if(u.x==h.x&&u.y==h.y){h=m.points[2];j=k.x==h.x&&k.y==h.y}else j=!1}if(j)m.neighbors[0]=c;else{h=m.points[0];if(u.x==h.x&&u.y==h.y){h=m.points[2];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=m.points[2];if(u.x==h.x&&u.y==h.y){h=m.points[0];j=k.x==h.x&&k.y==h.y}else j=!1}if(j)m.neighbors[1]=c;else{h=m.points[0];if(u.x==h.x&&u.y==h.y){h=m.points[1];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=m.points[1];if(u.x==h.x&&u.y==h.y){h=m.points[0];j=k.x==h.x&&k.y==h.y}else j=!1}if(!j)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");m.neighbors[2]=c}}}}}}if(null!=w){u=t.points[1],k=t.points[2],h=w.points[0];if(u.x!=h.x||u.y!=h.y){h=w.points[1];R=u.x==h.x&&u.y==h.y}else R=!0;if(R)$=!0;else{h=w.points[2];$=u.x==h.x&&u.y==h.y}if($){h=w.points[0];if(k.x!=h.x||k.y!=h.y){h=w.points[1];$=k.x==h.x&&k.y==h.y}else $=!0;if($)j=!0;else{h=w.points[2];j=k.x==h.x&&k.y==h.y}}else j=!1;if(j){t.neighbors[0]=w;u=t.points[1],k=t.points[2],h=w.points[2];if(u.x==h.x&&u.y==h.y){h=w.points[1];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=w.points[1];if(u.x==h.x&&u.y==h.y){h=w.points[2];j=k.x==h.x&&k.y==h.y}else j=!1}if(j)w.neighbors[0]=t;else{h=w.points[0];if(u.x==h.x&&u.y==h.y){h=w.points[2];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=w.points[2];if(u.x==h.x&&u.y==h.y){h=w.points[0];j=k.x==h.x&&k.y==h.y}else j=!1}if(j)w.neighbors[1]=t;else{h=w.points[0];if(u.x==h.x&&u.y==h.y){h=w.points[1];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=w.points[1];if(u.x==h.x&&u.y==h.y){h=w.points[0];j=k.x==h.x&&k.y==h.y}else j=!1}if(!j)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");w.neighbors[2]=t}}}else{u=t.points[0],k=t.points[2],h=w.points[0];if(u.x!=h.x||u.y!=h.y){h=w.points[1];R=u.x==h.x&&u.y==h.y}else R=!0;if(R)$=!0;else{h=w.points[2];$=u.x==h.x&&u.y==h.y}if($){h=w.points[0];if(k.x!=h.x||k.y!=h.y){h=w.points[1];$=k.x==h.x&&k.y==h.y}else $=!0;if($)j=!0;else{h=w.points[2];j=k.x==h.x&&k.y==h.y}}else j=!1;if(j){t.neighbors[1]=w;u=t.points[0],k=t.points[2],h=w.points[2];if(u.x==h.x&&u.y==h.y){h=w.points[1];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=w.points[1];if(u.x==h.x&&u.y==h.y){h=w.points[2];j=k.x==h.x&&k.y==h.y}else j=!1}if(j)w.neighbors[0]=t;else{h=w.points[0];if(u.x==h.x&&u.y==h.y){h=w.points[2];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=w.points[2];if(u.x==h.x&&u.y==h.y){h=w.points[0];j=k.x==h.x&&k.y==h.y}else j=!1}if(j)w.neighbors[1]=t;else{h=w.points[0];if(u.x==h.x&&u.y==h.y){h=w.points[1];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=w.points[1];if(u.x==h.x&&u.y==h.y){h=w.points[0];j=k.x==h.x&&k.y==h.y}else j=!1}if(!j)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");w.neighbors[2]=t}}}else{u=t.points[0],k=t.points[1],h=w.points[0];if(u.x!=h.x||u.y!=h.y){h=w.points[1];R=u.x==h.x&&u.y==h.y}else R=!0;if(R)$=!0;else{h=w.points[2];$=u.x==h.x&&u.y==h.y}if($){h=w.points[0];if(k.x!=h.x||k.y!=h.y){h=w.points[1];$=k.x==h.x&&k.y==h.y}else $=!0;if($)j=!0;else{h=w.points[2];j=k.x==h.x&&k.y==h.y}}else j=!1;if(j){t.neighbors[2]=w;u=t.points[0],k=t.points[1],h=w.points[2];if(u.x==h.x&&u.y==h.y){h=w.points[1];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=w.points[1];if(u.x==h.x&&u.y==h.y){h=w.points[2];j=k.x==h.x&&k.y==h.y}else j=!1}if(j)w.neighbors[0]=t;else{h=w.points[0];if(u.x==h.x&&u.y==h.y){h=w.points[2];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=w.points[2];if(u.x==h.x&&u.y==h.y){h=w.points[0];j=k.x==h.x&&k.y==h.y}else j=!1}if(j)w.neighbors[1]=t;else{h=w.points[0];if(u.x==h.x&&u.y==h.y){h=w.points[1];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=w.points[1];if(u.x==h.x&&u.y==h.y){h=w.points[0];j=k.x==h.x&&k.y==h.y}else j=!1}if(!j)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");w.neighbors[2]=t}}}}}}if(null!=U){u=t.points[1],k=t.points[2],h=U.points[0];if(u.x!=h.x||u.y!=h.y){h=U.points[1];R=u.x==h.x&&u.y==h.y}else R=!0;if(R)$=!0;else{h=U.points[2];$=u.x==h.x&&u.y==h.y}if($){h=U.points[0];if(k.x!=h.x||k.y!=h.y){h=U.points[1];$=k.x==h.x&&k.y==h.y}else $=!0;if($)j=!0;else{h=U.points[2];j=k.x==h.x&&k.y==h.y}}else j=!1;if(j){t.neighbors[0]=U;u=t.points[1],k=t.points[2],h=U.points[2];if(u.x==h.x&&u.y==h.y){h=U.points[1];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=U.points[1];if(u.x==h.x&&u.y==h.y){h=U.points[2];j=k.x==h.x&&k.y==h.y}else j=!1}if(j)U.neighbors[0]=t;else{h=U.points[0];if(u.x==h.x&&u.y==h.y){h=U.points[2];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=U.points[2];if(u.x==h.x&&u.y==h.y){h=U.points[0];j=k.x==h.x&&k.y==h.y}else j=!1}if(j)U.neighbors[1]=t;else{h=U.points[0];if(u.x==h.x&&u.y==h.y){h=U.points[1];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=U.points[1];if(u.x==h.x&&u.y==h.y){h=U.points[0];j=k.x==h.x&&k.y==h.y}else j=!1}if(!j)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");U.neighbors[2]=t}}}else{u=t.points[0],k=t.points[2],h=U.points[0];if(u.x!=h.x||u.y!=h.y){h=U.points[1];R=u.x==h.x&&u.y==h.y}else R=!0;if(R)$=!0;else{h=U.points[2];$=u.x==h.x&&u.y==h.y}if($){h=U.points[0];if(k.x!=h.x||k.y!=h.y){h=U.points[1];$=k.x==h.x&&k.y==h.y}else $=!0;if($)j=!0;else{h=U.points[2];j=k.x==h.x&&k.y==h.y}}else j=!1;if(j){t.neighbors[1]=U;u=t.points[0],k=t.points[2],h=U.points[2];if(u.x==h.x&&u.y==h.y){h=U.points[1];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=U.points[1];if(u.x==h.x&&u.y==h.y){h=U.points[2];j=k.x==h.x&&k.y==h.y}else j=!1}if(j)U.neighbors[0]=t;else{h=U.points[0];if(u.x==h.x&&u.y==h.y){h=U.points[2];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=U.points[2];if(u.x==h.x&&u.y==h.y){h=U.points[0];j=k.x==h.x&&k.y==h.y}else j=!1}if(j)U.neighbors[1]=t;else{h=U.points[0];if(u.x==h.x&&u.y==h.y){h=U.points[1];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=U.points[1];if(u.x==h.x&&u.y==h.y){h=U.points[0];j=k.x==h.x&&k.y==h.y}else j=!1}if(!j)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");U.neighbors[2]=t}}}else{u=t.points[0],k=t.points[1],h=U.points[0];if(u.x!=h.x||u.y!=h.y){h=U.points[1];R=u.x==h.x&&u.y==h.y}else R=!0;if(R)$=!0;else{h=U.points[2];$=u.x==h.x&&u.y==h.y}if($){h=U.points[0];if(k.x!=h.x||k.y!=h.y){h=U.points[1];$=k.x==h.x&&k.y==h.y}else $=!0;if($)j=!0;else{h=U.points[2];j=k.x==h.x&&k.y==h.y}}else j=!1;if(j){t.neighbors[2]=U;u=t.points[0],k=t.points[1],h=U.points[2];if(u.x==h.x&&u.y==h.y){h=U.points[1];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=U.points[1];if(u.x==h.x&&u.y==h.y){h=U.points[2];j=k.x==h.x&&k.y==h.y}else j=!1}if(j)U.neighbors[0]=t;else{h=U.points[0];if(u.x==h.x&&u.y==h.y){h=U.points[2];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=U.points[2];if(u.x==h.x&&u.y==h.y){h=U.points[0];j=k.x==h.x&&k.y==h.y}else j=!1}if(j)U.neighbors[1]=t;else{h=U.points[0];if(u.x==h.x&&u.y==h.y){h=U.points[1];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=U.points[1];if(u.x==h.x&&u.y==h.y){h=U.points[0];j=k.x==h.x&&k.y==h.y}else j=!1}if(!j)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");U.neighbors[2]=t}}}}}}if(null!=C){u=c.points[1],k=c.points[2],h=C.points[0];if(u.x!=h.x||u.y!=h.y){h=C.points[1];R=u.x==h.x&&u.y==h.y}else R=!0;if(R)$=!0;else{h=C.points[2];$=u.x==h.x&&u.y==h.y}if($){h=C.points[0];if(k.x!=h.x||k.y!=h.y){h=C.points[1];$=k.x==h.x&&k.y==h.y}else $=!0;if($)j=!0;else{h=C.points[2];j=k.x==h.x&&k.y==h.y}}else j=!1;if(j){c.neighbors[0]=C;u=c.points[1],k=c.points[2],h=C.points[2];if(u.x==h.x&&u.y==h.y){h=C.points[1];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=C.points[1];if(u.x==h.x&&u.y==h.y){h=C.points[2];j=k.x==h.x&&k.y==h.y}else j=!1}if(j)C.neighbors[0]=c;else{h=C.points[0];if(u.x==h.x&&u.y==h.y){h=C.points[2];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=C.points[2];if(u.x==h.x&&u.y==h.y){h=C.points[0];j=k.x==h.x&&k.y==h.y}else j=!1}if(j)C.neighbors[1]=c;else{h=C.points[0];if(u.x==h.x&&u.y==h.y){h=C.points[1];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=C.points[1];if(u.x==h.x&&u.y==h.y){h=C.points[0];j=k.x==h.x&&k.y==h.y}else j=!1}if(!j)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");C.neighbors[2]=c}}}else{u=c.points[0],k=c.points[2],h=C.points[0];if(u.x!=h.x||u.y!=h.y){h=C.points[1];R=u.x==h.x&&u.y==h.y}else R=!0;if(R)$=!0;else{h=C.points[2];$=u.x==h.x&&u.y==h.y}if($){h=C.points[0];if(k.x!=h.x||k.y!=h.y){h=C.points[1];$=k.x==h.x&&k.y==h.y}else $=!0;if($)j=!0;else{h=C.points[2];j=k.x==h.x&&k.y==h.y}}else j=!1;if(j){c.neighbors[1]=C;u=c.points[0],k=c.points[2],h=C.points[2];if(u.x==h.x&&u.y==h.y){h=C.points[1];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=C.points[1];if(u.x==h.x&&u.y==h.y){h=C.points[2];j=k.x==h.x&&k.y==h.y}else j=!1}if(j)C.neighbors[0]=c;else{h=C.points[0];if(u.x==h.x&&u.y==h.y){h=C.points[2];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=C.points[2];if(u.x==h.x&&u.y==h.y){h=C.points[0];j=k.x==h.x&&k.y==h.y}else j=!1}if(j)C.neighbors[1]=c;else{h=C.points[0];if(u.x==h.x&&u.y==h.y){h=C.points[1];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=C.points[1];if(u.x==h.x&&u.y==h.y){h=C.points[0];j=k.x==h.x&&k.y==h.y}else j=!1}if(!j)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");C.neighbors[2]=c}}}else{u=c.points[0],k=c.points[1],h=C.points[0];if(u.x!=h.x||u.y!=h.y){h=C.points[1];R=u.x==h.x&&u.y==h.y}else R=!0;if(R)$=!0;else{h=C.points[2];$=u.x==h.x&&u.y==h.y}if($){h=C.points[0];if(k.x!=h.x||k.y!=h.y){h=C.points[1];$=k.x==h.x&&k.y==h.y}else $=!0;if($)j=!0;else{h=C.points[2];j=k.x==h.x&&k.y==h.y}}else j=!1;if(j){c.neighbors[2]=C;u=c.points[0],k=c.points[1],h=C.points[2];if(u.x==h.x&&u.y==h.y){h=C.points[1];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=C.points[1];if(u.x==h.x&&u.y==h.y){h=C.points[2];j=k.x==h.x&&k.y==h.y}else j=!1}if(j)C.neighbors[0]=c;else{h=C.points[0];if(u.x==h.x&&u.y==h.y){h=C.points[2];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=C.points[2];if(u.x==h.x&&u.y==h.y){h=C.points[0];j=k.x==h.x&&k.y==h.y}else j=!1}if(j)C.neighbors[1]=c;else{h=C.points[0];if(u.x==h.x&&u.y==h.y){h=C.points[1];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=C.points[1];if(u.x==h.x&&u.y==h.y){h=C.points[0];j=k.x==h.x&&k.y==h.y}else j=!1}if(!j)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");C.neighbors[2]=c}}}}}}u=t.points[1],k=t.points[2],h=c.points[0];if(u.x!=h.x||u.y!=h.y){h=c.points[1];R=u.x==h.x&&u.y==h.y}else R=!0;if(R)$=!0;else{h=c.points[2];$=u.x==h.x&&u.y==h.y}if($){h=c.points[0];if(k.x!=h.x||k.y!=h.y){h=c.points[1];$=k.x==h.x&&k.y==h.y}else $=!0;if($)j=!0;else{h=c.points[2];j=k.x==h.x&&k.y==h.y}}else j=!1;if(j){t.neighbors[0]=c;u=t.points[1],k=t.points[2],h=c.points[2];if(u.x==h.x&&u.y==h.y){h=c.points[1];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=c.points[1];if(u.x==h.x&&u.y==h.y){h=c.points[2];j=k.x==h.x&&k.y==h.y}else j=!1}if(j)c.neighbors[0]=t;else{h=c.points[0];if(u.x==h.x&&u.y==h.y){h=c.points[2];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=c.points[2];if(u.x==h.x&&u.y==h.y){h=c.points[0];j=k.x==h.x&&k.y==h.y}else j=!1}if(j)c.neighbors[1]=t;else{h=c.points[0];if(u.x==h.x&&u.y==h.y){h=c.points[1];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=c.points[1];if(u.x==h.x&&u.y==h.y){h=c.points[0];j=k.x==h.x&&k.y==h.y}else j=!1}if(!j)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");c.neighbors[2]=t}}}else{u=t.points[0],k=t.points[2],h=c.points[0];if(u.x!=h.x||u.y!=h.y){h=c.points[1];R=u.x==h.x&&u.y==h.y}else R=!0;if(R)$=!0;else{h=c.points[2];$=u.x==h.x&&u.y==h.y}if($){h=c.points[0];if(k.x!=h.x||k.y!=h.y){h=c.points[1];$=k.x==h.x&&k.y==h.y}else $=!0;if($)j=!0;else{h=c.points[2];j=k.x==h.x&&k.y==h.y}}else j=!1;if(j){t.neighbors[1]=c;u=t.points[0],k=t.points[2],h=c.points[2];if(u.x==h.x&&u.y==h.y){h=c.points[1];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=c.points[1];if(u.x==h.x&&u.y==h.y){h=c.points[2];j=k.x==h.x&&k.y==h.y}else j=!1}if(j)c.neighbors[0]=t;else{h=c.points[0];if(u.x==h.x&&u.y==h.y){h=c.points[2];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=c.points[2];if(u.x==h.x&&u.y==h.y){h=c.points[0];j=k.x==h.x&&k.y==h.y}else j=!1}if(j)c.neighbors[1]=t;else{h=c.points[0];if(u.x==h.x&&u.y==h.y){h=c.points[1];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=c.points[1];if(u.x==h.x&&u.y==h.y){h=c.points[0];j=k.x==h.x&&k.y==h.y}else j=!1}if(!j)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");c.neighbors[2]=t}}}else{var R;u=t.points[0],k=t.points[1],h=c.points[0];if(u.x!=h.x||u.y!=h.y){h=c.points[1];R=u.x==h.x&&u.y==h.y}else R=!0;if(R)$=!0;else{h=c.points[2];$=u.x==h.x&&u.y==h.y}if($){h=c.points[0];if(k.x!=h.x||k.y!=h.y){h=c.points[1];$=k.x==h.x&&k.y==h.y}else $=!0;if($)j=!0;else{h=c.points[2];j=k.x==h.x&&k.y==h.y}}else j=!1;if(j){t.neighbors[2]=c;u=t.points[0],k=t.points[1],h=c.points[2];if(u.x==h.x&&u.y==h.y){h=c.points[1];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=c.points[1];if(u.x==h.x&&u.y==h.y){h=c.points[2];j=k.x==h.x&&k.y==h.y}else j=!1}if(j)c.neighbors[0]=t;else{h=c.points[0];if(u.x==h.x&&u.y==h.y){h=c.points[2];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=c.points[2];if(u.x==h.x&&u.y==h.y){h=c.points[0];j=k.x==h.x&&k.y==h.y}else j=!1}if(j)c.neighbors[1]=t;else{h=c.points[0];if(u.x==h.x&&u.y==h.y){h=c.points[1];$=k.x==h.x&&k.y==h.y}else $=!1;if($)j=!0;else{h=c.points[1];if(u.x==h.x&&u.y==h.y){h=c.points[0];j=k.x==h.x&&k.y==h.y}else j=!1}if(!j)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");c.neighbors[2]=t}}}}}var I=this.context;if(null==t.neighbors[0]){var N=I.front;u=t.points[0],s=t.points;null==(ee=-1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=t.points[o];if(u.x==h.x&&u.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((B=(L=s[r]).x)==(W=(G=N.search_node).point.x)){h=G.point;if(L.x!=h.x||L.y!=h.y){h=G.prev.point;if(L.x==h.x&&L.y==h.y)G=G.prev;else{h=G.next.point;if(L.x!=h.x||L.y!=h.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");G=G.next}}}else if(B<W)for(;null!=(G=G.prev);){h=G.point;if(L.x==h.x&&L.y==h.y)break}else for(;null!=(G=G.next);){h=G.point;if(L.x==h.x&&L.y==h.y)break}null!=G&&(N.search_node=G),null!=(K=G)&&(K.triangle=t)}if(null==t.neighbors[1]){N=I.front,u=t.points[1],s=t.points;null==(ee=-1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=t.points[o];if(u.x==h.x&&u.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((B=(L=s[r]).x)==(W=(G=N.search_node).point.x)){h=G.point;if(L.x!=h.x||L.y!=h.y){h=G.prev.point;if(L.x==h.x&&L.y==h.y)G=G.prev;else{h=G.next.point;if(L.x!=h.x||L.y!=h.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");G=G.next}}}else if(B<W)for(;null!=(G=G.prev);){h=G.point;if(L.x==h.x&&L.y==h.y)break}else for(;null!=(G=G.next);){h=G.point;if(L.x==h.x&&L.y==h.y)break}null!=G&&(N.search_node=G),null!=(K=G)&&(K.triangle=t)}if(null==t.neighbors[2]){N=I.front,u=t.points[2],s=t.points;null==(ee=-1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=t.points[o];if(u.x==h.x&&u.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((B=(L=s[r]).x)==(W=(G=N.search_node).point.x)){h=G.point;if(L.x!=h.x||L.y!=h.y){h=G.prev.point;if(L.x==h.x&&L.y==h.y)G=G.prev;else{h=G.next.point;if(L.x!=h.x||L.y!=h.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");G=G.next}}}else if(B<W)for(;null!=(G=G.prev);){h=G.point;if(L.x==h.x&&L.y==h.y)break}else for(;null!=(G=G.next);){h=G.point;if(L.x==h.x&&L.y==h.y)break}null!=G&&(N.search_node=G),null!=(K=G)&&(K.triangle=t)}I=this.context;if(null==c.neighbors[0]){N=I.front,u=c.points[0],_=c.points;null==(ee=-1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=c.points[o];if(u.x==h.x&&u.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((B=(L=_[r]).x)==(W=(G=N.search_node).point.x)){h=G.point;if(L.x!=h.x||L.y!=h.y){h=G.prev.point;if(L.x==h.x&&L.y==h.y)G=G.prev;else{h=G.next.point;if(L.x!=h.x||L.y!=h.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");G=G.next}}}else if(B<W)for(;null!=(G=G.prev);){h=G.point;if(L.x==h.x&&L.y==h.y)break}else for(;null!=(G=G.next);){h=G.point;if(L.x==h.x&&L.y==h.y)break}null!=G&&(N.search_node=G),null!=(K=G)&&(K.triangle=c)}if(null==c.neighbors[1]){N=I.front,u=c.points[1],_=c.points;null==(ee=-1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=c.points[o];if(u.x==h.x&&u.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((B=(L=_[r]).x)==(W=(G=N.search_node).point.x)){h=G.point;if(L.x!=h.x||L.y!=h.y){h=G.prev.point;if(L.x==h.x&&L.y==h.y)G=G.prev;else{h=G.next.point;if(L.x!=h.x||L.y!=h.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");G=G.next}}}else if(B<W)for(;null!=(G=G.prev);){h=G.point;if(L.x==h.x&&L.y==h.y)break}else for(;null!=(G=G.next);){h=G.point;if(L.x==h.x&&L.y==h.y)break}null!=G&&(N.search_node=G),null!=(K=G)&&(K.triangle=c)}if(null==c.neighbors[2]){var L,B,G,W,K;N=I.front,u=c.points[2],_=c.points;null==(ee=-1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=c.points[o];if(u.x==h.x&&u.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((B=(L=_[r]).x)==(W=(G=N.search_node).point.x)){h=G.point;if(L.x!=h.x||L.y!=h.y){h=G.prev.point;if(L.x==h.x&&L.y==h.y)G=G.prev;else{h=G.next.point;if(L.x!=h.x||L.y!=h.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");G=G.next}}}else if(B<W)for(;null!=(G=G.prev);){h=G.point;if(L.x==h.x&&L.y==h.y)break}else for(;null!=(G=G.next);){h=G.point;if(L.x==h.x&&L.y==h.y)break}null!=G&&(N.search_node=G),null!=(K=G)&&(K.triangle=c)}if(i==n&&d==e){if(n==this.context.edge_event.constrained_edge.q&&e==this.context.edge_event.constrained_edge.p){h=t.points[0];if(n.x==h.x&&n.y==h.y){h=t.points[1];$=e.x==h.x&&e.y==h.y}else $=!1;if($)j=!0;else{h=t.points[1];if(n.x==h.x&&n.y==h.y){h=t.points[0];j=e.x==h.x&&e.y==h.y}else j=!1}if(j)t.constrained_edge[2]=!0;else{h=t.points[0];if(n.x==h.x&&n.y==h.y){h=t.points[2];$=e.x==h.x&&e.y==h.y}else $=!1;if($)j=!0;else{h=t.points[2];if(n.x==h.x&&n.y==h.y){h=t.points[0];j=e.x==h.x&&e.y==h.y}else j=!1}if(j)t.constrained_edge[1]=!0;else{h=t.points[1];if(n.x==h.x&&n.y==h.y){h=t.points[2];$=e.x==h.x&&e.y==h.y}else $=!1;if($)j=!0;else{h=t.points[2];if(n.x==h.x&&n.y==h.y){h=t.points[1];j=e.x==h.x&&e.y==h.y}else j=!1}j&&(t.constrained_edge[0]=!0)}}h=c.points[0];if(n.x==h.x&&n.y==h.y){h=c.points[1];$=e.x==h.x&&e.y==h.y}else $=!1;if($)j=!0;else{h=c.points[1];if(n.x==h.x&&n.y==h.y){h=c.points[0];j=e.x==h.x&&e.y==h.y}else j=!1}if(j)c.constrained_edge[2]=!0;else{h=c.points[0];if(n.x==h.x&&n.y==h.y){h=c.points[2];$=e.x==h.x&&e.y==h.y}else $=!1;if($)j=!0;else{h=c.points[2];if(n.x==h.x&&n.y==h.y){h=c.points[0];j=e.x==h.x&&e.y==h.y}else j=!1}if(j)c.constrained_edge[1]=!0;else{h=c.points[1];if(n.x==h.x&&n.y==h.y){h=c.points[2];$=e.x==h.x&&e.y==h.y}else $=!1;if($)j=!0;else{h=c.points[2];if(n.x==h.x&&n.y==h.y){h=c.points[1];j=e.x==h.x&&e.y==h.y}else j=!1}j&&(c.constrained_edge[0]=!0)}}this.legalize(t),this.legalize(c)}}else{var Y=(Z=(n.x-e.x)*(d.y-e.y)-(n.y-e.y)*(d.x-e.x))>-poly2tri_Constants.EPSILON&&Z<poly2tri_Constants.EPSILON?0:Z>0?-1:1;t=this.nextFlipTriangle(Y,t,c,i,d),this.flipEdgeEvent(e,n,t,i)}}else{var H=poly2tri_Sweep.nextFlipPoint(e,n,c,d);this.flipScanEdgeEvent(e,n,t,c,H);var X=t;v=-1,h=X.points[0];if(e.x==h.x&&e.y==h.y){h=X.points[1];if(n.x==h.x&&n.y==h.y)v=2;else{h=X.points[2];n.x==h.x&&n.y==h.y&&(v=1)}}else{h=X.points[1];if(e.x==h.x&&e.y==h.y){h=X.points[2];if(n.x==h.x&&n.y==h.y)v=0;else{h=X.points[0];n.x==h.x&&n.y==h.y&&(v=2)}}else{h=X.points[2];if(e.x==h.x&&e.y==h.y){h=X.points[0];if(n.x==h.x&&n.y==h.y)v=1;else{h=X.points[1];n.x==h.x&&n.y==h.y&&(v=0)}}}}var V=v;v=!1;if(-1!=V){if(X.constrained_edge[V]=!0,null!=(h=X.neighbors[V])){var z=h.points[0];if(n.x==z.x&&n.y==z.y){z=h.points[1];$=e.x==z.x&&e.y==z.y}else $=!1;if($)j=!0;else{z=h.points[1];if(n.x==z.x&&n.y==z.y){z=h.points[0];j=e.x==z.x&&e.y==z.y}else j=!1}if(j)h.constrained_edge[2]=!0;else{z=h.points[0];if(n.x==z.x&&n.y==z.y){z=h.points[2];$=e.x==z.x&&e.y==z.y}else $=!1;if($)j=!0;else{z=h.points[2];if(n.x==z.x&&n.y==z.y){z=h.points[0];j=e.x==z.x&&e.y==z.y}else j=!1}if(j)h.constrained_edge[1]=!0;else{var j,$;z=h.points[1];if(n.x==z.x&&n.y==z.y){z=h.points[2];$=e.x==z.x&&e.y==z.y}else $=!1;if($)j=!0;else{z=h.points[2];if(n.x==z.x&&n.y==z.y){z=h.points[1];j=e.x==z.x&&e.y==z.y}else j=!1}j&&(h.constrained_edge[0]=!0)}}}v=!0}if(!v){var Q=X.points;null==(ee=1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=X.points[o];if(i.x==h.x&&i.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");u=Q[r];var q=(Z=(n.x-e.x)*(u.y-e.y)-(n.y-e.y)*(u.x-e.x))>-poly2tri_Constants.EPSILON&&Z<poly2tri_Constants.EPSILON?0:Z>0?-1:1;if(0==q)throw haxe_Exception.thrown("Sweep.edgeEvent: Collinear not supported!");Q=X.points;null==(ee=-1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=X.points[o];if(i.x==h.x&&i.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");k=Q[r];var Z,J=(Z=(n.x-e.x)*(k.y-e.y)-(n.y-e.y)*(k.x-e.x))>-poly2tri_Constants.EPSILON&&Z<poly2tri_Constants.EPSILON?0:Z>0?-1:1;if(0==J)throw haxe_Exception.thrown("Sweep.edgeEvent: Collinear not supported!");if(q==J){if(1==q){Q=X.neighbors;null==(ee=-1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=X.points[o];if(i.x==h.x&&i.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");X=Q[r]}else{var ee;Q=X.neighbors;null==(ee=1)&&(ee=0);for(r=ee,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=X.points[o];if(i.x==h.x&&i.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");X=Q[r]}this.edgeEventByPoints(e,n,X,i)}else this.flipEdgeEvent(e,n,X,i)}}},nextFlipTriangle:function(e,n,t,i,s){var r;if(-1==e){var l=-1,a=t.points[0];if(i.x==a.x&&i.y==a.y){a=t.points[1];if(s.x==a.x&&s.y==a.y)l=2;else{a=t.points[2];s.x==a.x&&s.y==a.y&&(l=1)}}else{a=t.points[1];if(i.x==a.x&&i.y==a.y){a=t.points[2];if(s.x==a.x&&s.y==a.y)l=0;else{a=t.points[0];s.x==a.x&&s.y==a.y&&(l=2)}}else{a=t.points[2];if(i.x==a.x&&i.y==a.y){a=t.points[0];if(s.x==a.x&&s.y==a.y)l=1;else{a=t.points[1];s.x==a.x&&s.y==a.y&&(l=0)}}}}return r=l,t.delaunay_edge[r]=!0,this.legalize(t),t.delaunay_edge[0]=!1,t.delaunay_edge[1]=!1,t.delaunay_edge[2]=!1,n}l=-1,a=n.points[0];if(i.x==a.x&&i.y==a.y){a=n.points[1];if(s.x==a.x&&s.y==a.y)l=2;else{a=n.points[2];s.x==a.x&&s.y==a.y&&(l=1)}}else{a=n.points[1];if(i.x==a.x&&i.y==a.y){a=n.points[2];if(s.x==a.x&&s.y==a.y)l=0;else{a=n.points[0];s.x==a.x&&s.y==a.y&&(l=2)}}else{a=n.points[2];if(i.x==a.x&&i.y==a.y){a=n.points[0];if(s.x==a.x&&s.y==a.y)l=1;else{a=n.points[1];s.x==a.x&&s.y==a.y&&(l=0)}}}}return r=l,n.delaunay_edge[r]=!0,this.legalize(n),n.delaunay_edge[0]=!1,n.delaunay_edge[1]=!1,n.delaunay_edge[2]=!1,t},flipScanEdgeEvent:function(e,n,t,i,s){var r=i.neighbors;null==(p=0)&&(p=0);for(var l=p,a=!1,o=0;o<3;){for(var h=o++;l<0;)l+=3;for(;l>2;)l-=3;var c=i.points[h];if(s.x==c.x&&s.y==c.y){a=!0;break}++l}if(!a)throw haxe_Exception.thrown("Triangle::Point not in triangle");var u=r[l];if(null==u)throw haxe_Exception.thrown("Sweep::[BUG:FIXME] FLIP failed due to missing triangle");r=i.points;null==(p=-1)&&(p=0);for(l=p,a=!1,o=0;o<3;){for(h=o++;l<0;)l+=3;for(;l>2;)l-=3;c=i.points[h];if(s.x==c.x&&s.y==c.y){a=!0;break}++l}if(!a)throw haxe_Exception.thrown("Triangle::Point not in triangle");s=r[l];var _=u.points;null==(p=-1)&&(p=0);for(l=p,a=!1,o=0;o<3;){for(h=o++;l<0;)l+=3;for(;l>2;)l-=3;c=u.points[h];if(s.x==c.x&&s.y==c.y){a=!0;break}++l}if(!a)throw haxe_Exception.thrown("Triangle::Point not in triangle");var d=_[l],f=t.points;null==(p=1)&&(p=0);for(l=p,a=!1,o=0;o<3;){for(h=o++;l<0;)l+=3;for(;l>2;)l-=3;c=t.points[h];if(n.x==c.x&&n.y==c.y){a=!0;break}++l}if(!a)throw haxe_Exception.thrown("Triangle::Point not in triangle");var p,b=f[l];f=t.points;null==(p=-1)&&(p=0);for(l=p,a=!1,o=0;o<3;){for(h=o++;l<0;)l+=3;for(;l>2;)l-=3;c=t.points[h];if(n.x==c.x&&n.y==c.y){a=!0;break}++l}if(!a)throw haxe_Exception.thrown("Triangle::Point not in triangle");var y=f[l],g=d.x,O=d.y,x=n.x-g,v=n.y-O,m=b.x-g,w=!1;x*(b.y-O)-m*v>poly2tri_Constants.EPSILON&&(w=(y.x-g)*v-x*(y.y-O)>poly2tri_Constants.EPSILON);if(w)this.flipEdgeEvent(n,d,u,d);else{var U=poly2tri_Sweep.nextFlipPoint(e,n,u,d);this.flipScanEdgeEvent(e,n,t,u,U)}},__class__:poly2tri_Sweep};var poly2tri_SweepContext=function(){this.triangles=poly2tri_Pool.getTriangleArray(),this.points=poly2tri_Pool.getPointArray(),this.edge_list=poly2tri_Pool.getEdgeArray(),this.basin=new poly2tri_Basin,this.edge_event=new poly2tri_EdgeEvent};t["poly2tri.SweepContext"]=poly2tri_SweepContext,poly2tri_SweepContext.__name__="poly2tri.SweepContext",poly2tri_SweepContext.prototype={reset:function(){var e;this.triangles=poly2tri_Pool.getTriangleArray(),this.points=poly2tri_Pool.getPointArray(),this.edge_list=poly2tri_Pool.getEdgeArray(),(e=this.basin).left_node=null,e.bottom_node=null,e.right_node=null,e.width=0,e.left_highest=!1,(e=this.edge_event).constrained_edge=null,e.right=!1},addPoints:function(e){for(var n=0,t=e.length;n<t;){var i=n++;this.points.push(e[i])}},addPolyline:function(e){for(var n=0,t=e.length;n<t;){var i=n++,s=e[(i+1)%e.length];this.edge_list.push(poly2tri_Pool.getEdge(e[i],s))}for(n=0,t=e.length;n<t;){var r=n++;this.points.push(e[r])}},initEdges:function(e){for(var n=0,t=e.length;n<t;){var i=n++,s=e[(i+1)%e.length];this.edge_list.push(poly2tri_Pool.getEdge(e[i],s))}},initTriangulation:function(){for(var e=this.points[0].x,n=this.points[0].x,t=this.points[0].y,i=this.points[0].y,s=0,r=this.points.length;s<r;){var l=s++,a=this.points[l];a.x>n&&(n=a.x),a.x<e&&(e=a.x),a.y>i&&(i=a.y),a.y<t&&(t=a.y)}var o=poly2tri_Constants.kAlpha*(n-e),h=poly2tri_Constants.kAlpha*(i-t);this.head=poly2tri_Pool.getPoint(n+o,t-h),this.tail=poly2tri_Pool.getPoint(e-h,t-h);var c=this.points;poly2tri_SortPoints.rec(c,0,c.length)},locateNode:function(e){var n=this.front,t=e.x,i=n.search_node,s=null;if(t<i.value){for(;null!=(i=i.prev);)if(t>=i.value){n.search_node=i,s=i;break}}else for(;null!=(i=i.next);)if(t<i.value){n.search_node=i.prev,s=i.prev;break}return s},createAdvancingFront:function(){var e=poly2tri_Pool.getTriangle(this.points[0],this.tail,this.head),n=poly2tri_Pool.getNode(e.points[1],e),t=poly2tri_Pool.getNode(e.points[0],e),i=poly2tri_Pool.getNode(e.points[2]);if(null==this.front)this.front=new poly2tri_AdvancingFront(n,i);else{var s=this.front;s.search_node=s.head=n,s.tail=i}n.next=t,t.next=i,t.prev=n,i.prev=t},removeNode:function(e){},mapTriangleToNodes:function(e){if(null==e.neighbors[0]){var n=this.front,t=e.points[0],i=e.points;null==(h=-1)&&(h=0);for(var s=h,r=!1,l=0;l<3;){for(var a=l++;s<0;)s+=3;for(;s>2;)s-=3;var o=e.points[a];if(t.x==o.x&&t.y==o.y){r=!0;break}++s}if(!r)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((u=(c=i[s]).x)==(d=(_=n.search_node).point.x)){o=_.point;if(c.x!=o.x||c.y!=o.y){o=_.prev.point;if(c.x==o.x&&c.y==o.y)_=_.prev;else{o=_.next.point;if(c.x!=o.x||c.y!=o.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");_=_.next}}}else if(u<d)for(;null!=(_=_.prev);){o=_.point;if(c.x==o.x&&c.y==o.y)break}else for(;null!=(_=_.next);){o=_.point;if(c.x==o.x&&c.y==o.y)break}null!=_&&(n.search_node=_),null!=(f=_)&&(f.triangle=e)}if(null==e.neighbors[1]){n=this.front,t=e.points[1],i=e.points;null==(h=-1)&&(h=0);for(s=h,r=!1,l=0;l<3;){for(a=l++;s<0;)s+=3;for(;s>2;)s-=3;o=e.points[a];if(t.x==o.x&&t.y==o.y){r=!0;break}++s}if(!r)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((u=(c=i[s]).x)==(d=(_=n.search_node).point.x)){o=_.point;if(c.x!=o.x||c.y!=o.y){o=_.prev.point;if(c.x==o.x&&c.y==o.y)_=_.prev;else{o=_.next.point;if(c.x!=o.x||c.y!=o.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");_=_.next}}}else if(u<d)for(;null!=(_=_.prev);){o=_.point;if(c.x==o.x&&c.y==o.y)break}else for(;null!=(_=_.next);){o=_.point;if(c.x==o.x&&c.y==o.y)break}null!=_&&(n.search_node=_),null!=(f=_)&&(f.triangle=e)}if(null==e.neighbors[2]){var h,c,u,_,d,f;n=this.front,t=e.points[2],i=e.points;null==(h=-1)&&(h=0);for(s=h,r=!1,l=0;l<3;){for(a=l++;s<0;)s+=3;for(;s>2;)s-=3;o=e.points[a];if(t.x==o.x&&t.y==o.y){r=!0;break}++s}if(!r)throw haxe_Exception.thrown("Triangle::Point not in triangle");if((u=(c=i[s]).x)==(d=(_=n.search_node).point.x)){o=_.point;if(c.x!=o.x||c.y!=o.y){o=_.prev.point;if(c.x==o.x&&c.y==o.y)_=_.prev;else{o=_.next.point;if(c.x!=o.x||c.y!=o.y)throw haxe_Exception.thrown("Invalid AdvancingFront.locatePoint call!");_=_.next}}}else if(u<d)for(;null!=(_=_.prev);){o=_.point;if(c.x==o.x&&c.y==o.y)break}else for(;null!=(_=_.next);){o=_.point;if(c.x==o.x&&c.y==o.y)break}null!=_&&(n.search_node=_),null!=(f=_)&&(f.triangle=e)}},meshClean:function(e){var n=poly2tri_SweepContext._tmpArray;if(0!=n.length)if(n.length>0)n.splice(0,n.length);else for(var t=n;t.length<0;)t.push(null);for(n.push(e);;){if(null==(e=n.pop()))break;e.interior||(e.interior=!0,this.triangles.push(e),e.constrained_edge[0]||n.push(e.neighbors[0]),e.constrained_edge[1]||n.push(e.neighbors[1]),e.constrained_edge[2]||n.push(e.neighbors[2]))}},__class__:poly2tri_SweepContext};var poly2tri_Triangle=function(e,n,t,i,s){null==s&&(s=!0),null==i&&(i=!1);var r,l,a=n,o=t,h=i,c=s;if((null==c&&(c=!0),null==h&&(h=!1),h)&&1==((l=(e.x-o.x)*(a.y-o.y)-(e.y-o.y)*(a.x-o.x))>-poly2tri_Constants.EPSILON&&l<poly2tri_Constants.EPSILON?0:l>0?-1:1)){var u=o;o=a,a=u}c?r=1!=((l=(o.x-e.x)*(a.y-e.y)-(o.y-e.y)*(a.x-e.x))>-poly2tri_Constants.EPSILON&&l<poly2tri_Constants.EPSILON?0:l>0?-1:1):r=!1;if(r)throw haxe_Exception.thrown("Triangle::Triangle must defined with Orientation.CW");null==this.points?this.points=[e,a,o]:(this.points[0]=e,this.points[1]=e,this.points[2]=e),null==this.neighbors?this.neighbors=[null,null,null]:(this.neighbors[0]=null,this.neighbors[1]=null,this.neighbors[2]=null),null==this.constrained_edge?this.constrained_edge=[!1,!1,!1]:(this.constrained_edge[0]=!1,this.constrained_edge[1]=!1,this.constrained_edge[2]=!1),null==this.delaunay_edge?this.delaunay_edge=[!1,!1,!1]:(this.delaunay_edge[0]=!1,this.delaunay_edge[1]=!1,this.delaunay_edge[2]=!1)};t["poly2tri.Triangle"]=poly2tri_Triangle,poly2tri_Triangle.__name__="poly2tri.Triangle",poly2tri_Triangle.rotateTrianglePair=function(e,n,t,i){var s=e.neighbors;null==(w=-1)&&(w=0);for(var r=w,l=!1,a=0;a<3;){for(var o=a++;r<0;)r+=3;for(;r>2;)r-=3;var h=e.points[o];if(n.x==h.x&&n.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");var c=s[r];s=e.neighbors;null==(w=1)&&(w=0);for(r=w,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=e.points[o];if(n.x==h.x&&n.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");var u=s[r],_=t.neighbors;null==(w=-1)&&(w=0);for(r=w,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=t.points[o];if(i.x==h.x&&i.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");var d=_[r];_=t.neighbors;null==(w=1)&&(w=0);for(r=w,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=t.points[o];if(i.x==h.x&&i.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");var f=_[r];s=e.constrained_edge;null==(w=-1)&&(w=0);for(r=w,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=e.points[o];if(n.x==h.x&&n.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");var p=s[r];s=e.constrained_edge;null==(w=1)&&(w=0);for(r=w,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=e.points[o];if(n.x==h.x&&n.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");var b=s[r];_=t.constrained_edge;null==(w=-1)&&(w=0);for(r=w,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=t.points[o];if(i.x==h.x&&i.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");var y=_[r];_=t.constrained_edge;null==(w=1)&&(w=0);for(r=w,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=t.points[o];if(i.x==h.x&&i.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");var g=_[r];s=e.delaunay_edge;null==(w=-1)&&(w=0);for(r=w,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=e.points[o];if(n.x==h.x&&n.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");var O=s[r];s=e.delaunay_edge;null==(w=1)&&(w=0);for(r=w,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=e.points[o];if(n.x==h.x&&n.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");var x=s[r];_=t.delaunay_edge;null==(w=-1)&&(w=0);for(r=w,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=t.points[o];if(i.x==h.x&&i.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");var v=_[r];_=t.delaunay_edge;null==(w=1)&&(w=0);for(r=w,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=t.points[o];if(i.x==h.x&&i.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");var m=_[r];e.legalize(n,i),t.legalize(i,n);_=t.delaunay_edge;null==(w=-1)&&(w=0);for(r=w,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=t.points[o];if(n.x==h.x&&n.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");_[r]=O;s=e.delaunay_edge;null==(w=1)&&(w=0);for(r=w,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=e.points[o];if(n.x==h.x&&n.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");s[r]=x;s=e.delaunay_edge;null==(w=-1)&&(w=0);for(r=w,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=e.points[o];if(i.x==h.x&&i.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");s[r]=v;_=t.delaunay_edge;null==(w=1)&&(w=0);for(r=w,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=t.points[o];if(i.x==h.x&&i.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");_[r]=m;_=t.constrained_edge;null==(w=-1)&&(w=0);for(r=w,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=t.points[o];if(n.x==h.x&&n.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");_[r]=p;s=e.constrained_edge;null==(w=1)&&(w=0);for(r=w,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=e.points[o];if(n.x==h.x&&n.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");s[r]=b;s=e.constrained_edge;null==(w=-1)&&(w=0);for(r=w,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=e.points[o];if(i.x==h.x&&i.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");s[r]=y;var w;_=t.constrained_edge;null==(w=1)&&(w=0);for(r=w,l=!1,a=0;a<3;){for(o=a++;r<0;)r+=3;for(;r>2;)r-=3;h=t.points[o];if(i.x==h.x&&i.y==h.y){l=!0;break}++r}if(!l)throw haxe_Exception.thrown("Triangle::Point not in triangle");if(_[r]=g,e.neighbors[0]=null,e.neighbors[1]=null,e.neighbors[2]=null,t.neighbors[0]=null,t.neighbors[1]=null,t.neighbors[2]=null,null!=c){var U=t.points[1],C=t.points[2];h=c.points[0];if(U.x!=h.x||U.y!=h.y){h=c.points[1];T=U.x==h.x&&U.y==h.y}else T=!0;if(T)E=!0;else{h=c.points[2];E=U.x==h.x&&U.y==h.y}if(E){h=c.points[0];if(C.x!=h.x||C.y!=h.y){h=c.points[1];E=C.x==h.x&&C.y==h.y}else E=!0;if(E)D=!0;else{h=c.points[2];D=C.x==h.x&&C.y==h.y}}else D=!1;if(D){t.neighbors[0]=c;U=t.points[1],C=t.points[2],h=c.points[2];if(U.x==h.x&&U.y==h.y){h=c.points[1];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=c.points[1];if(U.x==h.x&&U.y==h.y){h=c.points[2];D=C.x==h.x&&C.y==h.y}else D=!1}if(D)c.neighbors[0]=t;else{h=c.points[0];if(U.x==h.x&&U.y==h.y){h=c.points[2];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=c.points[2];if(U.x==h.x&&U.y==h.y){h=c.points[0];D=C.x==h.x&&C.y==h.y}else D=!1}if(D)c.neighbors[1]=t;else{h=c.points[0];if(U.x==h.x&&U.y==h.y){h=c.points[1];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=c.points[1];if(U.x==h.x&&U.y==h.y){h=c.points[0];D=C.x==h.x&&C.y==h.y}else D=!1}if(!D)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");c.neighbors[2]=t}}}else{U=t.points[0],C=t.points[2],h=c.points[0];if(U.x!=h.x||U.y!=h.y){h=c.points[1];T=U.x==h.x&&U.y==h.y}else T=!0;if(T)E=!0;else{h=c.points[2];E=U.x==h.x&&U.y==h.y}if(E){h=c.points[0];if(C.x!=h.x||C.y!=h.y){h=c.points[1];E=C.x==h.x&&C.y==h.y}else E=!0;if(E)D=!0;else{h=c.points[2];D=C.x==h.x&&C.y==h.y}}else D=!1;if(D){t.neighbors[1]=c;U=t.points[0],C=t.points[2],h=c.points[2];if(U.x==h.x&&U.y==h.y){h=c.points[1];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=c.points[1];if(U.x==h.x&&U.y==h.y){h=c.points[2];D=C.x==h.x&&C.y==h.y}else D=!1}if(D)c.neighbors[0]=t;else{h=c.points[0];if(U.x==h.x&&U.y==h.y){h=c.points[2];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=c.points[2];if(U.x==h.x&&U.y==h.y){h=c.points[0];D=C.x==h.x&&C.y==h.y}else D=!1}if(D)c.neighbors[1]=t;else{h=c.points[0];if(U.x==h.x&&U.y==h.y){h=c.points[1];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=c.points[1];if(U.x==h.x&&U.y==h.y){h=c.points[0];D=C.x==h.x&&C.y==h.y}else D=!1}if(!D)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");c.neighbors[2]=t}}}else{U=t.points[0],C=t.points[1],h=c.points[0];if(U.x!=h.x||U.y!=h.y){h=c.points[1];T=U.x==h.x&&U.y==h.y}else T=!0;if(T)E=!0;else{h=c.points[2];E=U.x==h.x&&U.y==h.y}if(E){h=c.points[0];if(C.x!=h.x||C.y!=h.y){h=c.points[1];E=C.x==h.x&&C.y==h.y}else E=!0;if(E)D=!0;else{h=c.points[2];D=C.x==h.x&&C.y==h.y}}else D=!1;if(D){t.neighbors[2]=c;U=t.points[0],C=t.points[1],h=c.points[2];if(U.x==h.x&&U.y==h.y){h=c.points[1];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=c.points[1];if(U.x==h.x&&U.y==h.y){h=c.points[2];D=C.x==h.x&&C.y==h.y}else D=!1}if(D)c.neighbors[0]=t;else{h=c.points[0];if(U.x==h.x&&U.y==h.y){h=c.points[2];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=c.points[2];if(U.x==h.x&&U.y==h.y){h=c.points[0];D=C.x==h.x&&C.y==h.y}else D=!1}if(D)c.neighbors[1]=t;else{h=c.points[0];if(U.x==h.x&&U.y==h.y){h=c.points[1];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=c.points[1];if(U.x==h.x&&U.y==h.y){h=c.points[0];D=C.x==h.x&&C.y==h.y}else D=!1}if(!D)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");c.neighbors[2]=t}}}}}}if(null!=u){U=e.points[1],C=e.points[2],h=u.points[0];if(U.x!=h.x||U.y!=h.y){h=u.points[1];T=U.x==h.x&&U.y==h.y}else T=!0;if(T)E=!0;else{h=u.points[2];E=U.x==h.x&&U.y==h.y}if(E){h=u.points[0];if(C.x!=h.x||C.y!=h.y){h=u.points[1];E=C.x==h.x&&C.y==h.y}else E=!0;if(E)D=!0;else{h=u.points[2];D=C.x==h.x&&C.y==h.y}}else D=!1;if(D){e.neighbors[0]=u;U=e.points[1],C=e.points[2],h=u.points[2];if(U.x==h.x&&U.y==h.y){h=u.points[1];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=u.points[1];if(U.x==h.x&&U.y==h.y){h=u.points[2];D=C.x==h.x&&C.y==h.y}else D=!1}if(D)u.neighbors[0]=e;else{h=u.points[0];if(U.x==h.x&&U.y==h.y){h=u.points[2];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=u.points[2];if(U.x==h.x&&U.y==h.y){h=u.points[0];D=C.x==h.x&&C.y==h.y}else D=!1}if(D)u.neighbors[1]=e;else{h=u.points[0];if(U.x==h.x&&U.y==h.y){h=u.points[1];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=u.points[1];if(U.x==h.x&&U.y==h.y){h=u.points[0];D=C.x==h.x&&C.y==h.y}else D=!1}if(!D)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");u.neighbors[2]=e}}}else{U=e.points[0],C=e.points[2],h=u.points[0];if(U.x!=h.x||U.y!=h.y){h=u.points[1];T=U.x==h.x&&U.y==h.y}else T=!0;if(T)E=!0;else{h=u.points[2];E=U.x==h.x&&U.y==h.y}if(E){h=u.points[0];if(C.x!=h.x||C.y!=h.y){h=u.points[1];E=C.x==h.x&&C.y==h.y}else E=!0;if(E)D=!0;else{h=u.points[2];D=C.x==h.x&&C.y==h.y}}else D=!1;if(D){e.neighbors[1]=u;U=e.points[0],C=e.points[2],h=u.points[2];if(U.x==h.x&&U.y==h.y){h=u.points[1];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=u.points[1];if(U.x==h.x&&U.y==h.y){h=u.points[2];D=C.x==h.x&&C.y==h.y}else D=!1}if(D)u.neighbors[0]=e;else{h=u.points[0];if(U.x==h.x&&U.y==h.y){h=u.points[2];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=u.points[2];if(U.x==h.x&&U.y==h.y){h=u.points[0];D=C.x==h.x&&C.y==h.y}else D=!1}if(D)u.neighbors[1]=e;else{h=u.points[0];if(U.x==h.x&&U.y==h.y){h=u.points[1];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=u.points[1];if(U.x==h.x&&U.y==h.y){h=u.points[0];D=C.x==h.x&&C.y==h.y}else D=!1}if(!D)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");u.neighbors[2]=e}}}else{U=e.points[0],C=e.points[1],h=u.points[0];if(U.x!=h.x||U.y!=h.y){h=u.points[1];T=U.x==h.x&&U.y==h.y}else T=!0;if(T)E=!0;else{h=u.points[2];E=U.x==h.x&&U.y==h.y}if(E){h=u.points[0];if(C.x!=h.x||C.y!=h.y){h=u.points[1];E=C.x==h.x&&C.y==h.y}else E=!0;if(E)D=!0;else{h=u.points[2];D=C.x==h.x&&C.y==h.y}}else D=!1;if(D){e.neighbors[2]=u;U=e.points[0],C=e.points[1],h=u.points[2];if(U.x==h.x&&U.y==h.y){h=u.points[1];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=u.points[1];if(U.x==h.x&&U.y==h.y){h=u.points[2];D=C.x==h.x&&C.y==h.y}else D=!1}if(D)u.neighbors[0]=e;else{h=u.points[0];if(U.x==h.x&&U.y==h.y){h=u.points[2];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=u.points[2];if(U.x==h.x&&U.y==h.y){h=u.points[0];D=C.x==h.x&&C.y==h.y}else D=!1}if(D)u.neighbors[1]=e;else{h=u.points[0];if(U.x==h.x&&U.y==h.y){h=u.points[1];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=u.points[1];if(U.x==h.x&&U.y==h.y){h=u.points[0];D=C.x==h.x&&C.y==h.y}else D=!1}if(!D)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");u.neighbors[2]=e}}}}}}if(null!=d){U=e.points[1],C=e.points[2],h=d.points[0];if(U.x!=h.x||U.y!=h.y){h=d.points[1];T=U.x==h.x&&U.y==h.y}else T=!0;if(T)E=!0;else{h=d.points[2];E=U.x==h.x&&U.y==h.y}if(E){h=d.points[0];if(C.x!=h.x||C.y!=h.y){h=d.points[1];E=C.x==h.x&&C.y==h.y}else E=!0;if(E)D=!0;else{h=d.points[2];D=C.x==h.x&&C.y==h.y}}else D=!1;if(D){e.neighbors[0]=d;U=e.points[1],C=e.points[2],h=d.points[2];if(U.x==h.x&&U.y==h.y){h=d.points[1];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=d.points[1];if(U.x==h.x&&U.y==h.y){h=d.points[2];D=C.x==h.x&&C.y==h.y}else D=!1}if(D)d.neighbors[0]=e;else{h=d.points[0];if(U.x==h.x&&U.y==h.y){h=d.points[2];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=d.points[2];if(U.x==h.x&&U.y==h.y){h=d.points[0];D=C.x==h.x&&C.y==h.y}else D=!1}if(D)d.neighbors[1]=e;else{h=d.points[0];if(U.x==h.x&&U.y==h.y){h=d.points[1];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=d.points[1];if(U.x==h.x&&U.y==h.y){h=d.points[0];D=C.x==h.x&&C.y==h.y}else D=!1}if(!D)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");d.neighbors[2]=e}}}else{U=e.points[0],C=e.points[2],h=d.points[0];if(U.x!=h.x||U.y!=h.y){h=d.points[1];T=U.x==h.x&&U.y==h.y}else T=!0;if(T)E=!0;else{h=d.points[2];E=U.x==h.x&&U.y==h.y}if(E){h=d.points[0];if(C.x!=h.x||C.y!=h.y){h=d.points[1];E=C.x==h.x&&C.y==h.y}else E=!0;if(E)D=!0;else{h=d.points[2];D=C.x==h.x&&C.y==h.y}}else D=!1;if(D){e.neighbors[1]=d;U=e.points[0],C=e.points[2],h=d.points[2];if(U.x==h.x&&U.y==h.y){h=d.points[1];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=d.points[1];if(U.x==h.x&&U.y==h.y){h=d.points[2];D=C.x==h.x&&C.y==h.y}else D=!1}if(D)d.neighbors[0]=e;else{h=d.points[0];if(U.x==h.x&&U.y==h.y){h=d.points[2];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=d.points[2];if(U.x==h.x&&U.y==h.y){h=d.points[0];D=C.x==h.x&&C.y==h.y}else D=!1}if(D)d.neighbors[1]=e;else{h=d.points[0];if(U.x==h.x&&U.y==h.y){h=d.points[1];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=d.points[1];if(U.x==h.x&&U.y==h.y){h=d.points[0];D=C.x==h.x&&C.y==h.y}else D=!1}if(!D)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");d.neighbors[2]=e}}}else{U=e.points[0],C=e.points[1],h=d.points[0];if(U.x!=h.x||U.y!=h.y){h=d.points[1];T=U.x==h.x&&U.y==h.y}else T=!0;if(T)E=!0;else{h=d.points[2];E=U.x==h.x&&U.y==h.y}if(E){h=d.points[0];if(C.x!=h.x||C.y!=h.y){h=d.points[1];E=C.x==h.x&&C.y==h.y}else E=!0;if(E)D=!0;else{h=d.points[2];D=C.x==h.x&&C.y==h.y}}else D=!1;if(D){e.neighbors[2]=d;U=e.points[0],C=e.points[1],h=d.points[2];if(U.x==h.x&&U.y==h.y){h=d.points[1];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=d.points[1];if(U.x==h.x&&U.y==h.y){h=d.points[2];D=C.x==h.x&&C.y==h.y}else D=!1}if(D)d.neighbors[0]=e;else{h=d.points[0];if(U.x==h.x&&U.y==h.y){h=d.points[2];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=d.points[2];if(U.x==h.x&&U.y==h.y){h=d.points[0];D=C.x==h.x&&C.y==h.y}else D=!1}if(D)d.neighbors[1]=e;else{h=d.points[0];if(U.x==h.x&&U.y==h.y){h=d.points[1];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=d.points[1];if(U.x==h.x&&U.y==h.y){h=d.points[0];D=C.x==h.x&&C.y==h.y}else D=!1}if(!D)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");d.neighbors[2]=e}}}}}}if(null!=f){U=t.points[1],C=t.points[2],h=f.points[0];if(U.x!=h.x||U.y!=h.y){h=f.points[1];T=U.x==h.x&&U.y==h.y}else T=!0;if(T)E=!0;else{h=f.points[2];E=U.x==h.x&&U.y==h.y}if(E){h=f.points[0];if(C.x!=h.x||C.y!=h.y){h=f.points[1];E=C.x==h.x&&C.y==h.y}else E=!0;if(E)D=!0;else{h=f.points[2];D=C.x==h.x&&C.y==h.y}}else D=!1;if(D){t.neighbors[0]=f;U=t.points[1],C=t.points[2],h=f.points[2];if(U.x==h.x&&U.y==h.y){h=f.points[1];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=f.points[1];if(U.x==h.x&&U.y==h.y){h=f.points[2];D=C.x==h.x&&C.y==h.y}else D=!1}if(D)f.neighbors[0]=t;else{h=f.points[0];if(U.x==h.x&&U.y==h.y){h=f.points[2];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=f.points[2];if(U.x==h.x&&U.y==h.y){h=f.points[0];D=C.x==h.x&&C.y==h.y}else D=!1}if(D)f.neighbors[1]=t;else{h=f.points[0];if(U.x==h.x&&U.y==h.y){h=f.points[1];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=f.points[1];if(U.x==h.x&&U.y==h.y){h=f.points[0];D=C.x==h.x&&C.y==h.y}else D=!1}if(!D)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");f.neighbors[2]=t}}}else{U=t.points[0],C=t.points[2],h=f.points[0];if(U.x!=h.x||U.y!=h.y){h=f.points[1];T=U.x==h.x&&U.y==h.y}else T=!0;if(T)E=!0;else{h=f.points[2];E=U.x==h.x&&U.y==h.y}if(E){h=f.points[0];if(C.x!=h.x||C.y!=h.y){h=f.points[1];E=C.x==h.x&&C.y==h.y}else E=!0;if(E)D=!0;else{h=f.points[2];D=C.x==h.x&&C.y==h.y}}else D=!1;if(D){t.neighbors[1]=f;U=t.points[0],C=t.points[2],h=f.points[2];if(U.x==h.x&&U.y==h.y){h=f.points[1];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=f.points[1];if(U.x==h.x&&U.y==h.y){h=f.points[2];D=C.x==h.x&&C.y==h.y}else D=!1}if(D)f.neighbors[0]=t;else{h=f.points[0];if(U.x==h.x&&U.y==h.y){h=f.points[2];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=f.points[2];if(U.x==h.x&&U.y==h.y){h=f.points[0];D=C.x==h.x&&C.y==h.y}else D=!1}if(D)f.neighbors[1]=t;else{h=f.points[0];if(U.x==h.x&&U.y==h.y){h=f.points[1];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=f.points[1];if(U.x==h.x&&U.y==h.y){h=f.points[0];D=C.x==h.x&&C.y==h.y}else D=!1}if(!D)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");f.neighbors[2]=t}}}else{U=t.points[0],C=t.points[1],h=f.points[0];if(U.x!=h.x||U.y!=h.y){h=f.points[1];T=U.x==h.x&&U.y==h.y}else T=!0;if(T)E=!0;else{h=f.points[2];E=U.x==h.x&&U.y==h.y}if(E){h=f.points[0];if(C.x!=h.x||C.y!=h.y){h=f.points[1];E=C.x==h.x&&C.y==h.y}else E=!0;if(E)D=!0;else{h=f.points[2];D=C.x==h.x&&C.y==h.y}}else D=!1;if(D){t.neighbors[2]=f;U=t.points[0],C=t.points[1],h=f.points[2];if(U.x==h.x&&U.y==h.y){h=f.points[1];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=f.points[1];if(U.x==h.x&&U.y==h.y){h=f.points[2];D=C.x==h.x&&C.y==h.y}else D=!1}if(D)f.neighbors[0]=t;else{h=f.points[0];if(U.x==h.x&&U.y==h.y){h=f.points[2];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=f.points[2];if(U.x==h.x&&U.y==h.y){h=f.points[0];D=C.x==h.x&&C.y==h.y}else D=!1}if(D)f.neighbors[1]=t;else{h=f.points[0];if(U.x==h.x&&U.y==h.y){h=f.points[1];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=f.points[1];if(U.x==h.x&&U.y==h.y){h=f.points[0];D=C.x==h.x&&C.y==h.y}else D=!1}if(!D)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");f.neighbors[2]=t}}}}}}U=e.points[1],C=e.points[2],h=t.points[0];if(U.x!=h.x||U.y!=h.y){h=t.points[1];T=U.x==h.x&&U.y==h.y}else T=!0;if(T)E=!0;else{h=t.points[2];E=U.x==h.x&&U.y==h.y}if(E){h=t.points[0];if(C.x!=h.x||C.y!=h.y){h=t.points[1];E=C.x==h.x&&C.y==h.y}else E=!0;if(E)D=!0;else{h=t.points[2];D=C.x==h.x&&C.y==h.y}}else D=!1;if(D){e.neighbors[0]=t;U=e.points[1],C=e.points[2],h=t.points[2];if(U.x==h.x&&U.y==h.y){h=t.points[1];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=t.points[1];if(U.x==h.x&&U.y==h.y){h=t.points[2];D=C.x==h.x&&C.y==h.y}else D=!1}if(D)t.neighbors[0]=e;else{h=t.points[0];if(U.x==h.x&&U.y==h.y){h=t.points[2];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=t.points[2];if(U.x==h.x&&U.y==h.y){h=t.points[0];D=C.x==h.x&&C.y==h.y}else D=!1}if(D)t.neighbors[1]=e;else{h=t.points[0];if(U.x==h.x&&U.y==h.y){h=t.points[1];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=t.points[1];if(U.x==h.x&&U.y==h.y){h=t.points[0];D=C.x==h.x&&C.y==h.y}else D=!1}if(!D)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");t.neighbors[2]=e}}}else{U=e.points[0],C=e.points[2],h=t.points[0];if(U.x!=h.x||U.y!=h.y){h=t.points[1];T=U.x==h.x&&U.y==h.y}else T=!0;if(T)E=!0;else{h=t.points[2];E=U.x==h.x&&U.y==h.y}if(E){h=t.points[0];if(C.x!=h.x||C.y!=h.y){h=t.points[1];E=C.x==h.x&&C.y==h.y}else E=!0;if(E)D=!0;else{h=t.points[2];D=C.x==h.x&&C.y==h.y}}else D=!1;if(D){e.neighbors[1]=t;U=e.points[0],C=e.points[2],h=t.points[2];if(U.x==h.x&&U.y==h.y){h=t.points[1];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=t.points[1];if(U.x==h.x&&U.y==h.y){h=t.points[2];D=C.x==h.x&&C.y==h.y}else D=!1}if(D)t.neighbors[0]=e;else{h=t.points[0];if(U.x==h.x&&U.y==h.y){h=t.points[2];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=t.points[2];if(U.x==h.x&&U.y==h.y){h=t.points[0];D=C.x==h.x&&C.y==h.y}else D=!1}if(D)t.neighbors[1]=e;else{h=t.points[0];if(U.x==h.x&&U.y==h.y){h=t.points[1];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=t.points[1];if(U.x==h.x&&U.y==h.y){h=t.points[0];D=C.x==h.x&&C.y==h.y}else D=!1}if(!D)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");t.neighbors[2]=e}}}else{var T;U=e.points[0],C=e.points[1],h=t.points[0];if(U.x!=h.x||U.y!=h.y){h=t.points[1];T=U.x==h.x&&U.y==h.y}else T=!0;if(T)E=!0;else{h=t.points[2];E=U.x==h.x&&U.y==h.y}if(E){h=t.points[0];if(C.x!=h.x||C.y!=h.y){h=t.points[1];E=C.x==h.x&&C.y==h.y}else E=!0;if(E)D=!0;else{h=t.points[2];D=C.x==h.x&&C.y==h.y}}else D=!1;if(D){e.neighbors[2]=t;U=e.points[0],C=e.points[1],h=t.points[2];if(U.x==h.x&&U.y==h.y){h=t.points[1];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=t.points[1];if(U.x==h.x&&U.y==h.y){h=t.points[2];D=C.x==h.x&&C.y==h.y}else D=!1}if(D)t.neighbors[0]=e;else{h=t.points[0];if(U.x==h.x&&U.y==h.y){h=t.points[2];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=t.points[2];if(U.x==h.x&&U.y==h.y){h=t.points[0];D=C.x==h.x&&C.y==h.y}else D=!1}if(D)t.neighbors[1]=e;else{var D,E;h=t.points[0];if(U.x==h.x&&U.y==h.y){h=t.points[1];E=C.x==h.x&&C.y==h.y}else E=!1;if(E)D=!0;else{h=t.points[1];if(U.x==h.x&&U.y==h.y){h=t.points[0];D=C.x==h.x&&C.y==h.y}else D=!1}if(!D)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");t.neighbors[2]=e}}}}}},poly2tri_Triangle.prototype={reset:function(e,n,t,i,s){var r,l;if((null==s&&(s=!0),null==i&&(i=!1),i)&&1==((l=(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x))>-poly2tri_Constants.EPSILON&&l<poly2tri_Constants.EPSILON?0:l>0?-1:1)){var a=t;t=n,n=a}s?r=1!=((l=(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x))>-poly2tri_Constants.EPSILON&&l<poly2tri_Constants.EPSILON?0:l>0?-1:1):r=!1;if(r)throw haxe_Exception.thrown("Triangle::Triangle must defined with Orientation.CW");null==this.points?this.points=[e,n,t]:(this.points[0]=e,this.points[1]=e,this.points[2]=e),null==this.neighbors?this.neighbors=[null,null,null]:(this.neighbors[0]=null,this.neighbors[1]=null,this.neighbors[2]=null),null==this.constrained_edge?this.constrained_edge=[!1,!1,!1]:(this.constrained_edge[0]=!1,this.constrained_edge[1]=!1,this.constrained_edge[2]=!1),null==this.delaunay_edge?this.delaunay_edge=[!1,!1,!1]:(this.delaunay_edge[0]=!1,this.delaunay_edge[1]=!1,this.delaunay_edge[2]=!1)},containsPoint:function(e){var n,t=this.points[0];if(e.x!=t.x||e.y!=t.y){t=this.points[1];n=e.x==t.x&&e.y==t.y}else n=!0;if(n)return!0;t=this.points[2];return e.x==t.x&&e.y==t.y},containsEdgePoints:function(e,n){var t,i=this.points[0];if(e.x!=i.x||e.y!=i.y){i=this.points[1];t=e.x==i.x&&e.y==i.y}else t=!0;if(t)s=!0;else{i=this.points[2];s=e.x==i.x&&e.y==i.y}if(s){var s;i=this.points[0];if(n.x!=i.x||n.y!=i.y){i=this.points[1];s=n.x==i.x&&n.y==i.y}else s=!0;if(s)return!0;i=this.points[2];return n.x==i.x&&n.y==i.y}return!1},markNeighbor:function(e,n,t){var i=this.points[2];if(n.x==i.x&&n.y==i.y){i=this.points[1];r=t.x==i.x&&t.y==i.y}else r=!1;if(r)s=!0;else{i=this.points[1];if(n.x==i.x&&n.y==i.y){i=this.points[2];s=t.x==i.x&&t.y==i.y}else s=!1}if(s)this.neighbors[0]=e;else{i=this.points[0];if(n.x==i.x&&n.y==i.y){i=this.points[2];r=t.x==i.x&&t.y==i.y}else r=!1;if(r)s=!0;else{i=this.points[2];if(n.x==i.x&&n.y==i.y){i=this.points[0];s=t.x==i.x&&t.y==i.y}else s=!1}if(s)this.neighbors[1]=e;else{var s,r;i=this.points[0];if(n.x==i.x&&n.y==i.y){i=this.points[1];r=t.x==i.x&&t.y==i.y}else r=!1;if(r)s=!0;else{i=this.points[1];if(n.x==i.x&&n.y==i.y){i=this.points[0];s=t.x==i.x&&t.y==i.y}else s=!1}if(!s)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");this.neighbors[2]=e}}},markNeighborTriangle:function(e){var n=this.points[1],t=this.points[2],i=e.points[0];if(n.x!=i.x||n.y!=i.y){i=e.points[1];s=n.x==i.x&&n.y==i.y}else s=!0;if(s)l=!0;else{i=e.points[2];l=n.x==i.x&&n.y==i.y}if(l){i=e.points[0];if(t.x!=i.x||t.y!=i.y){i=e.points[1];l=t.x==i.x&&t.y==i.y}else l=!0;if(l)r=!0;else{i=e.points[2];r=t.x==i.x&&t.y==i.y}}else r=!1;if(r){this.neighbors[0]=e;n=this.points[1],t=this.points[2],i=e.points[2];if(n.x==i.x&&n.y==i.y){i=e.points[1];l=t.x==i.x&&t.y==i.y}else l=!1;if(l)r=!0;else{i=e.points[1];if(n.x==i.x&&n.y==i.y){i=e.points[2];r=t.x==i.x&&t.y==i.y}else r=!1}if(r)e.neighbors[0]=this;else{i=e.points[0];if(n.x==i.x&&n.y==i.y){i=e.points[2];l=t.x==i.x&&t.y==i.y}else l=!1;if(l)r=!0;else{i=e.points[2];if(n.x==i.x&&n.y==i.y){i=e.points[0];r=t.x==i.x&&t.y==i.y}else r=!1}if(r)e.neighbors[1]=this;else{i=e.points[0];if(n.x==i.x&&n.y==i.y){i=e.points[1];l=t.x==i.x&&t.y==i.y}else l=!1;if(l)r=!0;else{i=e.points[1];if(n.x==i.x&&n.y==i.y){i=e.points[0];r=t.x==i.x&&t.y==i.y}else r=!1}if(!r)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");e.neighbors[2]=this}}}else{n=this.points[0],t=this.points[2],i=e.points[0];if(n.x!=i.x||n.y!=i.y){i=e.points[1];s=n.x==i.x&&n.y==i.y}else s=!0;if(s)l=!0;else{i=e.points[2];l=n.x==i.x&&n.y==i.y}if(l){i=e.points[0];if(t.x!=i.x||t.y!=i.y){i=e.points[1];l=t.x==i.x&&t.y==i.y}else l=!0;if(l)r=!0;else{i=e.points[2];r=t.x==i.x&&t.y==i.y}}else r=!1;if(r){this.neighbors[1]=e;n=this.points[0],t=this.points[2],i=e.points[2];if(n.x==i.x&&n.y==i.y){i=e.points[1];l=t.x==i.x&&t.y==i.y}else l=!1;if(l)r=!0;else{i=e.points[1];if(n.x==i.x&&n.y==i.y){i=e.points[2];r=t.x==i.x&&t.y==i.y}else r=!1}if(r)e.neighbors[0]=this;else{i=e.points[0];if(n.x==i.x&&n.y==i.y){i=e.points[2];l=t.x==i.x&&t.y==i.y}else l=!1;if(l)r=!0;else{i=e.points[2];if(n.x==i.x&&n.y==i.y){i=e.points[0];r=t.x==i.x&&t.y==i.y}else r=!1}if(r)e.neighbors[1]=this;else{i=e.points[0];if(n.x==i.x&&n.y==i.y){i=e.points[1];l=t.x==i.x&&t.y==i.y}else l=!1;if(l)r=!0;else{i=e.points[1];if(n.x==i.x&&n.y==i.y){i=e.points[0];r=t.x==i.x&&t.y==i.y}else r=!1}if(!r)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");e.neighbors[2]=this}}}else{var s;n=this.points[0],t=this.points[1],i=e.points[0];if(n.x!=i.x||n.y!=i.y){i=e.points[1];s=n.x==i.x&&n.y==i.y}else s=!0;if(s)l=!0;else{i=e.points[2];l=n.x==i.x&&n.y==i.y}if(l){i=e.points[0];if(t.x!=i.x||t.y!=i.y){i=e.points[1];l=t.x==i.x&&t.y==i.y}else l=!0;if(l)r=!0;else{i=e.points[2];r=t.x==i.x&&t.y==i.y}}else r=!1;if(r){this.neighbors[2]=e;n=this.points[0],t=this.points[1],i=e.points[2];if(n.x==i.x&&n.y==i.y){i=e.points[1];l=t.x==i.x&&t.y==i.y}else l=!1;if(l)r=!0;else{i=e.points[1];if(n.x==i.x&&n.y==i.y){i=e.points[2];r=t.x==i.x&&t.y==i.y}else r=!1}if(r)e.neighbors[0]=this;else{i=e.points[0];if(n.x==i.x&&n.y==i.y){i=e.points[2];l=t.x==i.x&&t.y==i.y}else l=!1;if(l)r=!0;else{i=e.points[2];if(n.x==i.x&&n.y==i.y){i=e.points[0];r=t.x==i.x&&t.y==i.y}else r=!1}if(r)e.neighbors[1]=this;else{var r,l;i=e.points[0];if(n.x==i.x&&n.y==i.y){i=e.points[1];l=t.x==i.x&&t.y==i.y}else l=!1;if(l)r=!0;else{i=e.points[1];if(n.x==i.x&&n.y==i.y){i=e.points[0];r=t.x==i.x&&t.y==i.y}else r=!1}if(!r)throw haxe_Exception.thrown("Invalid markNeighbor call (1)!");e.neighbors[2]=this}}}}}},getPointIndexOffset:function(e,n){null==n&&(n=0);for(var t=n,i=!1,s=0;s<3;){for(var r=s++;t<0;)t+=3;for(;t>2;)t-=3;var l=this.points[r];if(e.x==l.x&&e.y==l.y){i=!0;break}++t}if(!i)throw haxe_Exception.thrown("Triangle::Point not in triangle");return t},pointCW:function(e){var n=this.points,t=-1;null==t&&(t=0);for(var i=t,s=!1,r=0;r<3;){for(var l=r++;i<0;)i+=3;for(;i>2;)i-=3;var a=this.points[l];if(e.x==a.x&&e.y==a.y){s=!0;break}++i}if(!s)throw haxe_Exception.thrown("Triangle::Point not in triangle");return n[i]},pointCCW:function(e){var n=this.points,t=1;null==t&&(t=0);for(var i=t,s=!1,r=0;r<3;){for(var l=r++;i<0;)i+=3;for(;i>2;)i-=3;var a=this.points[l];if(e.x==a.x&&e.y==a.y){s=!0;break}++i}if(!s)throw haxe_Exception.thrown("Triangle::Point not in triangle");return n[i]},neighborCW:function(e){var n=this.neighbors,t=1;null==t&&(t=0);for(var i=t,s=!1,r=0;r<3;){for(var l=r++;i<0;)i+=3;for(;i>2;)i-=3;var a=this.points[l];if(e.x==a.x&&e.y==a.y){s=!0;break}++i}if(!s)throw haxe_Exception.thrown("Triangle::Point not in triangle");return n[i]},neighborCCW:function(e){var n=this.neighbors,t=-1;null==t&&(t=0);for(var i=t,s=!1,r=0;r<3;){for(var l=r++;i<0;)i+=3;for(;i>2;)i-=3;var a=this.points[l];if(e.x==a.x&&e.y==a.y){s=!0;break}++i}if(!s)throw haxe_Exception.thrown("Triangle::Point not in triangle");return n[i]},getConstrainedEdgeCW:function(e){var n=this.constrained_edge,t=1;null==t&&(t=0);for(var i=t,s=!1,r=0;r<3;){for(var l=r++;i<0;)i+=3;for(;i>2;)i-=3;var a=this.points[l];if(e.x==a.x&&e.y==a.y){s=!0;break}++i}if(!s)throw haxe_Exception.thrown("Triangle::Point not in triangle");return n[i]},setConstrainedEdgeCW:function(e,n){var t=this.constrained_edge,i=1;null==i&&(i=0);for(var s=i,r=!1,l=0;l<3;){for(var a=l++;s<0;)s+=3;for(;s>2;)s-=3;var o=this.points[a];if(e.x==o.x&&e.y==o.y){r=!0;break}++s}if(!r)throw haxe_Exception.thrown("Triangle::Point not in triangle");return t[s]=n},getConstrainedEdgeCCW:function(e){var n=this.constrained_edge,t=-1;null==t&&(t=0);for(var i=t,s=!1,r=0;r<3;){for(var l=r++;i<0;)i+=3;for(;i>2;)i-=3;var a=this.points[l];if(e.x==a.x&&e.y==a.y){s=!0;break}++i}if(!s)throw haxe_Exception.thrown("Triangle::Point not in triangle");return n[i]},setConstrainedEdgeCCW:function(e,n){var t=this.constrained_edge,i=-1;null==i&&(i=0);for(var s=i,r=!1,l=0;l<3;){for(var a=l++;s<0;)s+=3;for(;s>2;)s-=3;var o=this.points[a];if(e.x==o.x&&e.y==o.y){r=!0;break}++s}if(!r)throw haxe_Exception.thrown("Triangle::Point not in triangle");return t[s]=n},getDelaunayEdgeCW:function(e){var n=this.delaunay_edge,t=1;null==t&&(t=0);for(var i=t,s=!1,r=0;r<3;){for(var l=r++;i<0;)i+=3;for(;i>2;)i-=3;var a=this.points[l];if(e.x==a.x&&e.y==a.y){s=!0;break}++i}if(!s)throw haxe_Exception.thrown("Triangle::Point not in triangle");return n[i]},setDelaunayEdgeCW:function(e,n){var t=this.delaunay_edge,i=1;null==i&&(i=0);for(var s=i,r=!1,l=0;l<3;){for(var a=l++;s<0;)s+=3;for(;s>2;)s-=3;var o=this.points[a];if(e.x==o.x&&e.y==o.y){r=!0;break}++s}if(!r)throw haxe_Exception.thrown("Triangle::Point not in triangle");return t[s]=n},getDelaunayEdgeCCW:function(e){var n=this.delaunay_edge,t=-1;null==t&&(t=0);for(var i=t,s=!1,r=0;r<3;){for(var l=r++;i<0;)i+=3;for(;i>2;)i-=3;var a=this.points[l];if(e.x==a.x&&e.y==a.y){s=!0;break}++i}if(!s)throw haxe_Exception.thrown("Triangle::Point not in triangle");return n[i]},setDelaunayEdgeCCW:function(e,n){var t=this.delaunay_edge,i=-1;null==i&&(i=0);for(var s=i,r=!1,l=0;l<3;){for(var a=l++;s<0;)s+=3;for(;s>2;)s-=3;var o=this.points[a];if(e.x==o.x&&e.y==o.y){r=!0;break}++s}if(!r)throw haxe_Exception.thrown("Triangle::Point not in triangle");return t[s]=n},neighborAcross:function(e){var n=this.neighbors,t=0;null==t&&(t=0);for(var i=t,s=!1,r=0;r<3;){for(var l=r++;i<0;)i+=3;for(;i>2;)i-=3;var a=this.points[l];if(e.x==a.x&&e.y==a.y){s=!0;break}++i}if(!s)throw haxe_Exception.thrown("Triangle::Point not in triangle");return n[i]},oppositePoint:function(e,n){var t=e.points;null==(o=-1)&&(o=0);for(var i=o,s=!1,r=0;r<3;){for(var l=r++;i<0;)i+=3;for(;i>2;)i-=3;var a=e.points[l];if(n.x==a.x&&n.y==a.y){s=!0;break}++i}if(!s)throw haxe_Exception.thrown("Triangle::Point not in triangle");n=t[i];var o,h=this.points;null==(o=-1)&&(o=0);for(i=o,s=!1,r=0;r<3;){for(l=r++;i<0;)i+=3;for(;i>2;)i-=3;a=this.points[l];if(n.x==a.x&&n.y==a.y){s=!0;break}++i}if(!s)throw haxe_Exception.thrown("Triangle::Point not in triangle");return h[i]},legalize:function(e,n){if(null!=n){var t=this.points[0];if(e.x==t.x&&e.y==t.y)this.points[1]=this.points[0],this.points[0]=this.points[2],this.points[2]=n;else{t=this.points[1];if(e.x==t.x&&e.y==t.y)this.points[2]=this.points[1],this.points[1]=this.points[0],this.points[0]=n;else{t=this.points[2];if(e.x!=t.x||e.y!=t.y)throw haxe_Exception.thrown("Invalid js.poly2tri.Triangle.Legalize call!");this.points[0]=this.points[2],this.points[2]=this.points[1],this.points[1]=n}}}else this.legalize(this.points[0],e)},index:function(e){var n=-1;try{var t=0;null==t&&(t=0);for(var i=t,s=!1,r=0;r<3;){for(var l=r++;i<0;)i+=3;for(;i>2;)i-=3;var a=this.points[l];if(e.x==a.x&&e.y==a.y){s=!0;break}++i}if(!s)throw haxe_Exception.thrown("Triangle::Point not in triangle");n=i}catch(r){var o=haxe_Exception.caught(r).unwrap();if("string"!=typeof o)throw r;var h=o;haxe_Log.trace(h,{fileName:"/Users/jeremyfa/Developer/ceramic/git/poly2tri/src/poly2tri/Triangle.hx",lineNumber:275,className:"poly2tri.Triangle",methodName:"index"})}return n},edgeIndex:function(e,n){var t=-1,i=this.points[0];if(e.x==i.x&&e.y==i.y){i=this.points[1];if(n.x==i.x&&n.y==i.y)t=2;else{i=this.points[2];n.x==i.x&&n.y==i.y&&(t=1)}}else{i=this.points[1];if(e.x==i.x&&e.y==i.y){i=this.points[2];if(n.x==i.x&&n.y==i.y)t=0;else{i=this.points[0];n.x==i.x&&n.y==i.y&&(t=2)}}else{i=this.points[2];if(e.x==i.x&&e.y==i.y){i=this.points[0];if(n.x==i.x&&n.y==i.y)t=1;else{i=this.points[1];n.x==i.x&&n.y==i.y&&(t=0)}}}}return t},markConstrainedEdgeByIndex:function(e){this.constrained_edge[e]=!0},markConstrainedEdgeByEdge:function(e){var n=e.p,t=e.q,i=this.points[0];if(t.x==i.x&&t.y==i.y){i=this.points[1];r=n.x==i.x&&n.y==i.y}else r=!1;if(r)s=!0;else{i=this.points[1];if(t.x==i.x&&t.y==i.y){i=this.points[0];s=n.x==i.x&&n.y==i.y}else s=!1}if(s)this.constrained_edge[2]=!0;else{i=this.points[0];if(t.x==i.x&&t.y==i.y){i=this.points[2];r=n.x==i.x&&n.y==i.y}else r=!1;if(r)s=!0;else{i=this.points[2];if(t.x==i.x&&t.y==i.y){i=this.points[0];s=n.x==i.x&&n.y==i.y}else s=!1}if(s)this.constrained_edge[1]=!0;else{var s,r;i=this.points[1];if(t.x==i.x&&t.y==i.y){i=this.points[2];r=n.x==i.x&&n.y==i.y}else r=!1;if(r)s=!0;else{i=this.points[2];if(t.x==i.x&&t.y==i.y){i=this.points[1];s=n.x==i.x&&n.y==i.y}else s=!1}s&&(this.constrained_edge[0]=!0)}}},markConstrainedEdgeByPoints:function(e,n){var t=this.points[0];if(n.x==t.x&&n.y==t.y){t=this.points[1];s=e.x==t.x&&e.y==t.y}else s=!1;if(s)i=!0;else{t=this.points[1];if(n.x==t.x&&n.y==t.y){t=this.points[0];i=e.x==t.x&&e.y==t.y}else i=!1}if(i)this.constrained_edge[2]=!0;else{t=this.points[0];if(n.x==t.x&&n.y==t.y){t=this.points[2];s=e.x==t.x&&e.y==t.y}else s=!1;if(s)i=!0;else{t=this.points[2];if(n.x==t.x&&n.y==t.y){t=this.points[0];i=e.x==t.x&&e.y==t.y}else i=!1}if(i)this.constrained_edge[1]=!0;else{var i,s;t=this.points[1];if(n.x==t.x&&n.y==t.y){t=this.points[2];s=e.x==t.x&&e.y==t.y}else s=!1;if(s)i=!0;else{t=this.points[2];if(n.x==t.x&&n.y==t.y){t=this.points[1];i=e.x==t.x&&e.y==t.y}else i=!1}i&&(this.constrained_edge[0]=!0)}}},isEdgeSide:function(e,n){var t=-1,i=this.points[0];if(e.x==i.x&&e.y==i.y){i=this.points[1];if(n.x==i.x&&n.y==i.y)t=2;else{i=this.points[2];n.x==i.x&&n.y==i.y&&(t=1)}}else{i=this.points[1];if(e.x==i.x&&e.y==i.y){i=this.points[2];if(n.x==i.x&&n.y==i.y)t=0;else{i=this.points[0];n.x==i.x&&n.y==i.y&&(t=2)}}else{i=this.points[2];if(e.x==i.x&&e.y==i.y){i=this.points[0];if(n.x==i.x&&n.y==i.y)t=1;else{i=this.points[1];n.x==i.x&&n.y==i.y&&(t=0)}}}}var s=t;t=!1;if(-1!=s){if(this.constrained_edge[s]=!0,null!=(i=this.neighbors[s])){var r=i.points[0];if(n.x==r.x&&n.y==r.y){r=i.points[1];a=e.x==r.x&&e.y==r.y}else a=!1;if(a)l=!0;else{r=i.points[1];if(n.x==r.x&&n.y==r.y){r=i.points[0];l=e.x==r.x&&e.y==r.y}else l=!1}if(l)i.constrained_edge[2]=!0;else{r=i.points[0];if(n.x==r.x&&n.y==r.y){r=i.points[2];a=e.x==r.x&&e.y==r.y}else a=!1;if(a)l=!0;else{r=i.points[2];if(n.x==r.x&&n.y==r.y){r=i.points[0];l=e.x==r.x&&e.y==r.y}else l=!1}if(l)i.constrained_edge[1]=!0;else{var l,a;r=i.points[1];if(n.x==r.x&&n.y==r.y){r=i.points[2];a=e.x==r.x&&e.y==r.y}else a=!1;if(a)l=!0;else{r=i.points[2];if(n.x==r.x&&n.y==r.y){r=i.points[1];l=e.x==r.x&&e.y==r.y}else l=!1}l&&(i.constrained_edge[0]=!0)}}}t=!0}return t},clearNeigbors:function(){this.neighbors[0]=null,this.neighbors[1]=null,this.neighbors[2]=null},clearDelunayEdges:function(){this.delaunay_edge[0]=!1,this.delaunay_edge[1]=!1,this.delaunay_edge[2]=!1},toString:function(){return"Triangle("+Std.string(this.points[0])+", "+Std.string(this.points[1])+", "+Std.string(this.points[2])+")"},__class__:poly2tri_Triangle};var poly2tri_Utils=function(){};t["poly2tri.Utils"]=poly2tri_Utils,poly2tri_Utils.__name__="poly2tri.Utils",poly2tri_Utils.insideIncircle=function(e,n,t,i){var s=e.x-i.x,r=e.y-i.y,l=n.x-i.x,a=n.y-i.y,o=s*a-l*r,h=!1;if(o>0){var c=t.x-i.x,u=t.y-i.y,_=c*r-s*u;if(_>0)h=(s*s+r*r)*(l*u-c*a)+(l*l+a*a)*_+(c*c+u*u)*o>0}return h},poly2tri_Utils.inScanArea=function(e,n,t,i){var s=i.x,r=i.y,l=e.x-s,a=e.y-r,o=n.x-s,h=!1;l*(n.y-r)-o*a>poly2tri_Constants.EPSILON&&(h=(t.x-s)*a-l*(t.y-r)>poly2tri_Constants.EPSILON);return h};var polyline_Extensions=function(){};t["polyline.Extensions"]=polyline_Extensions,polyline_Extensions.__name__="polyline.Extensions",polyline_Extensions.unsafeGet=function(e,n){return e[n]},polyline_Extensions.unsafeSet=function(e,n,t){e[n]=t};var q=i["polyline.StrokeCap"]={__ename__:"polyline.StrokeCap",__constructs__:null,BUTT:{_hx_name:"BUTT",_hx_index:0,__enum__:"polyline.StrokeCap",toString:$estr},SQUARE:{_hx_name:"SQUARE",_hx_index:1,__enum__:"polyline.StrokeCap",toString:$estr}};q.__constructs__=[q.BUTT,q.SQUARE];var Z=i["polyline.StrokeJoin"]={__ename__:"polyline.StrokeJoin",__constructs__:null,MITER:{_hx_name:"MITER",_hx_index:0,__enum__:"polyline.StrokeJoin",toString:$estr},BEVEL:{_hx_name:"BEVEL",_hx_index:1,__enum__:"polyline.StrokeJoin",toString:$estr}};Z.__constructs__=[Z.MITER,Z.BEVEL];var tracker_Assert=function(){};t["tracker.Assert"]=tracker_Assert,tracker_Assert.__name__="tracker.Assert";var tracker_Autorun=function(e,n){this.invalidated=!1,this.boundAutorunArrays=null,this.afterRun=null,this.onRun=null,ceramic_Entity.call(this),this.onRun=e,this.afterRun=n,null!=e&&this.run()};t["tracker.Autorun"]=tracker_Autorun,tracker_Autorun.__name__="tracker.Autorun",tracker_Autorun.unobserve=function(){tracker_Autorun.prevCurrent.push(tracker_Autorun.current),tracker_Autorun.current=null},tracker_Autorun.reobserve=function(){tracker_Autorun.current=tracker_Autorun.prevCurrent.pop()},tracker_Autorun.cease=function(){if(null!=tracker_Autorun.current)tracker_Autorun.current.destroy(),tracker_Autorun.current=null;else if(tracker_Autorun.prevCurrent.length>0){var e=tracker_Autorun.prevCurrent[tracker_Autorun.prevCurrent.length-1];null!=e&&(e.destroy(),tracker_Autorun.prevCurrent[tracker_Autorun.prevCurrent.length-1]=null)}},tracker_Autorun.unobserved=function(e){tracker_Autorun.unobserve(),e(),tracker_Autorun.reobserve()},tracker_Autorun.getAutorunArray=function(){if(tracker_Autorun._autorunArraysLen>0){tracker_Autorun._autorunArraysLen--;var e=tracker_Autorun._autorunArrays[tracker_Autorun._autorunArraysLen];return tracker_Autorun._autorunArrays[tracker_Autorun._autorunArraysLen]=null,e}return[]},tracker_Autorun.recycleAutorunArray=function(e){e.splice(0,e.length),tracker_Autorun._autorunArrays[tracker_Autorun._autorunArraysLen]=e,tracker_Autorun._autorunArraysLen++},tracker_Autorun.getArrayOfAutorunArrays=function(){if(tracker_Autorun._arrayOfAutorunArraysLen>0){tracker_Autorun._arrayOfAutorunArraysLen--;var e=tracker_Autorun._arrayOfAutorunArrays[tracker_Autorun._arrayOfAutorunArraysLen];return tracker_Autorun._arrayOfAutorunArrays[tracker_Autorun._arrayOfAutorunArraysLen]=null,e}return[]},tracker_Autorun.recycleArrayOfAutorunArrays=function(e){e.splice(0,e.length),tracker_Autorun._arrayOfAutorunArrays[tracker_Autorun._arrayOfAutorunArraysLen]=e,tracker_Autorun._arrayOfAutorunArraysLen++},tracker_Autorun.__super__=ceramic_Entity,tracker_Autorun.prototype=$extend(ceramic_Entity.prototype,{emitReset:function(){this.unbindFromAllAutorunArrays();var e=0;if(null!=this.__cbOnReset&&(e+=this.__cbOnReset.length),null!=this.__cbOnceReset&&(e+=this.__cbOnceReset.length),e>0){var n=ceramic_ArrayPool.pool(e),t=n.get(),i=0;if(null!=this.__cbOnReset)for(var s=0,r=this.__cbOnReset.length;s<r;){var l=s++;!0?(t.vector[i]=this.__cbOnReset[l],++i):--e}if(null!=this.__cbOnceReset){var a=null,o=null;for(s=0,r=this.__cbOnceReset.length;s<r;){l=s++;if(!0){t.vector[i]=this.__cbOnceReset[l],this.__cbOnceReset[l]=null;var h=this.__cbOnceOwnerUnbindReset[l];this.__cbOnceOwnerUnbindReset[l]=null,null!=h&&h(),++i}else--e,null==a&&(a=[],o=[],[]),a.push(this.__cbOnceOwnerUnbindReset[l]),o.push(this.__cbOnceReset[l])}this.__cbOnceOwnerUnbindReset=a,this.__cbOnceReset=o}for(s=0,r=e;s<r;){i=s++;(0,t.vector[i])()}n.release(t),t=null}},onReset:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event reset because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReset(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnOwnerUnbindReset&&(this.__cbOnOwnerUnbindReset=[]),this.__cbOnOwnerUnbindReset.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnOwnerUnbindReset&&(this.__cbOnOwnerUnbindReset=[]),this.__cbOnOwnerUnbindReset.push(null);null==this.__cbOnReset&&(this.__cbOnReset=[]),this.__cbOnReset.push(n)},onceReset:function(e,n){var t=this;if(null!=e){if(e._lifecycleState<0)throw haxe_Exception.thrown("Failed to bind event reset because owner is destroyed!");var destroyCb=function(i){null!=n&&(t.offReset(n),n=null),e=null,destroyCb=null};e.onceDestroy(null,destroyCb),null==this.__cbOnceOwnerUnbindReset&&(this.__cbOnceOwnerUnbindReset=[]),this.__cbOnceOwnerUnbindReset.push((function(){null!=e&&null!=destroyCb&&e.offDestroy(destroyCb),e=null,destroyCb=null,n=null}))}else null==this.__cbOnceOwnerUnbindReset&&(this.__cbOnceOwnerUnbindReset=[]),this.__cbOnceOwnerUnbindReset.push(null);null==this.__cbOnceReset&&(this.__cbOnceReset=[]),this.__cbOnceReset.push(n)},offReset:function(e){if(null!=e){var n;null!=this.__cbOnReset&&-1!=(n=this.__cbOnReset.indexOf(e))&&(this.__cbOnReset.splice(n,1),null!=(r=this.__cbOnOwnerUnbindReset[n])&&r(),this.__cbOnOwnerUnbindReset.splice(n,1)),null!=this.__cbOnceReset&&-1!=(n=this.__cbOnceReset.indexOf(e))&&(this.__cbOnceReset.splice(n,1),null!=(r=this.__cbOnceOwnerUnbindReset[n])&&r(),this.__cbOnceOwnerUnbindReset.splice(n,1))}else{if(null!=this.__cbOnOwnerUnbindReset){for(var t=0,i=this.__cbOnOwnerUnbindReset.length;t<i;){var s=t++;null!=(r=this.__cbOnOwnerUnbindReset[s])&&r()}this.__cbOnOwnerUnbindReset=null}if(null!=this.__cbOnceOwnerUnbindReset){for(t=0,i=this.__cbOnceOwnerUnbindReset.length;t<i;){var r;s=t++;null!=(r=this.__cbOnceOwnerUnbindReset[s])&&r()}this.__cbOnceOwnerUnbindReset=null}this.__cbOnReset=null,this.__cbOnceReset=null}},listensReset:function(){return null!=this.__cbOnReset&&this.__cbOnReset.length>0||null!=this.__cbOnceReset&&this.__cbOnceReset.length>0},destroy:function(){this._lifecycleState<=-2||(this._lifecycleState=-2,this.emitReset(),this.onRun=null,this.afterRun=null,this._lifecycleState=-1,ceramic_Entity.prototype.destroy.call(this))},willEmitReset:function(){this.unbindFromAllAutorunArrays()},run:function(){if(!(this._lifecycleState<0)){this.invalidated=!1,this.emitReset();var e=tracker_Autorun.current;tracker_Autorun.current=this;var n=tracker_Autorun.prevCurrent.length;for(this.onRun(),null!=this.afterRun&&(tracker_Autorun.unobserve(),this.afterRun(),tracker_Autorun.reobserve());n<tracker_Autorun.prevCurrent.length;)tracker_Autorun.prevCurrent.pop();tracker_Autorun.current=e}},invalidate:function(){if(!(this.invalidated||this._lifecycleState<0)){this.invalidated=!0,this.unbindFromAllAutorunArrays();tracker_Tracker.backend;ceramic_App.app._onceImmediate($bind(this,this.run))}},bindToAutorunArray:function(e){if(!(this.invalidated||this._lifecycleState<0)){var n=!1;if(null==this.boundAutorunArrays){var t;if(tracker_Autorun._arrayOfAutorunArraysLen>0){tracker_Autorun._arrayOfAutorunArraysLen--;var i=tracker_Autorun._arrayOfAutorunArrays[tracker_Autorun._arrayOfAutorunArraysLen];tracker_Autorun._arrayOfAutorunArrays[tracker_Autorun._arrayOfAutorunArraysLen]=null,t=i}else t=[];this.boundAutorunArrays=t}else for(var s=0,r=this.boundAutorunArrays.length;s<r;){var l=s++;if(this.boundAutorunArrays[l]==e){n=!0;break}}if(!n){var a=-1,o=e.length;for(l=o-1;l>=0;){if(null==(c=e[l])){a=l;break}--l}if(-1==a)e.push(this);else{var h=o-1;if(a<h)for(s=a+1,r=o;s<r;){var c=e[l=s++];e[l-1]=c}e[h]=this}this.boundAutorunArrays.push(e)}}},unbindFromAllAutorunArrays:function(){if(null!=this.boundAutorunArrays){for(var e=0,n=this.boundAutorunArrays.length;e<n;)for(var t=e++,i=this.boundAutorunArrays[t],s=0,r=i.length;s<r;){var l=s++,a=i[l];if(null!=a&&a==this){i[l]=null;break}}var o=this.boundAutorunArrays;o.splice(0,o.length),tracker_Autorun._arrayOfAutorunArrays[tracker_Autorun._arrayOfAutorunArraysLen]=o,tracker_Autorun._arrayOfAutorunArraysLen++,this.boundAutorunArrays=null}},unbindEvents:function(){ceramic_Entity.prototype.unbindEvents.call(this),this.offReset()},__class__:tracker_Autorun});var tracker_Extensions=function(){};t["tracker.Extensions"]=tracker_Extensions,tracker_Extensions.__name__="tracker.Extensions",tracker_Extensions.unsafeGet=function(e,n){return e[n]},tracker_Extensions.unsafeSet=function(e,n,t){e[n]=t},tracker_Extensions.setArrayLength=function(e,n){if(e.length!=n)if(e.length>n)e.splice(n,e.length-n);else for(var t=e;t.length<n;)t.push(null)},tracker_Extensions.setProperty=function(e,n,t){Reflect.setProperty(e,n,t)},tracker_Extensions.getProperty=function(e,n){return Reflect.getProperty(e,n)};var tracker_Tracker=function(){};t["tracker.Tracker"]=tracker_Tracker,tracker_Tracker.__name__="tracker.Tracker";var tracker_Utils=function(){};function $bind(n,t){return null==t?null:(null==t.__id__&&(t.__id__=e.$haxeUID++),null==n.hx__closures__?n.hx__closures__={}:i=n.hx__closures__[t.__id__],null==i&&(i=t.bind(n),n.hx__closures__[t.__id__]=i),i);var i}t["tracker.Utils"]=tracker_Utils,tracker_Utils.__name__="tracker.Utils",tracker_Utils.uniformFrequencyList=function(e,n,t){for(var i=[],s=[],r=0,l=e.length;r<l;){s[u=r++]=0}for(r=0,l=n.length;r<l;){s[u=r++]+=n[u]}for(r=0,l=t;r<l;){r++;for(var a=0,o=0,h=0,c=e.length;h<c;){var u,_=s[u=h++];_>o&&(a=u,o=_)}i.push(e[a]),s[a]-=1;for(var d=0,f=n.length;d<f;){var p=d++;s[p]+=n[p]}}return i},tracker_Utils.uniqueId=function(){switch(tracker_Utils._nextUniqueIntCursor){case 0:tracker_Utils._nextUniqueInt0=(tracker_Utils._nextUniqueInt0+1)%2147483647;break;case 1:tracker_Utils._nextUniqueInt1=(tracker_Utils._nextUniqueInt1+1)%2147483647;break;case 2:tracker_Utils._nextUniqueInt2=(tracker_Utils._nextUniqueInt2+1)%2147483647;break;case 3:tracker_Utils._nextUniqueInt3=(tracker_Utils._nextUniqueInt3+1)%2147483647}tracker_Utils._nextUniqueIntCursor=(tracker_Utils._nextUniqueIntCursor+1)%4,null==(c=tracker_Utils._nextUniqueInt0)&&(c=2147483646*Math.random()|0);var e,n=c%62|0;if((u=c/62|0)>0){null==(c=u)&&(c=2147483646*Math.random()|0);var t=c%62|0;if((u=c/62|0)>0){var i=tracker_Utils.base62Id(u);if(t>9)(f=t-10+65)>90&&(f+=6),r=String.fromCodePoint(f);else r=Std.string(t).charAt(0);s=i+r}else{if(t>9)(f=t-10+65)>90&&(f+=6),i=String.fromCodePoint(f);else i=Std.string(t).charAt(0);s=Std.string(i)}if(n>9)(f=n-10+65)>90&&(f+=6),i=String.fromCodePoint(f);else i=Std.string(n).charAt(0);e=s+i}else{if(n>9)(f=n-10+65)>90&&(f+=6),s=String.fromCodePoint(f);else s=Std.string(n).charAt(0);e=Std.string(s)}null==(c=null)&&(c=2147483646*Math.random()|0);var s;n=c%62|0;if((u=c/62|0)>0){null==(c=u)&&(c=2147483646*Math.random()|0);t=c%62|0;if((u=c/62|0)>0){var r=tracker_Utils.base62Id(u);if(t>9)(f=t-10+65)>90&&(f+=6),l=String.fromCodePoint(f);else l=Std.string(t).charAt(0);i=r+l}else{if(t>9)(f=t-10+65)>90&&(f+=6),r=String.fromCodePoint(f);else r=Std.string(t).charAt(0);i=Std.string(r)}if(n>9)(f=n-10+65)>90&&(f+=6),r=String.fromCodePoint(f);else r=Std.string(n).charAt(0);s=i+r}else{if(n>9)(f=n-10+65)>90&&(f+=6),i=String.fromCodePoint(f);else i=Std.string(n).charAt(0);s=Std.string(i)}null==(c=tracker_Utils._nextUniqueInt1)&&(c=2147483646*Math.random()|0);n=c%62|0;if((u=c/62|0)>0){null==(c=u)&&(c=2147483646*Math.random()|0);t=c%62|0;if((u=c/62|0)>0){var l=tracker_Utils.base62Id(u);if(t>9)(f=t-10+65)>90&&(f+=6),a=String.fromCodePoint(f);else a=Std.string(t).charAt(0);r=l+a}else{if(t>9)(f=t-10+65)>90&&(f+=6),l=String.fromCodePoint(f);else l=Std.string(t).charAt(0);r=Std.string(l)}if(n>9)(f=n-10+65)>90&&(f+=6),l=String.fromCodePoint(f);else l=Std.string(n).charAt(0);i=r+l}else{if(n>9)(f=n-10+65)>90&&(f+=6),r=String.fromCodePoint(f);else r=Std.string(n).charAt(0);i=Std.string(r)}null==(c=null)&&(c=2147483646*Math.random()|0);n=c%62|0;if((u=c/62|0)>0){null==(c=u)&&(c=2147483646*Math.random()|0);t=c%62|0;if((u=c/62|0)>0){var a=tracker_Utils.base62Id(u);if(t>9)(f=t-10+65)>90&&(f+=6),o=String.fromCodePoint(f);else o=Std.string(t).charAt(0);l=a+o}else{if(t>9)(f=t-10+65)>90&&(f+=6),a=String.fromCodePoint(f);else a=Std.string(t).charAt(0);l=Std.string(a)}if(n>9)(f=n-10+65)>90&&(f+=6),a=String.fromCodePoint(f);else a=Std.string(n).charAt(0);r=l+a}else{if(n>9)(f=n-10+65)>90&&(f+=6),l=String.fromCodePoint(f);else l=Std.string(n).charAt(0);r=Std.string(l)}null==(c=tracker_Utils._nextUniqueInt2)&&(c=2147483646*Math.random()|0);n=c%62|0;if((u=c/62|0)>0){null==(c=u)&&(c=2147483646*Math.random()|0);t=c%62|0;if((u=c/62|0)>0){var o=tracker_Utils.base62Id(u);if(t>9)(f=t-10+65)>90&&(f+=6),h=String.fromCodePoint(f);else h=Std.string(t).charAt(0);a=o+h}else{if(t>9)(f=t-10+65)>90&&(f+=6),o=String.fromCodePoint(f);else o=Std.string(t).charAt(0);a=Std.string(o)}if(n>9)(f=n-10+65)>90&&(f+=6),o=String.fromCodePoint(f);else o=Std.string(n).charAt(0);l=a+o}else{if(n>9)(f=n-10+65)>90&&(f+=6),a=String.fromCodePoint(f);else a=Std.string(n).charAt(0);l=Std.string(a)}null==(c=null)&&(c=2147483646*Math.random()|0);n=c%62|0;if((u=c/62|0)>0){null==(c=u)&&(c=2147483646*Math.random()|0);t=c%62|0;if((u=c/62|0)>0){var h=tracker_Utils.base62Id(u);if(t>9)(f=t-10+65)>90&&(f+=6),d=String.fromCodePoint(f);else d=Std.string(t).charAt(0);o=h+d}else{if(t>9)(f=t-10+65)>90&&(f+=6),h=String.fromCodePoint(f);else h=Std.string(t).charAt(0);o=Std.string(h)}if(n>9)(f=n-10+65)>90&&(f+=6),h=String.fromCodePoint(f);else h=Std.string(n).charAt(0);a=o+h}else{if(n>9)(f=n-10+65)>90&&(f+=6),o=String.fromCodePoint(f);else o=Std.string(n).charAt(0);a=Std.string(o)}null==(c=tracker_Utils._nextUniqueInt3)&&(c=2147483646*Math.random()|0);n=c%62|0;if((u=c/62|0)>0){var c;null==(c=u)&&(c=2147483646*Math.random()|0);var u;t=c%62|0;if((u=c/62|0)>0){var _,d=tracker_Utils.base62Id(u);if(t>9)(f=t-10+65)>90&&(f+=6),_=String.fromCodePoint(f);else _=Std.string(t).charAt(0);h=d+_}else{if(t>9)(f=t-10+65)>90&&(f+=6),d=String.fromCodePoint(f);else d=Std.string(t).charAt(0);h=Std.string(d)}if(n>9)(f=n-10+65)>90&&(f+=6),d=String.fromCodePoint(f);else d=Std.string(n).charAt(0);o=h+d}else{var f;if(n>9)(f=n-10+65)>90&&(f+=6),h=String.fromCodePoint(f);else h=Std.string(n).charAt(0);o=Std.string(h)}return h=e+"-"+s+"-"+i+"-"+r+"-"+l+"-"+a+"-"+o},tracker_Utils.base62Id=function(e){null==e&&(e=2147483646*Math.random()|0);var n=e%62|0,t=e/62|0;if(t>0){var i,s,r=tracker_Utils.base62Id(t);if(n>9)(s=n-10+65)>90&&(s+=6),i=String.fromCodePoint(s);else i=(null==n?"null":""+n).charAt(0);return r+i}return n>9?((s=n-10+65)>90&&(s+=6),r=String.fromCodePoint(s)):r=(null==n?"null":""+n).charAt(0),Std.string(r)},tracker_Utils.encodeChangesetData=function(e){return e.length+":"+e},tracker_Utils.decodeChangesetData=function(e){for(var n=new haxe_ds_StringMap,t=null,i=[];;){var s=e.indexOf(":");if(-1==s)break;var r=Std.parseInt(HxOverrides.substr(e,0,s)),l=HxOverrides.substr(e,s+1,r);i.push(l),e=HxOverrides.substr(e,s+1+r,null)}for(var a=i.length-1;a>=0;){var o=i[a];if(0==a){var h=new haxe_Unserializer(o);t=h.unserialize();for(var c=h.unserialize().h,u=c,_=Object.keys(c),d=_.length,f=0;f<d;){var p=u[_[f++]],b=p.id;Object.prototype.hasOwnProperty.call(n.h,b)||(n.h[b]=p)}}else for(var y=new haxe_Unserializer(o).unserialize(),g=0;g<y.length;){var O=y[g];++g;var x=O.id;Object.prototype.hasOwnProperty.call(n.h,x)||(n.h[x]=O)}--a}return{serialized:t,serializedMap:n}},tracker_Utils.equalAny=function(e,n){return e==n},e.$haxeUID|=0,"undefined"!=typeof performance&&"function"==typeof performance.now&&(HxOverrides.now=performance.now.bind(performance)),t.Math=Math,null==String.fromCodePoint&&(String.fromCodePoint=function(e){return e<65536?String.fromCharCode(e):String.fromCharCode(55232+(e>>10))+String.fromCharCode(56320+(1023&e))}),Object.defineProperty(String.prototype,"__class__",{value:t.String=String,enumerable:!1,writable:!0}),String.__name__="String",t.Array=Array,Array.__name__="Array",Date.prototype.__class__=t.Date=Date,Date.__name__="Date";var J,ee,ne={},te={},ie=Number,se=Boolean,re={},le={};assets_AllAssets.bind(),js_Boot.__toStr={}.toString,EReg.escapeRe=new RegExp("[.*+?^${}()|[\\]\\\\]","g"),ceramic_Entity._fieldInfo={components:{editable:[],type:"ceramic.ReadOnlyMap<String,ceramic.Component>",index:1},scriptContent:{editable:[{label:"Script"}],type:"ceramic.ScriptContent",index:2}},ceramic_Transform._decomposed1=new ceramic_DecomposedTransform,ceramic_Transform._decomposed2=new ceramic_DecomposedTransform,ceramic_Transform._tmp=new ceramic_Transform,ceramic_Point.pool=new ceramic_Pool,ceramic_Visual.DEPTH_FACTOR=1e3,ceramic_Visual.DEPTH_MARGIN=.01,ceramic_Visual.FLAG_NOT_ACTIVE=1,ceramic_Visual.FLAG_VISIBLE_WHEN_ACTIVE=2,ceramic_Visual.FLAG_TOUCHABLE_WHEN_ACTIVE=4,ceramic_Visual.FLAG_IS_HIT_VISUAL=8,ceramic_Visual._degToRad=.017453292519943295,ceramic_Visual._matrix=new ceramic_Transform,ceramic_Visual._point=new ceramic_Point,ceramic_Visual._minDepth=0,ceramic_Visual._maxDepth=0,ceramic_Quad.__meta__={obj:{editable:[{implicitSizeUnlessNull:"texture"}]}},ceramic_Quad.FLAG_TRANSPARENT=16,ceramic_Quad.FLAG_ROTATE_FRAME=32,ceramic_Quad._matrix=ceramic_Visual._matrix,ceramic_Quad._degToRad=.017453292519943295,ceramic_Layer.__meta__={obj:{editable:[{implicitSizeUnlessNull:"texture"}]}},ceramic_Scene.__meta__={fields:{unobservedStatus:{observe:null}}},Xml.Element=0,Xml.PCData=1,Xml.CData=2,Xml.Comment=3,Xml.DocType=4,Xml.ProcessingInstruction=5,Xml.Document=6,ceramic_Assets.instances=[],ceramic_Assets.all=[],ceramic_Assets.allDirs=[],ceramic_Assets.allByName=new haxe_ds_StringMap,ceramic_Assets.allDirsByName=new haxe_ds_StringMap,ceramic_Assets.customAssetKinds=new haxe_ds_StringMap,ceramic_Assets._instances=[],assets_AllAssets.all=["outline.vert","pixelArt.vert","fxaa.vert","msdf.frag","textured.frag","tintBlack.vert","innerLight.frag","glow.vert","bloom.vert","blur.vert","bloom.frag","blur.frag","glow.frag","gaussianBlur.frag","msdf.vert","textured.vert","tintBlack.frag","pixelArt.frag","fxaa.frag","outline.frag","RobotoMedium.fnt","white.png","RobotoMedium.png"],assets_AllAssets.allDirs=[],assets_AllAssets.allByName=((J=new haxe_ds_StringMap).h.white=["white.png"],J.h.tintBlack=["tintBlack.vert","tintBlack.frag"],J.h.textured=["textured.frag","textured.vert"],J.h.pixelArt=["pixelArt.vert","pixelArt.frag"],J.h.outline=["outline.vert","outline.frag"],J.h.msdf=["msdf.frag","msdf.vert"],J.h.innerLight=["innerLight.frag"],J.h.glow=["glow.vert","glow.frag"],J.h.gaussianBlur=["gaussianBlur.frag"],J.h.fxaa=["fxaa.vert","fxaa.frag"],J.h.blur=["blur.vert","blur.frag"],J.h.bloom=["bloom.vert","bloom.frag"],J.h.RobotoMedium=["RobotoMedium.fnt","RobotoMedium.png"],J),assets_AllAssets.allDirsByName=new haxe_ds_StringMap,backend_ClayEvents.GAMEPAD_STORAGE_SIZE=32,backend_Draw.MAX_VERTS_SIZE=65536,backend_Draw.MAX_INDICES=16384,backend_Draw.MAX_BUFFERS=64,backend_Draw.ATTRIBUTE_POS=0,backend_Draw.ATTRIBUTE_UV=1,backend_Draw.ATTRIBUTE_COLOR=2,backend_Draw._posListArray=[],backend_Draw._indiceListArray=[],backend_Draw._uvListArray=[],backend_Draw._colorListArray=[],backend_Draw._activeTextureSlot=0,backend_Draw._batchMultiTexture=!1,backend_Draw._posSize=0,backend_Draw._customGLBuffers=[],backend_Draw._didUpdateCurrentRenderTarget=!1,backend_Draw._projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),backend_Draw._modelViewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),backend_Draw._modelViewTransform=new ceramic_Transform,backend_Draw._renderTargetTransform=new ceramic_Transform,backend_Draw._viewportDensity=1,backend_Draw._viewportWidth=0,backend_Draw._viewportHeight=0,backend_Draw._blackTransparentColor=function(e){var n=0;null==n&&(n=255);var t=-16777216;return t&=16777215,t|=(n>255?255:n<0?0:n)<<24}(),backend_Draw._whiteTransparentColor=function(e){var n=0;null==n&&(n=255);var t=-1;return t&=16777215,t|=(n>255?255:n<0?0:n)<<24}(),backend_Draw._maxVerts=0,backend_Draw._vertexSize=0,backend_Draw._numIndices=0,backend_Draw._numPos=0,backend_Draw._posIndex=0,backend_Draw._floatAttributesSize=0,backend_Draw._numUVs=0,backend_Draw._uvIndex=0,backend_Draw._numColors=0,backend_Draw._colorIndex=0,backend_Draw._drawingInStencilBuffer=!1,backend_Draw._primitiveType=4,backend_Info.RE_OPERA=new EReg("OPR/([0-6].)","g"),backend_Info.RE_SAFARI_VERSION=new EReg("Version/(.*?) ",""),backend_Main.lastResizeTime=-1,backend_Main.lastNewWidth=-1,backend_Main.lastNewHeight=-1,backend_Main.readyToDisplay=!1,backend_Main.resizing=0,backend_Main.containerWidth=0,backend_Main.containerHeight=0,backend_Main.containerPixelRatio=0,backend_Main._displayReady=!1,backend_Shaders.SHADER_ATTRIBUTES=["vertexPosition","vertexTCoord","vertexColor"],backend_Shaders.SHADER_ATTRIBUTES_MULTITEXTURE=["vertexPosition","vertexTCoord","vertexColor","vertexTextureId"],backend_Shaders._maxIfStatementsByFragmentShader=-1,backend_Textures._maxTexturesByBatch=-1,a.NONE=-1,a.TRANSPARENT=0,a.WHITE=-1,a.GRAY=-8355712,a.BLACK=-16777216,a.GREEN=-16744448,a.LIME=-16711936,a.YELLOW=-256,a.ORANGE=-23296,a.RED=-65536,a.PURPLE=-8388480,a.BLUE=-16776961,a.BROWN=-7650029,a.PINK=-16181,a.MAGENTA=-65281,a.CYAN=-16711681,a.CORNFLOWERBLUE=-10185235,a.MEDIUMVIOLETRED=-3730043,a.DEEPPINK=-60269,a.PALEVIOLETRED=-2396013,a.HOTPINK=-38476,a.LIGHTPINK=-18751,a.DARKRED=-7667712,a.FIREBRICK=-5103070,a.CRIMSON=-2354116,a.INDIANRED=-3318692,a.LIGHTCORAL=-1015680,a.SALMON=-360334,a.DARKSALMON=-1468806,a.LIGHTSALMON=-24454,a.ORANGERED=-47872,a.TOMATO=-40121,a.DARKORANGE=-29696,a.CORAL=-32944,a.DARKKHAKI=-4343957,a.GOLD=-10496,a.KHAKI=-989556,a.PEACHPUFF=-9543,a.PALEGOLDENROD=-1120086,a.MOCCASIN=-6987,a.PAPAYAWHIP=-4139,a.LEMONCHIFFON=-1331,a.LIGHTYELLOW=-32,a.SIENNA=-6270419,a.CHOCOLATE=-2987746,a.PERU=-3308225,a.TAN=-2968436,a.DARKOLIVEGREEN=-11179217,a.OLIVE=-8355840,a.TEAL=-16744320,a.TURQUOISE=-12525360,a.NAVY=-16777088,a.INDIGO=-11861886,a.ORCHID=-2461482,a.LAVENDER=-1644806,a.AZURE=-983041,a.IVORY=-16,a.DIMGREY=-9868951,a.SLATEGREY=-9404272,a.SNOW=-1286,a._hsluvTuple=[0,0,0],a._hsluvResult=[0,0,0],ceramic_Mesh.__meta__={obj:{editable:[{highlight:{points:"vertices"},helpers:[{name:"Grid",method:"grid",params:[{name:"Columns",type:"Int",value:1,slider:[1,64]},{name:"Rows",type:"Int",value:1,slider:[1,64]}]},{name:"Grid From Texture",method:"gridFromTexture",params:[{name:"Columns",type:"Int",value:1,slider:[1,64]},{name:"Rows",type:"Int",value:1,slider:[1,64]}]}]}]}},ceramic_Mesh._matrix=ceramic_Visual._matrix,ceramic_ArrayPool.ALLOC_STEP=10,ceramic_ArrayPool.dynPool10=new ceramic_ArrayPool(10),ceramic_ArrayPool.dynPool100=new ceramic_ArrayPool(100),ceramic_ArrayPool.dynPool1000=new ceramic_ArrayPool(1e3),ceramic_ArrayPool.dynPool10000=new ceramic_ArrayPool(1e4),ceramic_ArrayPool.dynPool100000=new ceramic_ArrayPool(1e5),ceramic_ArrayPool.didNotifyLargePool=!1,ceramic_Asset.__meta__={fields:{unobservedStatus:{observe:null}}},h.ASYNC=1,h.SYNC=2,ceramic_AtlasAsset.__meta__={fields:{unobservedAtlas:{observe:null},unobservedText:{observe:null}}},ceramic_BezierEasing.SPLINE_TABLE_SIZE=11,ceramic_BezierEasing.SAMPLE_STEP_SIZE=1/(ceramic_BezierEasing.SPLINE_TABLE_SIZE-1),ceramic_BezierEasing.NEWTON_ITERATIONS=4,ceramic_BezierEasing.NEWTON_MIN_SLOPE=.001,ceramic_BezierEasing.SUBDIVISION_PRECISION=1e-7,ceramic_BezierEasing.SUBDIVISION_MAX_ITERATIONS=10,ceramic_BezierEasing.TWO_THIRD=.6666666666666666,ceramic_BezierEasing.CACHE_SIZE=1e4,ceramic_BezierEasing.numCachedInstances=0,ceramic_BinaryAsset.__meta__={fields:{unobservedBytes:{observe:null}}},ceramic_CollectionImpl._nextInternalId=0,ceramic_CollectionEntry._nextId=1,ceramic_CollectionEntry._nextIndex=1,ceramic_CollectionEntry._fieldInfo={name:{type:"String"},id:{type:"String"},index:{type:"Int"}},u.NONE=-1,u.WHITE=16777215,u.GRAY=8421504,u.BLACK=0,u.GREEN=32768,u.LIME=65280,u.YELLOW=16776960,u.ORANGE=16753920,u.RED=16711680,u.PURPLE=8388736,u.BLUE=255,u.BROWN=9127187,u.PINK=16761035,u.MAGENTA=16711935,u.CYAN=65535,u.CORNFLOWERBLUE=6591981,u.MEDIUMVIOLETRED=13047173,u.DEEPPINK=16716947,u.PALEVIOLETRED=14381203,u.HOTPINK=16738740,u.LIGHTPINK=16758465,u.DARKRED=9109504,u.FIREBRICK=11674146,u.CRIMSON=14423100,u.INDIANRED=13458524,u.LIGHTCORAL=15761536,u.SALMON=16416882,u.DARKSALMON=15308410,u.LIGHTSALMON=16752762,u.ORANGERED=16729344,u.TOMATO=16737095,u.DARKORANGE=16747520,u.CORAL=16744272,u.DARKKHAKI=12433259,u.GOLD=16766720,u.KHAKI=15787660,u.PEACHPUFF=16767673,u.PALEGOLDENROD=15657130,u.MOCCASIN=16770229,u.PAPAYAWHIP=16773077,u.LEMONCHIFFON=16775885,u.LIGHTYELLOW=16777184,u.SIENNA=10506797,u.CHOCOLATE=13789470,u.PERU=13468991,u.TAN=13808780,u.DARKOLIVEGREEN=5597999,u.OLIVE=8421376,u.TEAL=32896,u.TURQUOISE=4251856,u.NAVY=128,u.INDIGO=4915330,u.ORCHID=14315734,u.LAVENDER=15132410,u.AZURE=15794175,u.IVORY=16777200,u.DIMGREY=6908265,u.SLATEGREY=7372944,u.SNOW=16775930,u.colorLookup=function(e){var n=new haxe_ds_StringMap;return n.h.NONE=-1,n.h.WHITE=16777215,n.h.GRAY=8421504,n.h.BLACK=0,n.h.GREEN=32768,n.h.LIME=65280,n.h.YELLOW=16776960,n.h.ORANGE=16753920,n.h.RED=16711680,n.h.PURPLE=8388736,n.h.BLUE=255,n.h.BROWN=9127187,n.h.PINK=16761035,n.h.MAGENTA=16711935,n.h.CYAN=65535,n.h.CORNFLOWERBLUE=6591981,n.h.MEDIUMVIOLETRED=13047173,n.h.DEEPPINK=16716947,n.h.PALEVIOLETRED=14381203,n.h.HOTPINK=16738740,n.h.LIGHTPINK=16758465,n.h.DARKRED=9109504,n.h.FIREBRICK=11674146,n.h.CRIMSON=14423100,n.h.INDIANRED=13458524,n.h.LIGHTCORAL=15761536,n.h.SALMON=16416882,n.h.DARKSALMON=15308410,n.h.LIGHTSALMON=16752762,n.h.ORANGERED=16729344,n.h.TOMATO=16737095,n.h.DARKORANGE=16747520,n.h.CORAL=16744272,n.h.DARKKHAKI=12433259,n.h.GOLD=16766720,n.h.KHAKI=15787660,n.h.PEACHPUFF=16767673,n.h.PALEGOLDENROD=15657130,n.h.MOCCASIN=16770229,n.h.PAPAYAWHIP=16773077,n.h.LEMONCHIFFON=16775885,n.h.LIGHTYELLOW=16777184,n.h.SIENNA=10506797,n.h.CHOCOLATE=13789470,n.h.PERU=13468991,n.h.TAN=13808780,n.h.DARKOLIVEGREEN=5597999,n.h.OLIVE=8421376,n.h.TEAL=32896,n.h.TURQUOISE=4251856,n.h.NAVY=128,n.h.INDIGO=4915330,n.h.ORCHID=14315734,n.h.LAVENDER=15132410,n.h.AZURE=15794175,n.h.IVORY=16777200,n.h.DIMGREY=6908265,n.h.SLATEGREY=7372944,n.h.SNOW=16775930,n}(),u._hsluvTuple=[0,0,0],u._hsluvResult=[0,0,0],u._hsluvCacheMap=new ceramic_IntIntMap,u._hsluvCacheValues=[],ceramic_DatabaseAsset.__meta__={fields:{unobservedDatabase:{observe:null}}},ceramic_EasingUtils._emptyArray=[],ceramic_FieldInfo.fieldInfoMap=new haxe_ds_StringMap,ceramic_FieldMeta.metaMap=new haxe_ds_StringMap,ceramic_FieldMeta.metaMapRecursive=new haxe_ds_StringMap,ceramic_Filter.__meta__={fields:{unobservedRenderTexture:{observe:null}}},ceramic_Filter._matrix=ceramic_Visual._matrix,ceramic_FontAsset.__meta__={fields:{unobservedFont:{observe:null}}},ceramic_Fragment.__meta__={obj:{editable:[{implicitSizeUnlessTrue:"resizable"}]}},ceramic_Fragment.basicTypes=function(e){var n=new haxe_ds_StringMap;return n.h.Bool=!0,n.h.Int=!0,n.h.Float=!0,n.h.String=!0,n.h["ceramic.Color"]=!0,n.h["ceramic.ScriptContent"]=!0,n}(),ceramic_Fragment.cachedFragmentData=new haxe_ds_StringMap,ceramic_Fragment._trackResult=new ceramic_Value,ceramic_Fragment._keyframeResult=new ceramic_Value,ceramic_Fragment._usedKeyframes=[],ceramic_FragmentsAsset.__meta__={fields:{unobservedFragments:{observe:null}}},d.LEFT_X=0,d.LEFT_Y=1,d.RIGHT_X=2,d.RIGHT_Y=3,d.LEFT_TRIGGER=4,d.RIGHT_TRIGGER=5,f.A=0,f.B=1,f.X=2,f.Y=3,f.L1=4,f.R1=5,f.L2=6,f.R2=7,f.SELECT=8,f.START=9,f.L3=10,f.R3=11,f.DPAD_UP=12,f.DPAD_DOWN=13,f.DPAD_LEFT=14,f.DPAD_RIGHT=15,ceramic_HashedString._lastDecodeIncomplete=!1,ceramic_ImageAsset.__meta__={fields:{unobservedTexture:{observe:null}}},ceramic_Input.GAMEPAD_STORAGE_SIZE=32,ceramic_IntMap.NO_VALUE=0,ceramic_IntMap.NULL_VALUE=1,ceramic_IntMap.RESERVED_GAP=2,b.UNKNOWN=0,b.ENTER=13,b.ESCAPE=27,b.BACKSPACE=8,b.TAB=9,b.SPACE=32,b.EXCLAIM=33,b.QUOTEDBL=34,b.HASH=35,b.PERCENT=37,b.DOLLAR=36,b.AMPERSAND=38,b.QUOTE=39,b.LEFTPAREN=40,b.RIGHTPAREN=41,b.ASTERISK=42,b.PLUS=43,b.COMMA=44,b.MINUS=45,b.PERIOD=46,b.SLASH=47,b.KEY_0=48,b.KEY_1=49,b.KEY_2=50,b.KEY_3=51,b.KEY_4=52,b.KEY_5=53,b.KEY_6=54,b.KEY_7=55,b.KEY_8=56,b.KEY_9=57,b.COLON=58,b.SEMICOLON=59,b.LESS=60,b.EQUALS=61,b.GREATER=62,b.QUESTION=63,b.AT=64,b.LEFTBRACKET=91,b.BACKSLASH=92,b.RIGHTBRACKET=93,b.CARET=94,b.UNDERSCORE=95,b.BACKQUOTE=96,b.KEY_A=97,b.KEY_B=98,b.KEY_C=99,b.KEY_D=100,b.KEY_E=101,b.KEY_F=102,b.KEY_G=103,b.KEY_H=104,b.KEY_I=105,b.KEY_J=106,b.KEY_K=107,b.KEY_L=108,b.KEY_M=109,b.KEY_N=110,b.KEY_O=111,b.KEY_P=112,b.KEY_Q=113,b.KEY_R=114,b.KEY_S=115,b.KEY_T=116,b.KEY_U=117,b.KEY_V=118,b.KEY_W=119,b.KEY_X=120,b.KEY_Y=121,b.KEY_Z=122,b.CAPSLOCK=1073741881,b.F1=1073741882,b.F2=1073741883,b.F3=1073741884,b.F4=1073741885,b.F5=1073741886,b.F6=1073741887,b.F7=1073741888,b.F8=1073741889,b.F9=1073741890,b.F10=1073741891,b.F11=1073741892,b.F12=1073741893,b.PRINTSCREEN=1073741894,b.SCROLLLOCK=1073741895,b.PAUSE=1073741896,b.INSERT=1073741897,b.HOME=1073741898,b.PAGEUP=1073741899,b.DELETE=127,b.END=1073741901,b.PAGEDOWN=1073741902,b.RIGHT=1073741903,b.LEFT=1073741904,b.DOWN=1073741905,b.UP=1073741906,b.NUMLOCKCLEAR=1073741907,b.KP_DIVIDE=1073741908,b.KP_MULTIPLY=1073741909,b.KP_MINUS=1073741910,b.KP_PLUS=1073741911,b.KP_ENTER=1073741912,b.KP_1=1073741913,b.KP_2=1073741914,b.KP_3=1073741915,b.KP_4=1073741916,b.KP_5=1073741917,b.KP_6=1073741918,b.KP_7=1073741919,b.KP_8=1073741920,b.KP_9=1073741921,b.KP_0=1073741922,b.KP_PERIOD=1073741923,b.APPLICATION=1073741925,b.POWER=1073741926,b.KP_EQUALS=1073741927,b.F13=1073741928,b.F14=1073741929,b.F15=1073741930,b.F16=1073741931,b.F17=1073741932,b.F18=1073741933,b.F19=1073741934,b.F20=1073741935,b.F21=1073741936,b.F22=1073741937,b.F23=1073741938,b.F24=1073741939,b.EXECUTE=1073741940,b.HELP=1073741941,b.MENU=1073741942,b.SELECT=1073741943,b.STOP=1073741944,b.AGAIN=1073741945,b.UNDO=1073741946,b.CUT=1073741947,b.COPY=1073741948,b.PASTE=1073741949,b.FIND=1073741950,b.MUTE=1073741951,b.VOLUMEUP=1073741952,b.VOLUMEDOWN=1073741953,b.KP_COMMA=1073741957,b.KP_EQUALSAS400=1073741958,b.ALTERASE=1073741977,b.SYSREQ=1073741978,b.CANCEL=1073741979,b.CLEAR=1073741980,b.PRIOR=1073741981,b.RETURN2=1073741982,b.SEPARATOR=1073741983,b.OUT=1073741984,b.OPER=1073741985,b.CLEARAGAIN=1073741986,b.CRSEL=1073741987,b.EXSEL=1073741988,b.KP_00=1073742e3,b.KP_000=1073742001,b.THOUSANDSSEPARATOR=1073742002,b.DECIMALSEPARATOR=1073742003,b.CURRENCYUNIT=1073742004,b.CURRENCYSUBUNIT=1073742005,b.KP_LEFTPAREN=1073742006,b.KP_RIGHTPAREN=1073742007,b.KP_LEFTBRACE=1073742008,b.KP_RIGHTBRACE=1073742009,b.KP_TAB=1073742010,b.KP_BACKSPACE=1073742011,b.KP_A=1073742012,b.KP_B=1073742013,b.KP_C=1073742014,b.KP_D=1073742015,b.KP_E=1073742016,b.KP_F=1073742017,b.KP_XOR=1073742018,b.KP_POWER=1073742019,b.KP_PERCENT=1073742020,b.KP_LESS=1073742021,b.KP_GREATER=1073742022,b.KP_AMPERSAND=1073742023,b.KP_DBLAMPERSAND=1073742024,b.KP_VERTICALBAR=1073742025,b.KP_DBLVERTICALBAR=1073742026,b.KP_COLON=1073742027,b.KP_HASH=1073742028,b.KP_SPACE=1073742029,b.KP_AT=1073742030,b.KP_EXCLAM=1073742031,b.KP_MEMSTORE=1073742032,b.KP_MEMRECALL=1073742033,b.KP_MEMCLEAR=1073742034,b.KP_MEMADD=1073742035,b.KP_MEMSUBTRACT=1073742036,b.KP_MEMMULTIPLY=1073742037,b.KP_MEMDIVIDE=1073742038,b.KP_PLUSMINUS=1073742039,b.KP_CLEAR=1073742040,b.KP_CLEARENTRY=1073742041,b.KP_BINARY=1073742042,b.KP_OCTAL=1073742043,b.KP_DECIMAL=1073742044,b.KP_HEXADECIMAL=1073742045,b.LCTRL=1073742048,b.LSHIFT=1073742049,b.LALT=1073742050,b.LMETA=1073742051,b.RCTRL=1073742052,b.RSHIFT=1073742053,b.RALT=1073742054,b.RMETA=1073742055,b.MODE=1073742081,b.AUDIONEXT=1073742082,b.AUDIOPREV=1073742083,b.AUDIOSTOP=1073742084,b.AUDIOPLAY=1073742085,b.AUDIOMUTE=1073742086,b.MEDIASELECT=1073742087,b.WWW=1073742088,b.MAIL=1073742089,b.CALCULATOR=1073742090,b.COMPUTER=1073742091,b.AC_SEARCH=1073742092,b.AC_HOME=1073742093,b.AC_BACK=1073742094,b.AC_FORWARD=1073742095,b.AC_STOP=1073742096,b.AC_REFRESH=1073742097,b.AC_BOOKMARKS=1073742098,b.BRIGHTNESSDOWN=1073742099,b.BRIGHTNESSUP=1073742100,b.DISPLAYSWITCH=1073742101,b.KBDILLUMTOGGLE=1073742102,b.KBDILLUMDOWN=1073742103,b.KBDILLUMUP=1073742104,b.EJECT=1073742105,b.SLEEP=1073742106,polyline_Stroke.NUMBER_NONE=-9999999999,polyline_Stroke.MATH_TWO_PI=6.28318530718,polyline_Stroke.MATH_HALF_PI=1.57079632679,polyline_Stroke.MATH_PI_AND_HALF=4.71238898038,polyline_Stroke.miterUtils=new polyline_MiterUtils,ceramic_Line.__meta__={obj:{editable:[{implicitSize:!0,highlight:{points:"points",minPoints:2,maxPoints:999999999},disable:["texture","vertices","indices","uvs"]}]}},ceramic_Line._stroke=new polyline_Stroke,ceramic_Logger._hasElectronRunner=!1,ceramic_Logger.didInitOnce=!1,y.NONE=0,y.LOADING=1,y.SUCCESS=2,y.ERROR=-1,ceramic_Texture._nextIndex=1,g.MASK=1073741824,g.UNKNOWN=0,g.KEY_A=4,g.KEY_B=5,g.KEY_C=6,g.KEY_D=7,g.KEY_E=8,g.KEY_F=9,g.KEY_G=10,g.KEY_H=11,g.KEY_I=12,g.KEY_J=13,g.KEY_K=14,g.KEY_L=15,g.KEY_M=16,g.KEY_N=17,g.KEY_O=18,g.KEY_P=19,g.KEY_Q=20,g.KEY_R=21,g.KEY_S=22,g.KEY_T=23,g.KEY_U=24,g.KEY_V=25,g.KEY_W=26,g.KEY_X=27,g.KEY_Y=28,g.KEY_Z=29,g.KEY_1=30,g.KEY_2=31,g.KEY_3=32,g.KEY_4=33,g.KEY_5=34,g.KEY_6=35,g.KEY_7=36,g.KEY_8=37,g.KEY_9=38,g.KEY_0=39,g.ENTER=40,g.ESCAPE=41,g.BACKSPACE=42,g.TAB=43,g.SPACE=44,g.MINUS=45,g.EQUALS=46,g.LEFTBRACKET=47,g.RIGHTBRACKET=48,g.BACKSLASH=49,g.NONUSHASH=50,g.SEMICOLON=51,g.APOSTROPHE=52,g.GRAVE=53,g.COMMA=54,g.PERIOD=55,g.SLASH=56,g.CAPSLOCK=57,g.F1=58,g.F2=59,g.F3=60,g.F4=61,g.F5=62,g.F6=63,g.F7=64,g.F8=65,g.F9=66,g.F10=67,g.F11=68,g.F12=69,g.PRINTSCREEN=70,g.SCROLLLOCK=71,g.PAUSE=72,g.INSERT=73,g.HOME=74,g.PAGEUP=75,g.DELETE=76,g.END=77,g.PAGEDOWN=78,g.RIGHT=79,g.LEFT=80,g.DOWN=81,g.UP=82,g.NUMLOCKCLEAR=83,g.KP_DIVIDE=84,g.KP_MULTIPLY=85,g.KP_MINUS=86,g.KP_PLUS=87,g.KP_ENTER=88,g.KP_1=89,g.KP_2=90,g.KP_3=91,g.KP_4=92,g.KP_5=93,g.KP_6=94,g.KP_7=95,g.KP_8=96,g.KP_9=97,g.KP_0=98,g.KP_PERIOD=99,g.NONUSBACKSLASH=100,g.APPLICATION=101,g.POWER=102,g.KP_EQUALS=103,g.F13=104,g.F14=105,g.F15=106,g.F16=107,g.F17=108,g.F18=109,g.F19=110,g.F20=111,g.F21=112,g.F22=113,g.F23=114,g.F24=115,g.EXECUTE=116,g.HELP=117,g.MENU=118,g.SELECT=119,g.STOP=120,g.AGAIN=121,g.UNDO=122,g.CUT=123,g.COPY=124,g.PASTE=125,g.FIND=126,g.MUTE=127,g.VOLUMEUP=128,g.VOLUMEDOWN=129,g.KP_COMMA=133,g.KP_EQUALSAS400=134,g.INTERNATIONAL1=135,g.INTERNATIONAL2=136,g.INTERNATIONAL3=137,g.INTERNATIONAL4=138,g.INTERNATIONAL5=139,g.INTERNATIONAL6=140,g.INTERNATIONAL7=141,g.INTERNATIONAL8=142,g.INTERNATIONAL9=143,g.LANG1=144,g.LANG2=145,g.LANG3=146,g.LANG4=147,g.LANG5=148,g.LANG6=149,g.LANG7=150,g.LANG8=151,g.LANG9=152,g.ALTERASE=153,g.SYSREQ=154,g.CANCEL=155,g.CLEAR=156,g.PRIOR=157,g.RETURN2=158,g.SEPARATOR=159,g.OUT=160,g.OPER=161,g.CLEARAGAIN=162,g.CRSEL=163,g.EXSEL=164,g.KP_00=176,g.KP_000=177,g.THOUSANDSSEPARATOR=178,g.DECIMALSEPARATOR=179,g.CURRENCYUNIT=180,g.CURRENCYSUBUNIT=181,g.KP_LEFTPAREN=182,g.KP_RIGHTPAREN=183,g.KP_LEFTBRACE=184,g.KP_RIGHTBRACE=185,g.KP_TAB=186,g.KP_BACKSPACE=187,g.KP_A=188,g.KP_B=189,g.KP_C=190,g.KP_D=191,g.KP_E=192,g.KP_F=193,g.KP_XOR=194,g.KP_POWER=195,g.KP_PERCENT=196,g.KP_LESS=197,g.KP_GREATER=198,g.KP_AMPERSAND=199,g.KP_DBLAMPERSAND=200,g.KP_VERTICALBAR=201,g.KP_DBLVERTICALBAR=202,g.KP_COLON=203,g.KP_HASH=204,g.KP_SPACE=205,g.KP_AT=206,g.KP_EXCLAM=207,g.KP_MEMSTORE=208,g.KP_MEMRECALL=209,g.KP_MEMCLEAR=210,g.KP_MEMADD=211,g.KP_MEMSUBTRACT=212,g.KP_MEMMULTIPLY=213,g.KP_MEMDIVIDE=214,g.KP_PLUSMINUS=215,g.KP_CLEAR=216,g.KP_CLEARENTRY=217,g.KP_BINARY=218,g.KP_OCTAL=219,g.KP_DECIMAL=220,g.KP_HEXADECIMAL=221,g.LCTRL=224,g.LSHIFT=225,g.LALT=226,g.LMETA=227,g.RCTRL=228,g.RSHIFT=229,g.RALT=230,g.RMETA=231,g.MODE=257,g.AUDIONEXT=258,g.AUDIOPREV=259,g.AUDIOSTOP=260,g.AUDIOPLAY=261,g.AUDIOMUTE=262,g.MEDIASELECT=263,g.WWW=264,g.MAIL=265,g.CALCULATOR=266,g.COMPUTER=267,g.AC_SEARCH=268,g.AC_HOME=269,g.AC_BACK=270,g.AC_FORWARD=271,g.AC_STOP=272,g.AC_REFRESH=273,g.AC_BOOKMARKS=274,g.BRIGHTNESSDOWN=275,g.BRIGHTNESSUP=276,g.DISPLAYSWITCH=277,g.KBDILLUMTOGGLE=278,g.KBDILLUMDOWN=279,g.KBDILLUMUP=280,g.EJECT=281,g.SLEEP=282,g.APP1=283,g.APP2=284,g.scanCodeNames=[null,null,null,null,"A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","1","2","3","4","5","6","7","8","9","0","Enter","Escape","Backspace","Tab","Space","-","=","[","]","\\","#",";","'","`",",",".","/","CapsLock","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","PrintScreen","ScrollLock","Pause","Insert","Home","PageUp","Delete","End","PageDown","Right","Left","Down","Up","Numlock","Keypad /","Keypad *","Keypad -","Keypad +","Keypad Enter","Keypad 1","Keypad 2","Keypad 3","Keypad 4","Keypad 5","Keypad 6","Keypad 7","Keypad 8","Keypad 9","Keypad 0","Keypad .",null,"Application","Power","Keypad =","F13","F14","F15","F16","F17","F18","F19","F20","F21","F22","F23","F24","Execute","Help","Menu","Select","Stop","Again","Undo","Cut","Copy","Paste","Find","Mute","VolumeUp","VolumeDown",null,null,null,"Keypad ,","Keypad = (AS400)",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"AltErase","SysReq","Cancel","Clear","Prior","Enter","Separator","Out","Oper","Clear / Again","CrSel","ExSel",null,null,null,null,null,null,null,null,null,null,null,"Keypad 00","Keypad 000","ThousandsSeparator","DecimalSeparator","CurrencyUnit","CurrencySubUnit","Keypad (","Keypad )","Keypad {","Keypad }","Keypad Tab","Keypad Backspace","Keypad A","Keypad B","Keypad C","Keypad D","Keypad E","Keypad F","Keypad XOR","Keypad ^","Keypad %","Keypad <","Keypad >","Keypad &","Keypad &&","Keypad |","Keypad ||","Keypad :","Keypad #","Keypad Space","Keypad @","Keypad !","Keypad MemStore","Keypad MemRecall","Keypad MemClear","Keypad MemAdd","Keypad MemSubtract","Keypad MemMultiply","Keypad MemDivide","Keypad +/-","Keypad Clear","Keypad ClearEntry","Keypad Binary","Keypad Octal","Keypad Decimal","Keypad Hexadecimal",null,null,"Left Ctrl","Left Shift","Left Alt","Left Meta","Right Ctrl","Right Shift","Right Alt","Right Meta",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"ModeSwitch","AudioNext","AudioPrev","AudioStop","AudioPlay","AudioMute","MediaSelect","WWW","Mail","Calculator","Computer","AC Search","AC Home","AC Back","AC Forward","AC Stop","AC Refresh","AC Bookmarks","BrightnessDown","BrightnessUp","DisplaySwitch","KBDIllumToggle","KBDIllumDown","KBDIllumUp","Eject","Sleep"],O.NONE=0,O.PRELOAD=1,O.LOAD=2,O.CREATE=3,O.FADE_IN=4,O.READY=5,O.FADE_OUT=6,O.DISABLED=7,ceramic_SceneSystem.lazyShared=!0,ceramic_Screen.__meta__={fields:{unobservedFocusedVisual:{observe:null},unobservedTexturesDensity:{observe:null}}},ceramic_Settings.__meta__={fields:{unobservedTargetWidth:{observe:null},unobservedTargetHeight:{observe:null},unobservedWindowWidth:{observe:null},unobservedWindowHeight:{observe:null},unobservedTargetDensity:{observe:null},unobservedBackground:{observe:null},unobservedScaling:{observe:null},unobservedTitle:{observe:null},unobservedFullscreen:{observe:null},unobservedTargetFps:{observe:null},unobservedMaxDelta:{observe:null},unobservedOverrideDelta:{observe:null},unobservedPreventDefaultMouseWheel:{observe:null},unobservedPreventDefaultTouches:{observe:null}}},ceramic_ShaderAsset.__meta__={fields:{unobservedShader:{observe:null}}},ceramic_SoundAsset.__meta__={fields:{unobservedSound:{observe:null}}},ceramic_TextAsset.__meta__={fields:{unobservedText:{observe:null}}},ceramic_TextureAtlasPacker.MIN_TEXTURE_SIZE=32;ceramic_TextureAtlasPacker.MAX_TEXTURE_SIZE=2048,ceramic_TextureAtlasPage.__meta__={fields:{unobservedName:{observe:null},unobservedWidth:{observe:null},unobservedHeight:{observe:null},unobservedFilter:{observe:null},unobservedTexture:{observe:null}}},ceramic_Timer.callbacks=[],ceramic_Timer.next=999999999,ceramic_Timer.now=0,ceramic_Timer.startTimestamp=(new Date).getTime()/1e3,ceramic_TransformPool.availableTransforms=[],ceramic_Triangulate.poly2triPointsPool=[],ceramic_Triangulate.poly2triPoints=[],ceramic_Tween._tweens=[],ceramic_Tween._iteratedTweens=[],ceramic__$Tween_TweenEasingFunction.k=0,ceramic_Utils.isAndroid_result=-1,ceramic_Utils.isIos_result=-1,ceramic_Utils.RE_ASCII_CHAR=new EReg("^[a-zA-Z0-9]$",""),ceramic_Utils._nextUniqueIntCursor=0,ceramic_Utils._nextUniqueInt0=2147483646*Math.random()|0,ceramic_Utils._nextUniqueInt1=1e-4*(new Date).getTime()|0,ceramic_Utils._nextUniqueInt2=2147483646*Math.random()|0,ceramic_Utils._nextUniqueInt3=2147483646*Math.random()|0,ceramic_VisualTransition._currentTransform=new ceramic_Transform,ceramic_VisualTransition._targetTransform=new ceramic_Transform,ceramic_VisualTransition._identityTransform=new ceramic_Transform,ceramic_WatchDirectory.didTryRequireChokidar=!1,clay_Immediate.immediateCallbacks=[],clay_Immediate.immediateCallbacksCapacity=0,clay_Immediate.immediateCallbacksLen=0,C.UNKNOWN=0,C.ENTER=13,C.ESCAPE=27,C.BACKSPACE=8,C.TAB=9,C.SPACE=32,C.EXCLAIM=33,C.QUOTEDBL=34,C.HASH=35,C.PERCENT=37,C.DOLLAR=36,C.AMPERSAND=38,C.QUOTE=39,C.LEFTPAREN=40,C.RIGHTPAREN=41,C.ASTERISK=42,C.PLUS=43,C.COMMA=44,C.MINUS=45,C.PERIOD=46,C.SLASH=47,C.KEY_0=48,C.KEY_1=49,C.KEY_2=50,C.KEY_3=51,C.KEY_4=52,C.KEY_5=53,C.KEY_6=54,C.KEY_7=55,C.KEY_8=56,C.KEY_9=57,C.COLON=58,C.SEMICOLON=59,C.LESS=60,C.EQUALS=61,C.GREATER=62,C.QUESTION=63,C.AT=64,C.LEFTBRACKET=91,C.BACKSLASH=92,C.RIGHTBRACKET=93,C.CARET=94,C.UNDERSCORE=95,C.BACKQUOTE=96,C.KEY_A=97,C.KEY_B=98,C.KEY_C=99,C.KEY_D=100,C.KEY_E=101,C.KEY_F=102,C.KEY_G=103,C.KEY_H=104,C.KEY_I=105,C.KEY_J=106,C.KEY_K=107,C.KEY_L=108,C.KEY_M=109,C.KEY_N=110,C.KEY_O=111,C.KEY_P=112,C.KEY_Q=113,C.KEY_R=114,C.KEY_S=115,C.KEY_T=116,C.KEY_U=117,C.KEY_V=118,C.KEY_W=119,C.KEY_X=120,C.KEY_Y=121,C.KEY_Z=122,C.CAPSLOCK=1073741881,C.F1=1073741882,C.F2=1073741883,C.F3=1073741884,C.F4=1073741885,C.F5=1073741886,C.F6=1073741887,C.F7=1073741888,C.F8=1073741889,C.F9=1073741890,C.F10=1073741891,C.F11=1073741892,C.F12=1073741893,C.PRINTSCREEN=1073741894,C.SCROLLLOCK=1073741895,C.PAUSE=1073741896,C.INSERT=1073741897,C.HOME=1073741898,C.PAGEUP=1073741899,C.DELETE=127,C.END=1073741901,C.PAGEDOWN=1073741902,C.RIGHT=1073741903,C.LEFT=1073741904,C.DOWN=1073741905,C.UP=1073741906,C.NUMLOCKCLEAR=1073741907,C.KP_DIVIDE=1073741908,C.KP_MULTIPLY=1073741909,C.KP_MINUS=1073741910,C.KP_PLUS=1073741911,C.KP_ENTER=1073741912,C.KP_1=1073741913,C.KP_2=1073741914,C.KP_3=1073741915,C.KP_4=1073741916,C.KP_5=1073741917,C.KP_6=1073741918,C.KP_7=1073741919,C.KP_8=1073741920,C.KP_9=1073741921,C.KP_0=1073741922,C.KP_PERIOD=1073741923,C.APPLICATION=1073741925,C.POWER=1073741926,C.KP_EQUALS=1073741927,C.F13=1073741928,C.F14=1073741929,C.F15=1073741930,C.F16=1073741931,C.F17=1073741932,C.F18=1073741933,C.F19=1073741934,C.F20=1073741935,C.F21=1073741936,C.F22=1073741937,C.F23=1073741938,C.F24=1073741939,C.EXECUTE=1073741940,C.HELP=1073741941,C.MENU=1073741942,C.SELECT=1073741943,C.STOP=1073741944,C.AGAIN=1073741945,C.UNDO=1073741946,C.CUT=1073741947,C.COPY=1073741948,C.PASTE=1073741949,C.FIND=1073741950,C.MUTE=1073741951,C.VOLUMEUP=1073741952,C.VOLUMEDOWN=1073741953,C.KP_COMMA=1073741957,C.KP_EQUALSAS400=1073741958,C.ALTERASE=1073741977,C.SYSREQ=1073741978,C.CANCEL=1073741979,C.CLEAR=1073741980,C.PRIOR=1073741981,C.RETURN2=1073741982,C.SEPARATOR=1073741983,C.OUT=1073741984,C.OPER=1073741985,C.CLEARAGAIN=1073741986,C.CRSEL=1073741987,C.EXSEL=1073741988,C.KP_00=1073742e3,C.KP_000=1073742001,C.THOUSANDSSEPARATOR=1073742002,C.DECIMALSEPARATOR=1073742003,C.CURRENCYUNIT=1073742004,C.CURRENCYSUBUNIT=1073742005,C.KP_LEFTPAREN=1073742006,C.KP_RIGHTPAREN=1073742007,C.KP_LEFTBRACE=1073742008,C.KP_RIGHTBRACE=1073742009,C.KP_TAB=1073742010,C.KP_BACKSPACE=1073742011,C.KP_A=1073742012,C.KP_B=1073742013,C.KP_C=1073742014,C.KP_D=1073742015,C.KP_E=1073742016,C.KP_F=1073742017,C.KP_XOR=1073742018,C.KP_POWER=1073742019,C.KP_PERCENT=1073742020,C.KP_LESS=1073742021,C.KP_GREATER=1073742022,C.KP_AMPERSAND=1073742023,C.KP_DBLAMPERSAND=1073742024,C.KP_VERTICALBAR=1073742025,C.KP_DBLVERTICALBAR=1073742026,C.KP_COLON=1073742027,C.KP_HASH=1073742028,C.KP_SPACE=1073742029,C.KP_AT=1073742030,C.KP_EXCLAM=1073742031,C.KP_MEMSTORE=1073742032,C.KP_MEMRECALL=1073742033,C.KP_MEMCLEAR=1073742034,C.KP_MEMADD=1073742035,C.KP_MEMSUBTRACT=1073742036,C.KP_MEMMULTIPLY=1073742037,C.KP_MEMDIVIDE=1073742038,C.KP_PLUSMINUS=1073742039,C.KP_CLEAR=1073742040,C.KP_CLEARENTRY=1073742041,C.KP_BINARY=1073742042,C.KP_OCTAL=1073742043,C.KP_DECIMAL=1073742044,C.KP_HEXADECIMAL=1073742045,C.LCTRL=1073742048,C.LSHIFT=1073742049,C.LALT=1073742050,C.LMETA=1073742051,C.RCTRL=1073742052,C.RSHIFT=1073742053,C.RALT=1073742054,C.RMETA=1073742055,C.MODE=1073742081,C.AUDIONEXT=1073742082,C.AUDIOPREV=1073742083,C.AUDIOSTOP=1073742084,C.AUDIOPLAY=1073742085,C.AUDIOMUTE=1073742086,C.MEDIASELECT=1073742087,C.WWW=1073742088,C.MAIL=1073742089,C.CALCULATOR=1073742090,C.COMPUTER=1073742091,C.AC_SEARCH=1073742092,C.AC_HOME=1073742093,C.AC_BACK=1073742094,C.AC_FORWARD=1073742095,C.AC_STOP=1073742096,C.AC_REFRESH=1073742097,C.AC_BOOKMARKS=1073742098,C.BRIGHTNESSDOWN=1073742099,C.BRIGHTNESSUP=1073742100,C.DISPLAYSWITCH=1073742101,C.KBDILLUMTOGGLE=1073742102,C.KBDILLUMDOWN=1073742103,C.KBDILLUMUP=1073742104,C.EJECT=1073742105,C.SLEEP=1073742106,T.MASK=1073741824,T.UNKNOWN=0,T.KEY_A=4,T.KEY_B=5,T.KEY_C=6,T.KEY_D=7,T.KEY_E=8,T.KEY_F=9,T.KEY_G=10,T.KEY_H=11,T.KEY_I=12,T.KEY_J=13,T.KEY_K=14,T.KEY_L=15,T.KEY_M=16,T.KEY_N=17,T.KEY_O=18,T.KEY_P=19,T.KEY_Q=20,T.KEY_R=21,T.KEY_S=22,T.KEY_T=23,T.KEY_U=24,T.KEY_V=25,T.KEY_W=26,T.KEY_X=27,T.KEY_Y=28,T.KEY_Z=29,T.KEY_1=30,T.KEY_2=31,T.KEY_3=32,T.KEY_4=33,T.KEY_5=34,T.KEY_6=35,T.KEY_7=36,T.KEY_8=37,T.KEY_9=38,T.KEY_0=39,T.ENTER=40,T.ESCAPE=41,T.BACKSPACE=42,T.TAB=43,T.SPACE=44,T.MINUS=45,T.EQUALS=46,T.LEFTBRACKET=47,T.RIGHTBRACKET=48,T.BACKSLASH=49,T.NONUSHASH=50,T.SEMICOLON=51,T.APOSTROPHE=52,T.GRAVE=53,T.COMMA=54,T.PERIOD=55,T.SLASH=56,T.CAPSLOCK=57,T.F1=58,T.F2=59,T.F3=60,T.F4=61,T.F5=62,T.F6=63,T.F7=64,T.F8=65,T.F9=66,T.F10=67,T.F11=68,T.F12=69,T.PRINTSCREEN=70,T.SCROLLLOCK=71,T.PAUSE=72,T.INSERT=73,T.HOME=74,T.PAGEUP=75,T.DELETE=76,T.END=77,T.PAGEDOWN=78,T.RIGHT=79,T.LEFT=80,T.DOWN=81,T.UP=82,T.NUMLOCKCLEAR=83,T.KP_DIVIDE=84,T.KP_MULTIPLY=85,T.KP_MINUS=86,T.KP_PLUS=87,T.KP_ENTER=88,T.KP_1=89,T.KP_2=90,T.KP_3=91,T.KP_4=92,T.KP_5=93,T.KP_6=94,T.KP_7=95,T.KP_8=96,T.KP_9=97,T.KP_0=98,T.KP_PERIOD=99,T.NONUSBACKSLASH=100,T.APPLICATION=101,T.POWER=102,T.KP_EQUALS=103,T.F13=104,T.F14=105,T.F15=106,T.F16=107,T.F17=108,T.F18=109,T.F19=110,T.F20=111,T.F21=112,T.F22=113,T.F23=114,T.F24=115,T.EXECUTE=116,T.HELP=117,T.MENU=118,T.SELECT=119,T.STOP=120,T.AGAIN=121,T.UNDO=122,T.CUT=123,T.COPY=124,T.PASTE=125,T.FIND=126,T.MUTE=127,T.VOLUMEUP=128,T.VOLUMEDOWN=129,T.KP_COMMA=133,T.KP_EQUALSAS400=134,T.INTERNATIONAL1=135,T.INTERNATIONAL2=136,T.INTERNATIONAL3=137,T.INTERNATIONAL4=138,T.INTERNATIONAL5=139,T.INTERNATIONAL6=140,T.INTERNATIONAL7=141,T.INTERNATIONAL8=142,T.INTERNATIONAL9=143,T.LANG1=144,T.LANG2=145,T.LANG3=146,T.LANG4=147,T.LANG5=148,T.LANG6=149,T.LANG7=150,T.LANG8=151,T.LANG9=152,T.ALTERASE=153,T.SYSREQ=154,T.CANCEL=155,T.CLEAR=156,T.PRIOR=157,T.RETURN2=158,T.SEPARATOR=159,T.OUT=160,T.OPER=161,T.CLEARAGAIN=162,T.CRSEL=163,T.EXSEL=164,T.KP_00=176,T.KP_000=177,T.THOUSANDSSEPARATOR=178,T.DECIMALSEPARATOR=179,T.CURRENCYUNIT=180,T.CURRENCYSUBUNIT=181,T.KP_LEFTPAREN=182,T.KP_RIGHTPAREN=183,T.KP_LEFTBRACE=184,T.KP_RIGHTBRACE=185,T.KP_TAB=186,T.KP_BACKSPACE=187,T.KP_A=188,T.KP_B=189,T.KP_C=190,T.KP_D=191,T.KP_E=192,T.KP_F=193,T.KP_XOR=194,T.KP_POWER=195,T.KP_PERCENT=196,T.KP_LESS=197,T.KP_GREATER=198,T.KP_AMPERSAND=199,T.KP_DBLAMPERSAND=200,T.KP_VERTICALBAR=201,T.KP_DBLVERTICALBAR=202,T.KP_COLON=203,T.KP_HASH=204,T.KP_SPACE=205,T.KP_AT=206,T.KP_EXCLAM=207,T.KP_MEMSTORE=208,T.KP_MEMRECALL=209,T.KP_MEMCLEAR=210,T.KP_MEMADD=211,T.KP_MEMSUBTRACT=212,T.KP_MEMMULTIPLY=213,T.KP_MEMDIVIDE=214,T.KP_PLUSMINUS=215,T.KP_CLEAR=216,T.KP_CLEARENTRY=217,T.KP_BINARY=218,T.KP_OCTAL=219,T.KP_DECIMAL=220,T.KP_HEXADECIMAL=221,T.LCTRL=224,T.LSHIFT=225,T.LALT=226,T.LMETA=227,T.RCTRL=228,T.RSHIFT=229,T.RALT=230,T.RMETA=231,T.MODE=257,T.AUDIONEXT=258,T.AUDIOPREV=259,T.AUDIOSTOP=260,T.AUDIOPLAY=261,T.AUDIOMUTE=262,T.MEDIASELECT=263,T.WWW=264,T.MAIL=265,T.CALCULATOR=266,T.COMPUTER=267,T.AC_SEARCH=268,T.AC_HOME=269,T.AC_BACK=270,T.AC_FORWARD=271,T.AC_STOP=272,T.AC_REFRESH=273,T.AC_BOOKMARKS=274,T.BRIGHTNESSDOWN=275,T.BRIGHTNESSUP=276,T.DISPLAYSWITCH=277,T.KBDILLUMTOGGLE=278,T.KBDILLUMDOWN=279,T.KBDILLUMUP=280,T.EJECT=281,T.SLEEP=282,T.APP1=283,T.APP2=284,T.scanCodeNames=[null,null,null,null,"A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","1","2","3","4","5","6","7","8","9","0","Enter","Escape","Backspace","Tab","Space","-","=","[","]","\\","#",";","'","`",",",".","/","CapsLock","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","PrintScreen","ScrollLock","Pause","Insert","Home","PageUp","Delete","End","PageDown","Right","Left","Down","Up","Numlock","Keypad /","Keypad *","Keypad -","Keypad +","Keypad Enter","Keypad 1","Keypad 2","Keypad 3","Keypad 4","Keypad 5","Keypad 6","Keypad 7","Keypad 8","Keypad 9","Keypad 0","Keypad .",null,"Application","Power","Keypad =","F13","F14","F15","F16","F17","F18","F19","F20","F21","F22","F23","F24","Execute","Help","Menu","Select","Stop","Again","Undo","Cut","Copy","Paste","Find","Mute","VolumeUp","VolumeDown",null,null,null,"Keypad ,","Keypad = (AS400)",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"AltErase","SysReq","Cancel","Clear","Prior","Enter","Separator","Out","Oper","Clear / Again","CrSel","ExSel",null,null,null,null,null,null,null,null,null,null,null,"Keypad 00","Keypad 000","ThousandsSeparator","DecimalSeparator","CurrencyUnit","CurrencySubUnit","Keypad (","Keypad )","Keypad {","Keypad }","Keypad Tab","Keypad Backspace","Keypad A","Keypad B","Keypad C","Keypad D","Keypad E","Keypad F","Keypad XOR","Keypad ^","Keypad %","Keypad <","Keypad >","Keypad &","Keypad &&","Keypad |","Keypad ||","Keypad :","Keypad #","Keypad Space","Keypad @","Keypad !","Keypad MemStore","Keypad MemRecall","Keypad MemClear","Keypad MemAdd","Keypad MemSubtract","Keypad MemMultiply","Keypad MemDivide","Keypad +/-","Keypad Clear","Keypad ClearEntry","Keypad Binary","Keypad Octal","Keypad Decimal","Keypad Hexadecimal",null,null,"Left Ctrl","Left Shift","Left Alt","Left Meta","Right Ctrl","Right Shift","Right Alt","Right Meta",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"ModeSwitch","AudioNext","AudioPrev","AudioStop","AudioPlay","AudioMute","MediaSelect","WWW","Mail","Calculator","Computer","AC Search","AC Home","AC Back","AC Forward","AC Stop","AC Refresh","AC Bookmarks","BrightnessDown","BrightnessUp","DisplaySwitch","KBDIllumToggle","KBDIllumDown","KBDIllumUp","Eject","Sleep"],D.UNKNOWN=0,D.DEVICE_ADDED=1,D.DEVICE_REMOVED=2,D.DEVICE_REMAPPED=3,E.UNKNOWN=0,E.EDIT=1,E.INPUT=2,A.UNKNOWN=0,A.SHOWN=1,A.HIDDEN=2,A.EXPOSED=3,A.MOVED=4,A.RESIZED=5,A.SIZE_CHANGED=6,A.MINIMIZED=7,A.MAXIMIZED=8,A.RESTORED=9,A.ENTER=10,A.LEAVE=11,A.FOCUS_GAINED=12,A.FOCUS_LOST=13,A.CLOSE=14,A.ENTER_FULLSCREEN=15,A.EXIT_FULLSCREEN=16,S.UNKNOWN=0,S.TERMINATING=11,S.LOW_MEMORY=12,S.WILL_ENTER_BACKGROUND=13,S.DID_ENTER_BACKGROUND=14,S.WILL_ENTER_FOREGROUND=15,S.DID_ENTER_FOREGROUND=16,clay_Utils._nextUniqueIntCursor=0,clay_Utils._nextUniqueInt0=2147483646*Math.random()|0,clay_Utils._nextUniqueInt1=1e-4*(new Date).getTime()|0,clay_Utils._nextUniqueInt2=2147483646*Math.random()|0,clay_Utils._nextUniqueInt3=2147483646*Math.random()|0,M.END=0,M.DESTROYED=1,M.DESTROYED_SOURCE=2,P.UNKNOWN=0,P.CUSTOM=1,P.OGG=2,P.WAV=3,P.PCM=4,P.MP3=5,P.FLAC=6,F.INVALID=-1,F.PAUSED=0,F.PLAYING=1,F.STOPPED=2,k.BYTES_PER_ELEMENT=4,R.BYTES_PER_ELEMENT=4,I.BYTES_PER_ELEMENT=2,N.BYTES_PER_ELEMENT=1,clay_graphics_Texture._nextIndex=1,clay_opengl_GLGraphics.DEPTH24_STENCIL8=35056,clay_opengl_GLGraphics.DEPTH_COMPONENT24=33190,clay_opengl_GLGraphics.TEXTURE_2D_MULTISAMPLE=37120,clay_opengl_GLGraphics.READ_FRAMEBUFFER=36008,clay_opengl_GLGraphics.DRAW_FRAMEBUFFER=36009,clay_opengl_GLGraphics.RGBA8=32856,clay_opengl_GLGraphics.COLOR=6144,clay_opengl_GLGraphics._boundTexture2D=[],clay_opengl_GLGraphics._activeTextureSlot=-1,clay_opengl_GLGraphics._didFetchDefaultBuffers=!1,clay_opengl_GLGraphics.clearBufferForBlitValues=new Float32Array([0,0,0,1]),clay_opengl_web_GL.DEPTH_BUFFER_BIT=256,clay_opengl_web_GL.STENCIL_BUFFER_BIT=1024,clay_opengl_web_GL.COLOR_BUFFER_BIT=16384,clay_opengl_web_GL.POINTS=0,clay_opengl_web_GL.LINES=1,clay_opengl_web_GL.LINE_LOOP=2,clay_opengl_web_GL.LINE_STRIP=3,clay_opengl_web_GL.TRIANGLES=4,clay_opengl_web_GL.TRIANGLE_STRIP=5,clay_opengl_web_GL.TRIANGLE_FAN=6,clay_opengl_web_GL.ZERO=0,clay_opengl_web_GL.ONE=1,clay_opengl_web_GL.SRC_COLOR=768,clay_opengl_web_GL.ONE_MINUS_SRC_COLOR=769,clay_opengl_web_GL.SRC_ALPHA=770,clay_opengl_web_GL.ONE_MINUS_SRC_ALPHA=771,clay_opengl_web_GL.DST_ALPHA=772,clay_opengl_web_GL.ONE_MINUS_DST_ALPHA=773,clay_opengl_web_GL.DST_COLOR=774,clay_opengl_web_GL.ONE_MINUS_DST_COLOR=775,clay_opengl_web_GL.SRC_ALPHA_SATURATE=776,clay_opengl_web_GL.FUNC_ADD=32774,clay_opengl_web_GL.BLEND_EQUATION=32777,clay_opengl_web_GL.BLEND_EQUATION_RGB=32777,clay_opengl_web_GL.BLEND_EQUATION_ALPHA=34877,clay_opengl_web_GL.FUNC_SUBTRACT=32778,clay_opengl_web_GL.FUNC_REVERSE_SUBTRACT=32779,clay_opengl_web_GL.BLEND_DST_RGB=32968,clay_opengl_web_GL.BLEND_SRC_RGB=32969,clay_opengl_web_GL.BLEND_DST_ALPHA=32970,clay_opengl_web_GL.BLEND_SRC_ALPHA=32971,clay_opengl_web_GL.CONSTANT_COLOR=32769,clay_opengl_web_GL.ONE_MINUS_CONSTANT_COLOR=32770,clay_opengl_web_GL.CONSTANT_ALPHA=32771,clay_opengl_web_GL.ONE_MINUS_CONSTANT_ALPHA=32772,clay_opengl_web_GL.BLEND_COLOR=32773,clay_opengl_web_GL.ARRAY_BUFFER=34962,clay_opengl_web_GL.ELEMENT_ARRAY_BUFFER=34963,clay_opengl_web_GL.ARRAY_BUFFER_BINDING=34964,clay_opengl_web_GL.ELEMENT_ARRAY_BUFFER_BINDING=34965,clay_opengl_web_GL.STREAM_DRAW=35040,clay_opengl_web_GL.STATIC_DRAW=35044,clay_opengl_web_GL.DYNAMIC_DRAW=35048,clay_opengl_web_GL.BUFFER_SIZE=34660,clay_opengl_web_GL.BUFFER_USAGE=34661,clay_opengl_web_GL.CURRENT_VERTEX_ATTRIB=34342,clay_opengl_web_GL.FRONT=1028,clay_opengl_web_GL.BACK=1029,clay_opengl_web_GL.FRONT_AND_BACK=1032,clay_opengl_web_GL.CULL_FACE=2884,clay_opengl_web_GL.BLEND=3042,clay_opengl_web_GL.DITHER=3024,clay_opengl_web_GL.STENCIL_TEST=2960,clay_opengl_web_GL.DEPTH_TEST=2929,clay_opengl_web_GL.SCISSOR_TEST=3089,clay_opengl_web_GL.POLYGON_OFFSET_FILL=32823,clay_opengl_web_GL.SAMPLE_ALPHA_TO_COVERAGE=32926,clay_opengl_web_GL.SAMPLE_COVERAGE=32928,clay_opengl_web_GL.NO_ERROR=0,clay_opengl_web_GL.INVALID_ENUM=1280,clay_opengl_web_GL.INVALID_VALUE=1281,clay_opengl_web_GL.INVALID_OPERATION=1282,clay_opengl_web_GL.OUT_OF_MEMORY=1285,clay_opengl_web_GL.CW=2304,clay_opengl_web_GL.CCW=2305,clay_opengl_web_GL.LINE_WIDTH=2849,clay_opengl_web_GL.ALIASED_POINT_SIZE_RANGE=33901,clay_opengl_web_GL.ALIASED_LINE_WIDTH_RANGE=33902,clay_opengl_web_GL.CULL_FACE_MODE=2885,clay_opengl_web_GL.FRONT_FACE=2886,clay_opengl_web_GL.DEPTH_RANGE=2928,clay_opengl_web_GL.DEPTH_WRITEMASK=2930,clay_opengl_web_GL.DEPTH_CLEAR_VALUE=2931,clay_opengl_web_GL.DEPTH_FUNC=2932,clay_opengl_web_GL.STENCIL_CLEAR_VALUE=2961,clay_opengl_web_GL.STENCIL_FUNC=2962,clay_opengl_web_GL.STENCIL_FAIL=2964,clay_opengl_web_GL.STENCIL_PASS_DEPTH_FAIL=2965,clay_opengl_web_GL.STENCIL_PASS_DEPTH_PASS=2966,clay_opengl_web_GL.STENCIL_REF=2967,clay_opengl_web_GL.STENCIL_VALUE_MASK=2963,clay_opengl_web_GL.STENCIL_WRITEMASK=2968,clay_opengl_web_GL.STENCIL_BACK_FUNC=34816,clay_opengl_web_GL.STENCIL_BACK_FAIL=34817,clay_opengl_web_GL.STENCIL_BACK_PASS_DEPTH_FAIL=34818,clay_opengl_web_GL.STENCIL_BACK_PASS_DEPTH_PASS=34819,clay_opengl_web_GL.STENCIL_BACK_REF=36003,clay_opengl_web_GL.STENCIL_BACK_VALUE_MASK=36004,clay_opengl_web_GL.STENCIL_BACK_WRITEMASK=36005,clay_opengl_web_GL.VIEWPORT=2978,clay_opengl_web_GL.SCISSOR_BOX=3088,clay_opengl_web_GL.COLOR_CLEAR_VALUE=3106,clay_opengl_web_GL.COLOR_WRITEMASK=3107,clay_opengl_web_GL.UNPACK_ALIGNMENT=3317,clay_opengl_web_GL.PACK_ALIGNMENT=3333,clay_opengl_web_GL.MAX_TEXTURE_SIZE=3379,clay_opengl_web_GL.MAX_VIEWPORT_DIMS=3386,clay_opengl_web_GL.SUBPIXEL_BITS=3408,clay_opengl_web_GL.RED_BITS=3410,clay_opengl_web_GL.GREEN_BITS=3411,clay_opengl_web_GL.BLUE_BITS=3412,clay_opengl_web_GL.ALPHA_BITS=3413,clay_opengl_web_GL.DEPTH_BITS=3414,clay_opengl_web_GL.STENCIL_BITS=3415,clay_opengl_web_GL.POLYGON_OFFSET_UNITS=10752,clay_opengl_web_GL.POLYGON_OFFSET_FACTOR=32824,clay_opengl_web_GL.TEXTURE_BINDING_2D=32873,clay_opengl_web_GL.SAMPLE_BUFFERS=32936,clay_opengl_web_GL.SAMPLES=32937,clay_opengl_web_GL.SAMPLE_COVERAGE_VALUE=32938,clay_opengl_web_GL.SAMPLE_COVERAGE_INVERT=32939,clay_opengl_web_GL.COMPRESSED_TEXTURE_FORMATS=34467,clay_opengl_web_GL.DONT_CARE=4352,clay_opengl_web_GL.FASTEST=4353,clay_opengl_web_GL.NICEST=4354,clay_opengl_web_GL.GENERATE_MIPMAP_HINT=33170,clay_opengl_web_GL.BYTE=5120,clay_opengl_web_GL.UNSIGNED_BYTE=5121,clay_opengl_web_GL.SHORT=5122,clay_opengl_web_GL.UNSIGNED_SHORT=5123,clay_opengl_web_GL.INT=5124,clay_opengl_web_GL.UNSIGNED_INT=5125,clay_opengl_web_GL.FLOAT=5126,clay_opengl_web_GL.DEPTH_COMPONENT=6402,clay_opengl_web_GL.ALPHA=6406,clay_opengl_web_GL.RGB=6407,clay_opengl_web_GL.RGBA=6408,clay_opengl_web_GL.LUMINANCE=6409,clay_opengl_web_GL.LUMINANCE_ALPHA=6410,clay_opengl_web_GL.UNSIGNED_SHORT_4_4_4_4=32819,clay_opengl_web_GL.UNSIGNED_SHORT_5_5_5_1=32820,clay_opengl_web_GL.UNSIGNED_SHORT_5_6_5=33635,clay_opengl_web_GL.FRAGMENT_SHADER=35632,clay_opengl_web_GL.VERTEX_SHADER=35633,clay_opengl_web_GL.MAX_VERTEX_ATTRIBS=34921,clay_opengl_web_GL.MAX_VERTEX_UNIFORM_VECTORS=36347,clay_opengl_web_GL.MAX_VARYING_VECTORS=36348,clay_opengl_web_GL.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,clay_opengl_web_GL.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,clay_opengl_web_GL.MAX_TEXTURE_IMAGE_UNITS=34930,clay_opengl_web_GL.MAX_FRAGMENT_UNIFORM_VECTORS=36349,clay_opengl_web_GL.SHADER_TYPE=35663,clay_opengl_web_GL.DELETE_STATUS=35712,clay_opengl_web_GL.LINK_STATUS=35714,clay_opengl_web_GL.VALIDATE_STATUS=35715,clay_opengl_web_GL.ATTACHED_SHADERS=35717,clay_opengl_web_GL.ACTIVE_UNIFORMS=35718,clay_opengl_web_GL.ACTIVE_ATTRIBUTES=35721,clay_opengl_web_GL.SHADING_LANGUAGE_VERSION=35724,clay_opengl_web_GL.CURRENT_PROGRAM=35725,clay_opengl_web_GL.NEVER=512,clay_opengl_web_GL.LESS=513,clay_opengl_web_GL.EQUAL=514,clay_opengl_web_GL.LEQUAL=515,clay_opengl_web_GL.GREATER=516,clay_opengl_web_GL.NOTEQUAL=517,clay_opengl_web_GL.GEQUAL=518,clay_opengl_web_GL.ALWAYS=519,clay_opengl_web_GL.KEEP=7680,clay_opengl_web_GL.REPLACE=7681,clay_opengl_web_GL.INCR=7682,clay_opengl_web_GL.DECR=7683,clay_opengl_web_GL.INVERT=5386,clay_opengl_web_GL.INCR_WRAP=34055,clay_opengl_web_GL.DECR_WRAP=34056,clay_opengl_web_GL.VENDOR=7936,clay_opengl_web_GL.RENDERER=7937,clay_opengl_web_GL.VERSION=7938,clay_opengl_web_GL.NEAREST=9728,clay_opengl_web_GL.LINEAR=9729,clay_opengl_web_GL.NEAREST_MIPMAP_NEAREST=9984,clay_opengl_web_GL.LINEAR_MIPMAP_NEAREST=9985,clay_opengl_web_GL.NEAREST_MIPMAP_LINEAR=9986,clay_opengl_web_GL.LINEAR_MIPMAP_LINEAR=9987,clay_opengl_web_GL.TEXTURE_MAG_FILTER=10240,clay_opengl_web_GL.TEXTURE_MIN_FILTER=10241,clay_opengl_web_GL.TEXTURE_WRAP_S=10242,clay_opengl_web_GL.TEXTURE_WRAP_T=10243,clay_opengl_web_GL.TEXTURE_2D=3553,clay_opengl_web_GL.TEXTURE=5890,clay_opengl_web_GL.TEXTURE_CUBE_MAP=34067,clay_opengl_web_GL.TEXTURE_BINDING_CUBE_MAP=34068,clay_opengl_web_GL.TEXTURE_CUBE_MAP_POSITIVE_X=34069,clay_opengl_web_GL.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,clay_opengl_web_GL.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,clay_opengl_web_GL.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,clay_opengl_web_GL.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,clay_opengl_web_GL.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,clay_opengl_web_GL.MAX_CUBE_MAP_TEXTURE_SIZE=34076,clay_opengl_web_GL.TEXTURE0=33984,clay_opengl_web_GL.TEXTURE1=33985,clay_opengl_web_GL.TEXTURE2=33986,clay_opengl_web_GL.TEXTURE3=33987,clay_opengl_web_GL.TEXTURE4=33988,clay_opengl_web_GL.TEXTURE5=33989,clay_opengl_web_GL.TEXTURE6=33990,clay_opengl_web_GL.TEXTURE7=33991,clay_opengl_web_GL.TEXTURE8=33992,clay_opengl_web_GL.TEXTURE9=33993,clay_opengl_web_GL.TEXTURE10=33994,clay_opengl_web_GL.TEXTURE11=33995,clay_opengl_web_GL.TEXTURE12=33996,clay_opengl_web_GL.TEXTURE13=33997,clay_opengl_web_GL.TEXTURE14=33998,clay_opengl_web_GL.TEXTURE15=33999,clay_opengl_web_GL.TEXTURE16=34e3,clay_opengl_web_GL.TEXTURE17=34001,clay_opengl_web_GL.TEXTURE18=34002,clay_opengl_web_GL.TEXTURE19=34003,clay_opengl_web_GL.TEXTURE20=34004,clay_opengl_web_GL.TEXTURE21=34005,clay_opengl_web_GL.TEXTURE22=34006,clay_opengl_web_GL.TEXTURE23=34007,clay_opengl_web_GL.TEXTURE24=34008,clay_opengl_web_GL.TEXTURE25=34009,clay_opengl_web_GL.TEXTURE26=34010,clay_opengl_web_GL.TEXTURE27=34011,clay_opengl_web_GL.TEXTURE28=34012,clay_opengl_web_GL.TEXTURE29=34013,clay_opengl_web_GL.TEXTURE30=34014,clay_opengl_web_GL.TEXTURE31=34015,clay_opengl_web_GL.ACTIVE_TEXTURE=34016,clay_opengl_web_GL.REPEAT=10497,clay_opengl_web_GL.CLAMP_TO_EDGE=33071,clay_opengl_web_GL.MIRRORED_REPEAT=33648,clay_opengl_web_GL.FLOAT_VEC2=35664,clay_opengl_web_GL.FLOAT_VEC3=35665,clay_opengl_web_GL.FLOAT_VEC4=35666;clay_opengl_web_GL.INT_VEC2=35667,clay_opengl_web_GL.INT_VEC3=35668,clay_opengl_web_GL.INT_VEC4=35669,clay_opengl_web_GL.BOOL=35670,clay_opengl_web_GL.BOOL_VEC2=35671,clay_opengl_web_GL.BOOL_VEC3=35672,clay_opengl_web_GL.BOOL_VEC4=35673,clay_opengl_web_GL.FLOAT_MAT2=35674,clay_opengl_web_GL.FLOAT_MAT3=35675,clay_opengl_web_GL.FLOAT_MAT4=35676,clay_opengl_web_GL.SAMPLER_2D=35678,clay_opengl_web_GL.SAMPLER_CUBE=35680,clay_opengl_web_GL.VERTEX_ATTRIB_ARRAY_ENABLED=34338,clay_opengl_web_GL.VERTEX_ATTRIB_ARRAY_SIZE=34339,clay_opengl_web_GL.VERTEX_ATTRIB_ARRAY_STRIDE=34340,clay_opengl_web_GL.VERTEX_ATTRIB_ARRAY_TYPE=34341,clay_opengl_web_GL.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,clay_opengl_web_GL.VERTEX_ATTRIB_ARRAY_POINTER=34373,clay_opengl_web_GL.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,clay_opengl_web_GL.VERTEX_PROGRAM_POINT_SIZE=34370,clay_opengl_web_GL.POINT_SPRITE=34913,clay_opengl_web_GL.COMPILE_STATUS=35713,clay_opengl_web_GL.LOW_FLOAT=36336,clay_opengl_web_GL.MEDIUM_FLOAT=36337,clay_opengl_web_GL.HIGH_FLOAT=36338,clay_opengl_web_GL.LOW_INT=36339,clay_opengl_web_GL.MEDIUM_INT=36340,clay_opengl_web_GL.HIGH_INT=36341,clay_opengl_web_GL.FRAMEBUFFER=36160,clay_opengl_web_GL.RENDERBUFFER=36161,clay_opengl_web_GL.RGBA4=32854,clay_opengl_web_GL.RGB5_A1=32855,clay_opengl_web_GL.RGB565=36194,clay_opengl_web_GL.DEPTH_COMPONENT16=33189,clay_opengl_web_GL.STENCIL_INDEX=6401,clay_opengl_web_GL.STENCIL_INDEX8=36168,clay_opengl_web_GL.DEPTH_STENCIL=34041,clay_opengl_web_GL.RENDERBUFFER_WIDTH=36162,clay_opengl_web_GL.RENDERBUFFER_HEIGHT=36163,clay_opengl_web_GL.RENDERBUFFER_INTERNAL_FORMAT=36164,clay_opengl_web_GL.RENDERBUFFER_RED_SIZE=36176,clay_opengl_web_GL.RENDERBUFFER_GREEN_SIZE=36177,clay_opengl_web_GL.RENDERBUFFER_BLUE_SIZE=36178,clay_opengl_web_GL.RENDERBUFFER_ALPHA_SIZE=36179,clay_opengl_web_GL.RENDERBUFFER_DEPTH_SIZE=36180,clay_opengl_web_GL.RENDERBUFFER_STENCIL_SIZE=36181,clay_opengl_web_GL.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,clay_opengl_web_GL.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,clay_opengl_web_GL.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,clay_opengl_web_GL.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,clay_opengl_web_GL.COLOR_ATTACHMENT0=36064,clay_opengl_web_GL.DEPTH_ATTACHMENT=36096,clay_opengl_web_GL.STENCIL_ATTACHMENT=36128,clay_opengl_web_GL.DEPTH_STENCIL_ATTACHMENT=33306,clay_opengl_web_GL.NONE=0,clay_opengl_web_GL.FRAMEBUFFER_COMPLETE=36053,clay_opengl_web_GL.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,clay_opengl_web_GL.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,clay_opengl_web_GL.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,clay_opengl_web_GL.FRAMEBUFFER_UNSUPPORTED=36061,clay_opengl_web_GL.FRAMEBUFFER_BINDING=36006,clay_opengl_web_GL.RENDERBUFFER_BINDING=36007,clay_opengl_web_GL.MAX_RENDERBUFFER_SIZE=34024,clay_opengl_web_GL.INVALID_FRAMEBUFFER_OPERATION=1286,clay_opengl_web_GL.UNPACK_FLIP_Y_WEBGL=37440,clay_opengl_web_GL.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,clay_opengl_web_GL.CONTEXT_LOST_WEBGL=37442,clay_opengl_web_GL.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,clay_opengl_web_GL.BROWSER_DEFAULT_WEBGL=37444,clay_web_WebAssets.POT=!0,clay_web_WebAudio.HALF_PI=1.5707,clay_web_WebRuntime.timestampStart=0,clay_web_WebRuntime.webWindowId=1,clay_web__$WebRuntime_DOMKeys.dom_shift=16,clay_web__$WebRuntime_DOMKeys.dom_ctrl=17,clay_web__$WebRuntime_DOMKeys.dom_alt=18,clay_web__$WebRuntime_DOMKeys.dom_capslock=20,clay_web__$WebRuntime_DOMKeys.dom_pageup=33,clay_web__$WebRuntime_DOMKeys.dom_pagedown=34,clay_web__$WebRuntime_DOMKeys.dom_end=35,clay_web__$WebRuntime_DOMKeys.dom_home=36,clay_web__$WebRuntime_DOMKeys.dom_left=37,clay_web__$WebRuntime_DOMKeys.dom_up=38,clay_web__$WebRuntime_DOMKeys.dom_right=39,clay_web__$WebRuntime_DOMKeys.dom_down=40,clay_web__$WebRuntime_DOMKeys.dom_printscr=44,clay_web__$WebRuntime_DOMKeys.dom_insert=45,clay_web__$WebRuntime_DOMKeys.dom_delete=46,clay_web__$WebRuntime_DOMKeys.dom_lmeta=91,clay_web__$WebRuntime_DOMKeys.dom_rmeta=93,clay_web__$WebRuntime_DOMKeys.dom_kp_0=96,clay_web__$WebRuntime_DOMKeys.dom_kp_1=97,clay_web__$WebRuntime_DOMKeys.dom_kp_2=98,clay_web__$WebRuntime_DOMKeys.dom_kp_3=99,clay_web__$WebRuntime_DOMKeys.dom_kp_4=100,clay_web__$WebRuntime_DOMKeys.dom_kp_5=101,clay_web__$WebRuntime_DOMKeys.dom_kp_6=102,clay_web__$WebRuntime_DOMKeys.dom_kp_7=103,clay_web__$WebRuntime_DOMKeys.dom_kp_8=104,clay_web__$WebRuntime_DOMKeys.dom_kp_9=105,clay_web__$WebRuntime_DOMKeys.dom_kp_multiply=106,clay_web__$WebRuntime_DOMKeys.dom_kp_plus=107,clay_web__$WebRuntime_DOMKeys.dom_kp_minus=109,clay_web__$WebRuntime_DOMKeys.dom_kp_decimal=110,clay_web__$WebRuntime_DOMKeys.dom_kp_divide=111,clay_web__$WebRuntime_DOMKeys.dom_kp_numlock=144,clay_web__$WebRuntime_DOMKeys.dom_f1=112,clay_web__$WebRuntime_DOMKeys.dom_f2=113,clay_web__$WebRuntime_DOMKeys.dom_f3=114,clay_web__$WebRuntime_DOMKeys.dom_f4=115,clay_web__$WebRuntime_DOMKeys.dom_f5=116,clay_web__$WebRuntime_DOMKeys.dom_f6=117,clay_web__$WebRuntime_DOMKeys.dom_f7=118,clay_web__$WebRuntime_DOMKeys.dom_f8=119,clay_web__$WebRuntime_DOMKeys.dom_f9=120,clay_web__$WebRuntime_DOMKeys.dom_f10=121,clay_web__$WebRuntime_DOMKeys.dom_f11=122,clay_web__$WebRuntime_DOMKeys.dom_f12=123,clay_web__$WebRuntime_DOMKeys.dom_f13=124,clay_web__$WebRuntime_DOMKeys.dom_f14=125,clay_web__$WebRuntime_DOMKeys.dom_f15=126,clay_web__$WebRuntime_DOMKeys.dom_f16=127,clay_web__$WebRuntime_DOMKeys.dom_f17=128,clay_web__$WebRuntime_DOMKeys.dom_f18=129,clay_web__$WebRuntime_DOMKeys.dom_f19=130,clay_web__$WebRuntime_DOMKeys.dom_f20=131,clay_web__$WebRuntime_DOMKeys.dom_f21=132,clay_web__$WebRuntime_DOMKeys.dom_f22=133,clay_web__$WebRuntime_DOMKeys.dom_f23=134,clay_web__$WebRuntime_DOMKeys.dom_f24=135,clay_web__$WebRuntime_DOMKeys.dom_caret=160,clay_web__$WebRuntime_DOMKeys.dom_exclaim=161,clay_web__$WebRuntime_DOMKeys.dom_quotedbl=162,clay_web__$WebRuntime_DOMKeys.dom_hash=163,clay_web__$WebRuntime_DOMKeys.dom_dollar=164,clay_web__$WebRuntime_DOMKeys.dom_percent=165,clay_web__$WebRuntime_DOMKeys.dom_ampersand=166,clay_web__$WebRuntime_DOMKeys.dom_underscore=167,clay_web__$WebRuntime_DOMKeys.dom_leftparen=168,clay_web__$WebRuntime_DOMKeys.dom_rightparen=169,clay_web__$WebRuntime_DOMKeys.dom_asterisk=170,clay_web__$WebRuntime_DOMKeys.dom_plus=171,clay_web__$WebRuntime_DOMKeys.dom_pipe=172,clay_web__$WebRuntime_DOMKeys.dom_minus=173,clay_web__$WebRuntime_DOMKeys.dom_leftbrace=174,clay_web__$WebRuntime_DOMKeys.dom_rightbrace=175,clay_web__$WebRuntime_DOMKeys.dom_tilde=176,clay_web__$WebRuntime_DOMKeys.dom_audiomute=181,clay_web__$WebRuntime_DOMKeys.dom_volumedown=182,clay_web__$WebRuntime_DOMKeys.dom_volumeup=183,clay_web__$WebRuntime_DOMKeys.dom_comma=188,clay_web__$WebRuntime_DOMKeys.dom_period=190,clay_web__$WebRuntime_DOMKeys.dom_slash=191,clay_web__$WebRuntime_DOMKeys.dom_backquote=192,clay_web__$WebRuntime_DOMKeys.dom_leftbracket=219,clay_web__$WebRuntime_DOMKeys.dom_rightbracket=221,clay_web__$WebRuntime_DOMKeys.dom_backslash=220,clay_web__$WebRuntime_DOMKeys.dom_quote=222,clay_web__$WebRuntime_DOMKeys.dom_meta=224,earcut_Node.recyclingEnabled=!0,earcut_Node.nextPoolIndex=0,earcut_Node.pool=[],haxe_Serializer.USE_CACHE=!1,haxe_Serializer.USE_ENUM_INDEX=!1,haxe_Serializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",haxe_Unserializer.DEFAULT_RESOLVER=new haxe__$Unserializer_DefaultResolver,haxe_Unserializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",haxe_xml_Parser.escapes=((ee=new haxe_ds_StringMap).h.lt="<",ee.h.gt=">",ee.h.amp="&",ee.h.quot='"',ee.h.apos="'",ee),hsluv_Hsluv.m=[[3.240969941904521,-1.537383177570093,-.498610760293],[-.96924363628087,1.87596750150772,.041555057407175],[.055630079696993,-.20397695888897,1.056971514242878]],hsluv_Hsluv.minv=[[.41239079926595,.35758433938387,.18048078840183],[.21263900587151,.71516867876775,.072192315360733],[.019330818715591,.11919477979462,.95053215224966]],hsluv_Hsluv.refY=1,hsluv_Hsluv.refU=.19783000664283,hsluv_Hsluv.refV=.46831999493879,hsluv_Hsluv.kappa=903.2962962,hsluv_Hsluv.epsilon=.0088564516,hsluv_Hsluv.hexChars="0123456789abcdef",poly2tri_Constants.kAlpha=.3,poly2tri_Constants.EPSILON=1e-12,poly2tri_Constants.PI_2=Math.PI/2,poly2tri_Constants.PI_3div4=3*Math.PI/4,poly2tri_Orientation.CW=1,poly2tri_Orientation.CCW=-1,poly2tri_Orientation.COLLINEAR=0,poly2tri_Point.C_ID=0,poly2tri_Pool.enabled=!0,poly2tri_Pool.pointArrayIndex=0,poly2tri_Pool.pointArrayPool=[],poly2tri_Pool.triangleArrayIndex=0,poly2tri_Pool.triangleArrayPool=[],poly2tri_Pool.edgeArrayIndex=0,poly2tri_Pool.edgeArrayPool=[],poly2tri_Pool.edgeIndex=0,poly2tri_Pool.edgePool=[],poly2tri_Pool.pointIndex=0,poly2tri_Pool.pointPool=[],poly2tri_Pool.triangleIndex=0,poly2tri_Pool.trianglePool=[],poly2tri_Pool.nodeIndex=0,poly2tri_Pool.nodePool=[],poly2tri_SweepContext._tmpArray=[],poly2tri_Triangle.CW_OFFSET=1,poly2tri_Triangle.CCW_OFFSET=-1,tracker_Autorun.prevCurrent=[],tracker_Autorun._autorunArrays=[],tracker_Autorun._autorunArraysLen=0,tracker_Autorun._arrayOfAutorunArrays=[],tracker_Autorun._arrayOfAutorunArraysLen=0,tracker_Utils._nextUniqueIntCursor=0,tracker_Utils._nextUniqueInt0=2147483646*Math.random()|0,tracker_Utils._nextUniqueInt1=1e-4*(new Date).getTime()|0,tracker_Utils._nextUniqueInt2=2147483646*Math.random()|0,tracker_Utils._nextUniqueInt3=2147483646*Math.random()|0,backend_Main.main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);